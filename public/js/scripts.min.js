/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/public/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(7);
	__webpack_require__(1);
	__webpack_require__(6);
	__webpack_require__(2);
	__webpack_require__(4);


/***/ },
/* 1 */
/***/ function(module, exports) {

	/*
	 AngularJS v1.5.2
	 (c) 2010-2016 Google, Inc. http://angularjs.org
	 License: MIT
	*/
	(function(N,Q,w){'use strict';function O(a){return function(){var b=arguments[0],d;d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.5.2/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent,e;e=arguments[b];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function Ca(a){if(null==a||Xa(a))return!1;if(L(a)||D(a)||G&&a instanceof G)return!0;
	var b="length"in Object(a)&&a.length;return W(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function p(a,b,d){var c,e;if(a)if(H(a))for(c in a)"prototype"==c||"length"==c||"name"==c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(L(a)||Ca(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==p)a.forEach(b,d,a);else if(nc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&
	b.call(d,a[c],c,a);else for(c in a)sa.call(a,c)&&b.call(d,a[c],c,a);return a}function oc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function pc(a){return function(b,d){a(d,b)}}function Ud(){return++pb}function Nb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(I(g)||H(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&I(n)?ga(n)?a[m]=new Date(n.valueOf()):Ya(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):
	Ob(n)?a[m]=n.clone():(I(a[m])||(a[m]=L(n)?[]:{}),Nb(a[m],[n],!0)):a[m]=n}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function S(a){return Nb(a,ya.call(arguments,1),!1)}function Vd(a){return Nb(a,ya.call(arguments,1),!0)}function da(a){return parseInt(a,10)}function Pb(a,b){return S(Object.create(a),b)}function z(){}function Za(a){return a}function ia(a){return function(){return a}}function qc(a){return H(a.toString)&&a.toString!==ha}function v(a){return"undefined"===typeof a}function A(a){return"undefined"!==
	typeof a}function I(a){return null!==a&&"object"===typeof a}function nc(a){return null!==a&&"object"===typeof a&&!rc(a)}function D(a){return"string"===typeof a}function W(a){return"number"===typeof a}function ga(a){return"[object Date]"===ha.call(a)}function H(a){return"function"===typeof a}function Ya(a){return"[object RegExp]"===ha.call(a)}function Xa(a){return a&&a.window===a}function $a(a){return a&&a.$evalAsync&&a.$watch}function Ma(a){return"boolean"===typeof a}function Wd(a){return a&&W(a.length)&&
	Xd.test(ha.call(a))}function Ob(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function Yd(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function pa(a){return E(a.nodeName||a[0]&&a[0].nodeName)}function ab(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function qa(a,b){function d(a,b){var d=b.$$hashKey,e;if(L(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(nc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"===typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&
	(b[e]=c(a[e]));else for(e in a)sa.call(a,e)&&(b[e]=c(a[e]));d?b.$$hashKey=d:delete b.$$hashKey;return b}function c(a){if(!I(a))return a;var b=f.indexOf(a);if(-1!==b)return g[b];if(Xa(a)||$a(a))throw Da("cpws");var b=!1,c=e(a);c===w&&(c=L(a)?[]:Object.create(rc(a)),b=!0);f.push(a);g.push(c);return b?d(a,c):c}function e(a){switch(ha.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(c(a.buffer));
	case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex,b;case "[object Blob]":return new a.constructor([a],{type:a.type})}if(H(a.cloneNode))return a.cloneNode(!0)}var f=[],
	g=[];if(b){if(Wd(b)||"[object ArrayBuffer]"===ha.call(b))throw Da("cpta");if(a===b)throw Da("cpi");L(b)?b.length=0:p(b,function(a,c){"$$hashKey"!==c&&delete b[c]});f.push(a);g.push(b);return d(a,b)}return c(a)}function ma(a,b){if(L(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(I(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function oa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d==typeof b&&
	"object"==d)if(L(a)){if(!L(b))return!1;if((d=a.length)==b.length){for(c=0;c<d;c++)if(!oa(a[c],b[c]))return!1;return!0}}else{if(ga(a))return ga(b)?oa(a.getTime(),b.getTime()):!1;if(Ya(a))return Ya(b)?a.toString()==b.toString():!1;if($a(a)||$a(b)||Xa(a)||Xa(b)||L(b)||ga(b)||Ya(b))return!1;d=X();for(c in a)if("$"!==c.charAt(0)&&!H(a[c])){if(!oa(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&A(b[c])&&!H(b[c]))return!1;return!0}return!1}function bb(a,b,d){return a.concat(ya.call(b,
	d))}function sc(a,b){var d=2<arguments.length?ya.call(arguments,2):[];return!H(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,bb(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Zd(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=w:Xa(b)?d="$WINDOW":b&&Q===b?d="$DOCUMENT":$a(b)&&(d="$SCOPE");return d}function cb(a,b){if(v(a))return w;W(b)||(b=b?2:null);return JSON.stringify(a,Zd,b)}function tc(a){return D(a)?
	JSON.parse(a):a}function uc(a,b){a=a.replace($d,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return isNaN(d)?b:d}function Qb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=uc(b,c);d*=b-c;a=new Date(a.getTime());a.setMinutes(a.getMinutes()+d);return a}function ta(a){a=G(a).clone();try{a.empty()}catch(b){}var d=G("<div>").append(a).html();try{return a[0].nodeType===Na?E(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+E(b)})}catch(c){return E(d)}}function vc(a){try{return decodeURIComponent(a)}catch(b){}}
	function wc(a){var b={};p((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=vc(e),A(e)&&(f=A(f)?vc(f):!0,sa.call(b,e)?L(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Rb(a){var b=[];p(a,function(a,c){L(a)?p(a,function(a){b.push(ja(c,!0)+(!0===a?"":"="+ja(a,!0)))}):b.push(ja(c,!0)+(!0===a?"":"="+ja(a,!0)))});return b.length?b.join("&"):""}function qb(a){return ja(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,
	"=").replace(/%2B/gi,"+")}function ja(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ae(a,b){var d,c,e=Oa.length;for(c=0;c<e;++c)if(d=Oa[c]+b,D(d=a.getAttribute(d)))return d;return null}function be(a,b){var d,c,e={};p(Oa,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});p(Oa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":",
	"\\:")+"]"))&&(d=e,c=e.getAttribute(b))});d&&(e.strictDi=null!==ae(d,"strict-di"),b(d,c?[c]:[],e))}function xc(a,b,d){I(d)||(d={});d=S({strictDi:!1},d);var c=function(){a=G(a);if(a.injector()){var c=a[0]===Q?"document":ta(a);throw Da("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=db(b,d.strictDi);c.invoke(["$rootScope",
	"$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;N&&e.test(N.name)&&(d.debugInfoEnabled=!0,N.name=N.name.replace(e,""));if(N&&!f.test(N.name))return c();N.name=N.name.replace(f,"");ea.resumeBootstrap=function(a){p(a,function(a){b.push(a)});return c()};H(ea.resumeDeferredBootstrap)&&ea.resumeDeferredBootstrap()}function ce(){N.name="NG_ENABLE_DEBUG_INFO!"+N.name;N.location.reload()}
	function de(a){a=ea.element(a).injector();if(!a)throw Da("test");return a.get("$$testability")}function yc(a,b){b=b||"_";return a.replace(ee,function(a,c){return(c?b:"")+a.toLowerCase()})}function fe(){var a;if(!zc){var b=rb();(ra=v(b)?N.jQuery:b?N[b]:w)&&ra.fn.on?(G=ra,S(ra.fn,{scope:Pa.scope,isolateScope:Pa.isolateScope,controller:Pa.controller,injector:Pa.injector,inheritedData:Pa.inheritedData}),a=ra.cleanData,ra.cleanData=function(b){for(var c,e=0,f;null!=(f=b[e]);e++)(c=ra._data(f,"events"))&&
	c.$destroy&&ra(f).triggerHandler("$destroy");a(b)}):G=Y;ea.element=G;zc=!0}}function sb(a,b,d){if(!a)throw Da("areq",b||"?",d||"required");return a}function Qa(a,b,d){d&&L(a)&&(a=a[a.length-1]);sb(H(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Ra(a,b){if("hasOwnProperty"===a)throw Da("badname",b);}function Ac(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&H(a)?sc(e,a):a}function tb(a){for(var b=
	a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=G(ya.call(a,0,e))),c.push(b);return c||a}function X(){return Object.create(null)}function ge(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=O("$injector"),c=O("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||O;return b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,d,e,f){f||(f=c);return function(){f[e||
	"push"]([b,d,arguments]);return K}}function b(a,d){return function(b,e){e&&H(e)&&(e.$$moduleName=f);c.push([a,d,arguments]);return K}}if(!g)throw d("nomod",f);var c=[],e=[],y=[],B=a("$injector","invoke","push",e),K={_invokeQueue:c,_configBlocks:e,_runBlocks:y,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider",
	"register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:B,run:function(a){y.push(a);return this}};h&&B(h);return K})}})}function he(a){S(a,{bootstrap:xc,copy:qa,extend:S,merge:Vd,equals:oa,element:G,forEach:p,injector:db,noop:z,bind:sc,toJson:cb,fromJson:tc,identity:Za,isUndefined:v,isDefined:A,isString:D,isFunction:H,isObject:I,isNumber:W,isElement:Ob,isArray:L,
	version:ie,isDate:ga,lowercase:E,uppercase:ub,callbacks:{counter:0},getTestability:de,$$minErr:O,$$csp:Ea,reloadWithDebugInfo:ce});Sb=ge(N);Sb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:je});a.provider("$compile",Bc).directive({a:ke,input:Cc,textarea:Cc,form:le,script:me,select:ne,style:oe,option:pe,ngBind:qe,ngBindHtml:re,ngBindTemplate:se,ngClass:te,ngClassEven:ue,ngClassOdd:ve,ngCloak:we,ngController:xe,ngForm:ye,ngHide:ze,ngIf:Ae,ngInclude:Be,ngInit:Ce,ngNonBindable:De,
	ngPluralize:Ee,ngRepeat:Fe,ngShow:Ge,ngStyle:He,ngSwitch:Ie,ngSwitchWhen:Je,ngSwitchDefault:Ke,ngOptions:Le,ngTransclude:Me,ngModel:Ne,ngList:Oe,ngChange:Pe,pattern:Dc,ngPattern:Dc,required:Ec,ngRequired:Ec,minlength:Fc,ngMinlength:Fc,maxlength:Gc,ngMaxlength:Gc,ngValue:Qe,ngModelOptions:Re}).directive({ngInclude:Se}).directive(vb).directive(Hc);a.provider({$anchorScroll:Te,$animate:Ue,$animateCss:Ve,$$animateJs:We,$$animateQueue:Xe,$$AnimateRunner:Ye,$$animateAsyncRun:Ze,$browser:$e,$cacheFactory:af,
	$controller:bf,$document:cf,$exceptionHandler:df,$filter:Ic,$$forceReflow:ef,$interpolate:ff,$interval:gf,$http:hf,$httpParamSerializer:jf,$httpParamSerializerJQLike:kf,$httpBackend:lf,$xhrFactory:mf,$location:nf,$log:of,$parse:pf,$rootScope:qf,$q:rf,$$q:sf,$sce:tf,$sceDelegate:uf,$sniffer:vf,$templateCache:wf,$templateRequest:xf,$$testability:yf,$timeout:zf,$window:Af,$$rAF:Bf,$$jqLite:Cf,$$HashMap:Df,$$cookieReader:Ef})}])}function eb(a){return a.replace(Ff,function(a,d,c,e){return e?c.toUpperCase():
	c}).replace(Gf,"Moz$1")}function Jc(a){a=a.nodeType;return 1===a||!a||9===a}function Kc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Tb.test(a)){d=d||e.appendChild(b.createElement("div"));c=(Hf.exec(a)||["",""])[1].toLowerCase();c=ka[c]||ka._default;d.innerHTML=c[1]+a.replace(If,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=bb(f,d.childNodes);d=e.firstChild;d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";p(f,function(a){e.appendChild(a)});return e}function Lc(a,
	b){var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)}function Y(a){if(a instanceof Y)return a;var b;D(a)&&(a=Z(a),b=!0);if(!(this instanceof Y)){if(b&&"<"!=a.charAt(0))throw Ub("nosel");return new Y(a)}if(b){b=Q;var d;a=(d=Jf.exec(a))?[b.createElement(d[1])]:(d=Kc(a,b))?d.childNodes:[]}Mc(this,a)}function Vb(a){return a.cloneNode(!0)}function wb(a,b){b||fb(a);if(a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)fb(d[c])}function Nc(a,b,d,c){if(A(c))throw Ub("offargs");
	var e=(c=xb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];A(d)&&ab(c||[],d);A(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};p(b.split(" "),function(a){g(a);yb[a]&&g(yb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function fb(a,b){var d=a.ng339,c=d&&gb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Nc(a)),delete gb[d],a.ng339=w))}function xb(a,b){var d=a.ng339,d=d&&gb[d];b&&!d&&(a.ng339=d=++Kf,
	d=gb[d]={events:{},data:{},handle:w});return d}function Wb(a,b,d){if(Jc(a)){var c=A(d),e=!c&&b&&!I(b),f=!b;a=(a=xb(a,!e))&&a.data;if(c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];S(a,b)}}}function zb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Ab(a,b){b&&a.setAttribute&&p(b.split(" "),function(b){a.setAttribute("class",Z((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Z(b)+" "," ")))})}function Bb(a,
	b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");p(b.split(" "),function(a){a=Z(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",Z(d))}}function Mc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function Oc(a,b){return Cb(a,"$"+(b||"ngController")+"Controller")}function Cb(a,b,d){9==a.nodeType&&(a=a.documentElement);for(b=
	L(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(A(d=G.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function Pc(a){for(wb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Xb(a,b){b||wb(a);var d=a.parentNode;d&&d.removeChild(a)}function Lf(a,b){b=b||N;if("complete"===b.document.readyState)b.setTimeout(a);else G(b).on("load",a)}function Qc(a,b){var d=Db[b.toLowerCase()];return d&&Rc[pa(a)]&&d}function Mf(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};
	var f=b[d||c.type],g=f?f.length:0;if(g){if(v(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||Nf;1<g&&(f=ma(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};d.elem=a;return d}function Nf(a,b,d){d.call(a,b)}function Of(a,b,
	d){var c=b.relatedTarget;c&&(c===a||Pf.call(a,c))||d.call(a,b)}function Cf(){this.$get=function(){return S(Y,{hasClass:function(a,b){a.attr&&(a=a[0]);return zb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Bb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Ab(a,b)}})}}function Fa(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||Ud)():d+":"+a}function Sa(a,b){if(b){var d=0;this.nextUid=
	function(){return++d}}p(a,this.put,this)}function Sc(a){a=a.toString().replace(Qf,"");return a.match(Rf)||a.match(Sf)}function Tf(a){return(a=Sc(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function db(a,b){function d(a){return function(b,c){if(I(b))p(b,pc(a));else return a(b,c)}}function c(a,b){Ra(a,"service");if(H(b)||L(b))b=y.instantiate(b);if(!b.$get)throw Ga("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=x.invoke(b,this);if(v(c))throw Ga("undef",a);
	return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){sb(v(a)||L(a),"modulesToLoad","not an array");var b=[],c;p(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=y.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{D(a)?(c=Sb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):H(a)?b.push(y.invoke(a)):L(a)?b.push(y.invoke(a)):Qa(a,"module")}catch(e){throw L(a)&&(a=a[a.length-1]),e.message&&e.stack&&
	-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ga("modulerr",a,e.stack||e.message||e);}}});return b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Ga("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e)}catch(f){throw a[b]===k&&delete a[b],f;}finally{l.shift()}}function e(a,c,f){var g=[];a=db.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!==typeof l)throw Ga("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:
	d(l,f))}return g}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);L(a)&&(a=a[a.length-1]);d=11>=za?!1:"function"===typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a));return d?(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=L(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:db.$$annotate,has:function(b){return n.hasOwnProperty(b+
	"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Sa([],!0),n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ia(b),!1)}),constant:d(function(a,b){Ra(a,"constant");n[a]=b;B[a]=b}),decorator:function(a,b){var c=y.get(a+"Provider"),d=c.$get;c.$get=function(){var a=x.invoke(d,c);return x.invoke(b,null,{$delegate:a})}}}},y=n.$injector=h(n,function(a,b){ea.isString(b)&&l.push(b);
	throw Ga("unpr",l.join(" <- "));}),B={},K=h(B,function(a,b){var c=y.get(a+"Provider",b);return x.invoke(c.$get,c,w,a)}),x=K;n.$injectorProvider={$get:ia(K)};var q=g(a),x=K.get("$injector");x.strictDi=b;p(q,function(a){a&&x.invoke(a)});return x}function Te(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===pa(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();
	var c;c=g.yOffset;H(c)?c=c():Ob(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):W(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=D(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Lf(function(){c.$evalAsync(g)})});return g}]}function hb(a,b){if(!a&&!b)return"";
	if(!a)return b;if(!b)return a;L(a)&&(a=a.join(" "));L(b)&&(b=b.join(" "));return a+" "+b}function Uf(a){D(a)&&(a=a.split(" "));var b=X();p(a,function(a){a.length&&(b[a]=!0)});return b}function Ha(a){return I(a)?a:{}}function Vf(a,b,d,c){function e(a){try{a.apply(null,ya.call(arguments,1))}finally{if(K--,0===K)for(;x.length;)try{x.pop()()}catch(b){d.error(b)}}}function f(){M=null;g();h()}function g(){a:{try{q=m.state;break a}catch(a){}q=void 0}q=v(q)?null:q;oa(q,T)&&(q=T);T=q}function h(){if(u!==k.url()||
	t!==q)u=k.url(),t=q,p(C,function(a){a(k.url(),q)})}var k=this,l=a.location,m=a.history,n=a.setTimeout,y=a.clearTimeout,B={};k.isMock=!1;var K=0,x=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){K++};k.notifyWhenNoOutstandingRequests=function(a){0===K?a():x.push(a)};var q,t,u=l.href,s=b.find("base"),M=null;g();t=q;k.url=function(b,d,e){v(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=t===e;if(u===b&&(!c.history||f))return k;var h=
	u&&Ia(u)===Ia(b);u=b;t=e;if(!c.history||h&&f){if(!h||M)M=b;d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b;l.href!==b&&(M=b)}else m[d?"replaceState":"pushState"](e,"",b),g(),t=q;return k}return M||l.href.replace(/%27/g,"'")};k.state=function(){return q};var C=[],J=!1,T=null;k.onUrlChange=function(b){if(!J){if(c.history)G(a).on("popstate",f);G(a).on("hashchange",f);J=!0}C.push(b);return b};k.$$applicationDestroyed=function(){G(a).off("hashchange popstate",f)};k.$$checkUrlChange=
	h;k.baseHref=function(){var a=s.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};k.defer=function(a,b){var c;K++;c=n(function(){delete B[c];e(a)},b||0);B[c]=!0;return c};k.defer.cancel=function(a){return B[a]?(delete B[a],y(a),e(z),!0):!1}}function $e(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new Vf(a,c,b,d)}]}function af(){this.$get=function(){function a(a,c){function e(a){a!=n&&(y?y==a&&(y=a.n):y=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,
	b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw O("$cacheFactory")("iid",a);var g=0,h=S({},c,{id:a}),k=X(),l=c&&c.capacity||Number.MAX_VALUE,m=X(),n=null,y=null;return b[a]={put:function(a,b){if(!v(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in k||g++;k[a]=b;g>l&&this.remove(y.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b==n&&(n=b.p);b==y&&(y=b.n);f(b.n,b.p);delete m[a]}a in
	k&&(delete k[a],g--)},removeAll:function(){k=X();g=0;m=X();n=y=null},destroy:function(){m=h=k=null;delete b[a]},info:function(){return S({},h,{size:g})}}}var b={};a.info=function(){var a={};p(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function wf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Bc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e={};p(a,function(a,f){if(a in m)e[f]=m[a];else{var g=a.match(d);if(!g)throw la("iscp",
	b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f};g[4]&&(m[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==E(b))throw la("baddir",a);if(a!==a.trim())throw la("baddir",a);}var e={},f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,g=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=Yd("ngSrc,ngSrcset,src,srcset"),k=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/,m=X();this.directive=function B(b,d){Ra(b,
	"directive");D(b)?(c(b),sb(d,"directiveFactory"),e.hasOwnProperty(b)||(e[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];p(e[b],function(e,f){try{var g=a.invoke(e);H(g)?g={compile:ia(g)}:!g.compile&&g.link&&(g.compile=ia(g.link));g.priority=g.priority||0;g.index=f;g.name=g.name||b;g.require=g.require||g.controller&&g.name;g.restrict=g.restrict||"EA";g.$$moduleName=e.$$moduleName;d.push(g)}catch(h){c(h)}});return d}])),e[b].push(d)):p(b,pc(B));return this};this.component=
	function(a,b){function c(a){function e(b){return H(b)||L(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"";return{controller:d,controllerAs:Tc(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require}}var d=b.controller||z;p(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,d[b]=a)});c.$inject=["$injector"];return this.directive(a,
	c)};this.aHrefSanitizationWhitelist=function(a){return A(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return A(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var n=!0;this.debugInfoEnabled=function(a){return A(a)?(n=a,this):n};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,m,t,u,s,M,
	C,J){function T(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function F(a,b,c){fa.innerHTML="<span "+b+">";b=fa.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);d.value=c;a.attributes.setNamedItem(d)}function $(a,b){try{a.addClass(b)}catch(c){}}function R(a,b,c,d,e){a instanceof G||(a=G(a));for(var f=/\S+/,g=0,h=a.length;g<h;g++){var k=a[g];k.nodeType===Na&&k.nodeValue.match(f)&&Lc(k,a[g]=Q.createElement("span"))}var l=
	P(a,b,a,c,d,e);R.$$addScopeClass(a);var m=null;return function(b,c,d){sb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;d=d.futureParentElement;f&&f.$$boundTransclude&&(f=f.$$boundTransclude);m||(m=(d=d&&d[0])?"foreignobject"!==pa(d)&&ha.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==m?G(da(m,G("<div>").append(a).html())):c?Pa.clone.call(a):a;if(g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);R.$$addScopeInfo(d,
	b);c&&c(d,b);l&&l(b,d,d,f);return d}}function P(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,n,C,u;if(q)for(u=Array(c.length),m=0;m<h.length;m+=3)f=h[m],u[f]=c[f];else u=c;m=0;for(n=h.length;m<n;)k=u[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),R.$$addScopeInfo(G(k),l)):l=a,C=c.transcludeOnThisElement?ca(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?ca(a,b):null,c(f,l,k,d,C)):f&&f(a,k.childNodes,w,e)}for(var h=[],k,l,m,n,q,C=0;C<a.length;C++){k=new T;l=Aa(a[C],[],k,0===C?d:w,e);(f=l.length?
	O(l,a[C],k,b,c,null,[],[],f):null)&&f.scope&&R.$$addScopeClass(k.$$element);k=f&&f.terminal||!(m=a[C].childNodes)||!m.length?null:P(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(C,f,k),n=!0,q=q||f;f=null}return n?g:null}function ca(a,b,c){function d(e,f,g,h,k){e||(e=a.$new(!1,k),e.$$transcluded=!0);return b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var e=d.$$slots=X(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?ca(a,b.$$slots[f],
	c):null;return d}function Aa(a,b,c,d,e){var h=c.$attr,k;switch(a.nodeType){case 1:N(b,ua(pa(a)),"E",d,e);for(var l,m,n,q=a.attributes,C=0,u=q&&q.length;C<u;C++){var t=!1,J=!1;l=q[C];k=l.name;m=Z(l.value);l=ua(k);if(n=wa.test(l))k=k.replace(Uc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});(l=l.match(xa))&&va(l[1])&&(t=k,J=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6));l=ua(k.toLowerCase());h[l]=k;if(n||!c.hasOwnProperty(l))c[l]=m,Qc(a,l)&&(c[l]=!0);ea(a,b,m,l,n);N(b,
	l,"A",d,e,t,J)}a=a.className;I(a)&&(a=a.animVal);if(D(a)&&""!==a)for(;k=g.exec(a);)l=ua(k[2]),N(b,l,"C",d,e)&&(c[l]=Z(k[3])),a=a.substr(k.index+k[0].length);break;case Na:if(11===za)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Na;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);ba(b,a.nodeValue);break;case 8:try{if(k=f.exec(a.nodeValue))l=ua(k[1]),N(b,l,"M",d,e)&&(c[l]=Z(k[2]))}catch(B){}}b.sort(V);return b}function r(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&
	a.hasAttribute(b)){do{if(!a)throw la("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return G(d)}function A(a,b,c){return function(d,e,f,g,h){e=r(e[0],b,c);return a(d,e,f,g,h)}}function Yb(a,b,c,d,e,f){var g;return a?R(b,c,d,e,f):function(){g||(g=R(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function O(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){if(a){c&&(a=A(a,c,d));a.require=s.require;a.directiveName=K;if(t===
	s||s.$$isolateScope)a=ia(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=A(b,c,d));b.require=s.require;b.directiveName=K;if(t===s||s.$$isolateScope)b=ia(b,{isolateScope:!0});k.push(b)}}function n(a,c,e,f,g){function l(a,b,c,d){var e;$a(a)||(d=c,c=b,b=a,a=w);M&&(e=F);c||(c=M?x.parent():x);if(d){var f=g.$$slots[d];if(f)return f(a,b,e,c,Aa);if(v(f))throw la("noslot",d,ta(x));}else return g(a,b,e,c,Aa)}var m,q,B,s,F,$,x,P;b===e?(f=d,x=d.$$element):(x=G(e),f=new T(x,d));B=c;t?s=c.$new(!0):C&&(B=c.$parent);
	g&&($=l,$.$$boundTransclude=g,$.isSlotFilled=function(a){return!!g.$$slots[a]});u&&(F=Xf(x,f,$,u,s,c,t));t&&(R.$$addScopeInfo(x,s,!0,!(J&&(J===t||J===t.$$originalDirective))),R.$$addScopeClass(x,!0),s.$$isolateBindings=t.$$isolateBindings,(P=ja(c,f,s,s.$$isolateBindings,t))&&s.$on("$destroy",P));for(q in F){P=u[q];var Ta=F[q],K=P.$$bindings.bindToController;Ta.identifier&&K&&(m=ja(B,f,Ta.instance,K,P));var ca=Ta();ca!==Ta.instance&&(Ta.instance=ca,x.data("$"+P.name+"Controller",ca),m&&m(),m=ja(B,
	f,Ta.instance,K,P))}p(u,function(a,b){var c=a.require;a.bindToController&&!L(c)&&I(c)&&S(F[b].instance,ib(b,c,x,F))});p(F,function(a){H(a.instance.$onInit)&&a.instance.$onInit()});m=0;for(q=h.length;m<q;m++)B=h[m],ma(B,B.isolateScope?s:c,x,f,B.require&&ib(B.directiveName,B.require,x,F),$);var Aa=c;t&&(t.template||null===t.templateUrl)&&(Aa=s);a&&a(Aa,e.childNodes,w,g);for(m=k.length-1;0<=m;m--)B=k[m],ma(B,B.isolateScope?s:c,x,f,B.require&&ib(B.directiveName,B.require,x,F),$)}l=l||{};for(var q=-Number.MAX_VALUE,
	C=l.newScopeDirective,u=l.controllerDirectives,t=l.newIsolateScopeDirective,J=l.templateDirective,B=l.nonTlbTranscludeDirective,F=!1,$=!1,M=l.hasElementTranscludeDirective,P=d.$$element=G(b),s,K,ca,z=e,D,va=!1,N=!1,E,Q=0,Ua=a.length;Q<Ua;Q++){s=a[Q];var V=s.$$start,ba=s.$$end;V&&(P=r(b,V,ba));ca=w;if(q>s.priority)break;if(E=s.scope)s.templateUrl||(I(E)?(aa("new/isolated scope",t||C,s,P),t=s):aa("new/isolated scope",t,s,P)),C=C||s;K=s.name;if(!va&&(s.replace&&(s.templateUrl||s.template)||s.transclude&&
	!s.$$tlb)){for(E=Q+1;va=a[E++];)if(va.transclude&&!va.$$tlb||va.replace&&(va.templateUrl||va.template)){N=!0;break}va=!0}!s.templateUrl&&s.controller&&(E=s.controller,u=u||X(),aa("'"+K+"' controller",u[K],s,P),u[K]=s);if(E=s.transclude)if(F=!0,s.$$tlb||(aa("transclusion",B,s,P),B=s),"element"==E)M=!0,q=s.priority,ca=P,P=d.$$element=G(R.$$createComment(K,d[K])),b=P[0],ga(f,ya.call(ca,0),b),z=Yb(N,ca,e,q,g&&g.name,{nonTlbTranscludeDirective:B});else{var U=X();ca=G(Vb(b)).contents();if(I(E)){ca=[];var ea=
	X(),fa=X();p(E,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a;ea[a]=b;U[b]=null;fa[b]=c});p(P.contents(),function(a){var b=ea[ua(pa(a))];b?(fa[b]=!0,U[b]=U[b]||[],U[b].push(a)):ca.push(a)});p(fa,function(a,b){if(!a)throw la("reqslot",b);});for(var ha in U)U[ha]&&(U[ha]=Yb(N,U[ha],e))}P.empty();z=Yb(N,ca,e,w,w,{needsNewScope:s.$$isolateScope||s.$$newScope});z.$$slots=U}if(s.template)if($=!0,aa("template",J,s,P),J=s,E=H(s.template)?s.template(P,d):s.template,E=ra(E),s.replace){g=s;ca=Tb.test(E)?
	Vc(da(s.templateNamespace,Z(E))):[];b=ca[0];if(1!=ca.length||1!==b.nodeType)throw la("tplrt",K,"");ga(f,P,b);Ua={$attr:{}};E=Aa(b,[],Ua);var ka=a.splice(Q+1,a.length-(Q+1));(t||C)&&Wc(E,t,C);a=a.concat(E).concat(ka);W(d,Ua);Ua=a.length}else P.html(E);if(s.templateUrl)$=!0,aa("template",J,s,P),J=s,s.replace&&(g=s),n=Y(a.splice(Q,a.length-Q),P,d,f,F&&z,h,k,{controllerDirectives:u,newScopeDirective:C!==s&&C,newIsolateScopeDirective:t,templateDirective:J,nonTlbTranscludeDirective:B}),Ua=a.length;else if(s.compile)try{D=
	s.compile(P,d,z),H(D)?m(null,D,V,ba):D&&m(D.pre,D.post,V,ba)}catch(Wf){c(Wf,ta(P))}s.terminal&&(n.terminal=!0,q=Math.max(q,s.priority))}n.scope=C&&!0===C.scope;n.transcludeOnThisElement=F;n.templateOnThisElement=$;n.transclude=z;l.hasElementTranscludeDirective=M;return n}function ib(a,b,c,d){var e;if(D(b)){var f=b.match(k);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;if(!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&
	!f)throw la("ctreq",b,a);}else if(L(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=ib(a,b[g],c,d);else I(b)&&(e={},p(b,function(b,f){e[f]=ib(a,b,c,d)}));return e||null}function Xf(a,b,c,d,e,f,g){var h=X(),k;for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},n=l.controller;"@"==n&&(n=b[l.name]);m=u(n,m,!0,l.controllerAs);h[l.name]=m;a.data("$"+l.name+"Controller",m.instance)}return h}function Wc(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Pb(a[d],{$$isolateScope:b,
	$$newScope:c})}function N(b,f,g,h,k,l,m){if(f===k)return null;k=null;if(e.hasOwnProperty(f)){var n;f=a.get(f+"Directive");for(var q=0,C=f.length;q<C;q++)try{if(n=f[q],(v(h)||h>n.priority)&&-1!=n.restrict.indexOf(g)){l&&(n=Pb(n,{$$start:l,$$end:m}));if(!n.$$bindings){var u=n,t=n,J=n.name,s={isolateScope:null,bindToController:null};I(t.scope)&&(!0===t.bindToController?(s.bindToController=d(t.scope,J,!0),s.isolateScope={}):s.isolateScope=d(t.scope,J,!1));I(t.bindToController)&&(s.bindToController=d(t.bindToController,
	J,!0));if(I(s.bindToController)){var F=t.controller,$=t.controllerAs;if(!F)throw la("noctrl",J);if(!Tc(F,$))throw la("noident",J);}var T=u.$$bindings=s;I(T.isolateScope)&&(n.$$isolateBindings=T.isolateScope)}b.push(n);k=n}}catch(P){c(P)}}return k}function va(b){if(e.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,f=c.length;d<f;d++)if(b=c[d],b.multiElement)return!0;return!1}function W(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;p(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===
	e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});p(b,function(b,f){"class"==f?($(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function Y(a,b,c,d,e,f,g,h){var k=[],l,n,C=b[0],u=a.shift(),t=Pb(u,{templateUrl:null,transclude:null,replace:null,$$originalDirective:u}),J=H(u.templateUrl)?u.templateUrl(b,c):u.templateUrl,B=u.templateNamespace;b.empty();m(J).then(function(m){var q,
	s;m=ra(m);if(u.replace){m=Tb.test(m)?Vc(da(B,Z(m))):[];q=m[0];if(1!=m.length||1!==q.nodeType)throw la("tplrt",u.name,J);m={$attr:{}};ga(d,b,q);var F=Aa(q,[],m);I(u.scope)&&Wc(F,!0);a=F.concat(a);W(c,m)}else q=C,b.html(m);a.unshift(t);l=O(a,q,c,e,b,u,f,g,h);p(d,function(a,c){a==q&&(d[c]=b[0])});for(n=P(b[0].childNodes,e);k.length;){m=k.shift();s=k.shift();var x=k.shift(),T=k.shift(),F=b[0];if(!m.$$destroyed){if(s!==C){var R=s.className;h.hasElementTranscludeDirective&&u.replace||(F=Vb(q));ga(x,G(s),
	F);$(G(F),R)}s=l.transcludeOnThisElement?ca(m,l.transclude,T):T;l(n,m,F,d,s)}}k=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(k?k.push(b,c,d,a):(l.transcludeOnThisElement&&(a=ca(b,l.transclude,e)),l(n,b,c,d,a)))}}function V(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function aa(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw la("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ta(d));}function ba(a,c){var d=
	b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&R.$$addBindingClass(a);return function(a,c){var e=c.parent();b||R.$$addBindingClass(e);R.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function da(a,b){a=E(a||"html");switch(a){case "svg":case "math":var c=Q.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function U(a,b){if("srcdoc"==b)return M.HTML;var c=pa(a);if("xlinkHref"==
	b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return M.RESOURCE_URL}function ea(a,c,d,e,f){var g=U(a,e);f=h[e]||f;var k=b(d,!0,g,f);if(k){if("multiple"===e&&"select"===pa(a))throw la("selmulti",ta(a));c.push({priority:100,compile:function(){return{pre:function(a,c,h){c=h.$$observers||(h.$$observers=X());if(l.test(e))throw la("nodomevents");var m=h[e];m!==d&&(k=m&&b(m,!0,g,f),d=m);k&&(h[e]=k(a),(c[e]||(c[e]=[])).$$inter=!0,(h.$$observers&&h.$$observers[e].$$scope||a).$watch(k,function(a,
	b){"class"===e&&a!=b?h.$updateClass(a,b):h.$set(e,a)}))}}}})}}function ga(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=Q.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);G.hasData(d)&&(G.data(c,G.data(d)),G(d).off("$destroy"));G.cleanData(a.querySelectorAll("*"));for(g=1;g<e;g++)delete b[g];b[0]=
	c;b.length=1}function ia(a,b){return S(function(){return a.apply(null,arguments)},a,b)}function ma(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ta(d))}}function ja(a,c,d,e,f){var g=[];p(e,function(e,h){var k=e.attrName,l=e.optional,m,n,q,C;switch(e.mode){case "@":l||sa.call(c,k)||(d[h]=c[k]=void 0);c.$observe(k,function(a){D(a)&&(d[h]=a)});c.$$observers[k].$$scope=a;m=c[k];D(m)?d[h]=b(m)(a):Ma(m)&&(d[h]=m);break;case "=":if(!sa.call(c,k)){if(l)break;c[k]=void 0}if(l&&!c[k])break;n=t(c[k]);C=n.literal?
	oa:function(a,b){return a===b||a!==a&&b!==b};q=n.assign||function(){m=d[h]=n(a);throw la("nonassign",c[k],k,f.name);};m=d[h]=n(a);l=function(b){C(b,d[h])||(C(b,m)?q(a,b=d[h]):d[h]=b);return m=b};l.$stateful=!0;l=e.collection?a.$watchCollection(c[k],l):a.$watch(t(c[k],l),null,n.literal);g.push(l);break;case "<":if(!sa.call(c,k)){if(l)break;c[k]=void 0}if(l&&!c[k])break;n=t(c[k]);d[h]=n(a);l=a.$watch(n,function(a){d[h]=a},n.literal);g.push(l);break;case "&":n=c.hasOwnProperty(k)?t(c[k]):z;if(n===z&&
	l)break;d[h]=function(b){return n(a,b)}}});return g.length&&function(){for(var a=0,b=g.length;a<b;++a)g[a]()}}var ka=/^\w/,fa=Q.createElement("div");T.prototype={$normalize:ua,$addClass:function(a){a&&0<a.length&&C.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&C.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Xc(a,b);c&&c.length&&C.addClass(this.$$element,c);(c=Xc(b,a))&&c.length&&C.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=Qc(this.$$element[0],
	a),g=Yc[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=yc(a,"-"));f=pa(this.$$element);if("a"===f&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=b=J(b,"src"===a);else if("img"===f&&"srcset"===a){for(var f="",g=Z(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+J(Z(g[m]),!0),f=f+(" "+Z(g[m+1]));g=Z(g[2*l]).split(/\s/);f+=J(Z(g[0]),
	!0);2===g.length&&(f+=" "+Z(g[1]));this[a]=b=f}!1!==d&&(null===b||v(b)?this.$$element.removeAttr(e):ka.test(e)?this.$$element.attr(e,b):F(this.$$element[0],e,b));(a=this.$$observers)&&p(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=X()),e=d[a]||(d[a]=[]);e.push(b);s.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||v(c[a])||b(c[a])});return function(){ab(e,b)}}};var na=b.startSymbol(),qa=b.endSymbol(),ra="{{"==na&&"}}"==qa?Za:function(a){return a.replace(/\{\{/g,
	na).replace(/}}/g,qa)},wa=/^ngAttr[A-Z]/,xa=/^(.+)Start$/;R.$$addBindingInfo=n?function(a,b){var c=a.data("$binding")||[];L(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:z;R.$$addBindingClass=n?function(a){$(a,"ng-binding")}:z;R.$$addScopeInfo=n?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:z;R.$$addScopeClass=n?function(a,b){$(a,b?"ng-isolate-scope":"ng-scope")}:z;R.$$createComment=function(a,b){var c="";n&&(c=" "+(a||"")+": "+(b||"")+" ");return Q.createComment(c)};
	return R}]}function ua(a){return eb(a.replace(Uc,""))}function Xc(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g==e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function Vc(a){a=G(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&Yf.call(a,b,1);return a}function Tc(a,b){if(b&&D(b))return b;if(D(a)){var d=Zc.exec(a);if(d)return d[3]}}function bf(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)};this.register=
	function(b,c){Ra(b,"controller");I(b)?S(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!I(a.$scope))throw O("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;h=!0===h;k&&D(k)&&(n=k);if(D(f)){k=f.match(Zc);if(!k)throw Zf("ctrlfmt",f);m=k[1];n=n||k[3];f=a.hasOwnProperty(m)?a[m]:Ac(g.$scope,m,!0)||(b?Ac(c,m,!0):w);Qa(f,m,!0)}if(h)return h=(L(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&
	e(g,n,l,m||f.name),S(function(){var a=d.invoke(f,l,g,m);a!==l&&(I(a)||H(a))&&(l=a,n&&e(g,n,l,m||f.name));return l},{instance:l,identifier:n});l=d.instantiate(f,g,m);n&&e(g,n,l,m||f.name);return l}}]}function cf(){this.$get=["$window",function(a){return G(a.document)}]}function df(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function Zb(a){return I(a)?ga(a)?a.toISOString():cb(a):a}function jf(){this.$get=function(){return function(a){if(!a)return"";var b=[];oc(a,
	function(a,c){null===a||v(a)||(L(a)?p(a,function(a){b.push(ja(c)+"="+ja(Zb(a)))}):b.push(ja(c)+"="+ja(Zb(a))))});return b.join("&")}}}function kf(){this.$get=function(){return function(a){function b(a,e,f){null===a||v(a)||(L(a)?p(a,function(a,c){b(a,e+"["+(I(a)?c:"")+"]")}):I(a)&&!ga(a)?oc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ja(e)+"="+ja(Zb(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function $b(a,b){if(D(a)){var d=a.replace($f,"").trim();if(d){var c=b("Content-Type");
	(c=c&&0===c.indexOf($c))||(c=(c=d.match(ag))&&bg[c[0]].test(d));c&&(a=tc(d))}}return a}function ad(a){var b=X(),d;D(a)?p(a.split("\n"),function(a){d=a.indexOf(":");var e=E(Z(a.substr(0,d)));a=Z(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):I(a)&&p(a,function(a,d){var f=E(d),g=Z(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function bd(a){var b;return function(d){b||(b=ad(a));return d?(d=b[E(d)],void 0===d&&(d=null),d):b}}function cd(a,b,d,c){if(H(c))return c(a,b,d);p(c,function(c){a=c(a,b,d)});return a}
	function hf(){var a=this.defaults={transformResponse:[$b],transformRequest:[function(a){return I(a)&&"[object File]"!==ha.call(a)&&"[object Blob]"!==ha.call(a)&&"[object FormData]"!==ha.call(a)?cb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ma(ac),put:ma(ac),patch:ma(ac)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return A(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=
	function(a){return A(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(e,f,g,h,k,l){function m(b){function c(a){var b=S({},a);b.data=cd(a.data,a.headers,a.status,f.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}function e(a,b){var c,d={};p(a,function(a,e){H(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}if(!I(b))throw O("$http")("badreq",b);if(!D(b.url))throw O("$http")("badreq",b.url);
	var f=S({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);f.headers=function(b){var c=a.headers,d=S({},b.headers),f,g,h,c=S({},c.common,c[E(b.method)]);a:for(f in c){g=E(f);for(h in d)if(E(h)===g)continue a;d[f]=c[f]}return e(d,ma(b))}(b);f.method=ub(f.method);f.paramSerializer=D(f.paramSerializer)?l.get(f.paramSerializer):f.paramSerializer;var g=[function(b){var d=b.headers,e=cd(b.data,bd(d),w,b.transformRequest);v(e)&&p(d,
	function(a,b){"content-type"===E(b)&&delete d[b]});v(b.withCredentials)&&!v(a.withCredentials)&&(b.withCredentials=a.withCredentials);return n(b,e).then(c,c)},w],h=k.when(f);for(p(K,function(a){(a.request||a.requestError)&&g.unshift(a.request,a.requestError);(a.response||a.responseError)&&g.push(a.response,a.responseError)});g.length;){b=g.shift();var m=g.shift(),h=h.then(b,m)}d?(h.success=function(a){Qa(a,"fn");h.then(function(b){a(b.data,b.status,b.headers,f)});return h},h.error=function(a){Qa(a,
	"fn");h.then(null,function(b){a(b.data,b.status,b.headers,f)});return h}):(h.success=dd("success"),h.error=dd("error"));return h}function n(c,d){function g(a,c,d,e){function f(){l(c,a,d,e)}T&&(200<=a&&300>a?T.put(R,[a,c,ad(d),e]):T.remove(R));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function l(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?C.resolve:C.reject)({data:a,status:b,headers:bd(d),config:c,statusText:e})}function n(a){l(a.data,a.status,ma(a.headers()),a.statusText)}function K(){var a=m.pendingRequests.indexOf(c);
	-1!==a&&m.pendingRequests.splice(a,1)}var C=k.defer(),J=C.promise,T,F,$=c.headers,R=y(c.url,c.paramSerializer(c.params));m.pendingRequests.push(c);J.then(K,K);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(T=I(c.cache)?c.cache:I(a.cache)?a.cache:B);T&&(F=T.get(R),A(F)?F&&H(F.then)?F.then(n,n):L(F)?l(F[1],F[0],ma(F[2]),F[3]):l(F,200,{},"OK"):T.put(R,J));v(F)&&((F=ed(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:w)&&($[c.xsrfHeaderName||a.xsrfHeaderName]=F),e(c.method,R,d,
	g,$,c.timeout,c.withCredentials,c.responseType));return J}function y(a,b){0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b);return a}var B=g("$http");a.paramSerializer=D(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var K=[];p(c,function(a){K.unshift(D(a)?l.get(a):l.invoke(a))});m.pendingRequests=[];(function(a){p(arguments,function(a){m[a]=function(b,c){return m(S({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){p(arguments,function(a){m[a]=function(b,c,
	d){return m(S({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");m.defaults=a;return m}]}function mf(){this.$get=function(){return function(){return new N.XMLHttpRequest}}}function lf(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,d,c){return cg(a,c,a.defer,b.angular.callbacks,d[0])}]}function cg(a,b,d,c,e){function f(a,b,d){var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m,!1);f.removeEventListener("error",
	m,!1);e.body.removeChild(f);f=null;var g=-1,B="unknown";a&&("load"!==a.type||c[b].called||(a={type:"error"}),B=a.type,g="error"===a.type?404:200);d&&d(g,B)};f.addEventListener("load",m,!1);f.addEventListener("error",m,!1);e.body.appendChild(f);return m}return function(e,h,k,l,m,n,y,B){function K(){t&&t();u&&u.abort()}function x(b,c,e,f,g){A(M)&&d.cancel(M);t=u=null;b(c,e,f,g);a.$$completeOutstandingRequest(z)}a.$$incOutstandingRequestCount();h=h||a.url();if("jsonp"==E(e)){var q="_"+(c.counter++).toString(36);
	c[q]=function(a){c[q].data=a;c[q].called=!0};var t=f(h.replace("JSON_CALLBACK","angular.callbacks."+q),q,function(a,b){x(l,a,c[q].data,"",b);c[q]=z})}else{var u=b(e,h);u.open(e,h,!0);p(m,function(a,b){A(a)&&u.setRequestHeader(b,a)});u.onload=function(){var a=u.statusText||"",b="response"in u?u.response:u.responseText,c=1223===u.status?204:u.status;0===c&&(c=b?200:"file"==wa(h).protocol?404:0);x(l,c,b,u.getAllResponseHeaders(),a)};e=function(){x(l,-1,null,null,"")};u.onerror=e;u.onabort=e;y&&(u.withCredentials=
	!0);if(B)try{u.responseType=B}catch(s){if("json"!==B)throw s;}u.send(v(k)?null:k)}if(0<n)var M=d(K,n);else n&&H(n.then)&&n.then(K)}}function ff(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(y,b)}function h(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function k(f,k,
	n,q){function y(a){try{var b=a;a=n?e.getTrusted(n,b):e.valueOf(b);var d;if(q&&!A(a))d=a;else if(null==a)d="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=cb(a)}d=a}return d}catch(g){c(Ja.interr(f,g))}}if(!f.length||-1===f.indexOf(a)){var u;k||(k=g(f),u=ia(k),u.exp=f,u.expressions=[],u.$$watchDelegate=h);return u}q=!!q;var s,p,C=0,J=[],T=[];u=f.length;for(var F=[],$=[];C<u;)if(-1!=(s=f.indexOf(a,C))&&-1!=(p=f.indexOf(b,s+l)))C!==s&&F.push(g(f.substring(C,s))),C=f.substring(s+
	l,p),J.push(C),T.push(d(C,y)),C=p+m,$.push(F.length),F.push("");else{C!==u&&F.push(g(f.substring(C)));break}n&&1<F.length&&Ja.throwNoconcat(f);if(!k||J.length){var R=function(a){for(var b=0,c=J.length;b<c;b++){if(q&&v(a[b]))return;F[$[b]]=a[b]}return F.join("")};return S(function(a){var b=0,d=J.length,e=Array(d);try{for(;b<d;b++)e[b]=T[b](a);return R(e)}catch(g){c(Ja.interr(f,g))}},{exp:f,expressions:J,$$watchDelegate:function(a,b){var c;return a.$watchGroup(T,function(d,e){var f=R(d);H(b)&&b.call(this,
	f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),y=new RegExp(b.replace(/./g,f),"g");k.startSymbol=function(){return a};k.endSymbol=function(){return b};return k}]}function gf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,m){function n(){y?f.apply(null,B):f(q)}var y=4<arguments.length,B=y?ya.call(arguments,4):[],p=b.setInterval,x=b.clearInterval,q=0,t=A(m)&&!m,u=(t?c:d).defer(),s=u.promise;l=A(l)?l:0;s.$$intervalId=
	p(function(){t?e.defer(n):a.$evalAsync(n);u.notify(q++);0<l&&q>=l&&(u.resolve(q),x(s.$$intervalId),delete g[s.$$intervalId]);t||a.$apply()},k);g[s.$$intervalId]=u;return s}var g={};f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1};return f}]}function bc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=qb(a[b]);return a.join("/")}function fd(a,b){var d=wa(a);b.$$protocol=d.protocol;b.$$host=d.hostname;
	b.$$port=da(d.port)||dg[d.protocol]||null}function gd(a,b){var d="/"!==a.charAt(0);d&&(a="/"+a);var c=wa(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname);b.$$search=wc(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function na(a,b){if(0===b.indexOf(a))return b.substr(a.length)}function Ia(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function jb(a){return a.replace(/(#.+)|#$/,"$1")}function cc(a,
	b,d){this.$$html5=!0;d=d||"";fd(a,this);this.$$parse=function(a){var d=na(b,a);if(!D(d))throw Eb("ipthprfx",a,b);gd(d,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Rb(this.$$search),d=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+d;this.$$absUrl=b+this.$$url.substr(1)};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;A(f=na(a,c))?(g=f,g=A(f=na(d,f))?b+(na("/",f)||f):a+g):A(f=na(b,c))?g=
	b+f:b==c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function dc(a,b,d){fd(a,this);this.$$parse=function(c){var e=na(a,c)||na(b,c),f;v(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",v(e)&&(a=c,this.replace())):(f=na(d,e),v(f)&&(f=e));gd(f,this);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.indexOf(e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=Rb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+
	(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"")};this.$$parseLinkUrl=function(b,d){return Ia(a)==Ia(b)?(this.$$parse(b),!0):!1}}function hd(a,b,d){this.$$html5=!0;dc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a==Ia(c)?f=c:(g=na(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=Rb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=
	a+d+this.$$url}}function Fb(a){return function(){return this[a]}}function id(a,b){return function(d){if(v(d))return this[a];this[a]=b(d);this.$$compose();return this}}function nf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return A(b)?(a=b,this):a};this.html5Mode=function(a){return Ma(a)?(b.enabled=a,this):I(a)?(Ma(a.enabled)&&(b.enabled=a.enabled),Ma(a.requireBase)&&(b.requireBase=a.requireBase),Ma(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b};
	this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g;}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var n=c.url(),y;if(b.enabled){if(!m&&b.requireBase)throw Eb("nobase");y=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/");m=e.history?cc:hd}else y=Ia(n),m=dc;var B=y.substr(0,Ia(y).lastIndexOf("/")+
	1);l=new m(y,B,"#"+a);l.$$parseLinkUrl(n,n);l.$$state=c.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=G(a.target);"a"!==pa(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");I(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=wa(h.animVal).href);p.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),
	l.absUrl()!=c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});jb(l.absUrl())!=jb(n)&&c.url(l.absUrl(),!0);var x=!0;c.onUrlChange(function(a,b){v(na(B,a))?g.location.href=a:(d.$evalAsync(function(){var c=l.absUrl(),e=l.$$state,f;a=jb(a);l.$$parse(a);l.$$state=b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(x=!1,k(c,e)))}),d.$$phase||d.$digest())});d.$watch(function(){var a=jb(c.url()),b=jb(l.absUrl()),f=c.state(),
	g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;if(x||m)x=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))});l.$$replace=!1});return l}]}function of(){var a=!0,b=this;this.debugEnabled=function(b){return A(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?
	"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||z;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];p(arguments,function(b){a.push(c(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Va(a,b){if("__defineGetter__"===
	a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw U("isecfld",b);return a}function eg(a){return a+""}function xa(a,b){if(a){if(a.constructor===a)throw U("isecfn",b);if(a.window===a)throw U("isecwindow",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw U("isecdom",b);if(a===Object)throw U("isecobj",b);}return a}function jd(a,b){if(a){if(a.constructor===a)throw U("isecfn",b);if(a===fg||a===gg||a===hg)throw U("isecff",b);}}function Gb(a,b){if(a&&
	(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw U("isecaf",b);}function ig(a,b){return"undefined"!==typeof a?a:b}function kd(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function V(a,b){var d,c;switch(a.type){case r.Program:d=!0;p(a.body,function(a){V(a.expression,b);d=d&&a.expression.constant});a.constant=d;break;case r.Literal:a.constant=!0;a.toWatch=[];break;case r.UnaryExpression:V(a.argument,
	b);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case r.BinaryExpression:V(a.left,b);V(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case r.LogicalExpression:V(a.left,b);V(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case r.ConditionalExpression:V(a.test,b);V(a.alternate,b);V(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=
	a.constant?[]:[a];break;case r.Identifier:a.constant=!1;a.toWatch=[a];break;case r.MemberExpression:V(a.object,b);a.computed&&V(a.property,b);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=[a];break;case r.CallExpression:d=a.filter?!b(a.callee.name).$stateful:!1;c=[];p(a.arguments,function(a){V(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=a.filter&&!b(a.callee.name).$stateful?c:[a];break;case r.AssignmentExpression:V(a.left,b);V(a.right,
	b);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case r.ArrayExpression:d=!0;c=[];p(a.elements,function(a){V(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=c;break;case r.ObjectExpression:d=!0;c=[];p(a.properties,function(a){V(a.value,b);d=d&&a.value.constant;a.value.constant||c.push.apply(c,a.value.toWatch)});a.constant=d;a.toWatch=c;break;case r.ThisExpression:a.constant=!1;a.toWatch=[];break;case r.LocalsExpression:a.constant=!1,a.toWatch=
	[]}}function ld(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:w}}function md(a){return a.type===r.Identifier||a.type===r.MemberExpression}function nd(a){if(1===a.body.length&&md(a.body[0].expression))return{type:r.AssignmentExpression,left:a.body[0].expression,right:{type:r.NGValueParameter},operator:"="}}function od(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===r.Literal||a.body[0].expression.type===r.ArrayExpression||a.body[0].expression.type===
	r.ObjectExpression)}function pd(a,b){this.astBuilder=a;this.$filter=b}function qd(a,b){this.astBuilder=a;this.$filter=b}function Hb(a){return"constructor"==a}function ec(a){return H(a.valueOf)?a.valueOf():jg.call(a)}function pf(){var a=X(),b=X(),d={"true":!0,"false":!1,"null":null,undefined:w};this.addLiteral=function(a,b){d[a]=b};this.$get=["$filter",function(c){function e(d,e,g){var y,p,C;g=g||x;switch(typeof d){case "string":C=d=d.trim();var J=g?b:a;y=J[C];if(!y){":"===d.charAt(0)&&":"===d.charAt(1)&&
	(p=!0,d=d.substring(2));y=g?K:B;var T=new fc(y);y=(new gc(T,c,y)).parse(d);y.constant?y.$$watchDelegate=m:p?y.$$watchDelegate=y.literal?l:k:y.inputs&&(y.$$watchDelegate=h);g&&(y=f(y));J[C]=y}return n(y,e);case "function":return n(d,e);default:return n(z,e)}}function f(a){function b(c,d,e,f){var g=x;x=!0;try{return a(c,d,e,f)}finally{x=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate;b.assign=f(a.assign);b.constant=a.constant;b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=
	f(a.inputs[c]);b.inputs=a.inputs;return b}function g(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=ec(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,d,e){var f=d.inputs,h;if(1===f.length){var k=g,f=f[0];return a.$watch(function(a){var b=f(a);g(b,k)||(h=d(a,w,w,[b]),k=b&&ec(b));return h},b,c,e)}for(var l=[],m=[],n=0,y=f.length;n<y;n++)l[n]=g,m[n]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c<e;c++){var k=f[c](a);if(b||(b=!g(k,l[c])))m[c]=k,l[c]=k&&ec(k)}b&&
	(h=d(a,w,w,m));return h},b,c,e)}function k(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;H(b)&&b.apply(this,arguments);A(a)&&d.$$postDigest(function(){A(f)&&e()})},c)}function l(a,b,c,d){function e(a){var b=!0;p(a,function(a){A(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;H(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function m(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},
	b,c)}function n(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==l&&c!==k?function(c,e,f,g){f=d&&g?g[0]:a(c,e,f,g);return b(f,c,e)}:function(c,d,e,f){e=a(c,d,e,f);c=b(e,c,d);return A(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]);return c}var y=Ea().noUnsafeEval,B={csp:y,expensiveChecks:!1,literals:qa(d)},K={csp:y,expensiveChecks:!0,literals:qa(d)},x=!1;e.$$runningExpensiveChecks=
	function(){return x};return e}]}function rf(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return rd(function(b){a.$evalAsync(b)},b)}]}function sf(){this.$get=["$browser","$exceptionHandler",function(a,b){return rd(function(b){a.defer(b)},b)}]}function rd(a,b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending;c.processScheduled=!1;c.pending=w;for(var f=
	0,g=e.length;f<g;++f){d=e[f][0];a=e[f][c.status];try{H(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=new d}var g=O("$q",TypeError);S(d.prototype,{then:function(a,b,c){if(v(a)&&v(b)&&v(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&e(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,
	b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}});S(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){function d(a){k||(k=!0,h.$$resolve(a))}function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{if(I(a)||H(a))g=a&&a.then;H(g)?(this.promise.$$state.status=-1,g.call(a,d,f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,e(this.promise.$$state))}catch(l){f(l),
	b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;e(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0];a=d[f][3];try{e.notify(H(a)?a(c):c)}catch(h){b(h)}}})}});var h=function(a,b){var c=new f;b?c.resolve(a):c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{H(c)&&
	(d=c())}catch(e){return h(e,!1)}return d&&H(d.then)?d.then(function(){return h(a,b)},function(a){return h(a,!1)}):h(a,b)},l=function(a,b,c,d){var e=new f;e.resolve(a);return e.promise.then(b,c,d)},m=function(a){if(!H(a))throw g("norslvr",a);var b=new f;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};m.prototype=d.prototype;m.defer=function(){var a=new f;a.resolve=c(a,a.resolve);a.reject=c(a,a.reject);a.notify=c(a,a.notify);return a};m.reject=function(a){var b=new f;b.reject(a);
	return b.promise};m.when=l;m.resolve=l;m.all=function(a){var b=new f,c=0,d=L(a)?[]:{};p(a,function(a,e){c++;l(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};return m}function Bf(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=
	d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function qf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++pb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=O("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$exceptionHandler","$parse",
	"$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===za&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++pb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=
	0;this.$$isolateBindings=null}function n(a){if(t.$$phase)throw d("inprog",t.$$phase);t.$$phase=a}function y(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function B(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function r(){}function x(){for(;M.length;)try{M.shift()()}catch(a){f(a)}e=null}function q(){null===e&&(e=h.defer(function(){t.$apply(x)}))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?(d=new m,d.$root=this.$root):
	(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!=this)&&d.$on("$destroy",k);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:r,get:f,exp:e||a,eq:!!d};c=null;H(b)||(l.fn=z);k||(k=h.$$watchers=[]);k.unshift(l);y(this,1);return function(){0<=ab(k,
	l)&&y(h,-1);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});p(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,
	b){function c(a){e=a;var b,d,g,h;if(!v(e)){if(I(e))if(Ca(e))for(f!==n&&(f=n,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==y&&(f=y={},u=0,l++);a=0;for(b in e)sa.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)sa.call(e,b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,m=g(a,c),n=[],y={},q=!0,u=0;return this.$watch(m,
	function(){q?(q=!1,b(e,e,d)):b(e,h,d);if(k)if(I(e))if(Ca(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)sa.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,y,q,B,p=b,M,w=[],A,v;n("$digest");h.$$checkUrlChange();this===t&&null!==e&&(h.defer.cancel(e),x());c=null;do{B=!1;for(M=this;u.length;){try{v=u.shift(),v.scope.$eval(v.expression,v.locals)}catch(z){f(z)}c=null}a:do{if(y=M.$$watchers)for(q=y.length;q--;)try{if(a=y[q])if(m=a.get,(g=m(M))!==(k=a.last)&&
	!(a.eq?oa(g,k):"number"===typeof g&&"number"===typeof k&&isNaN(g)&&isNaN(k)))B=!0,c=a,a.last=a.eq?qa(g,null):g,l=a.fn,l(g,k===r?g:k,M),5>p&&(A=4-p,w[A]||(w[A]=[]),w[A].push({msg:H(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}));else if(a===c){B=!1;break a}}catch(G){f(G)}if(!(y=M.$$watchersCount&&M.$$childHead||M!==this&&M.$$nextSibling))for(;M!==this&&!(y=M.$$nextSibling);)M=M.$parent}while(M=y);if((B||u.length)&&!p--)throw t.$$phase=null,d("infdig",b,w);}while(B||u.length);
	for(t.$$phase=null;s.length;)try{s.shift()()}catch(D){f(D)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===t&&h.$$applicationDestroyed();y(this,-this.$$watchersCount);for(var b in this.$$listenerCount)B(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&
	(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=z;this.$on=this.$watch=this.$watchGroup=function(){return z};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){t.$$phase||u.length||h.defer(function(){u.length&&t.$digest()});u.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){s.push(a)},$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{t.$$phase=
	null}}catch(b){f(b)}finally{try{t.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&M.push(b);a=g(a);q()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,B(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=
	!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=bb([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;
	for(var g=bb([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var t=new m,u=t.$$asyncQueue=[],s=t.$$postDigestQueue=[],M=t.$$applyAsyncQueue=[];return t}]}function je(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;
	this.aHrefSanitizationWhitelist=function(b){return A(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return A(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f;f=wa(d).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function kg(a){if("self"===a)return a;if(D(a)){if(-1<a.indexOf("***"))throw Ba("iwcard",a);a=sd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+a+"$")}if(Ya(a))return new RegExp("^"+a.source+"$");throw Ba("imatcher");}function td(a){var b=
	[];A(a)&&p(a,function(a){b.push(kg(a))});return b}function uf(){this.SCE_CONTEXTS=fa;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=td(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=td(a));return b};this.$get=["$injector",function(d){function c(a,b){return"self"===a?ed(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};
	b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Ba("unsafe");};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};h[fa.HTML]=e(g);h[fa.CSS]=e(g);h[fa.URL]=e(g);h[fa.JS]=e(g);h[fa.RESOURCE_URL]=e(h[fa.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ba("icontext",a,b);if(null===b||v(b)||""===b)return b;if("string"!==typeof b)throw Ba("itype",a);return new c(b)},getTrusted:function(d,e){if(null===
	e||v(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===fa.RESOURCE_URL){var g=wa(e.toString()),n,y,B=!1;n=0;for(y=a.length;n<y;n++)if(c(a[n],g)){B=!0;break}if(B)for(n=0,y=b.length;n<y;n++)if(c(b[n],g)){B=!1;break}if(B)return e;throw Ba("insecurl",e.toString());}if(d===fa.HTML)return f(e);throw Ba("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function tf(){var a=!0;this.enabled=function(b){arguments.length&&
	(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>za)throw Ba("iequirks");var c=ma(fa);c.isEnabled=function(){return a};c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Za);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;p(fa,function(a,b){var d=E(b);c[eb("parse_as_"+d)]=function(b){return e(a,
	b)};c[eb("get_trusted_"+d)]=function(b){return f(a,b)};c[eb("trust_as_"+d)]=function(b){return g(a,b)}});return c}]}function vf(){this.$get=["$window","$document",function(a,b){var d={},c=da((/android (\d+)/.exec(E((a.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((a.navigator||{}).userAgent),f=b[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,k=f.body&&f.body.style,l=!1,m=!1;if(k){for(var n in k)if(l=h.exec(n)){g=l[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in k&&"webkit");
	l=!!("transition"in k||g+"Transition"in k);m=!!("animation"in k||g+"Animation"in k);!c||l&&m||(l=D(k.webkitTransition),m=D(k.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>c||e),hasEvent:function(a){if("input"===a&&11>=za)return!1;if(v(d[a])){var b=f.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ea(),vendorPrefix:g,transitions:l,animations:m,android:c}}]}function xf(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$templateCache","$http","$q",
	"$sce",function(b,d,c,e){function f(g,h){f.totalPendingRequests++;D(g)&&b.get(g)||(g=e.getTrustedResourceUrl(g));var k=d.defaults&&d.defaults.transformResponse;L(k)?k=k.filter(function(a){return a!==$b}):k===$b&&(k=null);return d.get(g,S({cache:b,transformResponse:k},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){b.put(g,a.data);return a.data},function(a){if(!h)throw lg("tpload",g,a.status,a.statusText);return c.reject(a)})}f.totalPendingRequests=0;return f}]}function yf(){this.$get=
	["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];p(a,function(a){var c=ea.element(a).data("$binding");c&&p(c,function(c){d?(new RegExp("(^|\\s)"+sd(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!=c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},
	setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function zf(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){H(f)||(l=k,k=f,f=z);var m=ya.call(arguments,3),n=A(l)&&!l,y=(n?c:d).defer(),B=y.promise,p;p=b.defer(function(){try{y.resolve(f.apply(null,m))}catch(b){y.reject(b),e(b)}finally{delete g[B.$$timeoutId]}n||a.$apply()},k);B.$$timeoutId=p;g[p]=y;return B}var g={};
	f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}function wa(a){za&&(aa.setAttribute("href",a),a=aa.href);aa.setAttribute("href",a);return{href:aa.href,protocol:aa.protocol?aa.protocol.replace(/:$/,""):"",host:aa.host,search:aa.search?aa.search.replace(/^\?/,""):"",hash:aa.hash?aa.hash.replace(/^#/,""):"",hostname:aa.hostname,port:aa.port,pathname:"/"===aa.pathname.charAt(0)?aa.pathname:"/"+
	aa.pathname}}function ed(a){a=D(a)?wa(a):a;return a.protocol===ud.protocol&&a.host===ud.host}function Af(){this.$get=ia(N)}function vd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;a=d.cookie||"";if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(l=b(g.substring(0,k)),v(c[l])&&(c[l]=b(g.substring(k+1))));return c}}function Ef(){this.$get=vd}function Ic(a){function b(d,c){if(I(d)){var e=
	{};p(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",wd);b("date",xd);b("filter",mg);b("json",ng);b("limitTo",og);b("lowercase",pg);b("number",yd);b("orderBy",zd);b("uppercase",qg)}function mg(){return function(a,b,d){if(!Ca(a)){if(null==a)return a;throw O("filter")("notarray",a);}var c;switch(hc(b)){case "function":break;case "boolean":case "null":case "number":case "string":c=
	!0;case "object":b=rg(b,d,c);break;default:return a}return Array.prototype.filter.call(a,b)}}function rg(a,b,d){var c=I(a)&&"$"in a;!0===b?b=oa:H(b)||(b=function(a,b){if(v(a))return!1;if(null===a||null===b)return a===b;if(I(b)||I(a)&&!qc(a))return!1;a=E(""+a);b=E(""+b);return-1!==a.indexOf(b)});return function(e){return c&&!I(e)?Ka(e,a.$,b,!1):Ka(e,a,b,d)}}function Ka(a,b,d,c,e){var f=hc(a),g=hc(b);if("string"===g&&"!"===b.charAt(0))return!Ka(a,b.substring(1),d,c);if(L(a))return a.some(function(a){return Ka(a,
	b,d,c)});switch(f){case "object":var h;if(c){for(h in a)if("$"!==h.charAt(0)&&Ka(a[h],b,d,!0))return!0;return e?!1:Ka(a,b,d,!1)}if("object"===g){for(h in b)if(e=b[h],!H(e)&&!v(e)&&(f="$"===h,!Ka(f?a:a[h],e,d,f,f)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function hc(a){return null===a?"null":typeof a}function wd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){v(c)&&(c=b.CURRENCY_SYM);v(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Ad(a,b.PATTERNS[1],b.GROUP_SEP,
	b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function yd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Ad(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function sg(a){var b=0,d,c,e,f,g;-1<(c=a.indexOf(Bd))&&(a=a.replace(Bd,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)==ic;e++);if(e==(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)==ic;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Cd&&(d=d.splice(0,Cd-1),b=c-1,
	c=1);return{d:d,e:b,i:c}}function tg(a,b,d,c){var e=a.d,f=e.length-a.i;b=v(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Ad(a,
	b,d,c,e){if(!D(a)&&!W(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="\u221e";else{g=sg(h);tg(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h):(f=k,k=[0]);h=[];for(k.length>b.lgSize&&h.unshift(k.splice(-b.lgSize).join(""));k.length>b.gSize;)h.unshift(k.splice(-b.gSize).join(""));k.length&&h.unshift(k.join(""));k=h.join(d);f.length&&(k+=c+f.join(""));e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+
	k+b.negSuf:b.posPre+k+b.posSuf}function Ib(a,b,d,c){var e="";if(0>a||c&&0>=a)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=ic+a;d&&(a=a.substr(a.length-b));return e+a}function ba(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(0<d||f>-d)f+=d;0===f&&-12==d&&(f=12);return Ib(f,b,c,e)}}function kb(a,b,d){return function(c,e){var f=c["get"+a](),g=ub((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Dd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Ed(a){return function(b){var d=
	Dd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Ib(b,a)}}function jc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function xd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=da(b[9]+b[10]),g=da(b[9]+b[11]));h.call(a,da(b[1]),da(b[2])-1,da(b[3]));f=da(b[4]||0)-f;g=da(b[5]||0)-g;h=da(b[6]||0);b=Math.round(1E3*parseFloat("0."+
	(b[7]||0)));k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",h=[],k,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;D(c)&&(c=ug.test(c)?da(c):b(c));W(c)&&(c=new Date(c));if(!ga(c)||!isFinite(c.getTime()))return c;for(;d;)(l=vg.exec(d))?(h=bb(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();f&&(m=uc(f,m),c=Qb(c,f,!0));p(h,function(b){k=wg[b];g+=k?k(c,a.DATETIME_FORMATS,
	m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function ng(){return function(a,b){v(b)&&(b=2);return cb(a,b)}}function og(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):da(b);if(isNaN(b))return a;W(a)&&(a=a.toString());if(!L(a)&&!D(a))return a;d=!d||isNaN(d)?0:da(d);d=0>d?Math.max(0,a.length+d):d;return 0<=b?a.slice(d,d+b):0===d?a.slice(b,a.length):a.slice(Math.max(0,d+b),d)}}function zd(a){function b(b,d){d=d?-1:1;return b.map(function(b){var c=1,h=Za;
	if(H(b))h=b;else if(D(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(h=a(b),h.constant))var k=h(),h=function(a){return a[k]}}return{get:h,descending:c*d}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}return function(a,e,f){if(null==a)return a;if(!Ca(a))throw O("orderBy")("notarray",a);L(e)||(e=[e]);0===e.length&&(e=["+"]);var g=b(e,f);g.push({get:function(){return{}},descending:f?-1:1});a=Array.prototype.map.call(a,
	function(a,b){return{value:a,predicateValues:g.map(function(c){var e=c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("string"===c)e=e.toLowerCase();else if("object"===c)a:{if("function"===typeof e.valueOf&&(e=e.valueOf(),d(e)))break a;if(qc(e)&&(e=e.toString(),d(e)))break a;e=b}return{value:e,type:c}})}});a.sort(function(a,b){for(var c=0,d=0,e=g.length;d<e;++d){var c=a.predicateValues[d],f=b.predicateValues[d],p=0;c.type===f.type?c.value!==f.value&&(p=c.value<f.value?-1:1):p=c.type<f.type?
	-1:1;if(c=p*g[d].descending)break}return c});return a=a.map(function(a){return a.value})}}function La(a){H(a)&&(a={link:a});a.restrict=a.restrict||"AC";return ia(a)}function Fd(a,b,d,c,e){var f=this,g=[];f.$error={};f.$$success={};f.$pending=w;f.$name=e(b.name||b.ngForm||"")(d);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;f.$$parentForm=Jb;f.$rollbackViewValue=function(){p(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){p(g,function(a){a.$commitViewValue()})};
	f.$addControl=function(a){Ra(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a);a.$$parentForm=f};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];p(f.$pending,function(b,c){f.$setValidity(c,null,a)});p(f.$error,function(b,c){f.$setValidity(c,null,a)});p(f.$$success,function(b,c){f.$setValidity(c,null,a)});ab(g,a);a.$$parentForm=Jb};Gd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?
	-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(ab(d,c),0===d.length&&delete a[b])},$animate:c});f.$setDirty=function(){c.removeClass(a,Wa);c.addClass(a,Kb);f.$dirty=!0;f.$pristine=!1;f.$$parentForm.$setDirty()};f.$setPristine=function(){c.setClass(a,Wa,Kb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;p(g,function(a){a.$setPristine()})};f.$setUntouched=function(){p(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){c.addClass(a,"ng-submitted");
	f.$submitted=!0;f.$$parentForm.$setSubmitted()}}function kc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function lb(a,b,d,c,e,f){var g=E(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0});b.on("compositionend",function(){h=!1;l()})}var k,l=function(a){k&&(f.defer.cancel(k),k=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=Z(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",
	l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",m)}b.on("change",l);if(Hd[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?
	"":c.$viewValue;b.val()!==a&&b.val(a)}}function Lb(a,b){return function(d,c){var e,f;if(ga(d))return d;if(D(d)){'"'==d.charAt(0)&&'"'==d.charAt(d.length-1)&&(d=d.substring(1,d.length-1));if(xg.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},p(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,
	f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function mb(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function y(a){return A(a)&&!ga(a)?d(a)||w:a}Id(e,f,g,h);lb(e,f,g,h,k,l);var p=h&&h.$options&&h.$options.timezone,r;h.$$parserName=a;h.$parsers.push(function(a){return h.$isEmpty(a)?null:b.test(a)?(a=d(a,r),p&&(a=Qb(a,p)),a):w});h.$formatters.push(function(a){if(a&&!ga(a))throw nb("datefmt",a);if(n(a))return(r=a)&&p&&(r=Qb(r,p,!0)),
	m("date")(a,c,p);r=null;return""});if(A(g.min)||g.ngMin){var x;h.$validators.min=function(a){return!n(a)||v(x)||d(a)>=x};g.$observe("min",function(a){x=y(a);h.$validate()})}if(A(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!n(a)||v(q)||d(a)<=q};g.$observe("max",function(a){q=y(a);h.$validate()})}}}function Id(a,b,d,c){(c.$$hasNativeValidators=I(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?w:a})}function Jd(a,b,d,c,e){if(A(c)){a=
	a(c);if(!a.constant)throw nb("constexpr",d,c);return a(b)}return e}function lc(a,b){a="ngClass"+a;return["$animate",function(d){function c(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){var b=[];return L(a)?(p(a,function(a){b=b.concat(e(a))}),b):D(a)?a.split(" "):I(a)?(p(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a,b){var c=g.data("$classCounts")||X(),d=
	[];p(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function l(a){if(!0===b||f.$index%2===b){var l=e(a||[]);if(!m){var p=k(l,1);h.$addClass(p)}else if(!oa(a,m)){var r=e(m),p=c(l,r),l=c(r,l),p=k(p,1),l=k(l,-1);p&&p.length&&d.addClass(g,p);l&&l.length&&d.removeClass(g,l)}}m=ma(a)}var m;f.$watch(h[a],l,!0);h.$observe("class",function(b){l(f.$eval(h[a]))});"ngClass"!==a&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var l=e(f.$eval(h[a]));
	g===b?(g=k(l,1),h.$addClass(g)):(g=k(l,-1),h.$removeClass(g))}})}}}]}function Gd(a){function b(a,b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+yc(a,"-"):"";b(ob+a,!0===c);b(Kd+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[Kd]=!(f[ob]=e.hasClass(ob));c.$setValidity=function(a,e,f){v(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),Ld(c.$pending)&&(c.$pending=w));Ma(e)?e?(h(c.$error,a,
	f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,a,f));c.$pending?(b(Md,!0),c.$valid=c.$invalid=w,d("",null)):(b(Md,!1),c.$valid=Ld(c.$error),c.$invalid=!c.$valid,d("",c.$valid));e=c.$pending&&c.$pending[a]?w:c.$error[a]?!1:c.$$success[a]?!0:null;d(a,e);c.$$parentForm.$setValidity(a,e,c)}}function Ld(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var yg=/^\/(.+)\/([a-z]*)$/,sa=Object.prototype.hasOwnProperty,E=function(a){return D(a)?a.toLowerCase():
	a},ub=function(a){return D(a)?a.toUpperCase():a},za,G,ra,ya=[].slice,Yf=[].splice,zg=[].push,ha=Object.prototype.toString,rc=Object.getPrototypeOf,Da=O("ng"),ea=N.angular||(N.angular={}),Sb,pb=0;za=Q.documentMode;z.$inject=[];Za.$inject=[];var L=Array.isArray,Xd=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Z=function(a){return D(a)?a.trim():a},sd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ea=function(){if(!A(Ea.rules)){var a=
	Q.querySelector("[ng-csp]")||Q.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ea.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ea;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ea.rules},rb=function(){if(A(rb.name_))return rb.name_;var a,b,d=Oa.length,c,e;for(b=0;b<d;++b)if(c=Oa[b],a=Q.querySelector("["+c.replace(":","\\:")+"jq]")){e=
	a.getAttribute(c+"jq");break}return rb.name_=e},$d=/:/g,Oa=["ng-","data-ng-","ng:","x-ng-"],ee=/[A-Z]/g,zc=!1,Na=3,ie={full:"1.5.2",major:1,minor:5,dot:2,codeName:"differential-recovery"};Y.expando="ng339";var gb=Y.cache={},Kf=1;Y._data=function(a){return this.cache[a[this.expando]]||{}};var Ff=/([\:\-\_]+(.))/g,Gf=/^moz([A-Z])/,yb={mouseleave:"mouseout",mouseenter:"mouseover"},Ub=O("jqLite"),Jf=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Tb=/<|&#?\w+;/,Hf=/<([\w:-]+)/,If=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
	ka={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ka.optgroup=ka.option;ka.tbody=ka.tfoot=ka.colgroup=ka.caption=ka.thead;ka.th=ka.td;var Pf=Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Pa=Y.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===
	Q.readyState?setTimeout(b):(this.on("DOMContentLoaded",b),Y(N).on("load",b))},toString:function(){var a=[];p(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?G(this[a]):G(this[this.length+a])},length:0,push:zg,sort:[].sort,splice:[].splice},Db={};p("multiple selected checked disabled readOnly required open".split(" "),function(a){Db[E(a)]=a});var Rc={};p("input select option textarea button form details".split(" "),function(a){Rc[a]=!0});var Yc={ngMinlength:"minlength",
	ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};p({data:Wb,removeData:fb,hasData:function(a){for(var b in gb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)fb(a[b])}},function(a,b){Y[b]=a});p({data:Wb,inheritedData:Cb,scope:function(a){return G.data(a,"$scope")||Cb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return G.data(a,"$isolateScope")||G.data(a,"$isolateScopeNoTemplate")},controller:Oc,injector:function(a){return Cb(a,
	"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:zb,css:function(a,b,d){b=eb(b);if(A(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Na&&2!==c&&8!==c)if(c=E(b),Db[c])if(A(d))d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c));else return a[b]||(a.attributes.getNamedItem(b)||z).specified?c:w;else if(A(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?w:a},prop:function(a,b,d){if(A(d))a[b]=d;else return a[b]},
	text:function(){function a(a,d){if(v(d)){var c=a.nodeType;return 1===c||c===Na?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(v(b)){if(a.multiple&&"select"===pa(a)){var d=[];p(a.options,function(a){a.selected&&d.push(a.value||a.text)});return 0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(v(b))return a.innerHTML;wb(a,!0);a.innerHTML=b},empty:Pc},function(a,b){Y.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==Pc&&v(2==a.length&&a!==zb&&a!==Oc?
	b:c)){if(I(b)){for(e=0;e<g;e++)if(a===Wb)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv;g=v(e)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});p({removeData:fb,on:function(a,b,d,c){if(A(c))throw Ub("onargs");if(Jc(a)){c=xb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Mf(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===
	b||g||a.addEventListener(b,f,!1));h.push(d)};g--;)b=c[g],yb[b]?(h(yb[b],Of),h(b,w,!0)):h(b)}},off:Nc,one:function(a,b,d){a=G(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;wb(a);p(new Y(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];p(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=
	a.nodeType;if(1===d||11===d){b=new Y(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;p(new Y(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Lc(a,G(b).eq(0).clone()[0])},remove:Xb,detach:function(a){Xb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new Y(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}},addClass:Bb,removeClass:Ab,toggleClass:function(a,b,d){b&&p(b.split(" "),function(b){var e=
	d;v(e)&&(e=!zb(a,b));(e?Bb:Ab)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Vb,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=xb(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=
	!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:z,type:f,target:a},b.type&&(c=S(c,b)),b=ma(g),e=d?[c].concat(d):[c],p(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){Y.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)v(f)?(f=a(this[g],b,c,e),A(f)&&(f=G(f))):Mc(f,a(this[g],b,c,e));return A(f)?f:this};Y.prototype.bind=Y.prototype.on;Y.prototype.unbind=Y.prototype.off});Sa.prototype={put:function(a,
	b){this[Fa(a,this.nextUid)]=b},get:function(a){return this[Fa(a,this.nextUid)]},remove:function(a){var b=this[a=Fa(a,this.nextUid)];delete this[a];return b}};var Df=[function(){this.$get=[function(){return Sa}]}],Rf=/^([^\(]+?)=>/,Sf=/^[^\(]*\(\s*([^\)]*)\)/m,Ag=/,/,Bg=/^\s*(_?)(\S+?)\1\s*$/,Qf=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ga=O("$injector");db.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw D(d)&&d||(d=a.name||Tf(a)),Ga("strictdi",d);
	b=Sc(a);p(b[1].split(Ag),function(a){a.replace(Bg,function(a,b,d){c.push(d)})})}a.$inject=c}}else L(a)?(b=a.length-1,Qa(a[b],"fn"),c=a.slice(0,b)):Qa(a,"fn",!0);return c};var Nd=O("$animate"),We=function(){this.$get=z},Xe=function(){var a=new Sa,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=D(b)?b.split(" "):L(b)?b:[],p(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){p(b,function(b){var c=a.get(b);if(c){var d=Uf(b.attr("class")),e="",f="";p(c,
	function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});p(b,function(a){e&&Bb(a,e);f&&Ab(a,f)});a.remove(b)}});b.length=0}return{enabled:z,on:z,off:z,pin:z,push:function(g,h,k,l){l&&l();k=k||{};k.from&&g.css(k.from);k.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),h||l)a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},Ue=["$provide",function(a){var b=this;this.$$registeredAnimations=
	Object.create(null);this.register=function(d,c){if(d&&"."!==d.charAt(0))throw Nd("notcsel",d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e;a.factory(e,c)};this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Nd("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=
	d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){f=f&&G(f);g=g&&G(g);f=f||g.parent();b(e,f,g);return a.push(e,"enter",Ha(h))},move:function(e,f,g,h){f=f&&G(f);g=g&&G(g);f=f||g.parent();b(e,f,g);return a.push(e,"move",Ha(h))},leave:function(b,c){return a.push(b,"leave",Ha(c),function(){b.remove()})},addClass:function(b,
	c,g){g=Ha(g);g.addClass=hb(g.addclass,c);return a.push(b,"addClass",g)},removeClass:function(b,c,g){g=Ha(g);g.removeClass=hb(g.removeClass,c);return a.push(b,"removeClass",g)},setClass:function(b,c,g,h){h=Ha(h);h.addClass=hb(h.addClass,c);h.removeClass=hb(h.removeClass,g);return a.push(b,"setClass",h)},animate:function(b,c,g,h,k){k=Ha(k);k.from=k.from?S(k.from,c):c;k.to=k.to?S(k.to,g):g;k.tempClasses=hb(k.tempClasses,h||"ng-inline-animate");return a.push(b,"animate",k)}}}]}],Ze=function(){this.$get=
	["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},Ye=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);
	else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===a.length&&b(e)}var d=0,e=!0;p(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:z,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},
	"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(p(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=
	0,this._state=2)}};return f}]},Ve=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=qa(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},la=O("$compile");Bc.$inject=
	["$provide","$$sanitizeUriProvider"];var Uc=/^((?:x|data)[\:\-_])/i,Zf=O("$controller"),Zc=/^(\S+)(\s+as\s+([\w$]+))?$/,ef=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof G&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},$c="application/json",ac={"Content-Type":$c+";charset=utf-8"},ag=/^\[|^\{(?!\{)/,bg={"[":/]$/,"{":/}$/},$f=/^\)\]\}',?\n/,Cg=O("$http"),dd=function(a){return function(){throw Cg("legacy",a);}},Ja=ea.$interpolateMinErr=O("$interpolate");
	Ja.throwNoconcat=function(a){throw Ja("noconcat",a);};Ja.interr=function(a,b){return Ja("interr",a,b.toString())};var Dg=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,dg={http:80,https:443,ftp:21},Eb=O("$location"),Eg={$$html5:!1,$$replace:!1,absUrl:Fb("$$absUrl"),url:function(a){if(v(a))return this.$$url;var b=Dg.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Fb("$$protocol"),host:Fb("$$host"),port:Fb("$$port"),
	path:id("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(D(a)||W(a))a=a.toString(),this.$$search=wc(a);else if(I(a))a=qa(a,{}),p(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw Eb("isrcharg");break;default:v(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:id("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=
	!0;return this}};p([hd,dc,cc],function(a){a.prototype=Object.create(Eg);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==cc||!this.$$html5)throw Eb("nostate");this.$$state=v(b)?null:b;return this}});var U=O("$parse"),fg=Function.prototype.call,gg=Function.prototype.apply,hg=Function.prototype.bind,Mb=X();p("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Mb[a]=!0});var Fg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},fc=function(a){this.options=
	a};fc.prototype={constructor:fc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Mb[b],e=Mb[d];
	Mb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=
	a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=A(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw U("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=E(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"==d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&
	this.isNumber(c)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=
	this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=Fg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var r=
	function(a,b){this.lexer=a;this.options=b};r.Program="Program";r.ExpressionStatement="ExpressionStatement";r.AssignmentExpression="AssignmentExpression";r.ConditionalExpression="ConditionalExpression";r.LogicalExpression="LogicalExpression";r.BinaryExpression="BinaryExpression";r.UnaryExpression="UnaryExpression";r.CallExpression="CallExpression";r.MemberExpression="MemberExpression";r.Identifier="Identifier";r.Literal="Literal";r.ArrayExpression="ArrayExpression";r.Property="Property";r.ObjectExpression=
	"ObjectExpression";r.ThisExpression="ThisExpression";r.LocalsExpression="LocalsExpression";r.NGValueParameter="NGValueParameter";r.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:r.Program,body:a}},expressionStatement:function(){return{type:r.ExpressionStatement,
	expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();this.expect("=")&&(a={type:r.AssignmentExpression,left:a,right:this.assignment(),operator:"="});return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:r.ConditionalExpression,test:a,alternate:b,
	consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:r.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:r.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=
	this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:r.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+",
	"-","!"))?{type:r.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=qa(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:r.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?
	a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:r.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:r.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:r.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=
	[a];for(var b={type:r.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.expression());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:r.Identifier,name:a.text}},constant:function(){return{type:r.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=
	[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:r.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;b={type:r.Property,kind:"init"};this.peek().constant?b.key=this.constant():this.peek().identifier?b.key=this.identifier():this.throwError("invalid key",this.peek());this.consume(":");b.value=this.expression();a.push(b)}while(this.expect(","))
	}this.consume("}");return{type:r.ObjectExpression,properties:a}},throwError:function(a,b){throw U("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw U("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw U("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,
	b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:r.ThisExpression},$locals:{type:r.LocalsExpression}}};pd.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};V(c,d.$filter);
	var e="",f;this.stage="assign";if(f=nd(c))this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),e="fn.assign="+this.generateFunction("assign","s,v,l");f=ld(c.body);d.stage="inputs";p(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}};d.state.computing=c;var e=d.nextId();d.recurse(a,e);d.return_(e);d.state.inputs.push(c);a.watchId=b});this.state.computing="fn";this.stage="main";this.recurse(c);e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+
	this.generateFunction("fn","s,l,a,i")+e+this.watchFns()+"return fn;";e=(new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e))(this.$filter,Va,xa,jd,eg,Gb,ig,kd,a);this.state=this.stage=w;e.literal=od(c);e.constant=c.constant;return e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;p(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))});b.length&&a.push("fn.inputs=["+
	b.join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;p(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,k=this,l,m;c=c||z;if(!f&&
	A(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case r.Program:p(a.body,function(b,c){k.recurse(b.expression,w,w,function(a){h=a});c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case r.Literal:m=this.escape(a.value);this.assign(b,m);c(m);break;case r.UnaryExpression:this.recurse(a.argument,w,w,function(a){h=a});m=a.operator+"("+this.ifDefined(h,0)+")";this.assign(b,m);c(m);
	break;case r.BinaryExpression:this.recurse(a.left,w,w,function(a){g=a});this.recurse(a.right,w,w,function(a){h=a});m="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")";this.assign(b,m);c(m);break;case r.LogicalExpression:b=b||this.nextId();k.recurse(a.left,b);k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b));c(b);break;case r.ConditionalExpression:b=b||this.nextId();k.recurse(a.test,b);k.if_(b,k.lazyRecurse(a.alternate,
	b),k.lazyRecurse(a.consequent,b));c(b);break;case r.Identifier:b=b||this.nextId();d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);Va(a.name);k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}"));k.assign(b,k.nonComputedMember("s",a.name))})},b&&
	k.lazyAssign(b,k.nonComputedMember("l",a.name)));(k.state.expensiveChecks||Hb(a.name))&&k.addEnsureSafeObject(b);c(b);break;case r.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();k.recurse(a.object,g,w,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g);if(a.computed)h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),
	m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h);else{Va(a.property.name);e&&1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}"));m=k.nonComputedMember(g,a.property.name);if(k.state.expensiveChecks||Hb(a.property.name))m=k.ensureSafeObject(m);k.assign(b,m);d&&(d.computed=!1,d.name=a.property.name)}},function(){k.assign(b,"undefined")});c(b)},!!e);break;case r.CallExpression:b=b||this.nextId();a.filter?
	(h=k.filter(a.callee.name),l=[],p(a.arguments,function(a){var b=k.nextId();k.recurse(a,b);l.push(b)}),m=h+"("+l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h);p(a.arguments,function(a){k.recurse(a,k.nextId(),w,function(a){l.push(k.ensureSafeObject(a))})});g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),m=k.member(g.context,g.name,g.computed)+"("+l.join(",")+")"):m=h+"("+l.join(",")+
	")";m=k.ensureSafeObject(m);k.assign(b,m)},function(){k.assign(b,"undefined")});c(b)}));break;case r.AssignmentExpression:h=this.nextId();g={};if(!md(a.left))throw U("lval");this.recurse(a.left,w,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h);k.addEnsureSafeObject(k.member(g.context,g.name,g.computed));k.addEnsureSafeAssignContext(g.context);m=k.member(g.context,g.name,g.computed)+a.operator+h;k.assign(b,m);c(b||m)})},1);break;case r.ArrayExpression:l=[];p(a.elements,function(a){k.recurse(a,
	k.nextId(),w,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(m);break;case r.ObjectExpression:l=[];p(a.properties,function(a){k.recurse(a.value,k.nextId(),w,function(b){l.push(k.escape(a.key.type===r.Identifier?a.key.name:""+a.key.value)+":"+b)})});m="{"+l.join(",")+"}";this.assign(b,m);c(m);break;case r.ThisExpression:this.assign(b,"s");c("s");break;case r.LocalsExpression:this.assign(b,"l");c("l");break;case r.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,
	b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",
	a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),
	";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+
	a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(D(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(W(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===
	typeof a)return"undefined";throw U("esc");},nextId:function(a,b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};qd.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=b;V(c,d.$filter);var e,f;if(e=nd(c))f=this.recurse(e);e=ld(c.body);var g;e&&(g=[],p(e,function(a,b){var c=d.recurse(a);a.input=c;g.push(c);a.watchId=b}));var h=[];p(c.body,function(a){h.push(d.recurse(a.expression))});
	e=0===c.body.length?z:1===c.body.length?h[0]:function(a,b){var c;p(h,function(d){c=d(a,b)});return c};f&&(e.assign=function(a,b,c){return f(a,c,b)});g&&(e.inputs=g);e.literal=od(c);e.constant=c.constant;return e},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case r.Literal:return this.value(a.value,b);case r.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case r.BinaryExpression:return c=this.recurse(a.left),
	e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case r.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case r.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case r.Identifier:return Va(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Hb(a.name),b,d,f.expression);case r.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Va(a.property.name,
	f.expression),e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case r.CallExpression:return g=[],p(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));a=e.apply(w,n,f);return b?{context:w,name:w,value:a}:a}:function(a,
	c,d,m){var n=e(a,c,d,m),p;if(null!=n.value){xa(n.context,f.expression);jd(n.value,f.expression);p=[];for(var r=0;r<g.length;++r)p.push(xa(g[r](a,c,d,m),f.expression));p=xa(n.value.apply(n.context,p),f.expression)}return b?{value:p}:p};case r.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var n=c(a,d,g,m);a=e(a,d,g,m);xa(n.value,f.expression);Gb(n.context);n.context[n.name]=a;return b?{value:a}:a};case r.ArrayExpression:return g=[],p(a.elements,function(a){g.push(f.recurse(a))}),
	function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case r.ObjectExpression:return g=[],p(a.properties,function(a){g.push({key:a.key.type===r.Identifier?a.key.name:""+a.key.value,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case r.ThisExpression:return function(a){return b?{value:a}:a};case r.LocalsExpression:return function(a,c){return b?{value:c}:c};case r.NGValueParameter:return function(a,
	c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=A(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=A(d)?-d:0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=kd(h,c);return d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);
	h=(A(h)?h:0)-(A(c)?c:0);return d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,
	e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,
	g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:w,
	name:w,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){f=g&&a in g?g:f;c&&1!==c&&f&&!f[a]&&(f[a]={});g=f?f[a]:w;b&&xa(g,e);return d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var l=a(f,g,h,k),m,n;null!=l&&(m=b(f,g,h,k),m+="",Va(m,e),c&&1!==c&&(Gb(l),l&&!l[m]&&(l[m]={})),n=l[m],xa(n,e));return d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){g=a(g,h,k,l);e&&1!==e&&(Gb(g),g&&!g[b]&&
	(g[b]={}));h=null!=g?g[b]:w;(d||Hb(b))&&xa(h,f);return c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var gc=function(a,b,d){this.lexer=a;this.$filter=b;this.options=d;this.ast=new r(a,d);this.astCompiler=d.csp?new qd(this.ast,b):new pd(this.ast,b)};gc.prototype={constructor:gc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var jg=Object.prototype.valueOf,Ba=O("$sce"),fa={HTML:"html",CSS:"css",URL:"url",
	RESOURCE_URL:"resourceUrl",JS:"js"},lg=O("$compile"),aa=Q.createElement("a"),ud=wa(N.location.href);vd.$inject=["$document"];Ic.$inject=["$provide"];var Cd=22,Bd=".",ic="0";wd.$inject=["$locale"];yd.$inject=["$locale"];var wg={yyyy:ba("FullYear",4,0,!1,!0),yy:ba("FullYear",2,0,!0,!0),y:ba("FullYear",1,0,!1,!0),MMMM:kb("Month"),MMM:kb("Month",!0),MM:ba("Month",2,1),M:ba("Month",1,1),LLLL:kb("Month",!1,!0),dd:ba("Date",2),d:ba("Date",1),HH:ba("Hours",2),H:ba("Hours",1),hh:ba("Hours",2,-12),h:ba("Hours",
	1,-12),mm:ba("Minutes",2),m:ba("Minutes",1),ss:ba("Seconds",2),s:ba("Seconds",1),sss:ba("Milliseconds",3),EEEE:kb("Day"),EEE:kb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Ib(Math[0<a?"floor":"ceil"](a/60),2)+Ib(Math.abs(a%60),2))},ww:Ed(2),w:Ed(1),G:jc,GG:jc,GGG:jc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},vg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
	ug=/^\-?\d+$/;xd.$inject=["$locale"];var pg=ia(E),qg=ia(ub);zd.$inject=["$parse"];var ke=ia({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ha.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};p(Db,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!=a){var c=ua("ng-"+b),e=d;"checked"===a&&(e=function(a,
	b,e){e.ngModel!==e[c]&&d(a,b,e)});vb[c]=function(){return{restrict:"A",priority:100,link:e}}}});p(Yc,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"==e.ngPattern.charAt(0)&&(c=e.ngPattern.match(yg))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});p(["src","srcset","href"],function(a){var b=ua("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===
	ha.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),za&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Jb={$addControl:z,$$renameControl:function(a,b){a.$name=b},$removeControl:z,$setValidity:z,$setDirty:z,$setPristine:z,$setSubmitted:z};Fd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Od=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||z}return{name:"form",
	restrict:a?"EAC":"E",require:["form","^^?form"],controller:Fd,compile:function(d,f){d.addClass(Wa).addClass(ob);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue();n.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",p,!1);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var r=g?c(n.$name):z;g&&
	(r(a,n),e.$observe(g,function(b){n.$name!==b&&(r(a,w),n.$$parentForm.$$renameControl(n,b),r=c(n.$name),r(a,n))}));d.on("$destroy",function(){n.$$parentForm.$removeControl(n);r(a,w);S(n,Jb)})}}}}}]},le=Od(),ye=Od(!0),xg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Gg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Hg=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,
	Ig=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Pd=/^(\d{4,})-(\d{2})-(\d{2})$/,Qd=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,mc=/^(\d{4,})-W(\d\d)$/,Rd=/^(\d{4,})-(\d\d)$/,Sd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Hd=X();p(["date","datetime-local","month","time","week"],function(a){Hd[a]=!0});var Td={text:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);kc(c)},date:mb("date",Pd,Lb(Pd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mb("datetimelocal",Qd,Lb(Qd,"yyyy MM dd HH mm ss sss".split(" ")),
	"yyyy-MM-ddTHH:mm:ss.sss"),time:mb("time",Sd,Lb(Sd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mb("week",mc,function(a,b){if(ga(a))return a;if(D(a)){mc.lastIndex=0;var d=mc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Dd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());return new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:mb("month",Rd,Lb(Rd,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Id(a,b,d,c);lb(a,b,d,c,e,f);c.$$parserName=
	"number";c.$parsers.push(function(a){return c.$isEmpty(a)?null:Ig.test(a)?parseFloat(a):w});c.$formatters.push(function(a){if(!c.$isEmpty(a)){if(!W(a))throw nb("numfmt",a);a=a.toString()}return a});if(A(d.min)||d.ngMin){var g;c.$validators.min=function(a){return c.$isEmpty(a)||v(g)||a>=g};d.$observe("min",function(a){A(a)&&!W(a)&&(a=parseFloat(a,10));g=W(a)&&!isNaN(a)?a:w;c.$validate()})}if(A(d.max)||d.ngMax){var h;c.$validators.max=function(a){return c.$isEmpty(a)||v(h)||a<=h};d.$observe("max",function(a){A(a)&&
	!W(a)&&(a=parseFloat(a,10));h=W(a)&&!isNaN(a)?a:w;c.$validate()})}},url:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);kc(c);c.$$parserName="url";c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||Gg.test(d)}},email:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);kc(c);c.$$parserName="email";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||Hg.test(d)}},radio:function(a,b,d,c){v(d.name)&&b.attr("name",++pb);b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)});c.$render=
	function(){b[0].checked=d.value==c.$viewValue};d.$observe("value",c.$render)},checkbox:function(a,b,d,c,e,f,g,h){var k=Jd(h,a,"ngTrueValue",d.ngTrueValue,!0),l=Jd(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return oa(a,k)});c.$parsers.push(function(a){return a?k:l})},hidden:z,button:z,submit:z,reset:z,file:z},Cc=["$browser",
	"$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Td[E(g.type)]||Td.text)(e,f,g,h[0],b,a,d,c)}}}}],Jg=/^(true|false|\d+)$/,Qe=function(){return{restrict:"A",priority:100,compile:function(a,b){return Jg.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},qe=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);
	return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=v(a)?"":a})}}}}],se=["$interpolate","$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=v(a)?"":a})}}}}],re=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=
	b(e.ngBindHtml,function(a){return(a||"").toString()});d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){c.html(a.getTrustedHtml(f(b))||"")})}}}}],Pe=ia({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),te=lc("",!0),ve=lc("Odd",0),ue=lc("Even",1),we=La({compile:function(a,b){b.$set("ngCloak",w);a.removeClass("ng-cloak")}}),xe=[function(){return{restrict:"A",scope:!0,controller:"@",
	priority:500}}],Hc={},Kg={blur:!0,focus:!0};p("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=ua("ng-"+a);Hc[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Kg[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ae=["$animate","$compile",function(a,
	b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f;d[d.length++]=b.$$createComment("end ngIf",e.ngIf);h={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=tb(h.clone),a.leave(l).then(function(){l=null}),h=null))})}}}],Be=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,
	transclude:"element",controller:ea.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var r=0,w,x,q,t=function(){x&&(x.remove(),x=null);w&&(w.$destroy(),w=null);q&&(d.leave(q).then(function(){x=null}),x=q,q=null)};c.$watch(f,function(f){var m=function(){!A(h)||h&&!c.$eval(h)||b()},x=++r;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&x===r){var b=c.$new();n.template=a;a=p(b,function(a){t();d.enter(a,null,e).then(m)});w=b;q=a;w.$emit("$includeContentLoaded",
	f);c.$eval(g)}},function(){c.$$destroyed||x!==r||(t(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(t(),n.template=null)})}}}}],Se=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){ha.call(d[0]).match(/SVG/)?(d.empty(),a(Kc(e.template,Q).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ce=La({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),
	Oe=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?Z(e):e;c.$parsers.push(function(a){if(!v(a)){var b=[];a&&p(a.split(g),function(a){a&&b.push(f?Z(a):a)});return b}});c.$formatters.push(function(a){return L(a)?a.join(e):w});c.$isEmpty=function(a){return!a||!a.length}}}},ob="ng-valid",Kd="ng-invalid",Wa="ng-pristine",Kb="ng-dirty",Md="ng-pending",nb=O("ngModel"),Lg=["$scope","$exceptionHandler","$attrs",
	"$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=w;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=w;this.$name=l(d.name||"",!1)(a);this.$$parentForm=Jb;var m=e(d.ngModel),
	n=m.assign,r=m,B=n,K=null,x,q=this;this.$$setOptions=function(a){if((q.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");r=function(a){var c=m(a);H(c)&&(c=b(a));return c};B=function(a,b){H(m(a))?f(a,{$$$p:b}):n(a,b)}}else if(!m.assign)throw nb("nonassign",d.ngModel,ta(c));};this.$render=z;this.$isEmpty=function(a){return v(a)||""===a||null===a||a!==a};this.$$updateEmptyClasses=function(a){q.$isEmpty(a)?(f.removeClass(c,"ng-not-empty"),f.addClass(c,"ng-empty")):(f.removeClass(c,
	"ng-empty"),f.addClass(c,"ng-not-empty"))};var t=0;Gd({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f});this.$setPristine=function(){q.$dirty=!1;q.$pristine=!0;f.removeClass(c,Kb);f.addClass(c,Wa)};this.$setDirty=function(){q.$dirty=!0;q.$pristine=!1;f.removeClass(c,Wa);f.addClass(c,Kb);q.$$parentForm.$setDirty()};this.$setUntouched=function(){q.$touched=!1;q.$untouched=!0;f.setClass(c,"ng-untouched","ng-touched")};this.$setTouched=function(){q.$touched=
	!0;q.$untouched=!1;f.setClass(c,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){g.cancel(K);q.$viewValue=q.$$lastCommittedViewValue;q.$render()};this.$validate=function(){if(!W(q.$modelValue)||!isNaN(q.$modelValue)){var a=q.$$rawModelValue,b=q.$valid,c=q.$modelValue,d=q.$options&&q.$options.allowInvalid;q.$$runValidators(a,q.$$lastCommittedViewValue,function(e){d||b===e||(q.$modelValue=e?a:w,q.$modelValue!==c&&q.$$writeModelToScope())})}};this.$$runValidators=function(a,b,c){function d(){var c=
	!0;p(q.$validators,function(d,e){var g=d(a,b);c=c&&g;f(e,g)});return c?!0:(p(q.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;p(q.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!H(h.then))throw nb("nopromise",h);f(g,w);c.push(h.then(function(){f(g,!0)},function(){d=!1;f(g,!1)}))});c.length?k.all(c).then(function(){g(d)},z):g(!0)}function f(a,b){h===t&&q.$setValidity(a,b)}function g(a){h===t&&c(a)}t++;var h=t;(function(){var a=q.$$parserName||"parse";if(v(x))f(a,null);
	else return x||(p(q.$validators,function(a,b){f(b,null)}),p(q.$asyncValidators,function(a,b){f(b,null)})),f(a,x),x;return!0})()?d()?e():g(!1):g(!1)};this.$commitViewValue=function(){var a=q.$viewValue;g.cancel(K);if(q.$$lastCommittedViewValue!==a||""===a&&q.$$hasNativeValidators)q.$$updateEmptyClasses(a),q.$$lastCommittedViewValue=a,q.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var b=q.$$lastCommittedViewValue;if(x=v(b)?w:!0)for(var c=0;c<q.$parsers.length;c++)if(b=
	q.$parsers[c](b),v(b)){x=!1;break}W(q.$modelValue)&&isNaN(q.$modelValue)&&(q.$modelValue=r(a));var d=q.$modelValue,e=q.$options&&q.$options.allowInvalid;q.$$rawModelValue=b;e&&(q.$modelValue=b,q.$modelValue!==d&&q.$$writeModelToScope());q.$$runValidators(b,q.$$lastCommittedViewValue,function(a){e||(q.$modelValue=a?b:w,q.$modelValue!==d&&q.$$writeModelToScope())})};this.$$writeModelToScope=function(){B(a,q.$modelValue);p(q.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})};this.$setViewValue=
	function(a,b){q.$viewValue=a;q.$options&&!q.$options.updateOnDefault||q.$$debounceViewValueCommit(b)};this.$$debounceViewValueCommit=function(b){var c=0,d=q.$options;d&&A(d.debounce)&&(d=d.debounce,W(d)?c=d:W(d[b])?c=d[b]:W(d["default"])&&(c=d["default"]));g.cancel(K);c?K=g(function(){q.$commitViewValue()},c):h.$$phase?q.$commitViewValue():a.$apply(function(){q.$commitViewValue()})};a.$watch(function(){var b=r(a);if(b!==q.$modelValue&&(q.$modelValue===q.$modelValue||b===b)){q.$modelValue=q.$$rawModelValue=
	b;x=w;for(var c=q.$formatters,d=c.length,e=b;d--;)e=c[d](e);q.$viewValue!==e&&(q.$$updateEmptyClasses(e),q.$viewValue=q.$$lastCommittedViewValue=e,q.$render(),q.$$runValidators(b,e,z))}return b})}],Ne=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Lg,priority:1,compile:function(b){b.addClass(Wa).addClass("ng-untouched").addClass(ob);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;g.$$setOptions(f[2]&&f[2].$options);b.$addControl(g);
	e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){var g=f[0];if(g.$options&&g.$options.updateOn)c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],Mg=/(\s+|^)default(\s+|$)/,Re=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,
	b){var d=this;this.$options=qa(a.$eval(b.ngModelOptions));A(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Z(this.$options.updateOn.replace(Mg,function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},De=La({terminal:!0,priority:1E3}),Ng=O("ngOptions"),Og=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
	Le=["$compile","$parse",function(a,b){function d(a,c,d){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}function l(a){var b;if(!p&&Ca(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var m=a.match(Og);if(!m)throw Ng("iexp",a,ta(c));var n=m[5]||m[7],p=m[6];a=/ as /.test(m[0])&&m[1];var r=m[9];c=b(m[2]?m[1]:n);var w=a&&b(a)||c,x=r&&b(r),q=r?function(a,b){return x(d,b)}:function(a){return Fa(a)},t=function(a,
	b){return q(a,z(a,b))},u=b(m[2]||m[1]),s=b(m[3]||""),A=b(m[4]||""),C=b(m[8]),v={},z=p?function(a,b){v[p]=b;v[n]=a;return v}:function(a){v[n]=a;return v};return{trackBy:r,getTrackByValue:t,getWatchables:b(C,function(a){var b=[];a=a||[];for(var c=l(a),e=c.length,f=0;f<e;f++){var g=a===c?f:c[f],k=a[g],g=z(k,g),k=q(k,g);b.push(k);if(m[2]||m[1])k=u(d,g),b.push(k);m[4]&&(g=A(d,g),b.push(g))}return b}),getOptions:function(){for(var a=[],b={},c=C(d)||[],f=l(c),g=f.length,m=0;m<g;m++){var n=c===f?m:f[m],p=
	z(c[n],n),y=w(d,p),n=q(y,p),x=u(d,p),v=s(d,p),p=A(d,p),y=new e(n,y,x,v,p);a.push(y);b[n]=y}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[t(a)]},getViewValueFromOption:function(a){return r?ea.copy(a.viewValue):a.viewValue}}}}}var c=Q.createElement("option"),e=Q.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=z},post:function(b,g,h,k){function l(a,b){a.element=b;b.disabled=a.disabled;
	a.label!==b.label&&(b.label=a.label,b.textContent=a.label);a.value!==b.value&&(b.value=a.selectValue)}function m(a,b,c,d){b&&E(b.nodeName)===c?c=b:(c=d.cloneNode(!1),b?a.insertBefore(c,b):a.appendChild(c));return c}function n(a){for(var b;a;)b=a.nextSibling,Xb(a),a=b}function r(a){var b=t&&t[0],c=C&&C[0];if(b||c)for(;a&&(a===b||a===c||8===a.nodeType||"option"===pa(a)&&""===a.value);)a=a.nextSibling;return a}function w(){var a=J&&v.readValue();J=D.getOptions();var b={},d=g[0].firstChild;z&&g.prepend(t);
	d=r(d);J.items.forEach(function(a){var f,h;A(a.group)?(f=b[a.group],f||(f=m(g[0],d,"optgroup",e),d=f.nextSibling,f.label=a.group,f=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),h=m(f.groupElement,f.currentOptionElement,"option",c),l(a,h),f.currentOptionElement=h.nextSibling):(h=m(g[0],d,"option",c),l(a,h),d=h.nextSibling)});Object.keys(b).forEach(function(a){n(b[a].currentOptionElement)});n(d);x.$render();if(!x.$isEmpty(a)){var f=v.readValue();(D.trackBy||q?oa(a,f):a===f)||(x.$setViewValue(f),
	x.$render())}}var v=k[0],x=k[1],q=h.multiple,t;k=0;for(var u=g.children(),s=u.length;k<s;k++)if(""===u[k].value){t=u.eq(k);break}var z=!!t,C=G(c.cloneNode(!1));C.val("?");var J,D=d(h.ngOptions,g,b);q?(x.$isEmpty=function(a){return!a||0===a.length},v.writeValue=function(a){J.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){(a=J.getOptionFromViewValue(a))&&!a.disabled&&(a.element.selected=!0)})},v.readValue=function(){var a=g.val()||[],b=[];p(a,function(a){(a=J.selectValueMap[a])&&
	!a.disabled&&b.push(J.getViewValueFromOption(a))});return b},D.trackBy&&b.$watchCollection(function(){if(L(x.$viewValue))return x.$viewValue.map(function(a){return D.getTrackByValue(a)})},function(){x.$render()})):(v.writeValue=function(a){var b=J.getOptionFromViewValue(a);b&&!b.disabled?(g[0].value!==b.selectValue&&(C.remove(),z||t.remove(),g[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||z?(C.remove(),z||g.prepend(t),g.val(""),t.prop("selected",
	!0),t.attr("selected",!0)):(z||t.remove(),g.prepend(C),g.val("?"),C.prop("selected",!0),C.attr("selected",!0))},v.readValue=function(){var a=J.selectValueMap[g.val()];return a&&!a.disabled?(z||t.remove(),C.remove(),J.getViewValueFromOption(a)):null},D.trackBy&&b.$watch(function(){return D.getTrackByValue(x.$viewValue)},function(){x.$render()}));z?(t.remove(),a(t)(b),t.removeClass("ng-scope")):t=G(c.cloneNode(!1));w();b.$watchCollection(D.getWatchables,w)}}}}],Ee=["$locale","$interpolate","$log",function(a,
	b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,r=f.$eval(m)||{},w={},A=b.startSymbol(),x=b.endSymbol(),q=A+l+"-"+n+x,t=ea.noop,u;p(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+E(c[2]),r[c]=g.attr(h.$attr[b]))});p(r,function(a,d){w[d]=b(a.replace(c,q))});f.$watch(l,function(b){var c=parseFloat(b),e=isNaN(c);e||c in r||(c=a.pluralCat(c-n));c===u||e&&W(u)&&isNaN(u)||(t(),e=w[c],v(e)?
	(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),t=z,k()):t=f.$watch(e,k),u=c)})}}}],Fe=["$parse","$animate","$compile",function(a,b,d){var c=O("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d;e&&(a[e]=m);a.$index=b;a.$first=0===b;a.$last=b===n-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",h),l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
	if(!l)throw c("iexp",h);var m=l[1],n=l[2],r=l[3],v=l[4],l=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!l)throw c("iidexp",m);var A=l[3]||l[1],x=l[2];if(r&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw c("badident",r);var q,t,u,s,z={$id:Fa};v?q=a(v):(u=function(a,b){return Fa(b)},s=function(a){return a});return function(a,d,f,g,l){q&&(t=function(b,c,d){x&&(z[x]=b);z[A]=c;z.$index=
	d;return q(a,z)});var m=X();a.$watchCollection(n,function(f){var g,n,q=d[0],v,B=X(),z,D,G,F,H,E,I;r&&(a[r]=f);if(Ca(f))H=f,n=t||u;else for(I in n=t||s,H=[],f)sa.call(f,I)&&"$"!==I.charAt(0)&&H.push(I);z=H.length;I=Array(z);for(g=0;g<z;g++)if(D=f===H?g:H[g],G=f[D],F=n(D,G,g),m[F])E=m[F],delete m[F],B[F]=E,I[g]=E;else{if(B[F])throw p(I,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,F,G);I[g]={id:F,scope:w,clone:w};B[F]=!0}for(v in m){E=m[v];F=tb(E.clone);b.leave(F);if(F[0].parentNode)for(g=0,n=F.length;g<
	n;g++)F[g].$$NG_REMOVED=!0;E.scope.$destroy()}for(g=0;g<z;g++)if(D=f===H?g:H[g],G=f[D],E=I[g],E.scope){v=q;do v=v.nextSibling;while(v&&v.$$NG_REMOVED);E.clone[0]!=v&&b.move(tb(E.clone),null,q);q=E.clone[E.clone.length-1];e(E.scope,g,A,G,x,D,z)}else l(function(a,c){E.scope=c;var d=k.cloneNode(!1);a[a.length++]=d;b.enter(a,null,q);q=d;E.clone=a;B[E.id]=E;e(E.scope,g,A,G,x,D,z)});m=B})}}}}],Ge=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?
	"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ze=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],He=La(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&p(d,function(a,c){b.css(c,"")});a&&b.css(a)},!0)}),Ie=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],
	link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=k.length;d<e;++d)a.cancel(k[d]);d=k.length=0;for(e=l.length;d<e;++d){var r=tb(h[d].clone);l[d].$destroy();(k[d]=a.leave(r)).then(m(k,d))}h.length=0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&p(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");h.push({clone:d});a.enter(d,f.parent(),
	f)})})})}}}],Je=La({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=c.cases["!"+d.ngSwitchWhen]||[];c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),Ke=La({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),Pg=O("ngTransclude"),Me=La({restrict:"EAC",link:function(a,b,d,c,e){d.ngTransclude===
	d.$attr.ngTransclude&&(d.ngTransclude="");if(!e)throw Pg("orphan",ta(b));e(function(a){a.length&&(b.empty(),b.append(a))},null,d.ngTransclude||d.ngTranscludeSlot)}}),me=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"==d.type&&a.put(d.id,b[0].text)}}}],Qg={$setViewValue:z,$render:z},Rg=["$element","$scope",function(a,b){var d=this,c=new Sa;d.ngModelCtrl=Qg;d.unknownOption=G(Q.createElement("option"));d.renderUnknownOption=function(b){b="? "+Fa(b)+
	" ?";d.unknownOption.val(b);a.prepend(d.unknownOption);a.val(b)};b.$on("$destroy",function(){d.renderUnknownOption=z});d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()};d.readValue=function(){d.removeUnknownOption();return a.val()};d.writeValue=function(b){d.hasOption(b)?(d.removeUnknownOption(),a.val(b),""===b&&d.emptyOption.prop("selected",!0)):null==b&&d.emptyOption?(d.removeUnknownOption(),a.val("")):d.renderUnknownOption(b)};d.addOption=function(a,b){if(8!==
	b[0].nodeType){Ra(a,'"option value"');""===a&&(d.emptyOption=b);var g=c.get(a)||0;c.put(a,g+1);d.ngModelCtrl.$render();b[0].hasAttribute("selected")&&(b[0].selected=!0)}};d.removeOption=function(a){var b=c.get(a);b&&(1===b?(c.remove(a),""===a&&(d.emptyOption=w)):c.put(a,b-1))};d.hasOption=function(a){return!!c.get(a)};d.registerOption=function(a,b,c,h,k){if(h){var l;c.$observe("value",function(a){A(l)&&d.removeOption(l);l=a;d.addOption(a,b)})}else k?a.$watch(k,function(a,e){c.$set("value",a);e!==
	a&&d.removeOption(e);d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value);d.ngModelCtrl.$render()})}}],ne=function(){return{restrict:"E",require:["select","?ngModel"],controller:Rg,priority:1,link:{pre:function(a,b,d,c){var e=c[1];if(e){var f=c[0];f.ngModelCtrl=e;b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})});if(d.multiple){f.readValue=function(){var a=[];p(b.find("option"),function(b){b.selected&&a.push(b.value)});return a};
	f.writeValue=function(a){var c=new Sa(a);p(b.find("option"),function(a){a.selected=A(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||oa(g,e.$viewValue)||(g=ma(e.$viewValue),e.$render());h=e.$viewValue});e.$isEmpty=function(a){return!a||0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},pe=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(A(d.value))var c=a(d.value,!0);else{var e=
	a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],oe=ia({restrict:"E",terminal:!1}),Ec=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Dc=function(){return{restrict:"A",require:"?ngModel",link:function(a,
	b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){D(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw O("ngPattern")("noregexp",f,a,ta(b));e=a||w;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||v(e)||e.test(b)}}}}},Gc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=da(a);e=isNaN(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||
	b.length<=e}}}}},Fc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=da(a)||0;c.$validate()});c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};N.angular.bootstrap?N.console&&console.log("WARNING: Tried to load angular more than once."):(fe(),he(ea),ea.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM",
	"PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,
	6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,
	c){var e=a|0,f=c;w===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),G(Q).ready(function(){be(Q,xc)}))})(window,document);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
	//# sourceMappingURL=angular.min.js.map


/***/ },
/* 2 */
/***/ function(module, exports) {

	var app = angular.module('movies',['ui.bootstrap']);
	window.currentYear = new Date().getFullYear().toString();


/***/ },
/* 3 */,
/* 4 */
/***/ function(module, exports) {

	angular.module('movies', ['ui.bootstrap'])
	  .directive('movie', function() {
	    return {
	      restrict: 'E',
	      replace: true,
	      transclude: true,
	      templateUrl: '/templates/movie.html',
	      controllerAs: 'movie',
	      controller: ['$scope', '$uibModal', function($scope, $uibModal) {
	        $scope.currentYear = new Date().getFullYear();
	        if (window.localStorage.getItem('movies') !== null) {
	          $scope.movies = JSON.parse(window.localStorage.getItem('movies'));
	        } else {
	
	          $scope.movies = [{
	            title: "Deadpool",
	            year: 2016,
	            genres: ["Action", "Adventure", "Comedy"],
	            rating: 8.3,
	            actors: ["Ryan Reynolds", "Morena Baccarin", "T.J. Miller"]
	          }, {
	            title: "Deadpool 2",
	            year: 2015,
	            genres: ["Action", "Adventure", "Comedy"],
	            rating: 2.3,
	            actors: ["Ryan Reynolds", "Jack Daniels", "T.J. Miller"]
	          },
	          {
	            title: "Deadpool 3",
	            year: 2014,
	            genres: ["Thriller", "Adventure", "Romance"],
	            rating: 2.3,
	            actors: ["Ryan Reynolds", "Jack Daniels", "T.J. Miller"]
	          }
	        ];
	        }
	        for (var i = 0; i < $scope.movies.length; i++) {
	          $scope.movies[i].visible = true;
	        }
	        $scope.$watch(function(newValue) {
	          window.localStorage.setItem("movies", JSON.stringify($scope.movies));
	        });
	        $scope.$watch('search', function(newValue) {
	          if (newValue == "" || newValue === undefined) {
	            for (var i = 0; i < $scope.movies.length; i++) {
	              $scope.movies[i].visible = true;
	            }
	          } else {
	            for (var i = 0; i < $scope.movies.length; i++) {
	              var item = $scope.movies[i];
	              var search = newValue.toLowerCase();
	              if (item.title.toLowerCase().indexOf(search) >= 0 || item.year.toString().indexOf(search) >= 0 || item.actors.join(',').toLowerCase().indexOf(search) >= 0 || item.genres.join(',').toLowerCase().indexOf(search) >= 0 || item.rating.toString().indexOf(search) >= 0) {
	                $scope.movies[i].visible = true;
	
	              } else {
	                $scope.movies[i].visible = false;
	              }
	            }
	
	          }
	
	        });
	        $scope.editmovie = function(item) {
	          var nonbound = {
	            title: item.movie.title,
	            year: item.movie.year,
	            rating: item.movie.rating,
	            actors: item.movie.actors.join(','),
	            genres: item.movie.genres.join(','),
	            $index: item.$index
	          }
	          $scope.openmodal(nonbound);
	        }
	        $scope.destroymovie = function(item) {
	          console.log(item);
	          var areYouSure = confirm("Are you sure you want to delete this movie?");
	          if (areYouSure === true) {
	            $scope.movies.splice(item.$index, 1);
	          }
	        };
	        $scope.openmodal = function(isNew) {
	          var modalInstance = $uibModal.open({
	            animation: false,
	            templateUrl: '/templates/moviemodal.html',
	            controller: ['$scope', function($scope) {
	              window.modalscope = $scope;
	
	              if (isNew === true) {
	                $scope.replace = false;
	                $scope.newmovie = {
	                  title: "",
	                  year: new Date().getFullYear(),
	                  genres: "",
	                  rating: 0,
	                  actors: ""
	                };
	
	              } else {
	                $scope.replace = true;
	                $scope.newmovie = isNew;
	              }
	              $scope.validator = function(){
	                return ($scope.newmovie.title.length > 0)?true:false;
	              };
	              $scope.ok = function() {
	                if($scope.validator()){
	                console.log("OKAY");
	                modalInstance.close({
	                  msg: "OK",
	                  movie: $scope.newmovie
	                });
	              } else {
	                alert("Please provide a title.");
	              }
	              };
	              $scope.cancel = function() {
	                modalInstance.close("CANCEL");
	              }
	            }]
	          });
	          modalInstance.result.then(function(res) {
	            if (res.msg === "OK") {
	              console.log(res.movie);
	              if (typeof res.movie.$index === "number") {
	                console.log("EXISTING MOVIE")
	                var movie = $scope.movies[res.movie.$index];
	                movie.title = res.movie.title;
	                movie.year = res.movie.year;
	                movie.rating = res.movie.rating;
	                movie.actors = res.movie.actors.split(',');
	                movie.genres = res.movie.genres.split(',');
	              } else {
	                res.movie.actors = res.movie.actors.split(',');
	                res.movie.genres = res.movie.genres.split(',');
	                $scope.movies.push(res.movie);
	              }
	            }
	          });
	
	        };
	        $scope.addmovie = function(item) {
	          $scope.openmodal(true);
	
	        };
	        window.master = $scope;
	      }],
	      compile: function(tElem, tAttrs) {
	        //compile before rendering the goodies
	        return {
	          pre: function(scope, elem, attrs, ctrl) {
	
	          },
	          post: function(scope, elem, attrs, ctrl) {
	            //generally attach your stuff here
	          }
	        };
	      }
	    };
	  });


/***/ },
/* 5 */,
/* 6 */
/***/ function(module, exports) {

	/*
	 * angular-ui-bootstrap
	 * http://angular-ui.github.io/bootstrap/
	
	 * Version: 1.3.1 - 2016-04-05
	 * License: MIT
	 */angular.module("ui.bootstrap", ["ui.bootstrap.tpls", "ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]);
	angular.module("ui.bootstrap.tpls", ["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]);
	angular.module('ui.bootstrap.collapse', [])
	
	  .directive('uibCollapse', ['$animate', '$q', '$parse', '$injector', function($animate, $q, $parse, $injector) {
	    var $animateCss = $injector.has('$animateCss') ? $injector.get('$animateCss') : null;
	    return {
	      link: function(scope, element, attrs) {
	        var expandingExpr = $parse(attrs.expanding),
	            expandedExpr = $parse(attrs.expanded),
	            collapsingExpr = $parse(attrs.collapsing),
	            collapsedExpr = $parse(attrs.collapsed);
	
	        if (!scope.$eval(attrs.uibCollapse)) {
	          element.addClass('in')
	            .addClass('collapse')
	            .attr('aria-expanded', true)
	            .attr('aria-hidden', false)
	            .css({height: 'auto'});
	        }
	
	        function expand() {
	          if (element.hasClass('collapse') && element.hasClass('in')) {
	            return;
	          }
	
	          $q.resolve(expandingExpr(scope))
	            .then(function() {
	              element.removeClass('collapse')
	                .addClass('collapsing')
	                .attr('aria-expanded', true)
	                .attr('aria-hidden', false);
	
	              if ($animateCss) {
	                $animateCss(element, {
	                  addClass: 'in',
	                  easing: 'ease',
	                  to: { height: element[0].scrollHeight + 'px' }
	                }).start()['finally'](expandDone);
	              } else {
	                $animate.addClass(element, 'in', {
	                  to: { height: element[0].scrollHeight + 'px' }
	                }).then(expandDone);
	              }
	            });
	        }
	
	        function expandDone() {
	          element.removeClass('collapsing')
	            .addClass('collapse')
	            .css({height: 'auto'});
	          expandedExpr(scope);
	        }
	
	        function collapse() {
	          if (!element.hasClass('collapse') && !element.hasClass('in')) {
	            return collapseDone();
	          }
	
	          $q.resolve(collapsingExpr(scope))
	            .then(function() {
	              element
	                // IMPORTANT: The height must be set before adding "collapsing" class.
	                // Otherwise, the browser attempts to animate from height 0 (in
	                // collapsing class) to the given height here.
	                .css({height: element[0].scrollHeight + 'px'})
	                // initially all panel collapse have the collapse class, this removal
	                // prevents the animation from jumping to collapsed state
	                .removeClass('collapse')
	                .addClass('collapsing')
	                .attr('aria-expanded', false)
	                .attr('aria-hidden', true);
	
	              if ($animateCss) {
	                $animateCss(element, {
	                  removeClass: 'in',
	                  to: {height: '0'}
	                }).start()['finally'](collapseDone);
	              } else {
	                $animate.removeClass(element, 'in', {
	                  to: {height: '0'}
	                }).then(collapseDone);
	              }
	            });
	        }
	
	        function collapseDone() {
	          element.css({height: '0'}); // Required so that collapse works when animation is disabled
	          element.removeClass('collapsing')
	            .addClass('collapse');
	          collapsedExpr(scope);
	        }
	
	        scope.$watch(attrs.uibCollapse, function(shouldCollapse) {
	          if (shouldCollapse) {
	            collapse();
	          } else {
	            expand();
	          }
	        });
	      }
	    };
	  }]);
	
	angular.module('ui.bootstrap.accordion', ['ui.bootstrap.collapse'])
	
	.constant('uibAccordionConfig', {
	  closeOthers: true
	})
	
	.controller('UibAccordionController', ['$scope', '$attrs', 'uibAccordionConfig', function($scope, $attrs, accordionConfig) {
	  // This array keeps track of the accordion groups
	  this.groups = [];
	
	  // Ensure that all the groups in this accordion are closed, unless close-others explicitly says not to
	  this.closeOthers = function(openGroup) {
	    var closeOthers = angular.isDefined($attrs.closeOthers) ?
	      $scope.$eval($attrs.closeOthers) : accordionConfig.closeOthers;
	    if (closeOthers) {
	      angular.forEach(this.groups, function(group) {
	        if (group !== openGroup) {
	          group.isOpen = false;
	        }
	      });
	    }
	  };
	
	  // This is called from the accordion-group directive to add itself to the accordion
	  this.addGroup = function(groupScope) {
	    var that = this;
	    this.groups.push(groupScope);
	
	    groupScope.$on('$destroy', function(event) {
	      that.removeGroup(groupScope);
	    });
	  };
	
	  // This is called from the accordion-group directive when to remove itself
	  this.removeGroup = function(group) {
	    var index = this.groups.indexOf(group);
	    if (index !== -1) {
	      this.groups.splice(index, 1);
	    }
	  };
	}])
	
	// The accordion directive simply sets up the directive controller
	// and adds an accordion CSS class to itself element.
	.directive('uibAccordion', function() {
	  return {
	    controller: 'UibAccordionController',
	    controllerAs: 'accordion',
	    transclude: true,
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/accordion/accordion.html';
	    }
	  };
	})
	
	// The accordion-group directive indicates a block of html that will expand and collapse in an accordion
	.directive('uibAccordionGroup', function() {
	  return {
	    require: '^uibAccordion',         // We need this directive to be inside an accordion
	    transclude: true,              // It transcludes the contents of the directive into the template
	    replace: true,                // The element containing the directive will be replaced with the template
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/accordion/accordion-group.html';
	    },
	    scope: {
	      heading: '@',               // Interpolate the heading attribute onto this scope
	      panelClass: '@?',           // Ditto with panelClass
	      isOpen: '=?',
	      isDisabled: '=?'
	    },
	    controller: function() {
	      this.setHeading = function(element) {
	        this.heading = element;
	      };
	    },
	    link: function(scope, element, attrs, accordionCtrl) {
	      accordionCtrl.addGroup(scope);
	
	      scope.openClass = attrs.openClass || 'panel-open';
	      scope.panelClass = attrs.panelClass || 'panel-default';
	      scope.$watch('isOpen', function(value) {
	        element.toggleClass(scope.openClass, !!value);
	        if (value) {
	          accordionCtrl.closeOthers(scope);
	        }
	      });
	
	      scope.toggleOpen = function($event) {
	        if (!scope.isDisabled) {
	          if (!$event || $event.which === 32) {
	            scope.isOpen = !scope.isOpen;
	          }
	        }
	      };
	
	      var id = 'accordiongroup-' + scope.$id + '-' + Math.floor(Math.random() * 10000);
	      scope.headingId = id + '-tab';
	      scope.panelId = id + '-panel';
	    }
	  };
	})
	
	// Use accordion-heading below an accordion-group to provide a heading containing HTML
	.directive('uibAccordionHeading', function() {
	  return {
	    transclude: true,   // Grab the contents to be used as the heading
	    template: '',       // In effect remove this element!
	    replace: true,
	    require: '^uibAccordionGroup',
	    link: function(scope, element, attrs, accordionGroupCtrl, transclude) {
	      // Pass the heading to the accordion-group controller
	      // so that it can be transcluded into the right place in the template
	      // [The second parameter to transclude causes the elements to be cloned so that they work in ng-repeat]
	      accordionGroupCtrl.setHeading(transclude(scope, angular.noop));
	    }
	  };
	})
	
	// Use in the accordion-group template to indicate where you want the heading to be transcluded
	// You must provide the property on the accordion-group controller that will hold the transcluded element
	.directive('uibAccordionTransclude', function() {
	  return {
	    require: '^uibAccordionGroup',
	    link: function(scope, element, attrs, controller) {
	      scope.$watch(function() { return controller[attrs.uibAccordionTransclude]; }, function(heading) {
	        if (heading) {
	          var elem = angular.element(element[0].querySelector('[uib-accordion-header]'));
	          elem.html('');
	          elem.append(heading);
	        }
	      });
	    }
	  };
	});
	
	angular.module('ui.bootstrap.alert', [])
	
	.controller('UibAlertController', ['$scope', '$attrs', '$interpolate', '$timeout', function($scope, $attrs, $interpolate, $timeout) {
	  $scope.closeable = !!$attrs.close;
	
	  var dismissOnTimeout = angular.isDefined($attrs.dismissOnTimeout) ?
	    $interpolate($attrs.dismissOnTimeout)($scope.$parent) : null;
	
	  if (dismissOnTimeout) {
	    $timeout(function() {
	      $scope.close();
	    }, parseInt(dismissOnTimeout, 10));
	  }
	}])
	
	.directive('uibAlert', function() {
	  return {
	    controller: 'UibAlertController',
	    controllerAs: 'alert',
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/alert/alert.html';
	    },
	    transclude: true,
	    replace: true,
	    scope: {
	      type: '@',
	      close: '&'
	    }
	  };
	});
	
	angular.module('ui.bootstrap.buttons', [])
	
	.constant('uibButtonConfig', {
	  activeClass: 'active',
	  toggleEvent: 'click'
	})
	
	.controller('UibButtonsController', ['uibButtonConfig', function(buttonConfig) {
	  this.activeClass = buttonConfig.activeClass || 'active';
	  this.toggleEvent = buttonConfig.toggleEvent || 'click';
	}])
	
	.directive('uibBtnRadio', ['$parse', function($parse) {
	  return {
	    require: ['uibBtnRadio', 'ngModel'],
	    controller: 'UibButtonsController',
	    controllerAs: 'buttons',
	    link: function(scope, element, attrs, ctrls) {
	      var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];
	      var uncheckableExpr = $parse(attrs.uibUncheckable);
	
	      element.find('input').css({display: 'none'});
	
	      //model -> UI
	      ngModelCtrl.$render = function() {
	        element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, scope.$eval(attrs.uibBtnRadio)));
	      };
	
	      //ui->model
	      element.on(buttonsCtrl.toggleEvent, function() {
	        if (attrs.disabled) {
	          return;
	        }
	
	        var isActive = element.hasClass(buttonsCtrl.activeClass);
	
	        if (!isActive || angular.isDefined(attrs.uncheckable)) {
	          scope.$apply(function() {
	            ngModelCtrl.$setViewValue(isActive ? null : scope.$eval(attrs.uibBtnRadio));
	            ngModelCtrl.$render();
	          });
	        }
	      });
	
	      if (attrs.uibUncheckable) {
	        scope.$watch(uncheckableExpr, function(uncheckable) {
	          attrs.$set('uncheckable', uncheckable ? '' : undefined);
	        });
	      }
	    }
	  };
	}])
	
	.directive('uibBtnCheckbox', function() {
	  return {
	    require: ['uibBtnCheckbox', 'ngModel'],
	    controller: 'UibButtonsController',
	    controllerAs: 'button',
	    link: function(scope, element, attrs, ctrls) {
	      var buttonsCtrl = ctrls[0], ngModelCtrl = ctrls[1];
	
	      element.find('input').css({display: 'none'});
	
	      function getTrueValue() {
	        return getCheckboxValue(attrs.btnCheckboxTrue, true);
	      }
	
	      function getFalseValue() {
	        return getCheckboxValue(attrs.btnCheckboxFalse, false);
	      }
	
	      function getCheckboxValue(attribute, defaultValue) {
	        return angular.isDefined(attribute) ? scope.$eval(attribute) : defaultValue;
	      }
	
	      //model -> UI
	      ngModelCtrl.$render = function() {
	        element.toggleClass(buttonsCtrl.activeClass, angular.equals(ngModelCtrl.$modelValue, getTrueValue()));
	      };
	
	      //ui->model
	      element.on(buttonsCtrl.toggleEvent, function() {
	        if (attrs.disabled) {
	          return;
	        }
	
	        scope.$apply(function() {
	          ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass) ? getFalseValue() : getTrueValue());
	          ngModelCtrl.$render();
	        });
	      });
	    }
	  };
	});
	
	angular.module('ui.bootstrap.carousel', [])
	
	.controller('UibCarouselController', ['$scope', '$element', '$interval', '$timeout', '$animate', function($scope, $element, $interval, $timeout, $animate) {
	  var self = this,
	    slides = self.slides = $scope.slides = [],
	    SLIDE_DIRECTION = 'uib-slideDirection',
	    currentIndex = $scope.active,
	    currentInterval, isPlaying, bufferedTransitions = [];
	
	  var destroyed = false;
	
	  self.addSlide = function(slide, element) {
	    slides.push({
	      slide: slide,
	      element: element
	    });
	    slides.sort(function(a, b) {
	      return +a.slide.index - +b.slide.index;
	    });
	    //if this is the first slide or the slide is set to active, select it
	    if (slide.index === $scope.active || slides.length === 1 && !angular.isNumber($scope.active)) {
	      if ($scope.$currentTransition) {
	        $scope.$currentTransition = null;
	      }
	
	      currentIndex = slide.index;
	      $scope.active = slide.index;
	      setActive(currentIndex);
	      self.select(slides[findSlideIndex(slide)]);
	      if (slides.length === 1) {
	        $scope.play();
	      }
	    }
	  };
	
	  self.getCurrentIndex = function() {
	    for (var i = 0; i < slides.length; i++) {
	      if (slides[i].slide.index === currentIndex) {
	        return i;
	      }
	    }
	  };
	
	  self.next = $scope.next = function() {
	    var newIndex = (self.getCurrentIndex() + 1) % slides.length;
	
	    if (newIndex === 0 && $scope.noWrap()) {
	      $scope.pause();
	      return;
	    }
	
	    return self.select(slides[newIndex], 'next');
	  };
	
	  self.prev = $scope.prev = function() {
	    var newIndex = self.getCurrentIndex() - 1 < 0 ? slides.length - 1 : self.getCurrentIndex() - 1;
	
	    if ($scope.noWrap() && newIndex === slides.length - 1) {
	      $scope.pause();
	      return;
	    }
	
	    return self.select(slides[newIndex], 'prev');
	  };
	
	  self.removeSlide = function(slide) {
	    var index = findSlideIndex(slide);
	
	    var bufferedIndex = bufferedTransitions.indexOf(slides[index]);
	    if (bufferedIndex !== -1) {
	      bufferedTransitions.splice(bufferedIndex, 1);
	    }
	
	    //get the index of the slide inside the carousel
	    slides.splice(index, 1);
	    if (slides.length > 0 && currentIndex === index) {
	      if (index >= slides.length) {
	        currentIndex = slides.length - 1;
	        $scope.active = currentIndex;
	        setActive(currentIndex);
	        self.select(slides[slides.length - 1]);
	      } else {
	        currentIndex = index;
	        $scope.active = currentIndex;
	        setActive(currentIndex);
	        self.select(slides[index]);
	      }
	    } else if (currentIndex > index) {
	      currentIndex--;
	      $scope.active = currentIndex;
	    }
	
	    //clean the active value when no more slide
	    if (slides.length === 0) {
	      currentIndex = null;
	      $scope.active = null;
	      clearBufferedTransitions();
	    }
	  };
	
	  /* direction: "prev" or "next" */
	  self.select = $scope.select = function(nextSlide, direction) {
	    var nextIndex = findSlideIndex(nextSlide.slide);
	    //Decide direction if it's not given
	    if (direction === undefined) {
	      direction = nextIndex > self.getCurrentIndex() ? 'next' : 'prev';
	    }
	    //Prevent this user-triggered transition from occurring if there is already one in progress
	    if (nextSlide.slide.index !== currentIndex &&
	      !$scope.$currentTransition) {
	      goNext(nextSlide.slide, nextIndex, direction);
	    } else if (nextSlide && nextSlide.slide.index !== currentIndex && $scope.$currentTransition) {
	      bufferedTransitions.push(slides[nextIndex]);
	    }
	  };
	
	  /* Allow outside people to call indexOf on slides array */
	  $scope.indexOfSlide = function(slide) {
	    return +slide.slide.index;
	  };
	
	  $scope.isActive = function(slide) {
	    return $scope.active === slide.slide.index;
	  };
	
	  $scope.isPrevDisabled = function() {
	    return $scope.active === 0 && $scope.noWrap();
	  };
	
	  $scope.isNextDisabled = function() {
	    return $scope.active === slides.length - 1 && $scope.noWrap();
	  };
	
	  $scope.pause = function() {
	    if (!$scope.noPause) {
	      isPlaying = false;
	      resetTimer();
	    }
	  };
	
	  $scope.play = function() {
	    if (!isPlaying) {
	      isPlaying = true;
	      restartTimer();
	    }
	  };
	
	  $scope.$on('$destroy', function() {
	    destroyed = true;
	    resetTimer();
	  });
	
	  $scope.$watch('noTransition', function(noTransition) {
	    $animate.enabled($element, !noTransition);
	  });
	
	  $scope.$watch('interval', restartTimer);
	
	  $scope.$watchCollection('slides', resetTransition);
	
	  $scope.$watch('active', function(index) {
	    if (angular.isNumber(index) && currentIndex !== index) {
	      for (var i = 0; i < slides.length; i++) {
	        if (slides[i].slide.index === index) {
	          index = i;
	          break;
	        }
	      }
	
	      var slide = slides[index];
	      if (slide) {
	        setActive(index);
	        self.select(slides[index]);
	        currentIndex = index;
	      }
	    }
	  });
	
	  function clearBufferedTransitions() {
	    while (bufferedTransitions.length) {
	      bufferedTransitions.shift();
	    }
	  }
	
	  function getSlideByIndex(index) {
	    for (var i = 0, l = slides.length; i < l; ++i) {
	      if (slides[i].index === index) {
	        return slides[i];
	      }
	    }
	  }
	
	  function setActive(index) {
	    for (var i = 0; i < slides.length; i++) {
	      slides[i].slide.active = i === index;
	    }
	  }
	
	  function goNext(slide, index, direction) {
	    if (destroyed) {
	      return;
	    }
	
	    angular.extend(slide, {direction: direction});
	    angular.extend(slides[currentIndex].slide || {}, {direction: direction});
	    if ($animate.enabled($element) && !$scope.$currentTransition &&
	      slides[index].element && self.slides.length > 1) {
	      slides[index].element.data(SLIDE_DIRECTION, slide.direction);
	      var currentIdx = self.getCurrentIndex();
	
	      if (angular.isNumber(currentIdx) && slides[currentIdx].element) {
	        slides[currentIdx].element.data(SLIDE_DIRECTION, slide.direction);
	      }
	
	      $scope.$currentTransition = true;
	      $animate.on('addClass', slides[index].element, function(element, phase) {
	        if (phase === 'close') {
	          $scope.$currentTransition = null;
	          $animate.off('addClass', element);
	          if (bufferedTransitions.length) {
	            var nextSlide = bufferedTransitions.pop().slide;
	            var nextIndex = nextSlide.index;
	            var nextDirection = nextIndex > self.getCurrentIndex() ? 'next' : 'prev';
	            clearBufferedTransitions();
	
	            goNext(nextSlide, nextIndex, nextDirection);
	          }
	        }
	      });
	    }
	
	    $scope.active = slide.index;
	    currentIndex = slide.index;
	    setActive(index);
	
	    //every time you change slides, reset the timer
	    restartTimer();
	  }
	
	  function findSlideIndex(slide) {
	    for (var i = 0; i < slides.length; i++) {
	      if (slides[i].slide === slide) {
	        return i;
	      }
	    }
	  }
	
	  function resetTimer() {
	    if (currentInterval) {
	      $interval.cancel(currentInterval);
	      currentInterval = null;
	    }
	  }
	
	  function resetTransition(slides) {
	    if (!slides.length) {
	      $scope.$currentTransition = null;
	      clearBufferedTransitions();
	    }
	  }
	
	  function restartTimer() {
	    resetTimer();
	    var interval = +$scope.interval;
	    if (!isNaN(interval) && interval > 0) {
	      currentInterval = $interval(timerFn, interval);
	    }
	  }
	
	  function timerFn() {
	    var interval = +$scope.interval;
	    if (isPlaying && !isNaN(interval) && interval > 0 && slides.length) {
	      $scope.next();
	    } else {
	      $scope.pause();
	    }
	  }
	}])
	
	.directive('uibCarousel', function() {
	  return {
	    transclude: true,
	    replace: true,
	    controller: 'UibCarouselController',
	    controllerAs: 'carousel',
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/carousel/carousel.html';
	    },
	    scope: {
	      active: '=',
	      interval: '=',
	      noTransition: '=',
	      noPause: '=',
	      noWrap: '&'
	    }
	  };
	})
	
	.directive('uibSlide', function() {
	  return {
	    require: '^uibCarousel',
	    transclude: true,
	    replace: true,
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/carousel/slide.html';
	    },
	    scope: {
	      actual: '=?',
	      index: '=?'
	    },
	    link: function (scope, element, attrs, carouselCtrl) {
	      carouselCtrl.addSlide(scope, element);
	      //when the scope is destroyed then remove the slide from the current slides array
	      scope.$on('$destroy', function() {
	        carouselCtrl.removeSlide(scope);
	      });
	    }
	  };
	})
	
	.animation('.item', ['$animateCss',
	function($animateCss) {
	  var SLIDE_DIRECTION = 'uib-slideDirection';
	
	  function removeClass(element, className, callback) {
	    element.removeClass(className);
	    if (callback) {
	      callback();
	    }
	  }
	
	  return {
	    beforeAddClass: function(element, className, done) {
	      if (className === 'active') {
	        var stopped = false;
	        var direction = element.data(SLIDE_DIRECTION);
	        var directionClass = direction === 'next' ? 'left' : 'right';
	        var removeClassFn = removeClass.bind(this, element,
	          directionClass + ' ' + direction, done);
	        element.addClass(direction);
	
	        $animateCss(element, {addClass: directionClass})
	          .start()
	          .done(removeClassFn);
	
	        return function() {
	          stopped = true;
	        };
	      }
	      done();
	    },
	    beforeRemoveClass: function (element, className, done) {
	      if (className === 'active') {
	        var stopped = false;
	        var direction = element.data(SLIDE_DIRECTION);
	        var directionClass = direction === 'next' ? 'left' : 'right';
	        var removeClassFn = removeClass.bind(this, element, directionClass, done);
	
	        $animateCss(element, {addClass: directionClass})
	          .start()
	          .done(removeClassFn);
	
	        return function() {
	          stopped = true;
	        };
	      }
	      done();
	    }
	  };
	}]);
	
	angular.module('ui.bootstrap.dateparser', [])
	
	.service('uibDateParser', ['$log', '$locale', 'dateFilter', 'orderByFilter', function($log, $locale, dateFilter, orderByFilter) {
	  // Pulled from https://github.com/mbostock/d3/blob/master/src/format/requote.js
	  var SPECIAL_CHARACTERS_REGEXP = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
	
	  var localeId;
	  var formatCodeToRegex;
	
	  this.init = function() {
	    localeId = $locale.id;
	
	    this.parsers = {};
	    this.formatters = {};
	
	    formatCodeToRegex = [
	      {
	        key: 'yyyy',
	        regex: '\\d{4}',
	        apply: function(value) { this.year = +value; },
	        formatter: function(date) {
	          var _date = new Date();
	          _date.setFullYear(Math.abs(date.getFullYear()));
	          return dateFilter(_date, 'yyyy');
	        }
	      },
	      {
	        key: 'yy',
	        regex: '\\d{2}',
	        apply: function(value) { value = +value; this.year = value < 69 ? value + 2000 : value + 1900; },
	        formatter: function(date) {
	          var _date = new Date();
	          _date.setFullYear(Math.abs(date.getFullYear()));
	          return dateFilter(_date, 'yy');
	        }
	      },
	      {
	        key: 'y',
	        regex: '\\d{1,4}',
	        apply: function(value) { this.year = +value; },
	        formatter: function(date) {
	          var _date = new Date();
	          _date.setFullYear(Math.abs(date.getFullYear()));
	          return dateFilter(_date, 'y');
	        }
	      },
	      {
	        key: 'M!',
	        regex: '0?[1-9]|1[0-2]',
	        apply: function(value) { this.month = value - 1; },
	        formatter: function(date) {
	          var value = date.getMonth();
	          if (/^[0-9]$/.test(value)) {
	            return dateFilter(date, 'MM');
	          }
	
	          return dateFilter(date, 'M');
	        }
	      },
	      {
	        key: 'MMMM',
	        regex: $locale.DATETIME_FORMATS.MONTH.join('|'),
	        apply: function(value) { this.month = $locale.DATETIME_FORMATS.MONTH.indexOf(value); },
	        formatter: function(date) { return dateFilter(date, 'MMMM'); }
	      },
	      {
	        key: 'MMM',
	        regex: $locale.DATETIME_FORMATS.SHORTMONTH.join('|'),
	        apply: function(value) { this.month = $locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value); },
	        formatter: function(date) { return dateFilter(date, 'MMM'); }
	      },
	      {
	        key: 'MM',
	        regex: '0[1-9]|1[0-2]',
	        apply: function(value) { this.month = value - 1; },
	        formatter: function(date) { return dateFilter(date, 'MM'); }
	      },
	      {
	        key: 'M',
	        regex: '[1-9]|1[0-2]',
	        apply: function(value) { this.month = value - 1; },
	        formatter: function(date) { return dateFilter(date, 'M'); }
	      },
	      {
	        key: 'd!',
	        regex: '[0-2]?[0-9]{1}|3[0-1]{1}',
	        apply: function(value) { this.date = +value; },
	        formatter: function(date) {
	          var value = date.getDate();
	          if (/^[1-9]$/.test(value)) {
	            return dateFilter(date, 'dd');
	          }
	
	          return dateFilter(date, 'd');
	        }
	      },
	      {
	        key: 'dd',
	        regex: '[0-2][0-9]{1}|3[0-1]{1}',
	        apply: function(value) { this.date = +value; },
	        formatter: function(date) { return dateFilter(date, 'dd'); }
	      },
	      {
	        key: 'd',
	        regex: '[1-2]?[0-9]{1}|3[0-1]{1}',
	        apply: function(value) { this.date = +value; },
	        formatter: function(date) { return dateFilter(date, 'd'); }
	      },
	      {
	        key: 'EEEE',
	        regex: $locale.DATETIME_FORMATS.DAY.join('|'),
	        formatter: function(date) { return dateFilter(date, 'EEEE'); }
	      },
	      {
	        key: 'EEE',
	        regex: $locale.DATETIME_FORMATS.SHORTDAY.join('|'),
	        formatter: function(date) { return dateFilter(date, 'EEE'); }
	      },
	      {
	        key: 'HH',
	        regex: '(?:0|1)[0-9]|2[0-3]',
	        apply: function(value) { this.hours = +value; },
	        formatter: function(date) { return dateFilter(date, 'HH'); }
	      },
	      {
	        key: 'hh',
	        regex: '0[0-9]|1[0-2]',
	        apply: function(value) { this.hours = +value; },
	        formatter: function(date) { return dateFilter(date, 'hh'); }
	      },
	      {
	        key: 'H',
	        regex: '1?[0-9]|2[0-3]',
	        apply: function(value) { this.hours = +value; },
	        formatter: function(date) { return dateFilter(date, 'H'); }
	      },
	      {
	        key: 'h',
	        regex: '[0-9]|1[0-2]',
	        apply: function(value) { this.hours = +value; },
	        formatter: function(date) { return dateFilter(date, 'h'); }
	      },
	      {
	        key: 'mm',
	        regex: '[0-5][0-9]',
	        apply: function(value) { this.minutes = +value; },
	        formatter: function(date) { return dateFilter(date, 'mm'); }
	      },
	      {
	        key: 'm',
	        regex: '[0-9]|[1-5][0-9]',
	        apply: function(value) { this.minutes = +value; },
	        formatter: function(date) { return dateFilter(date, 'm'); }
	      },
	      {
	        key: 'sss',
	        regex: '[0-9][0-9][0-9]',
	        apply: function(value) { this.milliseconds = +value; },
	        formatter: function(date) { return dateFilter(date, 'sss'); }
	      },
	      {
	        key: 'ss',
	        regex: '[0-5][0-9]',
	        apply: function(value) { this.seconds = +value; },
	        formatter: function(date) { return dateFilter(date, 'ss'); }
	      },
	      {
	        key: 's',
	        regex: '[0-9]|[1-5][0-9]',
	        apply: function(value) { this.seconds = +value; },
	        formatter: function(date) { return dateFilter(date, 's'); }
	      },
	      {
	        key: 'a',
	        regex: $locale.DATETIME_FORMATS.AMPMS.join('|'),
	        apply: function(value) {
	          if (this.hours === 12) {
	            this.hours = 0;
	          }
	
	          if (value === 'PM') {
	            this.hours += 12;
	          }
	        },
	        formatter: function(date) { return dateFilter(date, 'a'); }
	      },
	      {
	        key: 'Z',
	        regex: '[+-]\\d{4}',
	        apply: function(value) {
	          var matches = value.match(/([+-])(\d{2})(\d{2})/),
	            sign = matches[1],
	            hours = matches[2],
	            minutes = matches[3];
	          this.hours += toInt(sign + hours);
	          this.minutes += toInt(sign + minutes);
	        },
	        formatter: function(date) {
	          return dateFilter(date, 'Z');
	        }
	      },
	      {
	        key: 'ww',
	        regex: '[0-4][0-9]|5[0-3]',
	        formatter: function(date) { return dateFilter(date, 'ww'); }
	      },
	      {
	        key: 'w',
	        regex: '[0-9]|[1-4][0-9]|5[0-3]',
	        formatter: function(date) { return dateFilter(date, 'w'); }
	      },
	      {
	        key: 'GGGG',
	        regex: $locale.DATETIME_FORMATS.ERANAMES.join('|').replace(/\s/g, '\\s'),
	        formatter: function(date) { return dateFilter(date, 'GGGG'); }
	      },
	      {
	        key: 'GGG',
	        regex: $locale.DATETIME_FORMATS.ERAS.join('|'),
	        formatter: function(date) { return dateFilter(date, 'GGG'); }
	      },
	      {
	        key: 'GG',
	        regex: $locale.DATETIME_FORMATS.ERAS.join('|'),
	        formatter: function(date) { return dateFilter(date, 'GG'); }
	      },
	      {
	        key: 'G',
	        regex: $locale.DATETIME_FORMATS.ERAS.join('|'),
	        formatter: function(date) { return dateFilter(date, 'G'); }
	      }
	    ];
	  };
	
	  this.init();
	
	  function createParser(format, func) {
	    var map = [], regex = format.split('');
	
	    // check for literal values
	    var quoteIndex = format.indexOf('\'');
	    if (quoteIndex > -1) {
	      var inLiteral = false;
	      format = format.split('');
	      for (var i = quoteIndex; i < format.length; i++) {
	        if (inLiteral) {
	          if (format[i] === '\'') {
	            if (i + 1 < format.length && format[i+1] === '\'') { // escaped single quote
	              format[i+1] = '$';
	              regex[i+1] = '';
	            } else { // end of literal
	              regex[i] = '';
	              inLiteral = false;
	            }
	          }
	          format[i] = '$';
	        } else {
	          if (format[i] === '\'') { // start of literal
	            format[i] = '$';
	            regex[i] = '';
	            inLiteral = true;
	          }
	        }
	      }
	
	      format = format.join('');
	    }
	
	    angular.forEach(formatCodeToRegex, function(data) {
	      var index = format.indexOf(data.key);
	
	      if (index > -1) {
	        format = format.split('');
	
	        regex[index] = '(' + data.regex + ')';
	        format[index] = '$'; // Custom symbol to define consumed part of format
	        for (var i = index + 1, n = index + data.key.length; i < n; i++) {
	          regex[i] = '';
	          format[i] = '$';
	        }
	        format = format.join('');
	
	        map.push({
	          index: index,
	          key: data.key,
	          apply: data[func],
	          matcher: data.regex
	        });
	      }
	    });
	
	    return {
	      regex: new RegExp('^' + regex.join('') + '$'),
	      map: orderByFilter(map, 'index')
	    };
	  }
	
	  this.filter = function(date, format) {
	    if (!angular.isDate(date) || isNaN(date) || !format) {
	      return '';
	    }
	
	    format = $locale.DATETIME_FORMATS[format] || format;
	
	    if ($locale.id !== localeId) {
	      this.init();
	    }
	
	    if (!this.formatters[format]) {
	      this.formatters[format] = createParser(format, 'formatter');
	    }
	
	    var parser = this.formatters[format],
	      map = parser.map;
	
	    var _format = format;
	
	    return map.reduce(function(str, mapper, i) {
	      var match = _format.match(new RegExp('(.*)' + mapper.key));
	      if (match && angular.isString(match[1])) {
	        str += match[1];
	        _format = _format.replace(match[1] + mapper.key, '');
	      }
	
	      var endStr = i === map.length - 1 ? _format : '';
	
	      if (mapper.apply) {
	        return str + mapper.apply.call(null, date) + endStr;
	      }
	
	      return str + endStr;
	    }, '');
	  };
	
	  this.parse = function(input, format, baseDate) {
	    if (!angular.isString(input) || !format) {
	      return input;
	    }
	
	    format = $locale.DATETIME_FORMATS[format] || format;
	    format = format.replace(SPECIAL_CHARACTERS_REGEXP, '\\$&');
	
	    if ($locale.id !== localeId) {
	      this.init();
	    }
	
	    if (!this.parsers[format]) {
	      this.parsers[format] = createParser(format, 'apply');
	    }
	
	    var parser = this.parsers[format],
	        regex = parser.regex,
	        map = parser.map,
	        results = input.match(regex),
	        tzOffset = false;
	    if (results && results.length) {
	      var fields, dt;
	      if (angular.isDate(baseDate) && !isNaN(baseDate.getTime())) {
	        fields = {
	          year: baseDate.getFullYear(),
	          month: baseDate.getMonth(),
	          date: baseDate.getDate(),
	          hours: baseDate.getHours(),
	          minutes: baseDate.getMinutes(),
	          seconds: baseDate.getSeconds(),
	          milliseconds: baseDate.getMilliseconds()
	        };
	      } else {
	        if (baseDate) {
	          $log.warn('dateparser:', 'baseDate is not a valid date');
	        }
	        fields = { year: 1900, month: 0, date: 1, hours: 0, minutes: 0, seconds: 0, milliseconds: 0 };
	      }
	
	      for (var i = 1, n = results.length; i < n; i++) {
	        var mapper = map[i - 1];
	        if (mapper.matcher === 'Z') {
	          tzOffset = true;
	        }
	
	        if (mapper.apply) {
	          mapper.apply.call(fields, results[i]);
	        }
	      }
	
	      var datesetter = tzOffset ? Date.prototype.setUTCFullYear :
	        Date.prototype.setFullYear;
	      var timesetter = tzOffset ? Date.prototype.setUTCHours :
	        Date.prototype.setHours;
	
	      if (isValid(fields.year, fields.month, fields.date)) {
	        if (angular.isDate(baseDate) && !isNaN(baseDate.getTime()) && !tzOffset) {
	          dt = new Date(baseDate);
	          datesetter.call(dt, fields.year, fields.month, fields.date);
	          timesetter.call(dt, fields.hours, fields.minutes,
	            fields.seconds, fields.milliseconds);
	        } else {
	          dt = new Date(0);
	          datesetter.call(dt, fields.year, fields.month, fields.date);
	          timesetter.call(dt, fields.hours || 0, fields.minutes || 0,
	            fields.seconds || 0, fields.milliseconds || 0);
	        }
	      }
	
	      return dt;
	    }
	  };
	
	  // Check if date is valid for specific month (and year for February).
	  // Month: 0 = Jan, 1 = Feb, etc
	  function isValid(year, month, date) {
	    if (date < 1) {
	      return false;
	    }
	
	    if (month === 1 && date > 28) {
	      return date === 29 && (year % 4 === 0 && year % 100 !== 0 || year % 400 === 0);
	    }
	
	    if (month === 3 || month === 5 || month === 8 || month === 10) {
	      return date < 31;
	    }
	
	    return true;
	  }
	
	  function toInt(str) {
	    return parseInt(str, 10);
	  }
	
	  this.toTimezone = toTimezone;
	  this.fromTimezone = fromTimezone;
	  this.timezoneToOffset = timezoneToOffset;
	  this.addDateMinutes = addDateMinutes;
	  this.convertTimezoneToLocal = convertTimezoneToLocal;
	
	  function toTimezone(date, timezone) {
	    return date && timezone ? convertTimezoneToLocal(date, timezone) : date;
	  }
	
	  function fromTimezone(date, timezone) {
	    return date && timezone ? convertTimezoneToLocal(date, timezone, true) : date;
	  }
	
	  //https://github.com/angular/angular.js/blob/4daafd3dbe6a80d578f5a31df1bb99c77559543e/src/Angular.js#L1207
	  function timezoneToOffset(timezone, fallback) {
	    var requestedTimezoneOffset = Date.parse('Jan 01, 1970 00:00:00 ' + timezone) / 60000;
	    return isNaN(requestedTimezoneOffset) ? fallback : requestedTimezoneOffset;
	  }
	
	  function addDateMinutes(date, minutes) {
	    date = new Date(date.getTime());
	    date.setMinutes(date.getMinutes() + minutes);
	    return date;
	  }
	
	  function convertTimezoneToLocal(date, timezone, reverse) {
	    reverse = reverse ? -1 : 1;
	    var timezoneOffset = timezoneToOffset(timezone, date.getTimezoneOffset());
	    return addDateMinutes(date, reverse * (timezoneOffset - date.getTimezoneOffset()));
	  }
	}]);
	
	// Avoiding use of ng-class as it creates a lot of watchers when a class is to be applied to
	// at most one element.
	angular.module('ui.bootstrap.isClass', [])
	.directive('uibIsClass', [
	         '$animate',
	function ($animate) {
	  //                    11111111          22222222
	  var ON_REGEXP = /^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/;
	  //                    11111111           22222222
	  var IS_REGEXP = /^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;
	
	  var dataPerTracked = {};
	
	  return {
	    restrict: 'A',
	    compile: function (tElement, tAttrs) {
	      var linkedScopes = [];
	      var instances = [];
	      var expToData = {};
	      var lastActivated = null;
	      var onExpMatches = tAttrs.uibIsClass.match(ON_REGEXP);
	      var onExp = onExpMatches[2];
	      var expsStr = onExpMatches[1];
	      var exps = expsStr.split(',');
	
	      return linkFn;
	
	      function linkFn(scope, element, attrs) {
	        linkedScopes.push(scope);
	        instances.push({
	          scope: scope,
	          element: element
	        });
	
	        exps.forEach(function (exp, k) {
	          addForExp(exp, scope);
	        });
	
	        scope.$on('$destroy', removeScope);
	      }
	
	      function addForExp(exp, scope) {
	        var matches = exp.match(IS_REGEXP);
	        var clazz = scope.$eval(matches[1]);
	        var compareWithExp = matches[2];
	        var data = expToData[exp];
	        if (!data) {
	          var watchFn = function (compareWithVal) {
	            var newActivated = null;
	            instances.some(function (instance) {
	              var thisVal = instance.scope.$eval(onExp);
	              if (thisVal === compareWithVal) {
	                newActivated = instance;
	                return true;
	              }
	            });
	            if (data.lastActivated !== newActivated) {
	              if (data.lastActivated) {
	                $animate.removeClass(data.lastActivated.element, clazz);
	              }
	              if (newActivated) {
	                $animate.addClass(newActivated.element, clazz);
	              }
	              data.lastActivated = newActivated;
	            }
	          };
	          expToData[exp] = data = {
	            lastActivated: null,
	            scope: scope,
	            watchFn: watchFn,
	            compareWithExp: compareWithExp,
	            watcher: scope.$watch(compareWithExp, watchFn)
	          };
	        }
	        data.watchFn(scope.$eval(compareWithExp));
	      }
	
	      function removeScope(e) {
	        var removedScope = e.targetScope;
	        var index = linkedScopes.indexOf(removedScope);
	        linkedScopes.splice(index, 1);
	        instances.splice(index, 1);
	        if (linkedScopes.length) {
	          var newWatchScope = linkedScopes[0];
	          angular.forEach(expToData, function (data) {
	            if (data.scope === removedScope) {
	              data.watcher = newWatchScope.$watch(data.compareWithExp, data.watchFn);
	              data.scope = newWatchScope;
	            }
	          });
	        }
	        else {
	          expToData = {};
	        }
	      }
	    }
	  };
	}]);
	angular.module('ui.bootstrap.datepicker', ['ui.bootstrap.dateparser', 'ui.bootstrap.isClass'])
	
	.value('$datepickerSuppressError', false)
	
	.value('$datepickerLiteralWarning', true)
	
	.constant('uibDatepickerConfig', {
	  datepickerMode: 'day',
	  formatDay: 'dd',
	  formatMonth: 'MMMM',
	  formatYear: 'yyyy',
	  formatDayHeader: 'EEE',
	  formatDayTitle: 'MMMM yyyy',
	  formatMonthTitle: 'yyyy',
	  maxDate: null,
	  maxMode: 'year',
	  minDate: null,
	  minMode: 'day',
	  ngModelOptions: {},
	  shortcutPropagation: false,
	  showWeeks: true,
	  yearColumns: 5,
	  yearRows: 4
	})
	
	.controller('UibDatepickerController', ['$scope', '$attrs', '$parse', '$interpolate', '$locale', '$log', 'dateFilter', 'uibDatepickerConfig', '$datepickerLiteralWarning', '$datepickerSuppressError', 'uibDateParser',
	  function($scope, $attrs, $parse, $interpolate, $locale, $log, dateFilter, datepickerConfig, $datepickerLiteralWarning, $datepickerSuppressError, dateParser) {
	  var self = this,
	      ngModelCtrl = { $setViewValue: angular.noop }, // nullModelCtrl;
	      ngModelOptions = {},
	      watchListeners = [],
	      optionsUsed = !!$attrs.datepickerOptions;
	
	  if (!$scope.datepickerOptions) {
	    $scope.datepickerOptions = {};
	  }
	
	  // Modes chain
	  this.modes = ['day', 'month', 'year'];
	
	  [
	    'customClass',
	    'dateDisabled',
	    'datepickerMode',
	    'formatDay',
	    'formatDayHeader',
	    'formatDayTitle',
	    'formatMonth',
	    'formatMonthTitle',
	    'formatYear',
	    'maxDate',
	    'maxMode',
	    'minDate',
	    'minMode',
	    'showWeeks',
	    'shortcutPropagation',
	    'startingDay',
	    'yearColumns',
	    'yearRows'
	  ].forEach(function(key) {
	    switch (key) {
	      case 'customClass':
	      case 'dateDisabled':
	        $scope[key] = $scope.datepickerOptions[key] || angular.noop;
	        break;
	      case 'datepickerMode':
	        $scope.datepickerMode = angular.isDefined($scope.datepickerOptions.datepickerMode) ?
	          $scope.datepickerOptions.datepickerMode : datepickerConfig.datepickerMode;
	        break;
	      case 'formatDay':
	      case 'formatDayHeader':
	      case 'formatDayTitle':
	      case 'formatMonth':
	      case 'formatMonthTitle':
	      case 'formatYear':
	        self[key] = angular.isDefined($scope.datepickerOptions[key]) ?
	          $interpolate($scope.datepickerOptions[key])($scope.$parent) :
	          datepickerConfig[key];
	        break;
	      case 'showWeeks':
	      case 'shortcutPropagation':
	      case 'yearColumns':
	      case 'yearRows':
	        self[key] = angular.isDefined($scope.datepickerOptions[key]) ?
	          $scope.datepickerOptions[key] : datepickerConfig[key];
	        break;
	      case 'startingDay':
	        if (angular.isDefined($scope.datepickerOptions.startingDay)) {
	          self.startingDay = $scope.datepickerOptions.startingDay;
	        } else if (angular.isNumber(datepickerConfig.startingDay)) {
	          self.startingDay = datepickerConfig.startingDay;
	        } else {
	          self.startingDay = ($locale.DATETIME_FORMATS.FIRSTDAYOFWEEK + 8) % 7;
	        }
	
	        break;
	      case 'maxDate':
	      case 'minDate':
	        $scope.$watch('datepickerOptions.' + key, function(value) {
	          if (value) {
	            if (angular.isDate(value)) {
	              self[key] = dateParser.fromTimezone(new Date(value), ngModelOptions.timezone);
	            } else {
	              if ($datepickerLiteralWarning) {
	                $log.warn('Literal date support has been deprecated, please switch to date object usage');
	              }
	
	              self[key] = new Date(dateFilter(value, 'medium'));
	            }
	          } else {
	            self[key] = datepickerConfig[key] ?
	              dateParser.fromTimezone(new Date(datepickerConfig[key]), ngModelOptions.timezone) :
	              null;
	          }
	
	          self.refreshView();
	        });
	
	        break;
	      case 'maxMode':
	      case 'minMode':
	        if ($scope.datepickerOptions[key]) {
	          $scope.$watch(function() { return $scope.datepickerOptions[key]; }, function(value) {
	            self[key] = $scope[key] = angular.isDefined(value) ? value : datepickerOptions[key];
	            if (key === 'minMode' && self.modes.indexOf($scope.datepickerOptions.datepickerMode) < self.modes.indexOf(self[key]) ||
	              key === 'maxMode' && self.modes.indexOf($scope.datepickerOptions.datepickerMode) > self.modes.indexOf(self[key])) {
	              $scope.datepickerMode = self[key];
	              $scope.datepickerOptions.datepickerMode = self[key];
	            }
	          });
	        } else {
	          self[key] = $scope[key] = datepickerConfig[key] || null;
	        }
	
	        break;
	    }
	  });
	
	  $scope.uniqueId = 'datepicker-' + $scope.$id + '-' + Math.floor(Math.random() * 10000);
	
	  $scope.disabled = angular.isDefined($attrs.disabled) || false;
	  if (angular.isDefined($attrs.ngDisabled)) {
	    watchListeners.push($scope.$parent.$watch($attrs.ngDisabled, function(disabled) {
	      $scope.disabled = disabled;
	      self.refreshView();
	    }));
	  }
	
	  $scope.isActive = function(dateObject) {
	    if (self.compare(dateObject.date, self.activeDate) === 0) {
	      $scope.activeDateId = dateObject.uid;
	      return true;
	    }
	    return false;
	  };
	
	  this.init = function(ngModelCtrl_) {
	    ngModelCtrl = ngModelCtrl_;
	    ngModelOptions = ngModelCtrl_.$options || datepickerConfig.ngModelOptions;
	    if ($scope.datepickerOptions.initDate) {
	      self.activeDate = dateParser.fromTimezone($scope.datepickerOptions.initDate, ngModelOptions.timezone) || new Date();
	      $scope.$watch('datepickerOptions.initDate', function(initDate) {
	        if (initDate && (ngModelCtrl.$isEmpty(ngModelCtrl.$modelValue) || ngModelCtrl.$invalid)) {
	          self.activeDate = dateParser.fromTimezone(initDate, ngModelOptions.timezone);
	          self.refreshView();
	        }
	      });
	    } else {
	      self.activeDate = new Date();
	    }
	
	    this.activeDate = ngModelCtrl.$modelValue ?
	      dateParser.fromTimezone(new Date(ngModelCtrl.$modelValue), ngModelOptions.timezone) :
	      dateParser.fromTimezone(new Date(), ngModelOptions.timezone);
	
	    ngModelCtrl.$render = function() {
	      self.render();
	    };
	  };
	
	  this.render = function() {
	    if (ngModelCtrl.$viewValue) {
	      var date = new Date(ngModelCtrl.$viewValue),
	          isValid = !isNaN(date);
	
	      if (isValid) {
	        this.activeDate = dateParser.fromTimezone(date, ngModelOptions.timezone);
	      } else if (!$datepickerSuppressError) {
	        $log.error('Datepicker directive: "ng-model" value must be a Date object');
	      }
	    }
	    this.refreshView();
	  };
	
	  this.refreshView = function() {
	    if (this.element) {
	      $scope.selectedDt = null;
	      this._refreshView();
	      if ($scope.activeDt) {
	        $scope.activeDateId = $scope.activeDt.uid;
	      }
	
	      var date = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;
	      date = dateParser.fromTimezone(date, ngModelOptions.timezone);
	      ngModelCtrl.$setValidity('dateDisabled', !date ||
	        this.element && !this.isDisabled(date));
	    }
	  };
	
	  this.createDateObject = function(date, format) {
	    var model = ngModelCtrl.$viewValue ? new Date(ngModelCtrl.$viewValue) : null;
	    model = dateParser.fromTimezone(model, ngModelOptions.timezone);
	    var today = new Date();
	    today = dateParser.fromTimezone(today, ngModelOptions.timezone);
	    var time = this.compare(date, today);
	    var dt = {
	      date: date,
	      label: dateParser.filter(date, format),
	      selected: model && this.compare(date, model) === 0,
	      disabled: this.isDisabled(date),
	      past: time < 0,
	      current: time === 0,
	      future: time > 0,
	      customClass: this.customClass(date) || null
	    };
	
	    if (model && this.compare(date, model) === 0) {
	      $scope.selectedDt = dt;
	    }
	
	    if (self.activeDate && this.compare(dt.date, self.activeDate) === 0) {
	      $scope.activeDt = dt;
	    }
	
	    return dt;
	  };
	
	  this.isDisabled = function(date) {
	    return $scope.disabled ||
	      this.minDate && this.compare(date, this.minDate) < 0 ||
	      this.maxDate && this.compare(date, this.maxDate) > 0 ||
	      $scope.dateDisabled && $scope.dateDisabled({date: date, mode: $scope.datepickerMode});
	  };
	
	  this.customClass = function(date) {
	    return $scope.customClass({date: date, mode: $scope.datepickerMode});
	  };
	
	  // Split array into smaller arrays
	  this.split = function(arr, size) {
	    var arrays = [];
	    while (arr.length > 0) {
	      arrays.push(arr.splice(0, size));
	    }
	    return arrays;
	  };
	
	  $scope.select = function(date) {
	    if ($scope.datepickerMode === self.minMode) {
	      var dt = ngModelCtrl.$viewValue ? dateParser.fromTimezone(new Date(ngModelCtrl.$viewValue), ngModelOptions.timezone) : new Date(0, 0, 0, 0, 0, 0, 0);
	      dt.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());
	      dt = dateParser.toTimezone(dt, ngModelOptions.timezone);
	      ngModelCtrl.$setViewValue(dt);
	      ngModelCtrl.$render();
	    } else {
	      self.activeDate = date;
	      setMode(self.modes[self.modes.indexOf($scope.datepickerMode) - 1]);
	
	      $scope.$emit('uib:datepicker.mode');
	    }
	  };
	
	  $scope.move = function(direction) {
	    var year = self.activeDate.getFullYear() + direction * (self.step.years || 0),
	        month = self.activeDate.getMonth() + direction * (self.step.months || 0);
	    self.activeDate.setFullYear(year, month, 1);
	    self.refreshView();
	  };
	
	  $scope.toggleMode = function(direction) {
	    direction = direction || 1;
	
	    if ($scope.datepickerMode === self.maxMode && direction === 1 ||
	      $scope.datepickerMode === self.minMode && direction === -1) {
	      return;
	    }
	
	    setMode(self.modes[self.modes.indexOf($scope.datepickerMode) + direction]);
	
	    $scope.$emit('uib:datepicker.mode');
	  };
	
	  // Key event mapper
	  $scope.keys = { 13: 'enter', 32: 'space', 33: 'pageup', 34: 'pagedown', 35: 'end', 36: 'home', 37: 'left', 38: 'up', 39: 'right', 40: 'down' };
	
	  var focusElement = function() {
	    self.element[0].focus();
	  };
	
	  // Listen for focus requests from popup directive
	  $scope.$on('uib:datepicker.focus', focusElement);
	
	  $scope.keydown = function(evt) {
	    var key = $scope.keys[evt.which];
	
	    if (!key || evt.shiftKey || evt.altKey || $scope.disabled) {
	      return;
	    }
	
	    evt.preventDefault();
	    if (!self.shortcutPropagation) {
	      evt.stopPropagation();
	    }
	
	    if (key === 'enter' || key === 'space') {
	      if (self.isDisabled(self.activeDate)) {
	        return; // do nothing
	      }
	      $scope.select(self.activeDate);
	    } else if (evt.ctrlKey && (key === 'up' || key === 'down')) {
	      $scope.toggleMode(key === 'up' ? 1 : -1);
	    } else {
	      self.handleKeyDown(key, evt);
	      self.refreshView();
	    }
	  };
	
	  $scope.$on("$destroy", function() {
	    //Clear all watch listeners on destroy
	    while (watchListeners.length) {
	      watchListeners.shift()();
	    }
	  });
	
	  function setMode(mode) {
	    $scope.datepickerMode = mode;
	    $scope.datepickerOptions.datepickerMode = mode;
	  }
	}])
	
	.controller('UibDaypickerController', ['$scope', '$element', 'dateFilter', function(scope, $element, dateFilter) {
	  var DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
	
	  this.step = { months: 1 };
	  this.element = $element;
	  function getDaysInMonth(year, month) {
	    return month === 1 && year % 4 === 0 &&
	      (year % 100 !== 0 || year % 400 === 0) ? 29 : DAYS_IN_MONTH[month];
	  }
	
	  this.init = function(ctrl) {
	    angular.extend(ctrl, this);
	    scope.showWeeks = ctrl.showWeeks;
	    ctrl.refreshView();
	  };
	
	  this.getDates = function(startDate, n) {
	    var dates = new Array(n), current = new Date(startDate), i = 0, date;
	    while (i < n) {
	      date = new Date(current);
	      dates[i++] = date;
	      current.setDate(current.getDate() + 1);
	    }
	    return dates;
	  };
	
	  this._refreshView = function() {
	    var year = this.activeDate.getFullYear(),
	      month = this.activeDate.getMonth(),
	      firstDayOfMonth = new Date(this.activeDate);
	
	    firstDayOfMonth.setFullYear(year, month, 1);
	
	    var difference = this.startingDay - firstDayOfMonth.getDay(),
	      numDisplayedFromPreviousMonth = difference > 0 ?
	        7 - difference : - difference,
	      firstDate = new Date(firstDayOfMonth);
	
	    if (numDisplayedFromPreviousMonth > 0) {
	      firstDate.setDate(-numDisplayedFromPreviousMonth + 1);
	    }
	
	    // 42 is the number of days on a six-week calendar
	    var days = this.getDates(firstDate, 42);
	    for (var i = 0; i < 42; i ++) {
	      days[i] = angular.extend(this.createDateObject(days[i], this.formatDay), {
	        secondary: days[i].getMonth() !== month,
	        uid: scope.uniqueId + '-' + i
	      });
	    }
	
	    scope.labels = new Array(7);
	    for (var j = 0; j < 7; j++) {
	      scope.labels[j] = {
	        abbr: dateFilter(days[j].date, this.formatDayHeader),
	        full: dateFilter(days[j].date, 'EEEE')
	      };
	    }
	
	    scope.title = dateFilter(this.activeDate, this.formatDayTitle);
	    scope.rows = this.split(days, 7);
	
	    if (scope.showWeeks) {
	      scope.weekNumbers = [];
	      var thursdayIndex = (4 + 7 - this.startingDay) % 7,
	          numWeeks = scope.rows.length;
	      for (var curWeek = 0; curWeek < numWeeks; curWeek++) {
	        scope.weekNumbers.push(
	          getISO8601WeekNumber(scope.rows[curWeek][thursdayIndex].date));
	      }
	    }
	  };
	
	  this.compare = function(date1, date2) {
	    var _date1 = new Date(date1.getFullYear(), date1.getMonth(), date1.getDate());
	    var _date2 = new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());
	    _date1.setFullYear(date1.getFullYear());
	    _date2.setFullYear(date2.getFullYear());
	    return _date1 - _date2;
	  };
	
	  function getISO8601WeekNumber(date) {
	    var checkDate = new Date(date);
	    checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7)); // Thursday
	    var time = checkDate.getTime();
	    checkDate.setMonth(0); // Compare with Jan 1
	    checkDate.setDate(1);
	    return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
	  }
	
	  this.handleKeyDown = function(key, evt) {
	    var date = this.activeDate.getDate();
	
	    if (key === 'left') {
	      date = date - 1;
	    } else if (key === 'up') {
	      date = date - 7;
	    } else if (key === 'right') {
	      date = date + 1;
	    } else if (key === 'down') {
	      date = date + 7;
	    } else if (key === 'pageup' || key === 'pagedown') {
	      var month = this.activeDate.getMonth() + (key === 'pageup' ? - 1 : 1);
	      this.activeDate.setMonth(month, 1);
	      date = Math.min(getDaysInMonth(this.activeDate.getFullYear(), this.activeDate.getMonth()), date);
	    } else if (key === 'home') {
	      date = 1;
	    } else if (key === 'end') {
	      date = getDaysInMonth(this.activeDate.getFullYear(), this.activeDate.getMonth());
	    }
	    this.activeDate.setDate(date);
	  };
	}])
	
	.controller('UibMonthpickerController', ['$scope', '$element', 'dateFilter', function(scope, $element, dateFilter) {
	  this.step = { years: 1 };
	  this.element = $element;
	
	  this.init = function(ctrl) {
	    angular.extend(ctrl, this);
	    ctrl.refreshView();
	  };
	
	  this._refreshView = function() {
	    var months = new Array(12),
	        year = this.activeDate.getFullYear(),
	        date;
	
	    for (var i = 0; i < 12; i++) {
	      date = new Date(this.activeDate);
	      date.setFullYear(year, i, 1);
	      months[i] = angular.extend(this.createDateObject(date, this.formatMonth), {
	        uid: scope.uniqueId + '-' + i
	      });
	    }
	
	    scope.title = dateFilter(this.activeDate, this.formatMonthTitle);
	    scope.rows = this.split(months, 3);
	  };
	
	  this.compare = function(date1, date2) {
	    var _date1 = new Date(date1.getFullYear(), date1.getMonth());
	    var _date2 = new Date(date2.getFullYear(), date2.getMonth());
	    _date1.setFullYear(date1.getFullYear());
	    _date2.setFullYear(date2.getFullYear());
	    return _date1 - _date2;
	  };
	
	  this.handleKeyDown = function(key, evt) {
	    var date = this.activeDate.getMonth();
	
	    if (key === 'left') {
	      date = date - 1;
	    } else if (key === 'up') {
	      date = date - 3;
	    } else if (key === 'right') {
	      date = date + 1;
	    } else if (key === 'down') {
	      date = date + 3;
	    } else if (key === 'pageup' || key === 'pagedown') {
	      var year = this.activeDate.getFullYear() + (key === 'pageup' ? - 1 : 1);
	      this.activeDate.setFullYear(year);
	    } else if (key === 'home') {
	      date = 0;
	    } else if (key === 'end') {
	      date = 11;
	    }
	    this.activeDate.setMonth(date);
	  };
	}])
	
	.controller('UibYearpickerController', ['$scope', '$element', 'dateFilter', function(scope, $element, dateFilter) {
	  var columns, range;
	  this.element = $element;
	
	  function getStartingYear(year) {
	    return parseInt((year - 1) / range, 10) * range + 1;
	  }
	
	  this.yearpickerInit = function() {
	    columns = this.yearColumns;
	    range = this.yearRows * columns;
	    this.step = { years: range };
	  };
	
	  this._refreshView = function() {
	    var years = new Array(range), date;
	
	    for (var i = 0, start = getStartingYear(this.activeDate.getFullYear()); i < range; i++) {
	      date = new Date(this.activeDate);
	      date.setFullYear(start + i, 0, 1);
	      years[i] = angular.extend(this.createDateObject(date, this.formatYear), {
	        uid: scope.uniqueId + '-' + i
	      });
	    }
	
	    scope.title = [years[0].label, years[range - 1].label].join(' - ');
	    scope.rows = this.split(years, columns);
	    scope.columns = columns;
	  };
	
	  this.compare = function(date1, date2) {
	    return date1.getFullYear() - date2.getFullYear();
	  };
	
	  this.handleKeyDown = function(key, evt) {
	    var date = this.activeDate.getFullYear();
	
	    if (key === 'left') {
	      date = date - 1;
	    } else if (key === 'up') {
	      date = date - columns;
	    } else if (key === 'right') {
	      date = date + 1;
	    } else if (key === 'down') {
	      date = date + columns;
	    } else if (key === 'pageup' || key === 'pagedown') {
	      date += (key === 'pageup' ? - 1 : 1) * range;
	    } else if (key === 'home') {
	      date = getStartingYear(this.activeDate.getFullYear());
	    } else if (key === 'end') {
	      date = getStartingYear(this.activeDate.getFullYear()) + range - 1;
	    }
	    this.activeDate.setFullYear(date);
	  };
	}])
	
	.directive('uibDatepicker', function() {
	  return {
	    replace: true,
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/datepicker/datepicker.html';
	    },
	    scope: {
	      datepickerOptions: '=?'
	    },
	    require: ['uibDatepicker', '^ngModel'],
	    controller: 'UibDatepickerController',
	    controllerAs: 'datepicker',
	    link: function(scope, element, attrs, ctrls) {
	      var datepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];
	
	      datepickerCtrl.init(ngModelCtrl);
	    }
	  };
	})
	
	.directive('uibDaypicker', function() {
	  return {
	    replace: true,
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/datepicker/day.html';
	    },
	    require: ['^uibDatepicker', 'uibDaypicker'],
	    controller: 'UibDaypickerController',
	    link: function(scope, element, attrs, ctrls) {
	      var datepickerCtrl = ctrls[0],
	        daypickerCtrl = ctrls[1];
	
	      daypickerCtrl.init(datepickerCtrl);
	    }
	  };
	})
	
	.directive('uibMonthpicker', function() {
	  return {
	    replace: true,
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/datepicker/month.html';
	    },
	    require: ['^uibDatepicker', 'uibMonthpicker'],
	    controller: 'UibMonthpickerController',
	    link: function(scope, element, attrs, ctrls) {
	      var datepickerCtrl = ctrls[0],
	        monthpickerCtrl = ctrls[1];
	
	      monthpickerCtrl.init(datepickerCtrl);
	    }
	  };
	})
	
	.directive('uibYearpicker', function() {
	  return {
	    replace: true,
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/datepicker/year.html';
	    },
	    require: ['^uibDatepicker', 'uibYearpicker'],
	    controller: 'UibYearpickerController',
	    link: function(scope, element, attrs, ctrls) {
	      var ctrl = ctrls[0];
	      angular.extend(ctrl, ctrls[1]);
	      ctrl.yearpickerInit();
	
	      ctrl.refreshView();
	    }
	  };
	});
	
	angular.module('ui.bootstrap.position', [])
	
	/**
	 * A set of utility methods for working with the DOM.
	 * It is meant to be used where we need to absolute-position elements in
	 * relation to another element (this is the case for tooltips, popovers,
	 * typeahead suggestions etc.).
	 */
	  .factory('$uibPosition', ['$document', '$window', function($document, $window) {
	    /**
	     * Used by scrollbarWidth() function to cache scrollbar's width.
	     * Do not access this variable directly, use scrollbarWidth() instead.
	     */
	    var SCROLLBAR_WIDTH;
	    /**
	     * scrollbar on body and html element in IE and Edge overlay
	     * content and should be considered 0 width.
	     */
	    var BODY_SCROLLBAR_WIDTH;
	    var OVERFLOW_REGEX = {
	      normal: /(auto|scroll)/,
	      hidden: /(auto|scroll|hidden)/
	    };
	    var PLACEMENT_REGEX = {
	      auto: /\s?auto?\s?/i,
	      primary: /^(top|bottom|left|right)$/,
	      secondary: /^(top|bottom|left|right|center)$/,
	      vertical: /^(top|bottom)$/
	    };
	    var BODY_REGEX = /(HTML|BODY)/;
	
	    return {
	
	      /**
	       * Provides a raw DOM element from a jQuery/jQLite element.
	       *
	       * @param {element} elem - The element to convert.
	       *
	       * @returns {element} A HTML element.
	       */
	      getRawNode: function(elem) {
	        return elem.nodeName ? elem : elem[0] || elem;
	      },
	
	      /**
	       * Provides a parsed number for a style property.  Strips
	       * units and casts invalid numbers to 0.
	       *
	       * @param {string} value - The style value to parse.
	       *
	       * @returns {number} A valid number.
	       */
	      parseStyle: function(value) {
	        value = parseFloat(value);
	        return isFinite(value) ? value : 0;
	      },
	
	      /**
	       * Provides the closest positioned ancestor.
	       *
	       * @param {element} element - The element to get the offest parent for.
	       *
	       * @returns {element} The closest positioned ancestor.
	       */
	      offsetParent: function(elem) {
	        elem = this.getRawNode(elem);
	
	        var offsetParent = elem.offsetParent || $document[0].documentElement;
	
	        function isStaticPositioned(el) {
	          return ($window.getComputedStyle(el).position || 'static') === 'static';
	        }
	
	        while (offsetParent && offsetParent !== $document[0].documentElement && isStaticPositioned(offsetParent)) {
	          offsetParent = offsetParent.offsetParent;
	        }
	
	        return offsetParent || $document[0].documentElement;
	      },
	
	      /**
	       * Provides the scrollbar width, concept from TWBS measureScrollbar()
	       * function in https://github.com/twbs/bootstrap/blob/master/js/modal.js
	       * In IE and Edge, scollbar on body and html element overlay and should
	       * return a width of 0.
	       *
	       * @returns {number} The width of the browser scollbar.
	       */
	      scrollbarWidth: function(isBody) {
	        if (isBody) {
	          if (angular.isUndefined(BODY_SCROLLBAR_WIDTH)) {
	            var bodyElem = $document.find('body');
	            bodyElem.addClass('uib-position-body-scrollbar-measure');
	            BODY_SCROLLBAR_WIDTH = $window.innerWidth - bodyElem[0].clientWidth;
	            BODY_SCROLLBAR_WIDTH = isFinite(BODY_SCROLLBAR_WIDTH) ? BODY_SCROLLBAR_WIDTH : 0;
	            bodyElem.removeClass('uib-position-body-scrollbar-measure');
	          }
	          return BODY_SCROLLBAR_WIDTH;
	        }
	
	        if (angular.isUndefined(SCROLLBAR_WIDTH)) {
	          var scrollElem = angular.element('<div class="uib-position-scrollbar-measure"></div>');
	          $document.find('body').append(scrollElem);
	          SCROLLBAR_WIDTH = scrollElem[0].offsetWidth - scrollElem[0].clientWidth;
	          SCROLLBAR_WIDTH = isFinite(SCROLLBAR_WIDTH) ? SCROLLBAR_WIDTH : 0;
	          scrollElem.remove();
	        }
	
	        return SCROLLBAR_WIDTH;
	      },
	
	      /**
	       * Provides the padding required on an element to replace the scrollbar.
	       *
	       * @returns {object} An object with the following properties:
	       *   <ul>
	       *     <li>**scrollbarWidth**: the width of the scrollbar</li>
	       *     <li>**widthOverflow**: whether the the width is overflowing</li>
	       *     <li>**right**: the amount of right padding on the element needed to replace the scrollbar</li>
	       *     <li>**rightOriginal**: the amount of right padding currently on the element</li>
	       *     <li>**heightOverflow**: whether the the height is overflowing</li>
	       *     <li>**bottom**: the amount of bottom padding on the element needed to replace the scrollbar</li>
	       *     <li>**bottomOriginal**: the amount of bottom padding currently on the element</li>
	       *   </ul>
	       */
	      scrollbarPadding: function(elem) {
	        elem = this.getRawNode(elem);
	
	        var elemStyle = $window.getComputedStyle(elem);
	        var paddingRight = this.parseStyle(elemStyle.paddingRight);
	        var paddingBottom = this.parseStyle(elemStyle.paddingBottom);
	        var scrollParent = this.scrollParent(elem, false, true);
	        var scrollbarWidth = this.scrollbarWidth(scrollParent, BODY_REGEX.test(scrollParent.tagName));
	
	        return {
	          scrollbarWidth: scrollbarWidth,
	          widthOverflow: scrollParent.scrollWidth > scrollParent.clientWidth,
	          right: paddingRight + scrollbarWidth,
	          originalRight: paddingRight,
	          heightOverflow: scrollParent.scrollHeight > scrollParent.clientHeight,
	          bottom: paddingBottom + scrollbarWidth,
	          originalBottom: paddingBottom
	         };
	      },
	
	      /**
	       * Checks to see if the element is scrollable.
	       *
	       * @param {element} elem - The element to check.
	       * @param {boolean=} [includeHidden=false] - Should scroll style of 'hidden' be considered,
	       *   default is false.
	       *
	       * @returns {boolean} Whether the element is scrollable.
	       */
	      isScrollable: function(elem, includeHidden) {
	        elem = this.getRawNode(elem);
	
	        var overflowRegex = includeHidden ? OVERFLOW_REGEX.hidden : OVERFLOW_REGEX.normal;
	        var elemStyle = $window.getComputedStyle(elem);
	        return overflowRegex.test(elemStyle.overflow + elemStyle.overflowY + elemStyle.overflowX);
	      },
	
	      /**
	       * Provides the closest scrollable ancestor.
	       * A port of the jQuery UI scrollParent method:
	       * https://github.com/jquery/jquery-ui/blob/master/ui/scroll-parent.js
	       *
	       * @param {element} elem - The element to find the scroll parent of.
	       * @param {boolean=} [includeHidden=false] - Should scroll style of 'hidden' be considered,
	       *   default is false.
	       * @param {boolean=} [includeSelf=false] - Should the element being passed be
	       * included in the scrollable llokup.
	       *
	       * @returns {element} A HTML element.
	       */
	      scrollParent: function(elem, includeHidden, includeSelf) {
	        elem = this.getRawNode(elem);
	
	        var overflowRegex = includeHidden ? OVERFLOW_REGEX.hidden : OVERFLOW_REGEX.normal;
	        var documentEl = $document[0].documentElement;
	        var elemStyle = $window.getComputedStyle(elem);
	        if (includeSelf && overflowRegex.test(elemStyle.overflow + elemStyle.overflowY + elemStyle.overflowX)) {
	          return elem;
	        }
	        var excludeStatic = elemStyle.position === 'absolute';
	        var scrollParent = elem.parentElement || documentEl;
	
	        if (scrollParent === documentEl || elemStyle.position === 'fixed') {
	          return documentEl;
	        }
	
	        while (scrollParent.parentElement && scrollParent !== documentEl) {
	          var spStyle = $window.getComputedStyle(scrollParent);
	          if (excludeStatic && spStyle.position !== 'static') {
	            excludeStatic = false;
	          }
	
	          if (!excludeStatic && overflowRegex.test(spStyle.overflow + spStyle.overflowY + spStyle.overflowX)) {
	            break;
	          }
	          scrollParent = scrollParent.parentElement;
	        }
	
	        return scrollParent;
	      },
	
	      /**
	       * Provides read-only equivalent of jQuery's position function:
	       * http://api.jquery.com/position/ - distance to closest positioned
	       * ancestor.  Does not account for margins by default like jQuery position.
	       *
	       * @param {element} elem - The element to caclulate the position on.
	       * @param {boolean=} [includeMargins=false] - Should margins be accounted
	       * for, default is false.
	       *
	       * @returns {object} An object with the following properties:
	       *   <ul>
	       *     <li>**width**: the width of the element</li>
	       *     <li>**height**: the height of the element</li>
	       *     <li>**top**: distance to top edge of offset parent</li>
	       *     <li>**left**: distance to left edge of offset parent</li>
	       *   </ul>
	       */
	      position: function(elem, includeMagins) {
	        elem = this.getRawNode(elem);
	
	        var elemOffset = this.offset(elem);
	        if (includeMagins) {
	          var elemStyle = $window.getComputedStyle(elem);
	          elemOffset.top -= this.parseStyle(elemStyle.marginTop);
	          elemOffset.left -= this.parseStyle(elemStyle.marginLeft);
	        }
	        var parent = this.offsetParent(elem);
	        var parentOffset = {top: 0, left: 0};
	
	        if (parent !== $document[0].documentElement) {
	          parentOffset = this.offset(parent);
	          parentOffset.top += parent.clientTop - parent.scrollTop;
	          parentOffset.left += parent.clientLeft - parent.scrollLeft;
	        }
	
	        return {
	          width: Math.round(angular.isNumber(elemOffset.width) ? elemOffset.width : elem.offsetWidth),
	          height: Math.round(angular.isNumber(elemOffset.height) ? elemOffset.height : elem.offsetHeight),
	          top: Math.round(elemOffset.top - parentOffset.top),
	          left: Math.round(elemOffset.left - parentOffset.left)
	        };
	      },
	
	      /**
	       * Provides read-only equivalent of jQuery's offset function:
	       * http://api.jquery.com/offset/ - distance to viewport.  Does
	       * not account for borders, margins, or padding on the body
	       * element.
	       *
	       * @param {element} elem - The element to calculate the offset on.
	       *
	       * @returns {object} An object with the following properties:
	       *   <ul>
	       *     <li>**width**: the width of the element</li>
	       *     <li>**height**: the height of the element</li>
	       *     <li>**top**: distance to top edge of viewport</li>
	       *     <li>**right**: distance to bottom edge of viewport</li>
	       *   </ul>
	       */
	      offset: function(elem) {
	        elem = this.getRawNode(elem);
	
	        var elemBCR = elem.getBoundingClientRect();
	        return {
	          width: Math.round(angular.isNumber(elemBCR.width) ? elemBCR.width : elem.offsetWidth),
	          height: Math.round(angular.isNumber(elemBCR.height) ? elemBCR.height : elem.offsetHeight),
	          top: Math.round(elemBCR.top + ($window.pageYOffset || $document[0].documentElement.scrollTop)),
	          left: Math.round(elemBCR.left + ($window.pageXOffset || $document[0].documentElement.scrollLeft))
	        };
	      },
	
	      /**
	       * Provides offset distance to the closest scrollable ancestor
	       * or viewport.  Accounts for border and scrollbar width.
	       *
	       * Right and bottom dimensions represent the distance to the
	       * respective edge of the viewport element.  If the element
	       * edge extends beyond the viewport, a negative value will be
	       * reported.
	       *
	       * @param {element} elem - The element to get the viewport offset for.
	       * @param {boolean=} [useDocument=false] - Should the viewport be the document element instead
	       * of the first scrollable element, default is false.
	       * @param {boolean=} [includePadding=true] - Should the padding on the offset parent element
	       * be accounted for, default is true.
	       *
	       * @returns {object} An object with the following properties:
	       *   <ul>
	       *     <li>**top**: distance to the top content edge of viewport element</li>
	       *     <li>**bottom**: distance to the bottom content edge of viewport element</li>
	       *     <li>**left**: distance to the left content edge of viewport element</li>
	       *     <li>**right**: distance to the right content edge of viewport element</li>
	       *   </ul>
	       */
	      viewportOffset: function(elem, useDocument, includePadding) {
	        elem = this.getRawNode(elem);
	        includePadding = includePadding !== false ? true : false;
	
	        var elemBCR = elem.getBoundingClientRect();
	        var offsetBCR = {top: 0, left: 0, bottom: 0, right: 0};
	
	        var offsetParent = useDocument ? $document[0].documentElement : this.scrollParent(elem);
	        var offsetParentBCR = offsetParent.getBoundingClientRect();
	
	        offsetBCR.top = offsetParentBCR.top + offsetParent.clientTop;
	        offsetBCR.left = offsetParentBCR.left + offsetParent.clientLeft;
	        if (offsetParent === $document[0].documentElement) {
	          offsetBCR.top += $window.pageYOffset;
	          offsetBCR.left += $window.pageXOffset;
	        }
	        offsetBCR.bottom = offsetBCR.top + offsetParent.clientHeight;
	        offsetBCR.right = offsetBCR.left + offsetParent.clientWidth;
	
	        if (includePadding) {
	          var offsetParentStyle = $window.getComputedStyle(offsetParent);
	          offsetBCR.top += this.parseStyle(offsetParentStyle.paddingTop);
	          offsetBCR.bottom -= this.parseStyle(offsetParentStyle.paddingBottom);
	          offsetBCR.left += this.parseStyle(offsetParentStyle.paddingLeft);
	          offsetBCR.right -= this.parseStyle(offsetParentStyle.paddingRight);
	        }
	
	        return {
	          top: Math.round(elemBCR.top - offsetBCR.top),
	          bottom: Math.round(offsetBCR.bottom - elemBCR.bottom),
	          left: Math.round(elemBCR.left - offsetBCR.left),
	          right: Math.round(offsetBCR.right - elemBCR.right)
	        };
	      },
	
	      /**
	       * Provides an array of placement values parsed from a placement string.
	       * Along with the 'auto' indicator, supported placement strings are:
	       *   <ul>
	       *     <li>top: element on top, horizontally centered on host element.</li>
	       *     <li>top-left: element on top, left edge aligned with host element left edge.</li>
	       *     <li>top-right: element on top, lerightft edge aligned with host element right edge.</li>
	       *     <li>bottom: element on bottom, horizontally centered on host element.</li>
	       *     <li>bottom-left: element on bottom, left edge aligned with host element left edge.</li>
	       *     <li>bottom-right: element on bottom, right edge aligned with host element right edge.</li>
	       *     <li>left: element on left, vertically centered on host element.</li>
	       *     <li>left-top: element on left, top edge aligned with host element top edge.</li>
	       *     <li>left-bottom: element on left, bottom edge aligned with host element bottom edge.</li>
	       *     <li>right: element on right, vertically centered on host element.</li>
	       *     <li>right-top: element on right, top edge aligned with host element top edge.</li>
	       *     <li>right-bottom: element on right, bottom edge aligned with host element bottom edge.</li>
	       *   </ul>
	       * A placement string with an 'auto' indicator is expected to be
	       * space separated from the placement, i.e: 'auto bottom-left'  If
	       * the primary and secondary placement values do not match 'top,
	       * bottom, left, right' then 'top' will be the primary placement and
	       * 'center' will be the secondary placement.  If 'auto' is passed, true
	       * will be returned as the 3rd value of the array.
	       *
	       * @param {string} placement - The placement string to parse.
	       *
	       * @returns {array} An array with the following values
	       * <ul>
	       *   <li>**[0]**: The primary placement.</li>
	       *   <li>**[1]**: The secondary placement.</li>
	       *   <li>**[2]**: If auto is passed: true, else undefined.</li>
	       * </ul>
	       */
	      parsePlacement: function(placement) {
	        var autoPlace = PLACEMENT_REGEX.auto.test(placement);
	        if (autoPlace) {
	          placement = placement.replace(PLACEMENT_REGEX.auto, '');
	        }
	
	        placement = placement.split('-');
	
	        placement[0] = placement[0] || 'top';
	        if (!PLACEMENT_REGEX.primary.test(placement[0])) {
	          placement[0] = 'top';
	        }
	
	        placement[1] = placement[1] || 'center';
	        if (!PLACEMENT_REGEX.secondary.test(placement[1])) {
	          placement[1] = 'center';
	        }
	
	        if (autoPlace) {
	          placement[2] = true;
	        } else {
	          placement[2] = false;
	        }
	
	        return placement;
	      },
	
	      /**
	       * Provides coordinates for an element to be positioned relative to
	       * another element.  Passing 'auto' as part of the placement parameter
	       * will enable smart placement - where the element fits. i.e:
	       * 'auto left-top' will check to see if there is enough space to the left
	       * of the hostElem to fit the targetElem, if not place right (same for secondary
	       * top placement).  Available space is calculated using the viewportOffset
	       * function.
	       *
	       * @param {element} hostElem - The element to position against.
	       * @param {element} targetElem - The element to position.
	       * @param {string=} [placement=top] - The placement for the targetElem,
	       *   default is 'top'. 'center' is assumed as secondary placement for
	       *   'top', 'left', 'right', and 'bottom' placements.  Available placements are:
	       *   <ul>
	       *     <li>top</li>
	       *     <li>top-right</li>
	       *     <li>top-left</li>
	       *     <li>bottom</li>
	       *     <li>bottom-left</li>
	       *     <li>bottom-right</li>
	       *     <li>left</li>
	       *     <li>left-top</li>
	       *     <li>left-bottom</li>
	       *     <li>right</li>
	       *     <li>right-top</li>
	       *     <li>right-bottom</li>
	       *   </ul>
	       * @param {boolean=} [appendToBody=false] - Should the top and left values returned
	       *   be calculated from the body element, default is false.
	       *
	       * @returns {object} An object with the following properties:
	       *   <ul>
	       *     <li>**top**: Value for targetElem top.</li>
	       *     <li>**left**: Value for targetElem left.</li>
	       *     <li>**placement**: The resolved placement.</li>
	       *   </ul>
	       */
	      positionElements: function(hostElem, targetElem, placement, appendToBody) {
	        hostElem = this.getRawNode(hostElem);
	        targetElem = this.getRawNode(targetElem);
	
	        // need to read from prop to support tests.
	        var targetWidth = angular.isDefined(targetElem.offsetWidth) ? targetElem.offsetWidth : targetElem.prop('offsetWidth');
	        var targetHeight = angular.isDefined(targetElem.offsetHeight) ? targetElem.offsetHeight : targetElem.prop('offsetHeight');
	
	        placement = this.parsePlacement(placement);
	
	        var hostElemPos = appendToBody ? this.offset(hostElem) : this.position(hostElem);
	        var targetElemPos = {top: 0, left: 0, placement: ''};
	
	        if (placement[2]) {
	          var viewportOffset = this.viewportOffset(hostElem, appendToBody);
	
	          var targetElemStyle = $window.getComputedStyle(targetElem);
	          var adjustedSize = {
	            width: targetWidth + Math.round(Math.abs(this.parseStyle(targetElemStyle.marginLeft) + this.parseStyle(targetElemStyle.marginRight))),
	            height: targetHeight + Math.round(Math.abs(this.parseStyle(targetElemStyle.marginTop) + this.parseStyle(targetElemStyle.marginBottom)))
	          };
	
	          placement[0] = placement[0] === 'top' && adjustedSize.height > viewportOffset.top && adjustedSize.height <= viewportOffset.bottom ? 'bottom' :
	                         placement[0] === 'bottom' && adjustedSize.height > viewportOffset.bottom && adjustedSize.height <= viewportOffset.top ? 'top' :
	                         placement[0] === 'left' && adjustedSize.width > viewportOffset.left && adjustedSize.width <= viewportOffset.right ? 'right' :
	                         placement[0] === 'right' && adjustedSize.width > viewportOffset.right && adjustedSize.width <= viewportOffset.left ? 'left' :
	                         placement[0];
	
	          placement[1] = placement[1] === 'top' && adjustedSize.height - hostElemPos.height > viewportOffset.bottom && adjustedSize.height - hostElemPos.height <= viewportOffset.top ? 'bottom' :
	                         placement[1] === 'bottom' && adjustedSize.height - hostElemPos.height > viewportOffset.top && adjustedSize.height - hostElemPos.height <= viewportOffset.bottom ? 'top' :
	                         placement[1] === 'left' && adjustedSize.width - hostElemPos.width > viewportOffset.right && adjustedSize.width - hostElemPos.width <= viewportOffset.left ? 'right' :
	                         placement[1] === 'right' && adjustedSize.width - hostElemPos.width > viewportOffset.left && adjustedSize.width - hostElemPos.width <= viewportOffset.right ? 'left' :
	                         placement[1];
	
	          if (placement[1] === 'center') {
	            if (PLACEMENT_REGEX.vertical.test(placement[0])) {
	              var xOverflow = hostElemPos.width / 2 - targetWidth / 2;
	              if (viewportOffset.left + xOverflow < 0 && adjustedSize.width - hostElemPos.width <= viewportOffset.right) {
	                placement[1] = 'left';
	              } else if (viewportOffset.right + xOverflow < 0 && adjustedSize.width - hostElemPos.width <= viewportOffset.left) {
	                placement[1] = 'right';
	              }
	            } else {
	              var yOverflow = hostElemPos.height / 2 - adjustedSize.height / 2;
	              if (viewportOffset.top + yOverflow < 0 && adjustedSize.height - hostElemPos.height <= viewportOffset.bottom) {
	                placement[1] = 'top';
	              } else if (viewportOffset.bottom + yOverflow < 0 && adjustedSize.height - hostElemPos.height <= viewportOffset.top) {
	                placement[1] = 'bottom';
	              }
	            }
	          }
	        }
	
	        switch (placement[0]) {
	          case 'top':
	            targetElemPos.top = hostElemPos.top - targetHeight;
	            break;
	          case 'bottom':
	            targetElemPos.top = hostElemPos.top + hostElemPos.height;
	            break;
	          case 'left':
	            targetElemPos.left = hostElemPos.left - targetWidth;
	            break;
	          case 'right':
	            targetElemPos.left = hostElemPos.left + hostElemPos.width;
	            break;
	        }
	
	        switch (placement[1]) {
	          case 'top':
	            targetElemPos.top = hostElemPos.top;
	            break;
	          case 'bottom':
	            targetElemPos.top = hostElemPos.top + hostElemPos.height - targetHeight;
	            break;
	          case 'left':
	            targetElemPos.left = hostElemPos.left;
	            break;
	          case 'right':
	            targetElemPos.left = hostElemPos.left + hostElemPos.width - targetWidth;
	            break;
	          case 'center':
	            if (PLACEMENT_REGEX.vertical.test(placement[0])) {
	              targetElemPos.left = hostElemPos.left + hostElemPos.width / 2 - targetWidth / 2;
	            } else {
	              targetElemPos.top = hostElemPos.top + hostElemPos.height / 2 - targetHeight / 2;
	            }
	            break;
	        }
	
	        targetElemPos.top = Math.round(targetElemPos.top);
	        targetElemPos.left = Math.round(targetElemPos.left);
	        targetElemPos.placement = placement[1] === 'center' ? placement[0] : placement[0] + '-' + placement[1];
	
	        return targetElemPos;
	      },
	
	      /**
	      * Provides a way for positioning tooltip & dropdown
	      * arrows when using placement options beyond the standard
	      * left, right, top, or bottom.
	      *
	      * @param {element} elem - The tooltip/dropdown element.
	      * @param {string} placement - The placement for the elem.
	      */
	      positionArrow: function(elem, placement) {
	        elem = this.getRawNode(elem);
	
	        var innerElem = elem.querySelector('.tooltip-inner, .popover-inner');
	        if (!innerElem) {
	          return;
	        }
	
	        var isTooltip = angular.element(innerElem).hasClass('tooltip-inner');
	
	        var arrowElem = isTooltip ? elem.querySelector('.tooltip-arrow') : elem.querySelector('.arrow');
	        if (!arrowElem) {
	          return;
	        }
	
	        var arrowCss = {
	          top: '',
	          bottom: '',
	          left: '',
	          right: ''
	        };
	
	        placement = this.parsePlacement(placement);
	        if (placement[1] === 'center') {
	          // no adjustment necessary - just reset styles
	          angular.element(arrowElem).css(arrowCss);
	          return;
	        }
	
	        var borderProp = 'border-' + placement[0] + '-width';
	        var borderWidth = $window.getComputedStyle(arrowElem)[borderProp];
	
	        var borderRadiusProp = 'border-';
	        if (PLACEMENT_REGEX.vertical.test(placement[0])) {
	          borderRadiusProp += placement[0] + '-' + placement[1];
	        } else {
	          borderRadiusProp += placement[1] + '-' + placement[0];
	        }
	        borderRadiusProp += '-radius';
	        var borderRadius = $window.getComputedStyle(isTooltip ? innerElem : elem)[borderRadiusProp];
	
	        switch (placement[0]) {
	          case 'top':
	            arrowCss.bottom = isTooltip ? '0' : '-' + borderWidth;
	            break;
	          case 'bottom':
	            arrowCss.top = isTooltip ? '0' : '-' + borderWidth;
	            break;
	          case 'left':
	            arrowCss.right = isTooltip ? '0' : '-' + borderWidth;
	            break;
	          case 'right':
	            arrowCss.left = isTooltip ? '0' : '-' + borderWidth;
	            break;
	        }
	
	        arrowCss[placement[1]] = borderRadius;
	
	        angular.element(arrowElem).css(arrowCss);
	      }
	    };
	  }]);
	
	angular.module('ui.bootstrap.datepickerPopup', ['ui.bootstrap.datepicker', 'ui.bootstrap.position'])
	
	.value('$datepickerPopupLiteralWarning', true)
	
	.constant('uibDatepickerPopupConfig', {
	  altInputFormats: [],
	  appendToBody: false,
	  clearText: 'Clear',
	  closeOnDateSelection: true,
	  closeText: 'Done',
	  currentText: 'Today',
	  datepickerPopup: 'yyyy-MM-dd',
	  datepickerPopupTemplateUrl: 'uib/template/datepickerPopup/popup.html',
	  datepickerTemplateUrl: 'uib/template/datepicker/datepicker.html',
	  html5Types: {
	    date: 'yyyy-MM-dd',
	    'datetime-local': 'yyyy-MM-ddTHH:mm:ss.sss',
	    'month': 'yyyy-MM'
	  },
	  onOpenFocus: true,
	  showButtonBar: true,
	  placement: 'auto bottom-left'
	})
	
	.controller('UibDatepickerPopupController', ['$scope', '$element', '$attrs', '$compile', '$log', '$parse', '$window', '$document', '$rootScope', '$uibPosition', 'dateFilter', 'uibDateParser', 'uibDatepickerPopupConfig', '$timeout', 'uibDatepickerConfig', '$datepickerPopupLiteralWarning',
	function($scope, $element, $attrs, $compile, $log, $parse, $window, $document, $rootScope, $position, dateFilter, dateParser, datepickerPopupConfig, $timeout, datepickerConfig, $datepickerPopupLiteralWarning) {
	  var cache = {},
	    isHtml5DateInput = false;
	  var dateFormat, closeOnDateSelection, appendToBody, onOpenFocus,
	    datepickerPopupTemplateUrl, datepickerTemplateUrl, popupEl, datepickerEl, scrollParentEl,
	    ngModel, ngModelOptions, $popup, altInputFormats, watchListeners = [],
	    timezone;
	
	  this.init = function(_ngModel_) {
	    ngModel = _ngModel_;
	    ngModelOptions = _ngModel_.$options;
	    closeOnDateSelection = angular.isDefined($attrs.closeOnDateSelection) ?
	      $scope.$parent.$eval($attrs.closeOnDateSelection) :
	      datepickerPopupConfig.closeOnDateSelection;
	    appendToBody = angular.isDefined($attrs.datepickerAppendToBody) ?
	      $scope.$parent.$eval($attrs.datepickerAppendToBody) :
	      datepickerPopupConfig.appendToBody;
	    onOpenFocus = angular.isDefined($attrs.onOpenFocus) ?
	      $scope.$parent.$eval($attrs.onOpenFocus) : datepickerPopupConfig.onOpenFocus;
	    datepickerPopupTemplateUrl = angular.isDefined($attrs.datepickerPopupTemplateUrl) ?
	      $attrs.datepickerPopupTemplateUrl :
	      datepickerPopupConfig.datepickerPopupTemplateUrl;
	    datepickerTemplateUrl = angular.isDefined($attrs.datepickerTemplateUrl) ?
	      $attrs.datepickerTemplateUrl : datepickerPopupConfig.datepickerTemplateUrl;
	    altInputFormats = angular.isDefined($attrs.altInputFormats) ?
	      $scope.$parent.$eval($attrs.altInputFormats) :
	      datepickerPopupConfig.altInputFormats;
	
	    $scope.showButtonBar = angular.isDefined($attrs.showButtonBar) ?
	      $scope.$parent.$eval($attrs.showButtonBar) :
	      datepickerPopupConfig.showButtonBar;
	
	    if (datepickerPopupConfig.html5Types[$attrs.type]) {
	      dateFormat = datepickerPopupConfig.html5Types[$attrs.type];
	      isHtml5DateInput = true;
	    } else {
	      dateFormat = $attrs.uibDatepickerPopup || datepickerPopupConfig.datepickerPopup;
	      $attrs.$observe('uibDatepickerPopup', function(value, oldValue) {
	        var newDateFormat = value || datepickerPopupConfig.datepickerPopup;
	        // Invalidate the $modelValue to ensure that formatters re-run
	        // FIXME: Refactor when PR is merged: https://github.com/angular/angular.js/pull/10764
	        if (newDateFormat !== dateFormat) {
	          dateFormat = newDateFormat;
	          ngModel.$modelValue = null;
	
	          if (!dateFormat) {
	            throw new Error('uibDatepickerPopup must have a date format specified.');
	          }
	        }
	      });
	    }
	
	    if (!dateFormat) {
	      throw new Error('uibDatepickerPopup must have a date format specified.');
	    }
	
	    if (isHtml5DateInput && $attrs.uibDatepickerPopup) {
	      throw new Error('HTML5 date input types do not support custom formats.');
	    }
	
	    // popup element used to display calendar
	    popupEl = angular.element('<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>');
	    if (ngModelOptions) {
	      timezone = ngModelOptions.timezone;
	      $scope.ngModelOptions = angular.copy(ngModelOptions);
	      $scope.ngModelOptions.timezone = null;
	      if ($scope.ngModelOptions.updateOnDefault === true) {
	        $scope.ngModelOptions.updateOn = $scope.ngModelOptions.updateOn ?
	          $scope.ngModelOptions.updateOn + ' default' : 'default';
	      }
	
	      popupEl.attr('ng-model-options', 'ngModelOptions');
	    } else {
	      timezone = null;
	    }
	
	    popupEl.attr({
	      'ng-model': 'date',
	      'ng-change': 'dateSelection(date)',
	      'template-url': datepickerPopupTemplateUrl
	    });
	
	    // datepicker element
	    datepickerEl = angular.element(popupEl.children()[0]);
	    datepickerEl.attr('template-url', datepickerTemplateUrl);
	
	    if (!$scope.datepickerOptions) {
	      $scope.datepickerOptions = {};
	    }
	
	    if (isHtml5DateInput) {
	      if ($attrs.type === 'month') {
	        $scope.datepickerOptions.datepickerMode = 'month';
	        $scope.datepickerOptions.minMode = 'month';
	      }
	    }
	
	    datepickerEl.attr('datepicker-options', 'datepickerOptions');
	
	    if (!isHtml5DateInput) {
	      // Internal API to maintain the correct ng-invalid-[key] class
	      ngModel.$$parserName = 'date';
	      ngModel.$validators.date = validator;
	      ngModel.$parsers.unshift(parseDate);
	      ngModel.$formatters.push(function(value) {
	        if (ngModel.$isEmpty(value)) {
	          $scope.date = value;
	          return value;
	        }
	
	        $scope.date = dateParser.fromTimezone(value, timezone);
	
	        if (angular.isNumber($scope.date)) {
	          $scope.date = new Date($scope.date);
	        }
	
	        return dateParser.filter($scope.date, dateFormat);
	      });
	    } else {
	      ngModel.$formatters.push(function(value) {
	        $scope.date = dateParser.fromTimezone(value, timezone);
	        return value;
	      });
	    }
	
	    // Detect changes in the view from the text box
	    ngModel.$viewChangeListeners.push(function() {
	      $scope.date = parseDateString(ngModel.$viewValue);
	    });
	
	    $element.on('keydown', inputKeydownBind);
	
	    $popup = $compile(popupEl)($scope);
	    // Prevent jQuery cache memory leak (template is now redundant after linking)
	    popupEl.remove();
	
	    if (appendToBody) {
	      $document.find('body').append($popup);
	    } else {
	      $element.after($popup);
	    }
	
	    $scope.$on('$destroy', function() {
	      if ($scope.isOpen === true) {
	        if (!$rootScope.$$phase) {
	          $scope.$apply(function() {
	            $scope.isOpen = false;
	          });
	        }
	      }
	
	      $popup.remove();
	      $element.off('keydown', inputKeydownBind);
	      $document.off('click', documentClickBind);
	      if (scrollParentEl) {
	        scrollParentEl.off('scroll', positionPopup);
	      }
	      angular.element($window).off('resize', positionPopup);
	
	      //Clear all watch listeners on destroy
	      while (watchListeners.length) {
	        watchListeners.shift()();
	      }
	    });
	  };
	
	  $scope.getText = function(key) {
	    return $scope[key + 'Text'] || datepickerPopupConfig[key + 'Text'];
	  };
	
	  $scope.isDisabled = function(date) {
	    if (date === 'today') {
	      date = dateParser.fromTimezone(new Date(), timezone);
	    }
	
	    var dates = {};
	    angular.forEach(['minDate', 'maxDate'], function(key) {
	      if ($scope.datepickerOptions[key] === null) {
	        dates[key] = null;
	      } else if (angular.isDate($scope.datepickerOptions[key])) {
	        dates[key] = dateParser.fromTimezone(new Date($scope.datepickerOptions[key]), timezone);
	      } else {
	        if ($datepickerPopupLiteralWarning) {
	          $log.warn('Literal date support has been deprecated, please switch to date object usage');
	        }
	
	        dates[key] = new Date(dateFilter($scope.datepickerOptions[key], 'medium'));
	      }
	    });
	
	    return $scope.datepickerOptions &&
	      dates.minDate && $scope.compare(date, dates.minDate) < 0 ||
	      dates.maxDate && $scope.compare(date, dates.maxDate) > 0;
	  };
	
	  $scope.compare = function(date1, date2) {
	    return new Date(date1.getFullYear(), date1.getMonth(), date1.getDate()) - new Date(date2.getFullYear(), date2.getMonth(), date2.getDate());
	  };
	
	  // Inner change
	  $scope.dateSelection = function(dt) {
	    if (angular.isDefined(dt)) {
	      $scope.date = dt;
	    }
	    var date = $scope.date ? dateParser.filter($scope.date, dateFormat) : null; // Setting to NULL is necessary for form validators to function
	    $element.val(date);
	    ngModel.$setViewValue(date);
	
	    if (closeOnDateSelection) {
	      $scope.isOpen = false;
	      $element[0].focus();
	    }
	  };
	
	  $scope.keydown = function(evt) {
	    if (evt.which === 27) {
	      evt.stopPropagation();
	      $scope.isOpen = false;
	      $element[0].focus();
	    }
	  };
	
	  $scope.select = function(date, evt) {
	    evt.stopPropagation();
	
	    if (date === 'today') {
	      var today = new Date();
	      if (angular.isDate($scope.date)) {
	        date = new Date($scope.date);
	        date.setFullYear(today.getFullYear(), today.getMonth(), today.getDate());
	      } else {
	        date = new Date(today.setHours(0, 0, 0, 0));
	      }
	    }
	    $scope.dateSelection(date);
	  };
	
	  $scope.close = function(evt) {
	    evt.stopPropagation();
	
	    $scope.isOpen = false;
	    $element[0].focus();
	  };
	
	  $scope.disabled = angular.isDefined($attrs.disabled) || false;
	  if ($attrs.ngDisabled) {
	    watchListeners.push($scope.$parent.$watch($parse($attrs.ngDisabled), function(disabled) {
	      $scope.disabled = disabled;
	    }));
	  }
	
	  $scope.$watch('isOpen', function(value) {
	    if (value) {
	      if (!$scope.disabled) {
	        $timeout(function() {
	          positionPopup();
	
	          if (onOpenFocus) {
	            $scope.$broadcast('uib:datepicker.focus');
	          }
	
	          $document.on('click', documentClickBind);
	
	          var placement = $attrs.popupPlacement ? $attrs.popupPlacement : datepickerPopupConfig.placement;
	          if (appendToBody || $position.parsePlacement(placement)[2]) {
	            scrollParentEl = scrollParentEl || angular.element($position.scrollParent($element));
	            if (scrollParentEl) {
	              scrollParentEl.on('scroll', positionPopup);
	            }
	          } else {
	            scrollParentEl = null;
	          }
	
	          angular.element($window).on('resize', positionPopup);
	        }, 0, false);
	      } else {
	        $scope.isOpen = false;
	      }
	    } else {
	      $document.off('click', documentClickBind);
	      if (scrollParentEl) {
	        scrollParentEl.off('scroll', positionPopup);
	      }
	      angular.element($window).off('resize', positionPopup);
	    }
	  });
	
	  function cameltoDash(string) {
	    return string.replace(/([A-Z])/g, function($1) { return '-' + $1.toLowerCase(); });
	  }
	
	  function parseDateString(viewValue) {
	    var date = dateParser.parse(viewValue, dateFormat, $scope.date);
	    if (isNaN(date)) {
	      for (var i = 0; i < altInputFormats.length; i++) {
	        date = dateParser.parse(viewValue, altInputFormats[i], $scope.date);
	        if (!isNaN(date)) {
	          return date;
	        }
	      }
	    }
	    return date;
	  }
	
	  function parseDate(viewValue) {
	    if (angular.isNumber(viewValue)) {
	      // presumably timestamp to date object
	      viewValue = new Date(viewValue);
	    }
	
	    if (!viewValue) {
	      return null;
	    }
	
	    if (angular.isDate(viewValue) && !isNaN(viewValue)) {
	      return viewValue;
	    }
	
	    if (angular.isString(viewValue)) {
	      var date = parseDateString(viewValue);
	      if (!isNaN(date)) {
	        return dateParser.toTimezone(date, timezone);
	      }
	    }
	
	    return ngModel.$options && ngModel.$options.allowInvalid ? viewValue : undefined;
	  }
	
	  function validator(modelValue, viewValue) {
	    var value = modelValue || viewValue;
	
	    if (!$attrs.ngRequired && !value) {
	      return true;
	    }
	
	    if (angular.isNumber(value)) {
	      value = new Date(value);
	    }
	
	    if (!value) {
	      return true;
	    }
	
	    if (angular.isDate(value) && !isNaN(value)) {
	      return true;
	    }
	
	    if (angular.isString(value)) {
	      return !isNaN(parseDateString(viewValue));
	    }
	
	    return false;
	  }
	
	  function documentClickBind(event) {
	    if (!$scope.isOpen && $scope.disabled) {
	      return;
	    }
	
	    var popup = $popup[0];
	    var dpContainsTarget = $element[0].contains(event.target);
	    // The popup node may not be an element node
	    // In some browsers (IE) only element nodes have the 'contains' function
	    var popupContainsTarget = popup.contains !== undefined && popup.contains(event.target);
	    if ($scope.isOpen && !(dpContainsTarget || popupContainsTarget)) {
	      $scope.$apply(function() {
	        $scope.isOpen = false;
	      });
	    }
	  }
	
	  function inputKeydownBind(evt) {
	    if (evt.which === 27 && $scope.isOpen) {
	      evt.preventDefault();
	      evt.stopPropagation();
	      $scope.$apply(function() {
	        $scope.isOpen = false;
	      });
	      $element[0].focus();
	    } else if (evt.which === 40 && !$scope.isOpen) {
	      evt.preventDefault();
	      evt.stopPropagation();
	      $scope.$apply(function() {
	        $scope.isOpen = true;
	      });
	    }
	  }
	
	  function positionPopup() {
	    if ($scope.isOpen) {
	      var dpElement = angular.element($popup[0].querySelector('.uib-datepicker-popup'));
	      var placement = $attrs.popupPlacement ? $attrs.popupPlacement : datepickerPopupConfig.placement;
	      var position = $position.positionElements($element, dpElement, placement, appendToBody);
	      dpElement.css({top: position.top + 'px', left: position.left + 'px'});
	      if (dpElement.hasClass('uib-position-measure')) {
	        dpElement.removeClass('uib-position-measure');
	      }
	    }
	  }
	
	  $scope.$on('uib:datepicker.mode', function() {
	    $timeout(positionPopup, 0, false);
	  });
	}])
	
	.directive('uibDatepickerPopup', function() {
	  return {
	    require: ['ngModel', 'uibDatepickerPopup'],
	    controller: 'UibDatepickerPopupController',
	    scope: {
	      datepickerOptions: '=?',
	      isOpen: '=?',
	      currentText: '@',
	      clearText: '@',
	      closeText: '@'
	    },
	    link: function(scope, element, attrs, ctrls) {
	      var ngModel = ctrls[0],
	        ctrl = ctrls[1];
	
	      ctrl.init(ngModel);
	    }
	  };
	})
	
	.directive('uibDatepickerPopupWrap', function() {
	  return {
	    replace: true,
	    transclude: true,
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/datepickerPopup/popup.html';
	    }
	  };
	});
	
	angular.module('ui.bootstrap.debounce', [])
	/**
	 * A helper, internal service that debounces a function
	 */
	  .factory('$$debounce', ['$timeout', function($timeout) {
	    return function(callback, debounceTime) {
	      var timeoutPromise;
	
	      return function() {
	        var self = this;
	        var args = Array.prototype.slice.call(arguments);
	        if (timeoutPromise) {
	          $timeout.cancel(timeoutPromise);
	        }
	
	        timeoutPromise = $timeout(function() {
	          callback.apply(self, args);
	        }, debounceTime);
	      };
	    };
	  }]);
	
	angular.module('ui.bootstrap.dropdown', ['ui.bootstrap.position'])
	
	.constant('uibDropdownConfig', {
	  appendToOpenClass: 'uib-dropdown-open',
	  openClass: 'open'
	})
	
	.service('uibDropdownService', ['$document', '$rootScope', function($document, $rootScope) {
	  var openScope = null;
	
	  this.open = function(dropdownScope) {
	    if (!openScope) {
	      $document.on('click', closeDropdown);
	      $document.on('keydown', keybindFilter);
	    }
	
	    if (openScope && openScope !== dropdownScope) {
	      openScope.isOpen = false;
	    }
	
	    openScope = dropdownScope;
	  };
	
	  this.close = function(dropdownScope) {
	    if (openScope === dropdownScope) {
	      openScope = null;
	      $document.off('click', closeDropdown);
	      $document.off('keydown', keybindFilter);
	    }
	  };
	
	  var closeDropdown = function(evt) {
	    // This method may still be called during the same mouse event that
	    // unbound this event handler. So check openScope before proceeding.
	    if (!openScope) { return; }
	
	    if (evt && openScope.getAutoClose() === 'disabled') { return; }
	
	    if (evt && evt.which === 3) { return; }
	
	    var toggleElement = openScope.getToggleElement();
	    if (evt && toggleElement && toggleElement[0].contains(evt.target)) {
	      return;
	    }
	
	    var dropdownElement = openScope.getDropdownElement();
	    if (evt && openScope.getAutoClose() === 'outsideClick' &&
	      dropdownElement && dropdownElement[0].contains(evt.target)) {
	      return;
	    }
	
	    openScope.isOpen = false;
	
	    if (!$rootScope.$$phase) {
	      openScope.$apply();
	    }
	  };
	
	  var keybindFilter = function(evt) {
	    if (evt.which === 27) {
	      openScope.focusToggleElement();
	      closeDropdown();
	    } else if (openScope.isKeynavEnabled() && [38, 40].indexOf(evt.which) !== -1 && openScope.isOpen) {
	      evt.preventDefault();
	      evt.stopPropagation();
	      openScope.focusDropdownEntry(evt.which);
	    }
	  };
	}])
	
	.controller('UibDropdownController', ['$scope', '$element', '$attrs', '$parse', 'uibDropdownConfig', 'uibDropdownService', '$animate', '$uibPosition', '$document', '$compile', '$templateRequest', function($scope, $element, $attrs, $parse, dropdownConfig, uibDropdownService, $animate, $position, $document, $compile, $templateRequest) {
	  var self = this,
	    scope = $scope.$new(), // create a child scope so we are not polluting original one
	    templateScope,
	    appendToOpenClass = dropdownConfig.appendToOpenClass,
	    openClass = dropdownConfig.openClass,
	    getIsOpen,
	    setIsOpen = angular.noop,
	    toggleInvoker = $attrs.onToggle ? $parse($attrs.onToggle) : angular.noop,
	    appendToBody = false,
	    appendTo = null,
	    keynavEnabled = false,
	    selectedOption = null,
	    body = $document.find('body');
	
	  $element.addClass('dropdown');
	
	  this.init = function() {
	    if ($attrs.isOpen) {
	      getIsOpen = $parse($attrs.isOpen);
	      setIsOpen = getIsOpen.assign;
	
	      $scope.$watch(getIsOpen, function(value) {
	        scope.isOpen = !!value;
	      });
	    }
	
	    if (angular.isDefined($attrs.dropdownAppendTo)) {
	      var appendToEl = $parse($attrs.dropdownAppendTo)(scope);
	      if (appendToEl) {
	        appendTo = angular.element(appendToEl);
	      }
	    }
	
	    appendToBody = angular.isDefined($attrs.dropdownAppendToBody);
	    keynavEnabled = angular.isDefined($attrs.keyboardNav);
	
	    if (appendToBody && !appendTo) {
	      appendTo = body;
	    }
	
	    if (appendTo && self.dropdownMenu) {
	      appendTo.append(self.dropdownMenu);
	      $element.on('$destroy', function handleDestroyEvent() {
	        self.dropdownMenu.remove();
	      });
	    }
	  };
	
	  this.toggle = function(open) {
	    scope.isOpen = arguments.length ? !!open : !scope.isOpen;
	    if (angular.isFunction(setIsOpen)) {
	      setIsOpen(scope, scope.isOpen);
	    }
	
	    return scope.isOpen;
	  };
	
	  // Allow other directives to watch status
	  this.isOpen = function() {
	    return scope.isOpen;
	  };
	
	  scope.getToggleElement = function() {
	    return self.toggleElement;
	  };
	
	  scope.getAutoClose = function() {
	    return $attrs.autoClose || 'always'; //or 'outsideClick' or 'disabled'
	  };
	
	  scope.getElement = function() {
	    return $element;
	  };
	
	  scope.isKeynavEnabled = function() {
	    return keynavEnabled;
	  };
	
	  scope.focusDropdownEntry = function(keyCode) {
	    var elems = self.dropdownMenu ? //If append to body is used.
	      angular.element(self.dropdownMenu).find('a') :
	      $element.find('ul').eq(0).find('a');
	
	    switch (keyCode) {
	      case 40: {
	        if (!angular.isNumber(self.selectedOption)) {
	          self.selectedOption = 0;
	        } else {
	          self.selectedOption = self.selectedOption === elems.length - 1 ?
	            self.selectedOption :
	            self.selectedOption + 1;
	        }
	        break;
	      }
	      case 38: {
	        if (!angular.isNumber(self.selectedOption)) {
	          self.selectedOption = elems.length - 1;
	        } else {
	          self.selectedOption = self.selectedOption === 0 ?
	            0 : self.selectedOption - 1;
	        }
	        break;
	      }
	    }
	    elems[self.selectedOption].focus();
	  };
	
	  scope.getDropdownElement = function() {
	    return self.dropdownMenu;
	  };
	
	  scope.focusToggleElement = function() {
	    if (self.toggleElement) {
	      self.toggleElement[0].focus();
	    }
	  };
	
	  scope.$watch('isOpen', function(isOpen, wasOpen) {
	    if (appendTo && self.dropdownMenu) {
	      var pos = $position.positionElements($element, self.dropdownMenu, 'bottom-left', true),
	        css,
	        rightalign;
	
	      css = {
	        top: pos.top + 'px',
	        display: isOpen ? 'block' : 'none'
	      };
	
	      rightalign = self.dropdownMenu.hasClass('dropdown-menu-right');
	      if (!rightalign) {
	        css.left = pos.left + 'px';
	        css.right = 'auto';
	      } else {
	        css.left = 'auto';
	        css.right = window.innerWidth -
	          (pos.left + $element.prop('offsetWidth')) + 'px';
	      }
	
	      // Need to adjust our positioning to be relative to the appendTo container
	      // if it's not the body element
	      if (!appendToBody) {
	        var appendOffset = $position.offset(appendTo);
	
	        css.top = pos.top - appendOffset.top + 'px';
	
	        if (!rightalign) {
	          css.left = pos.left - appendOffset.left + 'px';
	        } else {
	          css.right = window.innerWidth -
	            (pos.left - appendOffset.left + $element.prop('offsetWidth')) + 'px';
	        }
	      }
	
	      self.dropdownMenu.css(css);
	    }
	
	    var openContainer = appendTo ? appendTo : $element;
	    var hasOpenClass = openContainer.hasClass(appendTo ? appendToOpenClass : openClass);
	
	    if (hasOpenClass === !isOpen) {
	      $animate[isOpen ? 'addClass' : 'removeClass'](openContainer, appendTo ? appendToOpenClass : openClass).then(function() {
	        if (angular.isDefined(isOpen) && isOpen !== wasOpen) {
	          toggleInvoker($scope, { open: !!isOpen });
	        }
	      });
	    }
	
	    if (isOpen) {
	      if (self.dropdownMenuTemplateUrl) {
	        $templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent) {
	          templateScope = scope.$new();
	          $compile(tplContent.trim())(templateScope, function(dropdownElement) {
	            var newEl = dropdownElement;
	            self.dropdownMenu.replaceWith(newEl);
	            self.dropdownMenu = newEl;
	          });
	        });
	      }
	
	      scope.focusToggleElement();
	      uibDropdownService.open(scope);
	    } else {
	      if (self.dropdownMenuTemplateUrl) {
	        if (templateScope) {
	          templateScope.$destroy();
	        }
	        var newEl = angular.element('<ul class="dropdown-menu"></ul>');
	        self.dropdownMenu.replaceWith(newEl);
	        self.dropdownMenu = newEl;
	      }
	
	      uibDropdownService.close(scope);
	      self.selectedOption = null;
	    }
	
	    if (angular.isFunction(setIsOpen)) {
	      setIsOpen($scope, isOpen);
	    }
	  });
	}])
	
	.directive('uibDropdown', function() {
	  return {
	    controller: 'UibDropdownController',
	    link: function(scope, element, attrs, dropdownCtrl) {
	      dropdownCtrl.init();
	    }
	  };
	})
	
	.directive('uibDropdownMenu', function() {
	  return {
	    restrict: 'A',
	    require: '?^uibDropdown',
	    link: function(scope, element, attrs, dropdownCtrl) {
	      if (!dropdownCtrl || angular.isDefined(attrs.dropdownNested)) {
	        return;
	      }
	
	      element.addClass('dropdown-menu');
	
	      var tplUrl = attrs.templateUrl;
	      if (tplUrl) {
	        dropdownCtrl.dropdownMenuTemplateUrl = tplUrl;
	      }
	
	      if (!dropdownCtrl.dropdownMenu) {
	        dropdownCtrl.dropdownMenu = element;
	      }
	    }
	  };
	})
	
	.directive('uibDropdownToggle', function() {
	  return {
	    require: '?^uibDropdown',
	    link: function(scope, element, attrs, dropdownCtrl) {
	      if (!dropdownCtrl) {
	        return;
	      }
	
	      element.addClass('dropdown-toggle');
	
	      dropdownCtrl.toggleElement = element;
	
	      var toggleDropdown = function(event) {
	        event.preventDefault();
	
	        if (!element.hasClass('disabled') && !attrs.disabled) {
	          scope.$apply(function() {
	            dropdownCtrl.toggle();
	          });
	        }
	      };
	
	      element.bind('click', toggleDropdown);
	
	      // WAI-ARIA
	      element.attr({ 'aria-haspopup': true, 'aria-expanded': false });
	      scope.$watch(dropdownCtrl.isOpen, function(isOpen) {
	        element.attr('aria-expanded', !!isOpen);
	      });
	
	      scope.$on('$destroy', function() {
	        element.unbind('click', toggleDropdown);
	      });
	    }
	  };
	});
	
	angular.module('ui.bootstrap.stackedMap', [])
	/**
	 * A helper, internal data structure that acts as a map but also allows getting / removing
	 * elements in the LIFO order
	 */
	  .factory('$$stackedMap', function() {
	    return {
	      createNew: function() {
	        var stack = [];
	
	        return {
	          add: function(key, value) {
	            stack.push({
	              key: key,
	              value: value
	            });
	          },
	          get: function(key) {
	            for (var i = 0; i < stack.length; i++) {
	              if (key === stack[i].key) {
	                return stack[i];
	              }
	            }
	          },
	          keys: function() {
	            var keys = [];
	            for (var i = 0; i < stack.length; i++) {
	              keys.push(stack[i].key);
	            }
	            return keys;
	          },
	          top: function() {
	            return stack[stack.length - 1];
	          },
	          remove: function(key) {
	            var idx = -1;
	            for (var i = 0; i < stack.length; i++) {
	              if (key === stack[i].key) {
	                idx = i;
	                break;
	              }
	            }
	            return stack.splice(idx, 1)[0];
	          },
	          removeTop: function() {
	            return stack.splice(stack.length - 1, 1)[0];
	          },
	          length: function() {
	            return stack.length;
	          }
	        };
	      }
	    };
	  });
	angular.module('ui.bootstrap.modal', ['ui.bootstrap.stackedMap', 'ui.bootstrap.position'])
	/**
	 * A helper, internal data structure that stores all references attached to key
	 */
	  .factory('$$multiMap', function() {
	    return {
	      createNew: function() {
	        var map = {};
	
	        return {
	          entries: function() {
	            return Object.keys(map).map(function(key) {
	              return {
	                key: key,
	                value: map[key]
	              };
	            });
	          },
	          get: function(key) {
	            return map[key];
	          },
	          hasKey: function(key) {
	            return !!map[key];
	          },
	          keys: function() {
	            return Object.keys(map);
	          },
	          put: function(key, value) {
	            if (!map[key]) {
	              map[key] = [];
	            }
	
	            map[key].push(value);
	          },
	          remove: function(key, value) {
	            var values = map[key];
	
	            if (!values) {
	              return;
	            }
	
	            var idx = values.indexOf(value);
	
	            if (idx !== -1) {
	              values.splice(idx, 1);
	            }
	
	            if (!values.length) {
	              delete map[key];
	            }
	          }
	        };
	      }
	    };
	  })
	
	/**
	 * Pluggable resolve mechanism for the modal resolve resolution
	 * Supports UI Router's $resolve service
	 */
	  .provider('$uibResolve', function() {
	    var resolve = this;
	    this.resolver = null;
	
	    this.setResolver = function(resolver) {
	      this.resolver = resolver;
	    };
	
	    this.$get = ['$injector', '$q', function($injector, $q) {
	      var resolver = resolve.resolver ? $injector.get(resolve.resolver) : null;
	      return {
	        resolve: function(invocables, locals, parent, self) {
	          if (resolver) {
	            return resolver.resolve(invocables, locals, parent, self);
	          }
	
	          var promises = [];
	
	          angular.forEach(invocables, function(value) {
	            if (angular.isFunction(value) || angular.isArray(value)) {
	              promises.push($q.resolve($injector.invoke(value)));
	            } else if (angular.isString(value)) {
	              promises.push($q.resolve($injector.get(value)));
	            } else {
	              promises.push($q.resolve(value));
	            }
	          });
	
	          return $q.all(promises).then(function(resolves) {
	            var resolveObj = {};
	            var resolveIter = 0;
	            angular.forEach(invocables, function(value, key) {
	              resolveObj[key] = resolves[resolveIter++];
	            });
	
	            return resolveObj;
	          });
	        }
	      };
	    }];
	  })
	
	/**
	 * A helper directive for the $modal service. It creates a backdrop element.
	 */
	  .directive('uibModalBackdrop', ['$animate', '$injector', '$uibModalStack',
	  function($animate, $injector, $modalStack) {
	    return {
	      replace: true,
	      templateUrl: 'uib/template/modal/backdrop.html',
	      compile: function(tElement, tAttrs) {
	        tElement.addClass(tAttrs.backdropClass);
	        return linkFn;
	      }
	    };
	
	    function linkFn(scope, element, attrs) {
	      if (attrs.modalInClass) {
	        $animate.addClass(element, attrs.modalInClass);
	
	        scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {
	          var done = setIsAsync();
	          if (scope.modalOptions.animation) {
	            $animate.removeClass(element, attrs.modalInClass).then(done);
	          } else {
	            done();
	          }
	        });
	      }
	    }
	  }])
	
	  .directive('uibModalWindow', ['$uibModalStack', '$q', '$animateCss', '$document',
	  function($modalStack, $q, $animateCss, $document) {
	    return {
	      scope: {
	        index: '@'
	      },
	      replace: true,
	      transclude: true,
	      templateUrl: function(tElement, tAttrs) {
	        return tAttrs.templateUrl || 'uib/template/modal/window.html';
	      },
	      link: function(scope, element, attrs) {
	        element.addClass(attrs.windowClass || '');
	        element.addClass(attrs.windowTopClass || '');
	        scope.size = attrs.size;
	
	        scope.close = function(evt) {
	          var modal = $modalStack.getTop();
	          if (modal && modal.value.backdrop &&
	            modal.value.backdrop !== 'static' &&
	            evt.target === evt.currentTarget) {
	            evt.preventDefault();
	            evt.stopPropagation();
	            $modalStack.dismiss(modal.key, 'backdrop click');
	          }
	        };
	
	        // moved from template to fix issue #2280
	        element.on('click', scope.close);
	
	        // This property is only added to the scope for the purpose of detecting when this directive is rendered.
	        // We can detect that by using this property in the template associated with this directive and then use
	        // {@link Attribute#$observe} on it. For more details please see {@link TableColumnResize}.
	        scope.$isRendered = true;
	
	        // Deferred object that will be resolved when this modal is render.
	        var modalRenderDeferObj = $q.defer();
	        // Observe function will be called on next digest cycle after compilation, ensuring that the DOM is ready.
	        // In order to use this way of finding whether DOM is ready, we need to observe a scope property used in modal's template.
	        attrs.$observe('modalRender', function(value) {
	          if (value === 'true') {
	            modalRenderDeferObj.resolve();
	          }
	        });
	
	        modalRenderDeferObj.promise.then(function() {
	          var animationPromise = null;
	
	          if (attrs.modalInClass) {
	            animationPromise = $animateCss(element, {
	              addClass: attrs.modalInClass
	            }).start();
	
	            scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {
	              var done = setIsAsync();
	              $animateCss(element, {
	                removeClass: attrs.modalInClass
	              }).start().then(done);
	            });
	          }
	
	
	          $q.when(animationPromise).then(function() {
	            // Notify {@link $modalStack} that modal is rendered.
	            var modal = $modalStack.getTop();
	            if (modal) {
	              $modalStack.modalRendered(modal.key);
	            }
	
	            /**
	             * If something within the freshly-opened modal already has focus (perhaps via a
	             * directive that causes focus). then no need to try and focus anything.
	             */
	            if (!($document[0].activeElement && element[0].contains($document[0].activeElement))) {
	              var inputWithAutofocus = element[0].querySelector('[autofocus]');
	              /**
	               * Auto-focusing of a freshly-opened modal element causes any child elements
	               * with the autofocus attribute to lose focus. This is an issue on touch
	               * based devices which will show and then hide the onscreen keyboard.
	               * Attempts to refocus the autofocus element via JavaScript will not reopen
	               * the onscreen keyboard. Fixed by updated the focusing logic to only autofocus
	               * the modal element if the modal does not contain an autofocus element.
	               */
	              if (inputWithAutofocus) {
	                inputWithAutofocus.focus();
	              } else {
	                element[0].focus();
	              }
	            }
	          });
	        });
	      }
	    };
	  }])
	
	  .directive('uibModalAnimationClass', function() {
	    return {
	      compile: function(tElement, tAttrs) {
	        if (tAttrs.modalAnimation) {
	          tElement.addClass(tAttrs.uibModalAnimationClass);
	        }
	      }
	    };
	  })
	
	  .directive('uibModalTransclude', function() {
	    return {
	      link: function(scope, element, attrs, controller, transclude) {
	        transclude(scope.$parent, function(clone) {
	          element.empty();
	          element.append(clone);
	        });
	      }
	    };
	  })
	
	  .factory('$uibModalStack', ['$animate', '$animateCss', '$document',
	    '$compile', '$rootScope', '$q', '$$multiMap', '$$stackedMap', '$uibPosition',
	    function($animate, $animateCss, $document, $compile, $rootScope, $q, $$multiMap, $$stackedMap, $uibPosition) {
	      var OPENED_MODAL_CLASS = 'modal-open';
	
	      var backdropDomEl, backdropScope;
	      var openedWindows = $$stackedMap.createNew();
	      var openedClasses = $$multiMap.createNew();
	      var $modalStack = {
	        NOW_CLOSING_EVENT: 'modal.stack.now-closing'
	      };
	      var topModalIndex = 0;
	      var previousTopOpenedModal = null;
	
	      //Modal focus behavior
	      var tabableSelector = 'a[href], area[href], input:not([disabled]), ' +
	        'button:not([disabled]),select:not([disabled]), textarea:not([disabled]), ' +
	        'iframe, object, embed, *[tabindex], *[contenteditable=true]';
	      var scrollbarPadding;
	
	      function isVisible(element) {
	        return !!(element.offsetWidth ||
	          element.offsetHeight ||
	          element.getClientRects().length);
	      }
	
	      function backdropIndex() {
	        var topBackdropIndex = -1;
	        var opened = openedWindows.keys();
	        for (var i = 0; i < opened.length; i++) {
	          if (openedWindows.get(opened[i]).value.backdrop) {
	            topBackdropIndex = i;
	          }
	        }
	
	        // If any backdrop exist, ensure that it's index is always
	        // right below the top modal
	        if (topBackdropIndex > -1 && topBackdropIndex < topModalIndex) {
	          topBackdropIndex = topModalIndex;
	        }
	        return topBackdropIndex;
	      }
	
	      $rootScope.$watch(backdropIndex, function(newBackdropIndex) {
	        if (backdropScope) {
	          backdropScope.index = newBackdropIndex;
	        }
	      });
	
	      function removeModalWindow(modalInstance, elementToReceiveFocus) {
	        var modalWindow = openedWindows.get(modalInstance).value;
	        var appendToElement = modalWindow.appendTo;
	
	        //clean up the stack
	        openedWindows.remove(modalInstance);
	        previousTopOpenedModal = openedWindows.top();
	        if (previousTopOpenedModal) {
	          topModalIndex = parseInt(previousTopOpenedModal.value.modalDomEl.attr('index'), 10);
	        }
	
	        removeAfterAnimate(modalWindow.modalDomEl, modalWindow.modalScope, function() {
	          var modalBodyClass = modalWindow.openedClass || OPENED_MODAL_CLASS;
	          openedClasses.remove(modalBodyClass, modalInstance);
	          appendToElement.toggleClass(modalBodyClass, openedClasses.hasKey(modalBodyClass));
	          if (scrollbarPadding && scrollbarPadding.heightOverflow && scrollbarPadding.scrollbarWidth) {
	            if (scrollbarPadding.originalRight) {
	              appendToElement.css({paddingRight: scrollbarPadding.originalRight + 'px'});
	            } else {
	              appendToElement.css({paddingRight: ''});
	            }
	            scrollbarPadding = null;
	          }
	          toggleTopWindowClass(true);
	        }, modalWindow.closedDeferred);
	        checkRemoveBackdrop();
	
	        //move focus to specified element if available, or else to body
	        if (elementToReceiveFocus && elementToReceiveFocus.focus) {
	          elementToReceiveFocus.focus();
	        } else if (appendToElement.focus) {
	          appendToElement.focus();
	        }
	      }
	
	      // Add or remove "windowTopClass" from the top window in the stack
	      function toggleTopWindowClass(toggleSwitch) {
	        var modalWindow;
	
	        if (openedWindows.length() > 0) {
	          modalWindow = openedWindows.top().value;
	          modalWindow.modalDomEl.toggleClass(modalWindow.windowTopClass || '', toggleSwitch);
	        }
	      }
	
	      function checkRemoveBackdrop() {
	        //remove backdrop if no longer needed
	        if (backdropDomEl && backdropIndex() === -1) {
	          var backdropScopeRef = backdropScope;
	          removeAfterAnimate(backdropDomEl, backdropScope, function() {
	            backdropScopeRef = null;
	          });
	          backdropDomEl = undefined;
	          backdropScope = undefined;
	        }
	      }
	
	      function removeAfterAnimate(domEl, scope, done, closedDeferred) {
	        var asyncDeferred;
	        var asyncPromise = null;
	        var setIsAsync = function() {
	          if (!asyncDeferred) {
	            asyncDeferred = $q.defer();
	            asyncPromise = asyncDeferred.promise;
	          }
	
	          return function asyncDone() {
	            asyncDeferred.resolve();
	          };
	        };
	        scope.$broadcast($modalStack.NOW_CLOSING_EVENT, setIsAsync);
	
	        // Note that it's intentional that asyncPromise might be null.
	        // That's when setIsAsync has not been called during the
	        // NOW_CLOSING_EVENT broadcast.
	        return $q.when(asyncPromise).then(afterAnimating);
	
	        function afterAnimating() {
	          if (afterAnimating.done) {
	            return;
	          }
	          afterAnimating.done = true;
	
	          $animate.leave(domEl).then(function() {
	            domEl.remove();
	            if (closedDeferred) {
	              closedDeferred.resolve();
	            }
	          });
	
	          scope.$destroy();
	          if (done) {
	            done();
	          }
	        }
	      }
	
	      $document.on('keydown', keydownListener);
	
	      $rootScope.$on('$destroy', function() {
	        $document.off('keydown', keydownListener);
	      });
	
	      function keydownListener(evt) {
	        if (evt.isDefaultPrevented()) {
	          return evt;
	        }
	
	        var modal = openedWindows.top();
	        if (modal) {
	          switch (evt.which) {
	            case 27: {
	              if (modal.value.keyboard) {
	                evt.preventDefault();
	                $rootScope.$apply(function() {
	                  $modalStack.dismiss(modal.key, 'escape key press');
	                });
	              }
	              break;
	            }
	            case 9: {
	              var list = $modalStack.loadFocusElementList(modal);
	              var focusChanged = false;
	              if (evt.shiftKey) {
	                if ($modalStack.isFocusInFirstItem(evt, list) || $modalStack.isModalFocused(evt, modal)) {
	                  focusChanged = $modalStack.focusLastFocusableElement(list);
	                }
	              } else {
	                if ($modalStack.isFocusInLastItem(evt, list)) {
	                  focusChanged = $modalStack.focusFirstFocusableElement(list);
	                }
	              }
	
	              if (focusChanged) {
	                evt.preventDefault();
	                evt.stopPropagation();
	              }
	
	              break;
	            }
	          }
	        }
	      }
	
	      $modalStack.open = function(modalInstance, modal) {
	        var modalOpener = $document[0].activeElement,
	          modalBodyClass = modal.openedClass || OPENED_MODAL_CLASS;
	
	        toggleTopWindowClass(false);
	        
	        // Store the current top first, to determine what index we ought to use
	        // for the current top modal
	        previousTopOpenedModal = openedWindows.top();
	
	        openedWindows.add(modalInstance, {
	          deferred: modal.deferred,
	          renderDeferred: modal.renderDeferred,
	          closedDeferred: modal.closedDeferred,
	          modalScope: modal.scope,
	          backdrop: modal.backdrop,
	          keyboard: modal.keyboard,
	          openedClass: modal.openedClass,
	          windowTopClass: modal.windowTopClass,
	          animation: modal.animation,
	          appendTo: modal.appendTo
	        });
	
	        openedClasses.put(modalBodyClass, modalInstance);
	
	        var appendToElement = modal.appendTo,
	            currBackdropIndex = backdropIndex();
	
	        if (!appendToElement.length) {
	          throw new Error('appendTo element not found. Make sure that the element passed is in DOM.');
	        }
	
	        if (currBackdropIndex >= 0 && !backdropDomEl) {
	          backdropScope = $rootScope.$new(true);
	          backdropScope.modalOptions = modal;
	          backdropScope.index = currBackdropIndex;
	          backdropDomEl = angular.element('<div uib-modal-backdrop="modal-backdrop"></div>');
	          backdropDomEl.attr('backdrop-class', modal.backdropClass);
	          if (modal.animation) {
	            backdropDomEl.attr('modal-animation', 'true');
	          }
	          $compile(backdropDomEl)(backdropScope);
	          $animate.enter(backdropDomEl, appendToElement);
	        }
	
	        // Set the top modal index based on the index of the previous top modal
	        topModalIndex = previousTopOpenedModal ? parseInt(previousTopOpenedModal.value.modalDomEl.attr('index'), 10) + 1 : 0;
	        var angularDomEl = angular.element('<div uib-modal-window="modal-window"></div>');
	        angularDomEl.attr({
	          'template-url': modal.windowTemplateUrl,
	          'window-class': modal.windowClass,
	          'window-top-class': modal.windowTopClass,
	          'size': modal.size,
	          'index': topModalIndex,
	          'animate': 'animate'
	        }).html(modal.content);
	        if (modal.animation) {
	          angularDomEl.attr('modal-animation', 'true');
	        }
	
	        scrollbarPadding = $uibPosition.scrollbarPadding(appendToElement);
	        if (scrollbarPadding.heightOverflow && scrollbarPadding.scrollbarWidth) {
	          appendToElement.css({paddingRight: scrollbarPadding.right + 'px'});
	        }
	        appendToElement.addClass(modalBodyClass);
	        $animate.enter($compile(angularDomEl)(modal.scope), appendToElement);
	
	        openedWindows.top().value.modalDomEl = angularDomEl;
	        openedWindows.top().value.modalOpener = modalOpener;
	      };
	
	      function broadcastClosing(modalWindow, resultOrReason, closing) {
	        return !modalWindow.value.modalScope.$broadcast('modal.closing', resultOrReason, closing).defaultPrevented;
	      }
	
	      $modalStack.close = function(modalInstance, result) {
	        var modalWindow = openedWindows.get(modalInstance);
	        if (modalWindow && broadcastClosing(modalWindow, result, true)) {
	          modalWindow.value.modalScope.$$uibDestructionScheduled = true;
	          modalWindow.value.deferred.resolve(result);
	          removeModalWindow(modalInstance, modalWindow.value.modalOpener);
	          return true;
	        }
	        return !modalWindow;
	      };
	
	      $modalStack.dismiss = function(modalInstance, reason) {
	        var modalWindow = openedWindows.get(modalInstance);
	        if (modalWindow && broadcastClosing(modalWindow, reason, false)) {
	          modalWindow.value.modalScope.$$uibDestructionScheduled = true;
	          modalWindow.value.deferred.reject(reason);
	          removeModalWindow(modalInstance, modalWindow.value.modalOpener);
	          return true;
	        }
	        return !modalWindow;
	      };
	
	      $modalStack.dismissAll = function(reason) {
	        var topModal = this.getTop();
	        while (topModal && this.dismiss(topModal.key, reason)) {
	          topModal = this.getTop();
	        }
	      };
	
	      $modalStack.getTop = function() {
	        return openedWindows.top();
	      };
	
	      $modalStack.modalRendered = function(modalInstance) {
	        var modalWindow = openedWindows.get(modalInstance);
	        if (modalWindow) {
	          modalWindow.value.renderDeferred.resolve();
	        }
	      };
	
	      $modalStack.focusFirstFocusableElement = function(list) {
	        if (list.length > 0) {
	          list[0].focus();
	          return true;
	        }
	        return false;
	      };
	
	      $modalStack.focusLastFocusableElement = function(list) {
	        if (list.length > 0) {
	          list[list.length - 1].focus();
	          return true;
	        }
	        return false;
	      };
	
	      $modalStack.isModalFocused = function(evt, modalWindow) {
	        if (evt && modalWindow) {
	          var modalDomEl = modalWindow.value.modalDomEl;
	          if (modalDomEl && modalDomEl.length) {
	            return (evt.target || evt.srcElement) === modalDomEl[0];
	          }
	        }
	        return false;
	      };
	
	      $modalStack.isFocusInFirstItem = function(evt, list) {
	        if (list.length > 0) {
	          return (evt.target || evt.srcElement) === list[0];
	        }
	        return false;
	      };
	
	      $modalStack.isFocusInLastItem = function(evt, list) {
	        if (list.length > 0) {
	          return (evt.target || evt.srcElement) === list[list.length - 1];
	        }
	        return false;
	      };
	
	      $modalStack.loadFocusElementList = function(modalWindow) {
	        if (modalWindow) {
	          var modalDomE1 = modalWindow.value.modalDomEl;
	          if (modalDomE1 && modalDomE1.length) {
	            var elements = modalDomE1[0].querySelectorAll(tabableSelector);
	            return elements ?
	              Array.prototype.filter.call(elements, function(element) {
	                return isVisible(element);
	              }) : elements;
	          }
	        }
	      };
	
	      return $modalStack;
	    }])
	
	  .provider('$uibModal', function() {
	    var $modalProvider = {
	      options: {
	        animation: true,
	        backdrop: true, //can also be false or 'static'
	        keyboard: true
	      },
	      $get: ['$rootScope', '$q', '$document', '$templateRequest', '$controller', '$uibResolve', '$uibModalStack',
	        function ($rootScope, $q, $document, $templateRequest, $controller, $uibResolve, $modalStack) {
	          var $modal = {};
	
	          function getTemplatePromise(options) {
	            return options.template ? $q.when(options.template) :
	              $templateRequest(angular.isFunction(options.templateUrl) ?
	                options.templateUrl() : options.templateUrl);
	          }
	
	          var promiseChain = null;
	          $modal.getPromiseChain = function() {
	            return promiseChain;
	          };
	
	          $modal.open = function(modalOptions) {
	            var modalResultDeferred = $q.defer();
	            var modalOpenedDeferred = $q.defer();
	            var modalClosedDeferred = $q.defer();
	            var modalRenderDeferred = $q.defer();
	
	            //prepare an instance of a modal to be injected into controllers and returned to a caller
	            var modalInstance = {
	              result: modalResultDeferred.promise,
	              opened: modalOpenedDeferred.promise,
	              closed: modalClosedDeferred.promise,
	              rendered: modalRenderDeferred.promise,
	              close: function (result) {
	                return $modalStack.close(modalInstance, result);
	              },
	              dismiss: function (reason) {
	                return $modalStack.dismiss(modalInstance, reason);
	              }
	            };
	
	            //merge and clean up options
	            modalOptions = angular.extend({}, $modalProvider.options, modalOptions);
	            modalOptions.resolve = modalOptions.resolve || {};
	            modalOptions.appendTo = modalOptions.appendTo || $document.find('body').eq(0);
	
	            //verify options
	            if (!modalOptions.template && !modalOptions.templateUrl) {
	              throw new Error('One of template or templateUrl options is required.');
	            }
	
	            var templateAndResolvePromise =
	              $q.all([getTemplatePromise(modalOptions), $uibResolve.resolve(modalOptions.resolve, {}, null, null)]);
	
	            function resolveWithTemplate() {
	              return templateAndResolvePromise;
	            }
	
	            // Wait for the resolution of the existing promise chain.
	            // Then switch to our own combined promise dependency (regardless of how the previous modal fared).
	            // Then add to $modalStack and resolve opened.
	            // Finally clean up the chain variable if no subsequent modal has overwritten it.
	            var samePromise;
	            samePromise = promiseChain = $q.all([promiseChain])
	              .then(resolveWithTemplate, resolveWithTemplate)
	              .then(function resolveSuccess(tplAndVars) {
	                var providedScope = modalOptions.scope || $rootScope;
	
	                var modalScope = providedScope.$new();
	                modalScope.$close = modalInstance.close;
	                modalScope.$dismiss = modalInstance.dismiss;
	
	                modalScope.$on('$destroy', function() {
	                  if (!modalScope.$$uibDestructionScheduled) {
	                    modalScope.$dismiss('$uibUnscheduledDestruction');
	                  }
	                });
	
	                var ctrlInstance, ctrlInstantiate, ctrlLocals = {};
	
	                //controllers
	                if (modalOptions.controller) {
	                  ctrlLocals.$scope = modalScope;
	                  ctrlLocals.$uibModalInstance = modalInstance;
	                  angular.forEach(tplAndVars[1], function(value, key) {
	                    ctrlLocals[key] = value;
	                  });
	
	                  // the third param will make the controller instantiate later,private api
	                  // @see https://github.com/angular/angular.js/blob/master/src/ng/controller.js#L126
	                  ctrlInstantiate = $controller(modalOptions.controller, ctrlLocals, true);
	                  if (modalOptions.controllerAs) {
	                    ctrlInstance = ctrlInstantiate.instance;
	
	                    if (modalOptions.bindToController) {
	                      ctrlInstance.$close = modalScope.$close;
	                      ctrlInstance.$dismiss = modalScope.$dismiss;
	                      angular.extend(ctrlInstance, providedScope);
	                    }
	
	                    ctrlInstance = ctrlInstantiate();
	
	                    modalScope[modalOptions.controllerAs] = ctrlInstance;
	                  } else {
	                    ctrlInstance = ctrlInstantiate();
	                  }
	
	                  if (angular.isFunction(ctrlInstance.$onInit)) {
	                    ctrlInstance.$onInit();
	                  }
	                }
	
	                $modalStack.open(modalInstance, {
	                  scope: modalScope,
	                  deferred: modalResultDeferred,
	                  renderDeferred: modalRenderDeferred,
	                  closedDeferred: modalClosedDeferred,
	                  content: tplAndVars[0],
	                  animation: modalOptions.animation,
	                  backdrop: modalOptions.backdrop,
	                  keyboard: modalOptions.keyboard,
	                  backdropClass: modalOptions.backdropClass,
	                  windowTopClass: modalOptions.windowTopClass,
	                  windowClass: modalOptions.windowClass,
	                  windowTemplateUrl: modalOptions.windowTemplateUrl,
	                  size: modalOptions.size,
	                  openedClass: modalOptions.openedClass,
	                  appendTo: modalOptions.appendTo
	                });
	                modalOpenedDeferred.resolve(true);
	
	            }, function resolveError(reason) {
	              modalOpenedDeferred.reject(reason);
	              modalResultDeferred.reject(reason);
	            })['finally'](function() {
	              if (promiseChain === samePromise) {
	                promiseChain = null;
	              }
	            });
	
	            return modalInstance;
	          };
	
	          return $modal;
	        }
	      ]
	    };
	
	    return $modalProvider;
	  });
	
	angular.module('ui.bootstrap.paging', [])
	/**
	 * Helper internal service for generating common controller code between the
	 * pager and pagination components
	 */
	.factory('uibPaging', ['$parse', function($parse) {
	  return {
	    create: function(ctrl, $scope, $attrs) {
	      ctrl.setNumPages = $attrs.numPages ? $parse($attrs.numPages).assign : angular.noop;
	      ctrl.ngModelCtrl = { $setViewValue: angular.noop }; // nullModelCtrl
	      ctrl._watchers = [];
	
	      ctrl.init = function(ngModelCtrl, config) {
	        ctrl.ngModelCtrl = ngModelCtrl;
	        ctrl.config = config;
	
	        ngModelCtrl.$render = function() {
	          ctrl.render();
	        };
	
	        if ($attrs.itemsPerPage) {
	          ctrl._watchers.push($scope.$parent.$watch($attrs.itemsPerPage, function(value) {
	            ctrl.itemsPerPage = parseInt(value, 10);
	            $scope.totalPages = ctrl.calculateTotalPages();
	            ctrl.updatePage();
	          }));
	        } else {
	          ctrl.itemsPerPage = config.itemsPerPage;
	        }
	
	        $scope.$watch('totalItems', function(newTotal, oldTotal) {
	          if (angular.isDefined(newTotal) || newTotal !== oldTotal) {
	            $scope.totalPages = ctrl.calculateTotalPages();
	            ctrl.updatePage();
	          }
	        });
	      };
	
	      ctrl.calculateTotalPages = function() {
	        var totalPages = ctrl.itemsPerPage < 1 ? 1 : Math.ceil($scope.totalItems / ctrl.itemsPerPage);
	        return Math.max(totalPages || 0, 1);
	      };
	
	      ctrl.render = function() {
	        $scope.page = parseInt(ctrl.ngModelCtrl.$viewValue, 10) || 1;
	      };
	
	      $scope.selectPage = function(page, evt) {
	        if (evt) {
	          evt.preventDefault();
	        }
	
	        var clickAllowed = !$scope.ngDisabled || !evt;
	        if (clickAllowed && $scope.page !== page && page > 0 && page <= $scope.totalPages) {
	          if (evt && evt.target) {
	            evt.target.blur();
	          }
	          ctrl.ngModelCtrl.$setViewValue(page);
	          ctrl.ngModelCtrl.$render();
	        }
	      };
	
	      $scope.getText = function(key) {
	        return $scope[key + 'Text'] || ctrl.config[key + 'Text'];
	      };
	
	      $scope.noPrevious = function() {
	        return $scope.page === 1;
	      };
	
	      $scope.noNext = function() {
	        return $scope.page === $scope.totalPages;
	      };
	
	      ctrl.updatePage = function() {
	        ctrl.setNumPages($scope.$parent, $scope.totalPages); // Readonly variable
	
	        if ($scope.page > $scope.totalPages) {
	          $scope.selectPage($scope.totalPages);
	        } else {
	          ctrl.ngModelCtrl.$render();
	        }
	      };
	
	      $scope.$on('$destroy', function() {
	        while (ctrl._watchers.length) {
	          ctrl._watchers.shift()();
	        }
	      });
	    }
	  };
	}]);
	
	angular.module('ui.bootstrap.pager', ['ui.bootstrap.paging'])
	
	.controller('UibPagerController', ['$scope', '$attrs', 'uibPaging', 'uibPagerConfig', function($scope, $attrs, uibPaging, uibPagerConfig) {
	  $scope.align = angular.isDefined($attrs.align) ? $scope.$parent.$eval($attrs.align) : uibPagerConfig.align;
	
	  uibPaging.create(this, $scope, $attrs);
	}])
	
	.constant('uibPagerConfig', {
	  itemsPerPage: 10,
	  previousText: '« Previous',
	  nextText: 'Next »',
	  align: true
	})
	
	.directive('uibPager', ['uibPagerConfig', function(uibPagerConfig) {
	  return {
	    scope: {
	      totalItems: '=',
	      previousText: '@',
	      nextText: '@',
	      ngDisabled: '='
	    },
	    require: ['uibPager', '?ngModel'],
	    controller: 'UibPagerController',
	    controllerAs: 'pager',
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/pager/pager.html';
	    },
	    replace: true,
	    link: function(scope, element, attrs, ctrls) {
	      var paginationCtrl = ctrls[0], ngModelCtrl = ctrls[1];
	
	      if (!ngModelCtrl) {
	        return; // do nothing if no ng-model
	      }
	
	      paginationCtrl.init(ngModelCtrl, uibPagerConfig);
	    }
	  };
	}]);
	
	angular.module('ui.bootstrap.pagination', ['ui.bootstrap.paging'])
	.controller('UibPaginationController', ['$scope', '$attrs', '$parse', 'uibPaging', 'uibPaginationConfig', function($scope, $attrs, $parse, uibPaging, uibPaginationConfig) {
	  var ctrl = this;
	  // Setup configuration parameters
	  var maxSize = angular.isDefined($attrs.maxSize) ? $scope.$parent.$eval($attrs.maxSize) : uibPaginationConfig.maxSize,
	    rotate = angular.isDefined($attrs.rotate) ? $scope.$parent.$eval($attrs.rotate) : uibPaginationConfig.rotate,
	    forceEllipses = angular.isDefined($attrs.forceEllipses) ? $scope.$parent.$eval($attrs.forceEllipses) : uibPaginationConfig.forceEllipses,
	    boundaryLinkNumbers = angular.isDefined($attrs.boundaryLinkNumbers) ? $scope.$parent.$eval($attrs.boundaryLinkNumbers) : uibPaginationConfig.boundaryLinkNumbers,
	    pageLabel = angular.isDefined($attrs.pageLabel) ? function(idx) { return $scope.$parent.$eval($attrs.pageLabel, {$page: idx}); } : angular.identity;
	  $scope.boundaryLinks = angular.isDefined($attrs.boundaryLinks) ? $scope.$parent.$eval($attrs.boundaryLinks) : uibPaginationConfig.boundaryLinks;
	  $scope.directionLinks = angular.isDefined($attrs.directionLinks) ? $scope.$parent.$eval($attrs.directionLinks) : uibPaginationConfig.directionLinks;
	
	  uibPaging.create(this, $scope, $attrs);
	
	  if ($attrs.maxSize) {
	    ctrl._watchers.push($scope.$parent.$watch($parse($attrs.maxSize), function(value) {
	      maxSize = parseInt(value, 10);
	      ctrl.render();
	    }));
	  }
	
	  // Create page object used in template
	  function makePage(number, text, isActive) {
	    return {
	      number: number,
	      text: text,
	      active: isActive
	    };
	  }
	
	  function getPages(currentPage, totalPages) {
	    var pages = [];
	
	    // Default page limits
	    var startPage = 1, endPage = totalPages;
	    var isMaxSized = angular.isDefined(maxSize) && maxSize < totalPages;
	
	    // recompute if maxSize
	    if (isMaxSized) {
	      if (rotate) {
	        // Current page is displayed in the middle of the visible ones
	        startPage = Math.max(currentPage - Math.floor(maxSize / 2), 1);
	        endPage = startPage + maxSize - 1;
	
	        // Adjust if limit is exceeded
	        if (endPage > totalPages) {
	          endPage = totalPages;
	          startPage = endPage - maxSize + 1;
	        }
	      } else {
	        // Visible pages are paginated with maxSize
	        startPage = (Math.ceil(currentPage / maxSize) - 1) * maxSize + 1;
	
	        // Adjust last page if limit is exceeded
	        endPage = Math.min(startPage + maxSize - 1, totalPages);
	      }
	    }
	
	    // Add page number links
	    for (var number = startPage; number <= endPage; number++) {
	      var page = makePage(number, pageLabel(number), number === currentPage);
	      pages.push(page);
	    }
	
	    // Add links to move between page sets
	    if (isMaxSized && maxSize > 0 && (!rotate || forceEllipses || boundaryLinkNumbers)) {
	      if (startPage > 1) {
	        if (!boundaryLinkNumbers || startPage > 3) { //need ellipsis for all options unless range is too close to beginning
	        var previousPageSet = makePage(startPage - 1, '...', false);
	        pages.unshift(previousPageSet);
	      }
	        if (boundaryLinkNumbers) {
	          if (startPage === 3) { //need to replace ellipsis when the buttons would be sequential
	            var secondPageLink = makePage(2, '2', false);
	            pages.unshift(secondPageLink);
	          }
	          //add the first page
	          var firstPageLink = makePage(1, '1', false);
	          pages.unshift(firstPageLink);
	        }
	      }
	
	      if (endPage < totalPages) {
	        if (!boundaryLinkNumbers || endPage < totalPages - 2) { //need ellipsis for all options unless range is too close to end
	        var nextPageSet = makePage(endPage + 1, '...', false);
	        pages.push(nextPageSet);
	      }
	        if (boundaryLinkNumbers) {
	          if (endPage === totalPages - 2) { //need to replace ellipsis when the buttons would be sequential
	            var secondToLastPageLink = makePage(totalPages - 1, totalPages - 1, false);
	            pages.push(secondToLastPageLink);
	          }
	          //add the last page
	          var lastPageLink = makePage(totalPages, totalPages, false);
	          pages.push(lastPageLink);
	        }
	      }
	    }
	    return pages;
	  }
	
	  var originalRender = this.render;
	  this.render = function() {
	    originalRender();
	    if ($scope.page > 0 && $scope.page <= $scope.totalPages) {
	      $scope.pages = getPages($scope.page, $scope.totalPages);
	    }
	  };
	}])
	
	.constant('uibPaginationConfig', {
	  itemsPerPage: 10,
	  boundaryLinks: false,
	  boundaryLinkNumbers: false,
	  directionLinks: true,
	  firstText: 'First',
	  previousText: 'Previous',
	  nextText: 'Next',
	  lastText: 'Last',
	  rotate: true,
	  forceEllipses: false
	})
	
	.directive('uibPagination', ['$parse', 'uibPaginationConfig', function($parse, uibPaginationConfig) {
	  return {
	    scope: {
	      totalItems: '=',
	      firstText: '@',
	      previousText: '@',
	      nextText: '@',
	      lastText: '@',
	      ngDisabled:'='
	    },
	    require: ['uibPagination', '?ngModel'],
	    controller: 'UibPaginationController',
	    controllerAs: 'pagination',
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/pagination/pagination.html';
	    },
	    replace: true,
	    link: function(scope, element, attrs, ctrls) {
	      var paginationCtrl = ctrls[0], ngModelCtrl = ctrls[1];
	
	      if (!ngModelCtrl) {
	         return; // do nothing if no ng-model
	      }
	
	      paginationCtrl.init(ngModelCtrl, uibPaginationConfig);
	    }
	  };
	}]);
	
	/**
	 * The following features are still outstanding: animation as a
	 * function, placement as a function, inside, support for more triggers than
	 * just mouse enter/leave, html tooltips, and selector delegation.
	 */
	angular.module('ui.bootstrap.tooltip', ['ui.bootstrap.position', 'ui.bootstrap.stackedMap'])
	
	/**
	 * The $tooltip service creates tooltip- and popover-like directives as well as
	 * houses global options for them.
	 */
	.provider('$uibTooltip', function() {
	  // The default options tooltip and popover.
	  var defaultOptions = {
	    placement: 'top',
	    placementClassPrefix: '',
	    animation: true,
	    popupDelay: 0,
	    popupCloseDelay: 0,
	    useContentExp: false
	  };
	
	  // Default hide triggers for each show trigger
	  var triggerMap = {
	    'mouseenter': 'mouseleave',
	    'click': 'click',
	    'outsideClick': 'outsideClick',
	    'focus': 'blur',
	    'none': ''
	  };
	
	  // The options specified to the provider globally.
	  var globalOptions = {};
	
	  /**
	   * `options({})` allows global configuration of all tooltips in the
	   * application.
	   *
	   *   var app = angular.module( 'App', ['ui.bootstrap.tooltip'], function( $tooltipProvider ) {
	   *     // place tooltips left instead of top by default
	   *     $tooltipProvider.options( { placement: 'left' } );
	   *   });
	   */
		this.options = function(value) {
			angular.extend(globalOptions, value);
		};
	
	  /**
	   * This allows you to extend the set of trigger mappings available. E.g.:
	   *
	   *   $tooltipProvider.setTriggers( { 'openTrigger': 'closeTrigger' } );
	   */
	  this.setTriggers = function setTriggers(triggers) {
	    angular.extend(triggerMap, triggers);
	  };
	
	  /**
	   * This is a helper function for translating camel-case to snake_case.
	   */
	  function snake_case(name) {
	    var regexp = /[A-Z]/g;
	    var separator = '-';
	    return name.replace(regexp, function(letter, pos) {
	      return (pos ? separator : '') + letter.toLowerCase();
	    });
	  }
	
	  /**
	   * Returns the actual instance of the $tooltip service.
	   * TODO support multiple triggers
	   */
	  this.$get = ['$window', '$compile', '$timeout', '$document', '$uibPosition', '$interpolate', '$rootScope', '$parse', '$$stackedMap', function($window, $compile, $timeout, $document, $position, $interpolate, $rootScope, $parse, $$stackedMap) {
	    var openedTooltips = $$stackedMap.createNew();
	    $document.on('keypress', keypressListener);
	
	    $rootScope.$on('$destroy', function() {
	      $document.off('keypress', keypressListener);
	    });
	
	    function keypressListener(e) {
	      if (e.which === 27) {
	        var last = openedTooltips.top();
	        if (last) {
	          last.value.close();
	          openedTooltips.removeTop();
	          last = null;
	        }
	      }
	    }
	
	    return function $tooltip(ttType, prefix, defaultTriggerShow, options) {
	      options = angular.extend({}, defaultOptions, globalOptions, options);
	
	      /**
	       * Returns an object of show and hide triggers.
	       *
	       * If a trigger is supplied,
	       * it is used to show the tooltip; otherwise, it will use the `trigger`
	       * option passed to the `$tooltipProvider.options` method; else it will
	       * default to the trigger supplied to this directive factory.
	       *
	       * The hide trigger is based on the show trigger. If the `trigger` option
	       * was passed to the `$tooltipProvider.options` method, it will use the
	       * mapped trigger from `triggerMap` or the passed trigger if the map is
	       * undefined; otherwise, it uses the `triggerMap` value of the show
	       * trigger; else it will just use the show trigger.
	       */
	      function getTriggers(trigger) {
	        var show = (trigger || options.trigger || defaultTriggerShow).split(' ');
	        var hide = show.map(function(trigger) {
	          return triggerMap[trigger] || trigger;
	        });
	        return {
	          show: show,
	          hide: hide
	        };
	      }
	
	      var directiveName = snake_case(ttType);
	
	      var startSym = $interpolate.startSymbol();
	      var endSym = $interpolate.endSymbol();
	      var template =
	        '<div '+ directiveName + '-popup ' +
	          'uib-title="' + startSym + 'title' + endSym + '" ' +
	          (options.useContentExp ?
	            'content-exp="contentExp()" ' :
	            'content="' + startSym + 'content' + endSym + '" ') +
	          'placement="' + startSym + 'placement' + endSym + '" ' +
	          'popup-class="' + startSym + 'popupClass' + endSym + '" ' +
	          'animation="animation" ' +
	          'is-open="isOpen" ' +
	          'origin-scope="origScope" ' +
	          'class="uib-position-measure"' +
	          '>' +
	        '</div>';
	
	      return {
	        compile: function(tElem, tAttrs) {
	          var tooltipLinker = $compile(template);
	
	          return function link(scope, element, attrs, tooltipCtrl) {
	            var tooltip;
	            var tooltipLinkedScope;
	            var transitionTimeout;
	            var showTimeout;
	            var hideTimeout;
	            var positionTimeout;
	            var appendToBody = angular.isDefined(options.appendToBody) ? options.appendToBody : false;
	            var triggers = getTriggers(undefined);
	            var hasEnableExp = angular.isDefined(attrs[prefix + 'Enable']);
	            var ttScope = scope.$new(true);
	            var repositionScheduled = false;
	            var isOpenParse = angular.isDefined(attrs[prefix + 'IsOpen']) ? $parse(attrs[prefix + 'IsOpen']) : false;
	            var contentParse = options.useContentExp ? $parse(attrs[ttType]) : false;
	            var observers = [];
	            var lastPlacement;
	
	            var positionTooltip = function() {
	              // check if tooltip exists and is not empty
	              if (!tooltip || !tooltip.html()) { return; }
	
	              if (!positionTimeout) {
	                positionTimeout = $timeout(function() {
	                  var ttPosition = $position.positionElements(element, tooltip, ttScope.placement, appendToBody);
	                  tooltip.css({ top: ttPosition.top + 'px', left: ttPosition.left + 'px' });
	
	                  if (!tooltip.hasClass(ttPosition.placement.split('-')[0])) {
	                    tooltip.removeClass(lastPlacement.split('-')[0]);
	                    tooltip.addClass(ttPosition.placement.split('-')[0]);
	                  }
	
	                  if (!tooltip.hasClass(options.placementClassPrefix + ttPosition.placement)) {
	                    tooltip.removeClass(options.placementClassPrefix + lastPlacement);
	                    tooltip.addClass(options.placementClassPrefix + ttPosition.placement);
	                  }
	
	                  // first time through tt element will have the
	                  // uib-position-measure class or if the placement
	                  // has changed we need to position the arrow.
	                  if (tooltip.hasClass('uib-position-measure')) {
	                    $position.positionArrow(tooltip, ttPosition.placement);
	                    tooltip.removeClass('uib-position-measure');
	                  } else if (lastPlacement !== ttPosition.placement) {
	                    $position.positionArrow(tooltip, ttPosition.placement);
	                  }
	                  lastPlacement = ttPosition.placement;
	
	                  positionTimeout = null;
	                }, 0, false);
	              }
	            };
	
	            // Set up the correct scope to allow transclusion later
	            ttScope.origScope = scope;
	
	            // By default, the tooltip is not open.
	            // TODO add ability to start tooltip opened
	            ttScope.isOpen = false;
	            openedTooltips.add(ttScope, {
	              close: hide
	            });
	
	            function toggleTooltipBind() {
	              if (!ttScope.isOpen) {
	                showTooltipBind();
	              } else {
	                hideTooltipBind();
	              }
	            }
	
	            // Show the tooltip with delay if specified, otherwise show it immediately
	            function showTooltipBind() {
	              if (hasEnableExp && !scope.$eval(attrs[prefix + 'Enable'])) {
	                return;
	              }
	
	              cancelHide();
	              prepareTooltip();
	
	              if (ttScope.popupDelay) {
	                // Do nothing if the tooltip was already scheduled to pop-up.
	                // This happens if show is triggered multiple times before any hide is triggered.
	                if (!showTimeout) {
	                  showTimeout = $timeout(show, ttScope.popupDelay, false);
	                }
	              } else {
	                show();
	              }
	            }
	
	            function hideTooltipBind() {
	              cancelShow();
	
	              if (ttScope.popupCloseDelay) {
	                if (!hideTimeout) {
	                  hideTimeout = $timeout(hide, ttScope.popupCloseDelay, false);
	                }
	              } else {
	                hide();
	              }
	            }
	
	            // Show the tooltip popup element.
	            function show() {
	              cancelShow();
	              cancelHide();
	
	              // Don't show empty tooltips.
	              if (!ttScope.content) {
	                return angular.noop;
	              }
	
	              createTooltip();
	
	              // And show the tooltip.
	              ttScope.$evalAsync(function() {
	                ttScope.isOpen = true;
	                assignIsOpen(true);
	                positionTooltip();
	              });
	            }
	
	            function cancelShow() {
	              if (showTimeout) {
	                $timeout.cancel(showTimeout);
	                showTimeout = null;
	              }
	
	              if (positionTimeout) {
	                $timeout.cancel(positionTimeout);
	                positionTimeout = null;
	              }
	            }
	
	            // Hide the tooltip popup element.
	            function hide() {
	              if (!ttScope) {
	                return;
	              }
	
	              // First things first: we don't show it anymore.
	              ttScope.$evalAsync(function() {
	                if (ttScope) {
	                  ttScope.isOpen = false;
	                  assignIsOpen(false);
	                  // And now we remove it from the DOM. However, if we have animation, we
	                  // need to wait for it to expire beforehand.
	                  // FIXME: this is a placeholder for a port of the transitions library.
	                  // The fade transition in TWBS is 150ms.
	                  if (ttScope.animation) {
	                    if (!transitionTimeout) {
	                      transitionTimeout = $timeout(removeTooltip, 150, false);
	                    }
	                  } else {
	                    removeTooltip();
	                  }
	                }
	              });
	            }
	
	            function cancelHide() {
	              if (hideTimeout) {
	                $timeout.cancel(hideTimeout);
	                hideTimeout = null;
	              }
	
	              if (transitionTimeout) {
	                $timeout.cancel(transitionTimeout);
	                transitionTimeout = null;
	              }
	            }
	
	            function createTooltip() {
	              // There can only be one tooltip element per directive shown at once.
	              if (tooltip) {
	                return;
	              }
	
	              tooltipLinkedScope = ttScope.$new();
	              tooltip = tooltipLinker(tooltipLinkedScope, function(tooltip) {
	                if (appendToBody) {
	                  $document.find('body').append(tooltip);
	                } else {
	                  element.after(tooltip);
	                }
	              });
	
	              prepObservers();
	            }
	
	            function removeTooltip() {
	              cancelShow();
	              cancelHide();
	              unregisterObservers();
	
	              if (tooltip) {
	                tooltip.remove();
	                tooltip = null;
	              }
	              if (tooltipLinkedScope) {
	                tooltipLinkedScope.$destroy();
	                tooltipLinkedScope = null;
	              }
	            }
	
	            /**
	             * Set the initial scope values. Once
	             * the tooltip is created, the observers
	             * will be added to keep things in sync.
	             */
	            function prepareTooltip() {
	              ttScope.title = attrs[prefix + 'Title'];
	              if (contentParse) {
	                ttScope.content = contentParse(scope);
	              } else {
	                ttScope.content = attrs[ttType];
	              }
	
	              ttScope.popupClass = attrs[prefix + 'Class'];
	              ttScope.placement = angular.isDefined(attrs[prefix + 'Placement']) ? attrs[prefix + 'Placement'] : options.placement;
	              var placement = $position.parsePlacement(ttScope.placement);
	              lastPlacement = placement[1] ? placement[0] + '-' + placement[1] : placement[0];
	
	              var delay = parseInt(attrs[prefix + 'PopupDelay'], 10);
	              var closeDelay = parseInt(attrs[prefix + 'PopupCloseDelay'], 10);
	              ttScope.popupDelay = !isNaN(delay) ? delay : options.popupDelay;
	              ttScope.popupCloseDelay = !isNaN(closeDelay) ? closeDelay : options.popupCloseDelay;
	            }
	
	            function assignIsOpen(isOpen) {
	              if (isOpenParse && angular.isFunction(isOpenParse.assign)) {
	                isOpenParse.assign(scope, isOpen);
	              }
	            }
	
	            ttScope.contentExp = function() {
	              return ttScope.content;
	            };
	
	            /**
	             * Observe the relevant attributes.
	             */
	            attrs.$observe('disabled', function(val) {
	              if (val) {
	                cancelShow();
	              }
	
	              if (val && ttScope.isOpen) {
	                hide();
	              }
	            });
	
	            if (isOpenParse) {
	              scope.$watch(isOpenParse, function(val) {
	                if (ttScope && !val === ttScope.isOpen) {
	                  toggleTooltipBind();
	                }
	              });
	            }
	
	            function prepObservers() {
	              observers.length = 0;
	
	              if (contentParse) {
	                observers.push(
	                  scope.$watch(contentParse, function(val) {
	                    ttScope.content = val;
	                    if (!val && ttScope.isOpen) {
	                      hide();
	                    }
	                  })
	                );
	
	                observers.push(
	                  tooltipLinkedScope.$watch(function() {
	                    if (!repositionScheduled) {
	                      repositionScheduled = true;
	                      tooltipLinkedScope.$$postDigest(function() {
	                        repositionScheduled = false;
	                        if (ttScope && ttScope.isOpen) {
	                          positionTooltip();
	                        }
	                      });
	                    }
	                  })
	                );
	              } else {
	                observers.push(
	                  attrs.$observe(ttType, function(val) {
	                    ttScope.content = val;
	                    if (!val && ttScope.isOpen) {
	                      hide();
	                    } else {
	                      positionTooltip();
	                    }
	                  })
	                );
	              }
	
	              observers.push(
	                attrs.$observe(prefix + 'Title', function(val) {
	                  ttScope.title = val;
	                  if (ttScope.isOpen) {
	                    positionTooltip();
	                  }
	                })
	              );
	
	              observers.push(
	                attrs.$observe(prefix + 'Placement', function(val) {
	                  ttScope.placement = val ? val : options.placement;
	                  var placement = $position.parsePlacement(ttScope.placement);
	                  lastPlacement = placement[1] ? placement[0] + '-' + placement[1] : placement[0];
	                  if (ttScope.isOpen) {
	                    positionTooltip();
	                  }
	                })
	              );
	            }
	
	            function unregisterObservers() {
	              if (observers.length) {
	                angular.forEach(observers, function(observer) {
	                  observer();
	                });
	                observers.length = 0;
	              }
	            }
	
	            // hide tooltips/popovers for outsideClick trigger
	            function bodyHideTooltipBind(e) {
	              if (!ttScope || !ttScope.isOpen || !tooltip) {
	                return;
	              }
	              // make sure the tooltip/popover link or tool tooltip/popover itself were not clicked
	              if (!element[0].contains(e.target) && !tooltip[0].contains(e.target)) {
	                hideTooltipBind();
	              }
	            }
	
	            var unregisterTriggers = function() {
	              triggers.show.forEach(function(trigger) {
	                if (trigger === 'outsideClick') {
	                  element.off('click', toggleTooltipBind);
	                } else {
	                  element.off(trigger, showTooltipBind);
	                  element.off(trigger, toggleTooltipBind);
	                }
	              });
	              triggers.hide.forEach(function(trigger) {
	                if (trigger === 'outsideClick') {
	                  $document.off('click', bodyHideTooltipBind);
	                } else {
	                  element.off(trigger, hideTooltipBind);
	                }
	              });
	            };
	
	            function prepTriggers() {
	              var val = attrs[prefix + 'Trigger'];
	              unregisterTriggers();
	
	              triggers = getTriggers(val);
	
	              if (triggers.show !== 'none') {
	                triggers.show.forEach(function(trigger, idx) {
	                  if (trigger === 'outsideClick') {
	                    element.on('click', toggleTooltipBind);
	                    $document.on('click', bodyHideTooltipBind);
	                  } else if (trigger === triggers.hide[idx]) {
	                    element.on(trigger, toggleTooltipBind);
	                  } else if (trigger) {
	                    element.on(trigger, showTooltipBind);
	                    element.on(triggers.hide[idx], hideTooltipBind);
	                  }
	
	                  element.on('keypress', function(e) {
	                    if (e.which === 27) {
	                      hideTooltipBind();
	                    }
	                  });
	                });
	              }
	            }
	
	            prepTriggers();
	
	            var animation = scope.$eval(attrs[prefix + 'Animation']);
	            ttScope.animation = angular.isDefined(animation) ? !!animation : options.animation;
	
	            var appendToBodyVal;
	            var appendKey = prefix + 'AppendToBody';
	            if (appendKey in attrs && attrs[appendKey] === undefined) {
	              appendToBodyVal = true;
	            } else {
	              appendToBodyVal = scope.$eval(attrs[appendKey]);
	            }
	
	            appendToBody = angular.isDefined(appendToBodyVal) ? appendToBodyVal : appendToBody;
	
	            // Make sure tooltip is destroyed and removed.
	            scope.$on('$destroy', function onDestroyTooltip() {
	              unregisterTriggers();
	              removeTooltip();
	              openedTooltips.remove(ttScope);
	              ttScope = null;
	            });
	          };
	        }
	      };
	    };
	  }];
	})
	
	// This is mostly ngInclude code but with a custom scope
	.directive('uibTooltipTemplateTransclude', [
	         '$animate', '$sce', '$compile', '$templateRequest',
	function ($animate, $sce, $compile, $templateRequest) {
	  return {
	    link: function(scope, elem, attrs) {
	      var origScope = scope.$eval(attrs.tooltipTemplateTranscludeScope);
	
	      var changeCounter = 0,
	        currentScope,
	        previousElement,
	        currentElement;
	
	      var cleanupLastIncludeContent = function() {
	        if (previousElement) {
	          previousElement.remove();
	          previousElement = null;
	        }
	
	        if (currentScope) {
	          currentScope.$destroy();
	          currentScope = null;
	        }
	
	        if (currentElement) {
	          $animate.leave(currentElement).then(function() {
	            previousElement = null;
	          });
	          previousElement = currentElement;
	          currentElement = null;
	        }
	      };
	
	      scope.$watch($sce.parseAsResourceUrl(attrs.uibTooltipTemplateTransclude), function(src) {
	        var thisChangeId = ++changeCounter;
	
	        if (src) {
	          //set the 2nd param to true to ignore the template request error so that the inner
	          //contents and scope can be cleaned up.
	          $templateRequest(src, true).then(function(response) {
	            if (thisChangeId !== changeCounter) { return; }
	            var newScope = origScope.$new();
	            var template = response;
	
	            var clone = $compile(template)(newScope, function(clone) {
	              cleanupLastIncludeContent();
	              $animate.enter(clone, elem);
	            });
	
	            currentScope = newScope;
	            currentElement = clone;
	
	            currentScope.$emit('$includeContentLoaded', src);
	          }, function() {
	            if (thisChangeId === changeCounter) {
	              cleanupLastIncludeContent();
	              scope.$emit('$includeContentError', src);
	            }
	          });
	          scope.$emit('$includeContentRequested', src);
	        } else {
	          cleanupLastIncludeContent();
	        }
	      });
	
	      scope.$on('$destroy', cleanupLastIncludeContent);
	    }
	  };
	}])
	
	/**
	 * Note that it's intentional that these classes are *not* applied through $animate.
	 * They must not be animated as they're expected to be present on the tooltip on
	 * initialization.
	 */
	.directive('uibTooltipClasses', ['$uibPosition', function($uibPosition) {
	  return {
	    restrict: 'A',
	    link: function(scope, element, attrs) {
	      // need to set the primary position so the
	      // arrow has space during position measure.
	      // tooltip.positionTooltip()
	      if (scope.placement) {
	        // // There are no top-left etc... classes
	        // // in TWBS, so we need the primary position.
	        var position = $uibPosition.parsePlacement(scope.placement);
	        element.addClass(position[0]);
	      }
	
	      if (scope.popupClass) {
	        element.addClass(scope.popupClass);
	      }
	
	      if (scope.animation()) {
	        element.addClass(attrs.tooltipAnimationClass);
	      }
	    }
	  };
	}])
	
	.directive('uibTooltipPopup', function() {
	  return {
	    replace: true,
	    scope: { content: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
	    templateUrl: 'uib/template/tooltip/tooltip-popup.html'
	  };
	})
	
	.directive('uibTooltip', [ '$uibTooltip', function($uibTooltip) {
	  return $uibTooltip('uibTooltip', 'tooltip', 'mouseenter');
	}])
	
	.directive('uibTooltipTemplatePopup', function() {
	  return {
	    replace: true,
	    scope: { contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&',
	      originScope: '&' },
	    templateUrl: 'uib/template/tooltip/tooltip-template-popup.html'
	  };
	})
	
	.directive('uibTooltipTemplate', ['$uibTooltip', function($uibTooltip) {
	  return $uibTooltip('uibTooltipTemplate', 'tooltip', 'mouseenter', {
	    useContentExp: true
	  });
	}])
	
	.directive('uibTooltipHtmlPopup', function() {
	  return {
	    replace: true,
	    scope: { contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
	    templateUrl: 'uib/template/tooltip/tooltip-html-popup.html'
	  };
	})
	
	.directive('uibTooltipHtml', ['$uibTooltip', function($uibTooltip) {
	  return $uibTooltip('uibTooltipHtml', 'tooltip', 'mouseenter', {
	    useContentExp: true
	  });
	}]);
	
	/**
	 * The following features are still outstanding: popup delay, animation as a
	 * function, placement as a function, inside, support for more triggers than
	 * just mouse enter/leave, and selector delegatation.
	 */
	angular.module('ui.bootstrap.popover', ['ui.bootstrap.tooltip'])
	
	.directive('uibPopoverTemplatePopup', function() {
	  return {
	    replace: true,
	    scope: { uibTitle: '@', contentExp: '&', placement: '@', popupClass: '@', animation: '&', isOpen: '&',
	      originScope: '&' },
	    templateUrl: 'uib/template/popover/popover-template.html'
	  };
	})
	
	.directive('uibPopoverTemplate', ['$uibTooltip', function($uibTooltip) {
	  return $uibTooltip('uibPopoverTemplate', 'popover', 'click', {
	    useContentExp: true
	  });
	}])
	
	.directive('uibPopoverHtmlPopup', function() {
	  return {
	    replace: true,
	    scope: { contentExp: '&', uibTitle: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
	    templateUrl: 'uib/template/popover/popover-html.html'
	  };
	})
	
	.directive('uibPopoverHtml', ['$uibTooltip', function($uibTooltip) {
	  return $uibTooltip('uibPopoverHtml', 'popover', 'click', {
	    useContentExp: true
	  });
	}])
	
	.directive('uibPopoverPopup', function() {
	  return {
	    replace: true,
	    scope: { uibTitle: '@', content: '@', placement: '@', popupClass: '@', animation: '&', isOpen: '&' },
	    templateUrl: 'uib/template/popover/popover.html'
	  };
	})
	
	.directive('uibPopover', ['$uibTooltip', function($uibTooltip) {
	  return $uibTooltip('uibPopover', 'popover', 'click');
	}]);
	
	angular.module('ui.bootstrap.progressbar', [])
	
	.constant('uibProgressConfig', {
	  animate: true,
	  max: 100
	})
	
	.controller('UibProgressController', ['$scope', '$attrs', 'uibProgressConfig', function($scope, $attrs, progressConfig) {
	  var self = this,
	      animate = angular.isDefined($attrs.animate) ? $scope.$parent.$eval($attrs.animate) : progressConfig.animate;
	
	  this.bars = [];
	  $scope.max = getMaxOrDefault();
	
	  this.addBar = function(bar, element, attrs) {
	    if (!animate) {
	      element.css({'transition': 'none'});
	    }
	
	    this.bars.push(bar);
	
	    bar.max = getMaxOrDefault();
	    bar.title = attrs && angular.isDefined(attrs.title) ? attrs.title : 'progressbar';
	
	    bar.$watch('value', function(value) {
	      bar.recalculatePercentage();
	    });
	
	    bar.recalculatePercentage = function() {
	      var totalPercentage = self.bars.reduce(function(total, bar) {
	        bar.percent = +(100 * bar.value / bar.max).toFixed(2);
	        return total + bar.percent;
	      }, 0);
	
	      if (totalPercentage > 100) {
	        bar.percent -= totalPercentage - 100;
	      }
	    };
	
	    bar.$on('$destroy', function() {
	      element = null;
	      self.removeBar(bar);
	    });
	  };
	
	  this.removeBar = function(bar) {
	    this.bars.splice(this.bars.indexOf(bar), 1);
	    this.bars.forEach(function (bar) {
	      bar.recalculatePercentage();
	    });
	  };
	
	  //$attrs.$observe('maxParam', function(maxParam) {
	  $scope.$watch('maxParam', function(maxParam) {
	    self.bars.forEach(function(bar) {
	      bar.max = getMaxOrDefault();
	      bar.recalculatePercentage();
	    });
	  });
	
	  function getMaxOrDefault () {
	    return angular.isDefined($scope.maxParam) ? $scope.maxParam : progressConfig.max;
	  }
	}])
	
	.directive('uibProgress', function() {
	  return {
	    replace: true,
	    transclude: true,
	    controller: 'UibProgressController',
	    require: 'uibProgress',
	    scope: {
	      maxParam: '=?max'
	    },
	    templateUrl: 'uib/template/progressbar/progress.html'
	  };
	})
	
	.directive('uibBar', function() {
	  return {
	    replace: true,
	    transclude: true,
	    require: '^uibProgress',
	    scope: {
	      value: '=',
	      type: '@'
	    },
	    templateUrl: 'uib/template/progressbar/bar.html',
	    link: function(scope, element, attrs, progressCtrl) {
	      progressCtrl.addBar(scope, element, attrs);
	    }
	  };
	})
	
	.directive('uibProgressbar', function() {
	  return {
	    replace: true,
	    transclude: true,
	    controller: 'UibProgressController',
	    scope: {
	      value: '=',
	      maxParam: '=?max',
	      type: '@'
	    },
	    templateUrl: 'uib/template/progressbar/progressbar.html',
	    link: function(scope, element, attrs, progressCtrl) {
	      progressCtrl.addBar(scope, angular.element(element.children()[0]), {title: attrs.title});
	    }
	  };
	});
	
	angular.module('ui.bootstrap.rating', [])
	
	.constant('uibRatingConfig', {
	  max: 5,
	  stateOn: null,
	  stateOff: null,
	  enableReset: true,
	  titles : ['one', 'two', 'three', 'four', 'five']
	})
	
	.controller('UibRatingController', ['$scope', '$attrs', 'uibRatingConfig', function($scope, $attrs, ratingConfig) {
	  var ngModelCtrl = { $setViewValue: angular.noop },
	    self = this;
	
	  this.init = function(ngModelCtrl_) {
	    ngModelCtrl = ngModelCtrl_;
	    ngModelCtrl.$render = this.render;
	
	    ngModelCtrl.$formatters.push(function(value) {
	      if (angular.isNumber(value) && value << 0 !== value) {
	        value = Math.round(value);
	      }
	
	      return value;
	    });
	
	    this.stateOn = angular.isDefined($attrs.stateOn) ? $scope.$parent.$eval($attrs.stateOn) : ratingConfig.stateOn;
	    this.stateOff = angular.isDefined($attrs.stateOff) ? $scope.$parent.$eval($attrs.stateOff) : ratingConfig.stateOff;
	    this.enableReset = angular.isDefined($attrs.enableReset) ?
	      $scope.$parent.$eval($attrs.enableReset) : ratingConfig.enableReset;
	    var tmpTitles = angular.isDefined($attrs.titles) ? $scope.$parent.$eval($attrs.titles) : ratingConfig.titles;
	    this.titles = angular.isArray(tmpTitles) && tmpTitles.length > 0 ?
	      tmpTitles : ratingConfig.titles;
	
	    var ratingStates = angular.isDefined($attrs.ratingStates) ?
	      $scope.$parent.$eval($attrs.ratingStates) :
	      new Array(angular.isDefined($attrs.max) ? $scope.$parent.$eval($attrs.max) : ratingConfig.max);
	    $scope.range = this.buildTemplateObjects(ratingStates);
	  };
	
	  this.buildTemplateObjects = function(states) {
	    for (var i = 0, n = states.length; i < n; i++) {
	      states[i] = angular.extend({ index: i }, { stateOn: this.stateOn, stateOff: this.stateOff, title: this.getTitle(i) }, states[i]);
	    }
	    return states;
	  };
	
	  this.getTitle = function(index) {
	    if (index >= this.titles.length) {
	      return index + 1;
	    }
	
	    return this.titles[index];
	  };
	
	  $scope.rate = function(value) {
	    if (!$scope.readonly && value >= 0 && value <= $scope.range.length) {
	      var newViewValue = self.enableReset && ngModelCtrl.$viewValue === value ? 0 : value;
	      ngModelCtrl.$setViewValue(newViewValue);
	      ngModelCtrl.$render();
	    }
	  };
	
	  $scope.enter = function(value) {
	    if (!$scope.readonly) {
	      $scope.value = value;
	    }
	    $scope.onHover({value: value});
	  };
	
	  $scope.reset = function() {
	    $scope.value = ngModelCtrl.$viewValue;
	    $scope.onLeave();
	  };
	
	  $scope.onKeydown = function(evt) {
	    if (/(37|38|39|40)/.test(evt.which)) {
	      evt.preventDefault();
	      evt.stopPropagation();
	      $scope.rate($scope.value + (evt.which === 38 || evt.which === 39 ? 1 : -1));
	    }
	  };
	
	  this.render = function() {
	    $scope.value = ngModelCtrl.$viewValue;
	    $scope.title = self.getTitle($scope.value - 1);
	  };
	}])
	
	.directive('uibRating', function() {
	  return {
	    require: ['uibRating', 'ngModel'],
	    scope: {
	      readonly: '=?readOnly',
	      onHover: '&',
	      onLeave: '&'
	    },
	    controller: 'UibRatingController',
	    templateUrl: 'uib/template/rating/rating.html',
	    replace: true,
	    link: function(scope, element, attrs, ctrls) {
	      var ratingCtrl = ctrls[0], ngModelCtrl = ctrls[1];
	      ratingCtrl.init(ngModelCtrl);
	    }
	  };
	});
	
	angular.module('ui.bootstrap.tabs', [])
	
	.controller('UibTabsetController', ['$scope', function ($scope) {
	  var ctrl = this,
	    oldIndex;
	  ctrl.tabs = [];
	
	  ctrl.select = function(index, evt) {
	    if (!destroyed) {
	      var previousIndex = findTabIndex(oldIndex);
	      var previousSelected = ctrl.tabs[previousIndex];
	      if (previousSelected) {
	        previousSelected.tab.onDeselect({
	          $event: evt
	        });
	        if (evt && evt.isDefaultPrevented()) {
	          return;
	        }
	        previousSelected.tab.active = false;
	      }
	
	      var selected = ctrl.tabs[index];
	      if (selected) {
	        selected.tab.onSelect({
	          $event: evt
	        });
	        selected.tab.active = true;
	        ctrl.active = selected.index;
	        oldIndex = selected.index;
	      } else if (!selected && angular.isNumber(oldIndex)) {
	        ctrl.active = null;
	        oldIndex = null;
	      }
	    }
	  };
	
	  ctrl.addTab = function addTab(tab) {
	    ctrl.tabs.push({
	      tab: tab,
	      index: tab.index
	    });
	    ctrl.tabs.sort(function(t1, t2) {
	      if (t1.index > t2.index) {
	        return 1;
	      }
	
	      if (t1.index < t2.index) {
	        return -1;
	      }
	
	      return 0;
	    });
	
	    if (tab.index === ctrl.active || !angular.isNumber(ctrl.active) && ctrl.tabs.length === 1) {
	      var newActiveIndex = findTabIndex(tab.index);
	      ctrl.select(newActiveIndex);
	    }
	  };
	
	  ctrl.removeTab = function removeTab(tab) {
	    var index;
	    for (var i = 0; i < ctrl.tabs.length; i++) {
	      if (ctrl.tabs[i].tab === tab) {
	        index = i;
	        break;
	      }
	    }
	
	    if (ctrl.tabs[index].index === ctrl.active) {
	      var newActiveTabIndex = index === ctrl.tabs.length - 1 ?
	        index - 1 : index + 1 % ctrl.tabs.length;
	      ctrl.select(newActiveTabIndex);
	    }
	
	    ctrl.tabs.splice(index, 1);
	  };
	
	  $scope.$watch('tabset.active', function(val) {
	    if (angular.isNumber(val) && val !== oldIndex) {
	      ctrl.select(findTabIndex(val));
	    }
	  });
	
	  var destroyed;
	  $scope.$on('$destroy', function() {
	    destroyed = true;
	  });
	
	  function findTabIndex(index) {
	    for (var i = 0; i < ctrl.tabs.length; i++) {
	      if (ctrl.tabs[i].index === index) {
	        return i;
	      }
	    }
	  }
	}])
	
	.directive('uibTabset', function() {
	  return {
	    transclude: true,
	    replace: true,
	    scope: {},
	    bindToController: {
	      active: '=?',
	      type: '@'
	    },
	    controller: 'UibTabsetController',
	    controllerAs: 'tabset',
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/tabs/tabset.html';
	    },
	    link: function(scope, element, attrs) {
	      scope.vertical = angular.isDefined(attrs.vertical) ?
	        scope.$parent.$eval(attrs.vertical) : false;
	      scope.justified = angular.isDefined(attrs.justified) ?
	        scope.$parent.$eval(attrs.justified) : false;
	      if (angular.isUndefined(attrs.active)) {
	        scope.active = 0;
	      }
	    }
	  };
	})
	
	.directive('uibTab', ['$parse', function($parse) {
	  return {
	    require: '^uibTabset',
	    replace: true,
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || 'uib/template/tabs/tab.html';
	    },
	    transclude: true,
	    scope: {
	      heading: '@',
	      index: '=?',
	      classes: '@?',
	      onSelect: '&select', //This callback is called in contentHeadingTransclude
	                          //once it inserts the tab's content into the dom
	      onDeselect: '&deselect'
	    },
	    controller: function() {
	      //Empty controller so other directives can require being 'under' a tab
	    },
	    controllerAs: 'tab',
	    link: function(scope, elm, attrs, tabsetCtrl, transclude) {
	      scope.disabled = false;
	      if (attrs.disable) {
	        scope.$parent.$watch($parse(attrs.disable), function(value) {
	          scope.disabled = !! value;
	        });
	      }
	
	      if (angular.isUndefined(attrs.index)) {
	        if (tabsetCtrl.tabs && tabsetCtrl.tabs.length) {
	          scope.index = Math.max.apply(null, tabsetCtrl.tabs.map(function(t) { return t.index; })) + 1;
	        } else {
	          scope.index = 0;
	        }
	      }
	
	      if (angular.isUndefined(attrs.classes)) {
	        scope.classes = '';
	      }
	
	      scope.select = function(evt) {
	        if (!scope.disabled) {
	          var index;
	          for (var i = 0; i < tabsetCtrl.tabs.length; i++) {
	            if (tabsetCtrl.tabs[i].tab === scope) {
	              index = i;
	              break;
	            }
	          }
	
	          tabsetCtrl.select(index, evt);
	        }
	      };
	
	      tabsetCtrl.addTab(scope);
	      scope.$on('$destroy', function() {
	        tabsetCtrl.removeTab(scope);
	      });
	
	      //We need to transclude later, once the content container is ready.
	      //when this link happens, we're inside a tab heading.
	      scope.$transcludeFn = transclude;
	    }
	  };
	}])
	
	.directive('uibTabHeadingTransclude', function() {
	  return {
	    restrict: 'A',
	    require: '^uibTab',
	    link: function(scope, elm) {
	      scope.$watch('headingElement', function updateHeadingElement(heading) {
	        if (heading) {
	          elm.html('');
	          elm.append(heading);
	        }
	      });
	    }
	  };
	})
	
	.directive('uibTabContentTransclude', function() {
	  return {
	    restrict: 'A',
	    require: '^uibTabset',
	    link: function(scope, elm, attrs) {
	      var tab = scope.$eval(attrs.uibTabContentTransclude).tab;
	
	      //Now our tab is ready to be transcluded: both the tab heading area
	      //and the tab content area are loaded.  Transclude 'em both.
	      tab.$transcludeFn(tab.$parent, function(contents) {
	        angular.forEach(contents, function(node) {
	          if (isTabHeading(node)) {
	            //Let tabHeadingTransclude know.
	            tab.headingElement = node;
	          } else {
	            elm.append(node);
	          }
	        });
	      });
	    }
	  };
	
	  function isTabHeading(node) {
	    return node.tagName && (
	      node.hasAttribute('uib-tab-heading') ||
	      node.hasAttribute('data-uib-tab-heading') ||
	      node.hasAttribute('x-uib-tab-heading') ||
	      node.tagName.toLowerCase() === 'uib-tab-heading' ||
	      node.tagName.toLowerCase() === 'data-uib-tab-heading' ||
	      node.tagName.toLowerCase() === 'x-uib-tab-heading' ||
	      node.tagName.toLowerCase() === 'uib:tab-heading'
	    );
	  }
	});
	
	angular.module('ui.bootstrap.timepicker', [])
	
	.constant('uibTimepickerConfig', {
	  hourStep: 1,
	  minuteStep: 1,
	  secondStep: 1,
	  showMeridian: true,
	  showSeconds: false,
	  meridians: null,
	  readonlyInput: false,
	  mousewheel: true,
	  arrowkeys: true,
	  showSpinners: true,
	  templateUrl: 'uib/template/timepicker/timepicker.html'
	})
	
	.controller('UibTimepickerController', ['$scope', '$element', '$attrs', '$parse', '$log', '$locale', 'uibTimepickerConfig', function($scope, $element, $attrs, $parse, $log, $locale, timepickerConfig) {
	  var selected = new Date(),
	    watchers = [],
	    ngModelCtrl = { $setViewValue: angular.noop }, // nullModelCtrl
	    meridians = angular.isDefined($attrs.meridians) ? $scope.$parent.$eval($attrs.meridians) : timepickerConfig.meridians || $locale.DATETIME_FORMATS.AMPMS,
	    padHours = angular.isDefined($attrs.padHours) ? $scope.$parent.$eval($attrs.padHours) : true;
	
	  $scope.tabindex = angular.isDefined($attrs.tabindex) ? $attrs.tabindex : 0;
	  $element.removeAttr('tabindex');
	
	  this.init = function(ngModelCtrl_, inputs) {
	    ngModelCtrl = ngModelCtrl_;
	    ngModelCtrl.$render = this.render;
	
	    ngModelCtrl.$formatters.unshift(function(modelValue) {
	      return modelValue ? new Date(modelValue) : null;
	    });
	
	    var hoursInputEl = inputs.eq(0),
	        minutesInputEl = inputs.eq(1),
	        secondsInputEl = inputs.eq(2);
	
	    var mousewheel = angular.isDefined($attrs.mousewheel) ? $scope.$parent.$eval($attrs.mousewheel) : timepickerConfig.mousewheel;
	
	    if (mousewheel) {
	      this.setupMousewheelEvents(hoursInputEl, minutesInputEl, secondsInputEl);
	    }
	
	    var arrowkeys = angular.isDefined($attrs.arrowkeys) ? $scope.$parent.$eval($attrs.arrowkeys) : timepickerConfig.arrowkeys;
	    if (arrowkeys) {
	      this.setupArrowkeyEvents(hoursInputEl, minutesInputEl, secondsInputEl);
	    }
	
	    $scope.readonlyInput = angular.isDefined($attrs.readonlyInput) ? $scope.$parent.$eval($attrs.readonlyInput) : timepickerConfig.readonlyInput;
	    this.setupInputEvents(hoursInputEl, minutesInputEl, secondsInputEl);
	  };
	
	  var hourStep = timepickerConfig.hourStep;
	  if ($attrs.hourStep) {
	    watchers.push($scope.$parent.$watch($parse($attrs.hourStep), function(value) {
	      hourStep = +value;
	    }));
	  }
	
	  var minuteStep = timepickerConfig.minuteStep;
	  if ($attrs.minuteStep) {
	    watchers.push($scope.$parent.$watch($parse($attrs.minuteStep), function(value) {
	      minuteStep = +value;
	    }));
	  }
	
	  var min;
	  watchers.push($scope.$parent.$watch($parse($attrs.min), function(value) {
	    var dt = new Date(value);
	    min = isNaN(dt) ? undefined : dt;
	  }));
	
	  var max;
	  watchers.push($scope.$parent.$watch($parse($attrs.max), function(value) {
	    var dt = new Date(value);
	    max = isNaN(dt) ? undefined : dt;
	  }));
	
	  var disabled = false;
	  if ($attrs.ngDisabled) {
	    watchers.push($scope.$parent.$watch($parse($attrs.ngDisabled), function(value) {
	      disabled = value;
	    }));
	  }
	
	  $scope.noIncrementHours = function() {
	    var incrementedSelected = addMinutes(selected, hourStep * 60);
	    return disabled || incrementedSelected > max ||
	      incrementedSelected < selected && incrementedSelected < min;
	  };
	
	  $scope.noDecrementHours = function() {
	    var decrementedSelected = addMinutes(selected, -hourStep * 60);
	    return disabled || decrementedSelected < min ||
	      decrementedSelected > selected && decrementedSelected > max;
	  };
	
	  $scope.noIncrementMinutes = function() {
	    var incrementedSelected = addMinutes(selected, minuteStep);
	    return disabled || incrementedSelected > max ||
	      incrementedSelected < selected && incrementedSelected < min;
	  };
	
	  $scope.noDecrementMinutes = function() {
	    var decrementedSelected = addMinutes(selected, -minuteStep);
	    return disabled || decrementedSelected < min ||
	      decrementedSelected > selected && decrementedSelected > max;
	  };
	
	  $scope.noIncrementSeconds = function() {
	    var incrementedSelected = addSeconds(selected, secondStep);
	    return disabled || incrementedSelected > max ||
	      incrementedSelected < selected && incrementedSelected < min;
	  };
	
	  $scope.noDecrementSeconds = function() {
	    var decrementedSelected = addSeconds(selected, -secondStep);
	    return disabled || decrementedSelected < min ||
	      decrementedSelected > selected && decrementedSelected > max;
	  };
	
	  $scope.noToggleMeridian = function() {
	    if (selected.getHours() < 12) {
	      return disabled || addMinutes(selected, 12 * 60) > max;
	    }
	
	    return disabled || addMinutes(selected, -12 * 60) < min;
	  };
	
	  var secondStep = timepickerConfig.secondStep;
	  if ($attrs.secondStep) {
	    watchers.push($scope.$parent.$watch($parse($attrs.secondStep), function(value) {
	      secondStep = +value;
	    }));
	  }
	
	  $scope.showSeconds = timepickerConfig.showSeconds;
	  if ($attrs.showSeconds) {
	    watchers.push($scope.$parent.$watch($parse($attrs.showSeconds), function(value) {
	      $scope.showSeconds = !!value;
	    }));
	  }
	
	  // 12H / 24H mode
	  $scope.showMeridian = timepickerConfig.showMeridian;
	  if ($attrs.showMeridian) {
	    watchers.push($scope.$parent.$watch($parse($attrs.showMeridian), function(value) {
	      $scope.showMeridian = !!value;
	
	      if (ngModelCtrl.$error.time) {
	        // Evaluate from template
	        var hours = getHoursFromTemplate(), minutes = getMinutesFromTemplate();
	        if (angular.isDefined(hours) && angular.isDefined(minutes)) {
	          selected.setHours(hours);
	          refresh();
	        }
	      } else {
	        updateTemplate();
	      }
	    }));
	  }
	
	  // Get $scope.hours in 24H mode if valid
	  function getHoursFromTemplate() {
	    var hours = +$scope.hours;
	    var valid = $scope.showMeridian ? hours > 0 && hours < 13 :
	      hours >= 0 && hours < 24;
	    if (!valid || $scope.hours === '') {
	      return undefined;
	    }
	
	    if ($scope.showMeridian) {
	      if (hours === 12) {
	        hours = 0;
	      }
	      if ($scope.meridian === meridians[1]) {
	        hours = hours + 12;
	      }
	    }
	    return hours;
	  }
	
	  function getMinutesFromTemplate() {
	    var minutes = +$scope.minutes;
	    var valid = minutes >= 0 && minutes < 60;
	    if (!valid || $scope.minutes === '') {
	      return undefined;
	    }
	    return minutes;
	  }
	
	  function getSecondsFromTemplate() {
	    var seconds = +$scope.seconds;
	    return seconds >= 0 && seconds < 60 ? seconds : undefined;
	  }
	
	  function pad(value, noPad) {
	    if (value === null) {
	      return '';
	    }
	
	    return angular.isDefined(value) && value.toString().length < 2 && !noPad ?
	      '0' + value : value.toString();
	  }
	
	  // Respond on mousewheel spin
	  this.setupMousewheelEvents = function(hoursInputEl, minutesInputEl, secondsInputEl) {
	    var isScrollingUp = function(e) {
	      if (e.originalEvent) {
	        e = e.originalEvent;
	      }
	      //pick correct delta variable depending on event
	      var delta = e.wheelDelta ? e.wheelDelta : -e.deltaY;
	      return e.detail || delta > 0;
	    };
	
	    hoursInputEl.bind('mousewheel wheel', function(e) {
	      if (!disabled) {
	        $scope.$apply(isScrollingUp(e) ? $scope.incrementHours() : $scope.decrementHours());
	      }
	      e.preventDefault();
	    });
	
	    minutesInputEl.bind('mousewheel wheel', function(e) {
	      if (!disabled) {
	        $scope.$apply(isScrollingUp(e) ? $scope.incrementMinutes() : $scope.decrementMinutes());
	      }
	      e.preventDefault();
	    });
	
	     secondsInputEl.bind('mousewheel wheel', function(e) {
	      if (!disabled) {
	        $scope.$apply(isScrollingUp(e) ? $scope.incrementSeconds() : $scope.decrementSeconds());
	      }
	      e.preventDefault();
	    });
	  };
	
	  // Respond on up/down arrowkeys
	  this.setupArrowkeyEvents = function(hoursInputEl, minutesInputEl, secondsInputEl) {
	    hoursInputEl.bind('keydown', function(e) {
	      if (!disabled) {
	        if (e.which === 38) { // up
	          e.preventDefault();
	          $scope.incrementHours();
	          $scope.$apply();
	        } else if (e.which === 40) { // down
	          e.preventDefault();
	          $scope.decrementHours();
	          $scope.$apply();
	        }
	      }
	    });
	
	    minutesInputEl.bind('keydown', function(e) {
	      if (!disabled) {
	        if (e.which === 38) { // up
	          e.preventDefault();
	          $scope.incrementMinutes();
	          $scope.$apply();
	        } else if (e.which === 40) { // down
	          e.preventDefault();
	          $scope.decrementMinutes();
	          $scope.$apply();
	        }
	      }
	    });
	
	    secondsInputEl.bind('keydown', function(e) {
	      if (!disabled) {
	        if (e.which === 38) { // up
	          e.preventDefault();
	          $scope.incrementSeconds();
	          $scope.$apply();
	        } else if (e.which === 40) { // down
	          e.preventDefault();
	          $scope.decrementSeconds();
	          $scope.$apply();
	        }
	      }
	    });
	  };
	
	  this.setupInputEvents = function(hoursInputEl, minutesInputEl, secondsInputEl) {
	    if ($scope.readonlyInput) {
	      $scope.updateHours = angular.noop;
	      $scope.updateMinutes = angular.noop;
	      $scope.updateSeconds = angular.noop;
	      return;
	    }
	
	    var invalidate = function(invalidHours, invalidMinutes, invalidSeconds) {
	      ngModelCtrl.$setViewValue(null);
	      ngModelCtrl.$setValidity('time', false);
	      if (angular.isDefined(invalidHours)) {
	        $scope.invalidHours = invalidHours;
	      }
	
	      if (angular.isDefined(invalidMinutes)) {
	        $scope.invalidMinutes = invalidMinutes;
	      }
	
	      if (angular.isDefined(invalidSeconds)) {
	        $scope.invalidSeconds = invalidSeconds;
	      }
	    };
	
	    $scope.updateHours = function() {
	      var hours = getHoursFromTemplate(),
	        minutes = getMinutesFromTemplate();
	
	      ngModelCtrl.$setDirty();
	
	      if (angular.isDefined(hours) && angular.isDefined(minutes)) {
	        selected.setHours(hours);
	        selected.setMinutes(minutes);
	        if (selected < min || selected > max) {
	          invalidate(true);
	        } else {
	          refresh('h');
	        }
	      } else {
	        invalidate(true);
	      }
	    };
	
	    hoursInputEl.bind('blur', function(e) {
	      ngModelCtrl.$setTouched();
	      if (modelIsEmpty()) {
	        makeValid();
	      } else if ($scope.hours === null || $scope.hours === '') {
	        invalidate(true);
	      } else if (!$scope.invalidHours && $scope.hours < 10) {
	        $scope.$apply(function() {
	          $scope.hours = pad($scope.hours, !padHours);
	        });
	      }
	    });
	
	    $scope.updateMinutes = function() {
	      var minutes = getMinutesFromTemplate(),
	        hours = getHoursFromTemplate();
	
	      ngModelCtrl.$setDirty();
	
	      if (angular.isDefined(minutes) && angular.isDefined(hours)) {
	        selected.setHours(hours);
	        selected.setMinutes(minutes);
	        if (selected < min || selected > max) {
	          invalidate(undefined, true);
	        } else {
	          refresh('m');
	        }
	      } else {
	        invalidate(undefined, true);
	      }
	    };
	
	    minutesInputEl.bind('blur', function(e) {
	      ngModelCtrl.$setTouched();
	      if (modelIsEmpty()) {
	        makeValid();
	      } else if ($scope.minutes === null) {
	        invalidate(undefined, true);
	      } else if (!$scope.invalidMinutes && $scope.minutes < 10) {
	        $scope.$apply(function() {
	          $scope.minutes = pad($scope.minutes);
	        });
	      }
	    });
	
	    $scope.updateSeconds = function() {
	      var seconds = getSecondsFromTemplate();
	
	      ngModelCtrl.$setDirty();
	
	      if (angular.isDefined(seconds)) {
	        selected.setSeconds(seconds);
	        refresh('s');
	      } else {
	        invalidate(undefined, undefined, true);
	      }
	    };
	
	    secondsInputEl.bind('blur', function(e) {
	      if (modelIsEmpty()) {
	        makeValid();
	      } else if (!$scope.invalidSeconds && $scope.seconds < 10) {
	        $scope.$apply( function() {
	          $scope.seconds = pad($scope.seconds);
	        });
	      }
	    });
	
	  };
	
	  this.render = function() {
	    var date = ngModelCtrl.$viewValue;
	
	    if (isNaN(date)) {
	      ngModelCtrl.$setValidity('time', false);
	      $log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.');
	    } else {
	      if (date) {
	        selected = date;
	      }
	
	      if (selected < min || selected > max) {
	        ngModelCtrl.$setValidity('time', false);
	        $scope.invalidHours = true;
	        $scope.invalidMinutes = true;
	      } else {
	        makeValid();
	      }
	      updateTemplate();
	    }
	  };
	
	  // Call internally when we know that model is valid.
	  function refresh(keyboardChange) {
	    makeValid();
	    ngModelCtrl.$setViewValue(new Date(selected));
	    updateTemplate(keyboardChange);
	  }
	
	  function makeValid() {
	    ngModelCtrl.$setValidity('time', true);
	    $scope.invalidHours = false;
	    $scope.invalidMinutes = false;
	    $scope.invalidSeconds = false;
	  }
	
	  function updateTemplate(keyboardChange) {
	    if (!ngModelCtrl.$modelValue) {
	      $scope.hours = null;
	      $scope.minutes = null;
	      $scope.seconds = null;
	      $scope.meridian = meridians[0];
	    } else {
	      var hours = selected.getHours(),
	        minutes = selected.getMinutes(),
	        seconds = selected.getSeconds();
	
	      if ($scope.showMeridian) {
	        hours = hours === 0 || hours === 12 ? 12 : hours % 12; // Convert 24 to 12 hour system
	      }
	
	      $scope.hours = keyboardChange === 'h' ? hours : pad(hours, !padHours);
	      if (keyboardChange !== 'm') {
	        $scope.minutes = pad(minutes);
	      }
	      $scope.meridian = selected.getHours() < 12 ? meridians[0] : meridians[1];
	
	      if (keyboardChange !== 's') {
	        $scope.seconds = pad(seconds);
	      }
	      $scope.meridian = selected.getHours() < 12 ? meridians[0] : meridians[1];
	    }
	  }
	
	  function addSecondsToSelected(seconds) {
	    selected = addSeconds(selected, seconds);
	    refresh();
	  }
	
	  function addMinutes(selected, minutes) {
	    return addSeconds(selected, minutes*60);
	  }
	
	  function addSeconds(date, seconds) {
	    var dt = new Date(date.getTime() + seconds * 1000);
	    var newDate = new Date(date);
	    newDate.setHours(dt.getHours(), dt.getMinutes(), dt.getSeconds());
	    return newDate;
	  }
	
	  function modelIsEmpty() {
	    return ($scope.hours === null || $scope.hours === '') &&
	      ($scope.minutes === null || $scope.minutes === '') &&
	      (!$scope.showSeconds || $scope.showSeconds && ($scope.seconds === null || $scope.seconds === ''));
	  }
	
	  $scope.showSpinners = angular.isDefined($attrs.showSpinners) ?
	    $scope.$parent.$eval($attrs.showSpinners) : timepickerConfig.showSpinners;
	
	  $scope.incrementHours = function() {
	    if (!$scope.noIncrementHours()) {
	      addSecondsToSelected(hourStep * 60 * 60);
	    }
	  };
	
	  $scope.decrementHours = function() {
	    if (!$scope.noDecrementHours()) {
	      addSecondsToSelected(-hourStep * 60 * 60);
	    }
	  };
	
	  $scope.incrementMinutes = function() {
	    if (!$scope.noIncrementMinutes()) {
	      addSecondsToSelected(minuteStep * 60);
	    }
	  };
	
	  $scope.decrementMinutes = function() {
	    if (!$scope.noDecrementMinutes()) {
	      addSecondsToSelected(-minuteStep * 60);
	    }
	  };
	
	  $scope.incrementSeconds = function() {
	    if (!$scope.noIncrementSeconds()) {
	      addSecondsToSelected(secondStep);
	    }
	  };
	
	  $scope.decrementSeconds = function() {
	    if (!$scope.noDecrementSeconds()) {
	      addSecondsToSelected(-secondStep);
	    }
	  };
	
	  $scope.toggleMeridian = function() {
	    var minutes = getMinutesFromTemplate(),
	        hours = getHoursFromTemplate();
	
	    if (!$scope.noToggleMeridian()) {
	      if (angular.isDefined(minutes) && angular.isDefined(hours)) {
	        addSecondsToSelected(12 * 60 * (selected.getHours() < 12 ? 60 : -60));
	      } else {
	        $scope.meridian = $scope.meridian === meridians[0] ? meridians[1] : meridians[0];
	      }
	    }
	  };
	
	  $scope.blur = function() {
	    ngModelCtrl.$setTouched();
	  };
	
	  $scope.$on('$destroy', function() {
	    while (watchers.length) {
	      watchers.shift()();
	    }
	  });
	}])
	
	.directive('uibTimepicker', ['uibTimepickerConfig', function(uibTimepickerConfig) {
	  return {
	    require: ['uibTimepicker', '?^ngModel'],
	    controller: 'UibTimepickerController',
	    controllerAs: 'timepicker',
	    replace: true,
	    scope: {},
	    templateUrl: function(element, attrs) {
	      return attrs.templateUrl || uibTimepickerConfig.templateUrl;
	    },
	    link: function(scope, element, attrs, ctrls) {
	      var timepickerCtrl = ctrls[0], ngModelCtrl = ctrls[1];
	
	      if (ngModelCtrl) {
	        timepickerCtrl.init(ngModelCtrl, element.find('input'));
	      }
	    }
	  };
	}]);
	
	angular.module('ui.bootstrap.typeahead', ['ui.bootstrap.debounce', 'ui.bootstrap.position'])
	
	/**
	 * A helper service that can parse typeahead's syntax (string provided by users)
	 * Extracted to a separate service for ease of unit testing
	 */
	  .factory('uibTypeaheadParser', ['$parse', function($parse) {
	    //                      00000111000000000000022200000000000000003333333333333330000000000044000
	    var TYPEAHEAD_REGEXP = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;
	    return {
	      parse: function(input) {
	        var match = input.match(TYPEAHEAD_REGEXP);
	        if (!match) {
	          throw new Error(
	            'Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_"' +
	              ' but got "' + input + '".');
	        }
	
	        return {
	          itemName: match[3],
	          source: $parse(match[4]),
	          viewMapper: $parse(match[2] || match[1]),
	          modelMapper: $parse(match[1])
	        };
	      }
	    };
	  }])
	
	  .controller('UibTypeaheadController', ['$scope', '$element', '$attrs', '$compile', '$parse', '$q', '$timeout', '$document', '$window', '$rootScope', '$$debounce', '$uibPosition', 'uibTypeaheadParser',
	    function(originalScope, element, attrs, $compile, $parse, $q, $timeout, $document, $window, $rootScope, $$debounce, $position, typeaheadParser) {
	    var HOT_KEYS = [9, 13, 27, 38, 40];
	    var eventDebounceTime = 200;
	    var modelCtrl, ngModelOptions;
	    //SUPPORTED ATTRIBUTES (OPTIONS)
	
	    //minimal no of characters that needs to be entered before typeahead kicks-in
	    var minLength = originalScope.$eval(attrs.typeaheadMinLength);
	    if (!minLength && minLength !== 0) {
	      minLength = 1;
	    }
	
	    originalScope.$watch(attrs.typeaheadMinLength, function (newVal) {
	        minLength = !newVal && newVal !== 0 ? 1 : newVal;
	    });
	    
	    //minimal wait time after last character typed before typeahead kicks-in
	    var waitTime = originalScope.$eval(attrs.typeaheadWaitMs) || 0;
	
	    //should it restrict model values to the ones selected from the popup only?
	    var isEditable = originalScope.$eval(attrs.typeaheadEditable) !== false;
	    originalScope.$watch(attrs.typeaheadEditable, function (newVal) {
	      isEditable = newVal !== false;
	    });
	
	    //binding to a variable that indicates if matches are being retrieved asynchronously
	    var isLoadingSetter = $parse(attrs.typeaheadLoading).assign || angular.noop;
	
	    //a callback executed when a match is selected
	    var onSelectCallback = $parse(attrs.typeaheadOnSelect);
	
	    //should it select highlighted popup value when losing focus?
	    var isSelectOnBlur = angular.isDefined(attrs.typeaheadSelectOnBlur) ? originalScope.$eval(attrs.typeaheadSelectOnBlur) : false;
	
	    //binding to a variable that indicates if there were no results after the query is completed
	    var isNoResultsSetter = $parse(attrs.typeaheadNoResults).assign || angular.noop;
	
	    var inputFormatter = attrs.typeaheadInputFormatter ? $parse(attrs.typeaheadInputFormatter) : undefined;
	
	    var appendToBody = attrs.typeaheadAppendToBody ? originalScope.$eval(attrs.typeaheadAppendToBody) : false;
	
	    var appendTo = attrs.typeaheadAppendTo ?
	      originalScope.$eval(attrs.typeaheadAppendTo) : null;
	
	    var focusFirst = originalScope.$eval(attrs.typeaheadFocusFirst) !== false;
	
	    //If input matches an item of the list exactly, select it automatically
	    var selectOnExact = attrs.typeaheadSelectOnExact ? originalScope.$eval(attrs.typeaheadSelectOnExact) : false;
	
	    //binding to a variable that indicates if dropdown is open
	    var isOpenSetter = $parse(attrs.typeaheadIsOpen).assign || angular.noop;
	
	    var showHint = originalScope.$eval(attrs.typeaheadShowHint) || false;
	
	    //INTERNAL VARIABLES
	
	    //model setter executed upon match selection
	    var parsedModel = $parse(attrs.ngModel);
	    var invokeModelSetter = $parse(attrs.ngModel + '($$$p)');
	    var $setModelValue = function(scope, newValue) {
	      if (angular.isFunction(parsedModel(originalScope)) &&
	        ngModelOptions && ngModelOptions.$options && ngModelOptions.$options.getterSetter) {
	        return invokeModelSetter(scope, {$$$p: newValue});
	      }
	
	      return parsedModel.assign(scope, newValue);
	    };
	
	    //expressions used by typeahead
	    var parserResult = typeaheadParser.parse(attrs.uibTypeahead);
	
	    var hasFocus;
	
	    //Used to avoid bug in iOS webview where iOS keyboard does not fire
	    //mousedown & mouseup events
	    //Issue #3699
	    var selected;
	
	    //create a child scope for the typeahead directive so we are not polluting original scope
	    //with typeahead-specific data (matches, query etc.)
	    var scope = originalScope.$new();
	    var offDestroy = originalScope.$on('$destroy', function() {
	      scope.$destroy();
	    });
	    scope.$on('$destroy', offDestroy);
	
	    // WAI-ARIA
	    var popupId = 'typeahead-' + scope.$id + '-' + Math.floor(Math.random() * 10000);
	    element.attr({
	      'aria-autocomplete': 'list',
	      'aria-expanded': false,
	      'aria-owns': popupId
	    });
	
	    var inputsContainer, hintInputElem;
	    //add read-only input to show hint
	    if (showHint) {
	      inputsContainer = angular.element('<div></div>');
	      inputsContainer.css('position', 'relative');
	      element.after(inputsContainer);
	      hintInputElem = element.clone();
	      hintInputElem.attr('placeholder', '');
	      hintInputElem.attr('tabindex', '-1');
	      hintInputElem.val('');
	      hintInputElem.css({
	        'position': 'absolute',
	        'top': '0px',
	        'left': '0px',
	        'border-color': 'transparent',
	        'box-shadow': 'none',
	        'opacity': 1,
	        'background': 'none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)',
	        'color': '#999'
	      });
	      element.css({
	        'position': 'relative',
	        'vertical-align': 'top',
	        'background-color': 'transparent'
	      });
	      inputsContainer.append(hintInputElem);
	      hintInputElem.after(element);
	    }
	
	    //pop-up element used to display matches
	    var popUpEl = angular.element('<div uib-typeahead-popup></div>');
	    popUpEl.attr({
	      id: popupId,
	      matches: 'matches',
	      active: 'activeIdx',
	      select: 'select(activeIdx, evt)',
	      'move-in-progress': 'moveInProgress',
	      query: 'query',
	      position: 'position',
	      'assign-is-open': 'assignIsOpen(isOpen)',
	      debounce: 'debounceUpdate'
	    });
	    //custom item template
	    if (angular.isDefined(attrs.typeaheadTemplateUrl)) {
	      popUpEl.attr('template-url', attrs.typeaheadTemplateUrl);
	    }
	
	    if (angular.isDefined(attrs.typeaheadPopupTemplateUrl)) {
	      popUpEl.attr('popup-template-url', attrs.typeaheadPopupTemplateUrl);
	    }
	
	    var resetHint = function() {
	      if (showHint) {
	        hintInputElem.val('');
	      }
	    };
	
	    var resetMatches = function() {
	      scope.matches = [];
	      scope.activeIdx = -1;
	      element.attr('aria-expanded', false);
	      resetHint();
	    };
	
	    var getMatchId = function(index) {
	      return popupId + '-option-' + index;
	    };
	
	    // Indicate that the specified match is the active (pre-selected) item in the list owned by this typeahead.
	    // This attribute is added or removed automatically when the `activeIdx` changes.
	    scope.$watch('activeIdx', function(index) {
	      if (index < 0) {
	        element.removeAttr('aria-activedescendant');
	      } else {
	        element.attr('aria-activedescendant', getMatchId(index));
	      }
	    });
	
	    var inputIsExactMatch = function(inputValue, index) {
	      if (scope.matches.length > index && inputValue) {
	        return inputValue.toUpperCase() === scope.matches[index].label.toUpperCase();
	      }
	
	      return false;
	    };
	
	    var getMatchesAsync = function(inputValue, evt) {
	      var locals = {$viewValue: inputValue};
	      isLoadingSetter(originalScope, true);
	      isNoResultsSetter(originalScope, false);
	      $q.when(parserResult.source(originalScope, locals)).then(function(matches) {
	        //it might happen that several async queries were in progress if a user were typing fast
	        //but we are interested only in responses that correspond to the current view value
	        var onCurrentRequest = inputValue === modelCtrl.$viewValue;
	        if (onCurrentRequest && hasFocus) {
	          if (matches && matches.length > 0) {
	            scope.activeIdx = focusFirst ? 0 : -1;
	            isNoResultsSetter(originalScope, false);
	            scope.matches.length = 0;
	
	            //transform labels
	            for (var i = 0; i < matches.length; i++) {
	              locals[parserResult.itemName] = matches[i];
	              scope.matches.push({
	                id: getMatchId(i),
	                label: parserResult.viewMapper(scope, locals),
	                model: matches[i]
	              });
	            }
	
	            scope.query = inputValue;
	            //position pop-up with matches - we need to re-calculate its position each time we are opening a window
	            //with matches as a pop-up might be absolute-positioned and position of an input might have changed on a page
	            //due to other elements being rendered
	            recalculatePosition();
	
	            element.attr('aria-expanded', true);
	
	            //Select the single remaining option if user input matches
	            if (selectOnExact && scope.matches.length === 1 && inputIsExactMatch(inputValue, 0)) {
	              if (angular.isNumber(scope.debounceUpdate) || angular.isObject(scope.debounceUpdate)) {
	                $$debounce(function() {
	                  scope.select(0, evt);
	                }, angular.isNumber(scope.debounceUpdate) ? scope.debounceUpdate : scope.debounceUpdate['default']);
	              } else {
	                scope.select(0, evt);
	              }
	            }
	
	            if (showHint) {
	              var firstLabel = scope.matches[0].label;
	              if (angular.isString(inputValue) &&
	                inputValue.length > 0 &&
	                firstLabel.slice(0, inputValue.length).toUpperCase() === inputValue.toUpperCase()) {
	                hintInputElem.val(inputValue + firstLabel.slice(inputValue.length));
	              } else {
	                hintInputElem.val('');
	              }
	            }
	          } else {
	            resetMatches();
	            isNoResultsSetter(originalScope, true);
	          }
	        }
	        if (onCurrentRequest) {
	          isLoadingSetter(originalScope, false);
	        }
	      }, function() {
	        resetMatches();
	        isLoadingSetter(originalScope, false);
	        isNoResultsSetter(originalScope, true);
	      });
	    };
	
	    // bind events only if appendToBody params exist - performance feature
	    if (appendToBody) {
	      angular.element($window).on('resize', fireRecalculating);
	      $document.find('body').on('scroll', fireRecalculating);
	    }
	
	    // Declare the debounced function outside recalculating for
	    // proper debouncing
	    var debouncedRecalculate = $$debounce(function() {
	      // if popup is visible
	      if (scope.matches.length) {
	        recalculatePosition();
	      }
	
	      scope.moveInProgress = false;
	    }, eventDebounceTime);
	
	    // Default progress type
	    scope.moveInProgress = false;
	
	    function fireRecalculating() {
	      if (!scope.moveInProgress) {
	        scope.moveInProgress = true;
	        scope.$digest();
	      }
	
	      debouncedRecalculate();
	    }
	
	    // recalculate actual position and set new values to scope
	    // after digest loop is popup in right position
	    function recalculatePosition() {
	      scope.position = appendToBody ? $position.offset(element) : $position.position(element);
	      scope.position.top += element.prop('offsetHeight');
	    }
	
	    //we need to propagate user's query so we can higlight matches
	    scope.query = undefined;
	
	    //Declare the timeout promise var outside the function scope so that stacked calls can be cancelled later
	    var timeoutPromise;
	
	    var scheduleSearchWithTimeout = function(inputValue) {
	      timeoutPromise = $timeout(function() {
	        getMatchesAsync(inputValue);
	      }, waitTime);
	    };
	
	    var cancelPreviousTimeout = function() {
	      if (timeoutPromise) {
	        $timeout.cancel(timeoutPromise);
	      }
	    };
	
	    resetMatches();
	
	    scope.assignIsOpen = function (isOpen) {
	      isOpenSetter(originalScope, isOpen);
	    };
	
	    scope.select = function(activeIdx, evt) {
	      //called from within the $digest() cycle
	      var locals = {};
	      var model, item;
	
	      selected = true;
	      locals[parserResult.itemName] = item = scope.matches[activeIdx].model;
	      model = parserResult.modelMapper(originalScope, locals);
	      $setModelValue(originalScope, model);
	      modelCtrl.$setValidity('editable', true);
	      modelCtrl.$setValidity('parse', true);
	
	      onSelectCallback(originalScope, {
	        $item: item,
	        $model: model,
	        $label: parserResult.viewMapper(originalScope, locals),
	        $event: evt
	      });
	
	      resetMatches();
	
	      //return focus to the input element if a match was selected via a mouse click event
	      // use timeout to avoid $rootScope:inprog error
	      if (scope.$eval(attrs.typeaheadFocusOnSelect) !== false) {
	        $timeout(function() { element[0].focus(); }, 0, false);
	      }
	    };
	
	    //bind keyboard events: arrows up(38) / down(40), enter(13) and tab(9), esc(27)
	    element.on('keydown', function(evt) {
	      //typeahead is open and an "interesting" key was pressed
	      if (scope.matches.length === 0 || HOT_KEYS.indexOf(evt.which) === -1) {
	        return;
	      }
	
	      /**
	       * if there's nothing selected (i.e. focusFirst) and enter or tab is hit
	       * or
	       * shift + tab is pressed to bring focus to the previous element
	       * then clear the results
	       */
	      if (scope.activeIdx === -1 && (evt.which === 9 || evt.which === 13) || evt.which === 9 && !!evt.shiftKey) {
	        resetMatches();
	        scope.$digest();
	        return;
	      }
	
	      evt.preventDefault();
	      var target;
	      switch (evt.which) {
	        case 9:
	        case 13:
	          scope.$apply(function () {
	            if (angular.isNumber(scope.debounceUpdate) || angular.isObject(scope.debounceUpdate)) {
	              $$debounce(function() {
	                scope.select(scope.activeIdx, evt);
	              }, angular.isNumber(scope.debounceUpdate) ? scope.debounceUpdate : scope.debounceUpdate['default']);
	            } else {
	              scope.select(scope.activeIdx, evt);
	            }
	          });
	          break;
	        case 27:
	          evt.stopPropagation();
	
	          resetMatches();
	          originalScope.$digest();
	          break;
	        case 38:
	          scope.activeIdx = (scope.activeIdx > 0 ? scope.activeIdx : scope.matches.length) - 1;
	          scope.$digest();
	          target = popUpEl.find('li')[scope.activeIdx];
	          target.parentNode.scrollTop = target.offsetTop;
	          break;
	        case 40:
	          scope.activeIdx = (scope.activeIdx + 1) % scope.matches.length;
	          scope.$digest();
	          target = popUpEl.find('li')[scope.activeIdx];
	          target.parentNode.scrollTop = target.offsetTop;
	          break;
	      }
	    });
	
	    element.bind('focus', function (evt) {
	      hasFocus = true;
	      if (minLength === 0 && !modelCtrl.$viewValue) {
	        $timeout(function() {
	          getMatchesAsync(modelCtrl.$viewValue, evt);
	        }, 0);
	      }
	    });
	
	    element.bind('blur', function(evt) {
	      if (isSelectOnBlur && scope.matches.length && scope.activeIdx !== -1 && !selected) {
	        selected = true;
	        scope.$apply(function() {
	          if (angular.isObject(scope.debounceUpdate) && angular.isNumber(scope.debounceUpdate.blur)) {
	            $$debounce(function() {
	              scope.select(scope.activeIdx, evt);
	            }, scope.debounceUpdate.blur);
	          } else {
	            scope.select(scope.activeIdx, evt);
	          }
	        });
	      }
	      if (!isEditable && modelCtrl.$error.editable) {
	        modelCtrl.$viewValue = '';
	        // Reset validity as we are clearing
	        modelCtrl.$setValidity('editable', true);
	        modelCtrl.$setValidity('parse', true);
	        element.val('');
	      }
	      hasFocus = false;
	      selected = false;
	    });
	
	    // Keep reference to click handler to unbind it.
	    var dismissClickHandler = function(evt) {
	      // Issue #3973
	      // Firefox treats right click as a click on document
	      if (element[0] !== evt.target && evt.which !== 3 && scope.matches.length !== 0) {
	        resetMatches();
	        if (!$rootScope.$$phase) {
	          originalScope.$digest();
	        }
	      }
	    };
	
	    $document.on('click', dismissClickHandler);
	
	    originalScope.$on('$destroy', function() {
	      $document.off('click', dismissClickHandler);
	      if (appendToBody || appendTo) {
	        $popup.remove();
	      }
	
	      if (appendToBody) {
	        angular.element($window).off('resize', fireRecalculating);
	        $document.find('body').off('scroll', fireRecalculating);
	      }
	      // Prevent jQuery cache memory leak
	      popUpEl.remove();
	
	      if (showHint) {
	          inputsContainer.remove();
	      }
	    });
	
	    var $popup = $compile(popUpEl)(scope);
	
	    if (appendToBody) {
	      $document.find('body').append($popup);
	    } else if (appendTo) {
	      angular.element(appendTo).eq(0).append($popup);
	    } else {
	      element.after($popup);
	    }
	
	    this.init = function(_modelCtrl, _ngModelOptions) {
	      modelCtrl = _modelCtrl;
	      ngModelOptions = _ngModelOptions;
	
	      scope.debounceUpdate = modelCtrl.$options && $parse(modelCtrl.$options.debounce)(originalScope);
	
	      //plug into $parsers pipeline to open a typeahead on view changes initiated from DOM
	      //$parsers kick-in on all the changes coming from the view as well as manually triggered by $setViewValue
	      modelCtrl.$parsers.unshift(function(inputValue) {
	        hasFocus = true;
	
	        if (minLength === 0 || inputValue && inputValue.length >= minLength) {
	          if (waitTime > 0) {
	            cancelPreviousTimeout();
	            scheduleSearchWithTimeout(inputValue);
	          } else {
	            getMatchesAsync(inputValue);
	          }
	        } else {
	          isLoadingSetter(originalScope, false);
	          cancelPreviousTimeout();
	          resetMatches();
	        }
	
	        if (isEditable) {
	          return inputValue;
	        }
	
	        if (!inputValue) {
	          // Reset in case user had typed something previously.
	          modelCtrl.$setValidity('editable', true);
	          return null;
	        }
	
	        modelCtrl.$setValidity('editable', false);
	        return undefined;
	      });
	
	      modelCtrl.$formatters.push(function(modelValue) {
	        var candidateViewValue, emptyViewValue;
	        var locals = {};
	
	        // The validity may be set to false via $parsers (see above) if
	        // the model is restricted to selected values. If the model
	        // is set manually it is considered to be valid.
	        if (!isEditable) {
	          modelCtrl.$setValidity('editable', true);
	        }
	
	        if (inputFormatter) {
	          locals.$model = modelValue;
	          return inputFormatter(originalScope, locals);
	        }
	
	        //it might happen that we don't have enough info to properly render input value
	        //we need to check for this situation and simply return model value if we can't apply custom formatting
	        locals[parserResult.itemName] = modelValue;
	        candidateViewValue = parserResult.viewMapper(originalScope, locals);
	        locals[parserResult.itemName] = undefined;
	        emptyViewValue = parserResult.viewMapper(originalScope, locals);
	
	        return candidateViewValue !== emptyViewValue ? candidateViewValue : modelValue;
	      });
	    };
	  }])
	
	  .directive('uibTypeahead', function() {
	    return {
	      controller: 'UibTypeaheadController',
	      require: ['ngModel', '^?ngModelOptions', 'uibTypeahead'],
	      link: function(originalScope, element, attrs, ctrls) {
	        ctrls[2].init(ctrls[0], ctrls[1]);
	      }
	    };
	  })
	
	  .directive('uibTypeaheadPopup', ['$$debounce', function($$debounce) {
	    return {
	      scope: {
	        matches: '=',
	        query: '=',
	        active: '=',
	        position: '&',
	        moveInProgress: '=',
	        select: '&',
	        assignIsOpen: '&',
	        debounce: '&'
	      },
	      replace: true,
	      templateUrl: function(element, attrs) {
	        return attrs.popupTemplateUrl || 'uib/template/typeahead/typeahead-popup.html';
	      },
	      link: function(scope, element, attrs) {
	        scope.templateUrl = attrs.templateUrl;
	
	        scope.isOpen = function() {
	          var isDropdownOpen = scope.matches.length > 0;
	          scope.assignIsOpen({ isOpen: isDropdownOpen });
	          return isDropdownOpen;
	        };
	
	        scope.isActive = function(matchIdx) {
	          return scope.active === matchIdx;
	        };
	
	        scope.selectActive = function(matchIdx) {
	          scope.active = matchIdx;
	        };
	
	        scope.selectMatch = function(activeIdx, evt) {
	          var debounce = scope.debounce();
	          if (angular.isNumber(debounce) || angular.isObject(debounce)) {
	            $$debounce(function() {
	              scope.select({activeIdx: activeIdx, evt: evt});
	            }, angular.isNumber(debounce) ? debounce : debounce['default']);
	          } else {
	            scope.select({activeIdx: activeIdx, evt: evt});
	          }
	        };
	      }
	    };
	  }])
	
	  .directive('uibTypeaheadMatch', ['$templateRequest', '$compile', '$parse', function($templateRequest, $compile, $parse) {
	    return {
	      scope: {
	        index: '=',
	        match: '=',
	        query: '='
	      },
	      link: function(scope, element, attrs) {
	        var tplUrl = $parse(attrs.templateUrl)(scope.$parent) || 'uib/template/typeahead/typeahead-match.html';
	        $templateRequest(tplUrl).then(function(tplContent) {
	          var tplEl = angular.element(tplContent.trim());
	          element.replaceWith(tplEl);
	          $compile(tplEl)(scope);
	        });
	      }
	    };
	  }])
	
	  .filter('uibTypeaheadHighlight', ['$sce', '$injector', '$log', function($sce, $injector, $log) {
	    var isSanitizePresent;
	    isSanitizePresent = $injector.has('$sanitize');
	
	    function escapeRegexp(queryToEscape) {
	      // Regex: capture the whole query string and replace it with the string that will be used to match
	      // the results, for example if the capture is "a" the result will be \a
	      return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g, '\\$1');
	    }
	
	    function containsHtml(matchItem) {
	      return /<.*>/g.test(matchItem);
	    }
	
	    return function(matchItem, query) {
	      if (!isSanitizePresent && containsHtml(matchItem)) {
	        $log.warn('Unsafe use of typeahead please use ngSanitize'); // Warn the user about the danger
	      }
	      matchItem = query ? ('' + matchItem).replace(new RegExp(escapeRegexp(query), 'gi'), '<strong>$&</strong>') : matchItem; // Replaces the capture string with a the same string inside of a "strong" tag
	      if (!isSanitizePresent) {
	        matchItem = $sce.trustAsHtml(matchItem); // If $sanitize is not present we pack the string in a $sce object for the ng-bind-html directive
	      }
	      return matchItem;
	    };
	  }]);
	
	angular.module("uib/template/accordion/accordion-group.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/accordion/accordion-group.html",
	    "<div class=\"panel\" ng-class=\"panelClass || 'panel-default'\">\n" +
	    "  <div role=\"tab\" id=\"{{::headingId}}\" aria-selected=\"{{isOpen}}\" class=\"panel-heading\" ng-keypress=\"toggleOpen($event)\">\n" +
	    "    <h4 class=\"panel-title\">\n" +
	    "      <a role=\"button\" data-toggle=\"collapse\" href aria-expanded=\"{{isOpen}}\" aria-controls=\"{{::panelId}}\" tabindex=\"0\" class=\"accordion-toggle\" ng-click=\"toggleOpen()\" uib-accordion-transclude=\"heading\"><span uib-accordion-header ng-class=\"{'text-muted': isDisabled}\">{{heading}}</span></a>\n" +
	    "    </h4>\n" +
	    "  </div>\n" +
	    "  <div id=\"{{::panelId}}\" aria-labelledby=\"{{::headingId}}\" aria-hidden=\"{{!isOpen}}\" role=\"tabpanel\" class=\"panel-collapse collapse\" uib-collapse=\"!isOpen\">\n" +
	    "    <div class=\"panel-body\" ng-transclude></div>\n" +
	    "  </div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/accordion/accordion.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/accordion/accordion.html",
	    "<div role=\"tablist\" class=\"panel-group\" ng-transclude></div>");
	}]);
	
	angular.module("uib/template/alert/alert.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/alert/alert.html",
	    "<div class=\"alert\" ng-class=\"['alert-' + (type || 'warning'), closeable ? 'alert-dismissible' : null]\" role=\"alert\">\n" +
	    "    <button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close({$event: $event})\">\n" +
	    "        <span aria-hidden=\"true\">&times;</span>\n" +
	    "        <span class=\"sr-only\">Close</span>\n" +
	    "    </button>\n" +
	    "    <div ng-transclude></div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/carousel/carousel.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/carousel/carousel.html",
	    "<div ng-mouseenter=\"pause()\" ng-mouseleave=\"play()\" class=\"carousel\" ng-swipe-right=\"prev()\" ng-swipe-left=\"next()\">\n" +
	    "  <div class=\"carousel-inner\" ng-transclude></div>\n" +
	    "  <a role=\"button\" href class=\"left carousel-control\" ng-click=\"prev()\" ng-class=\"{ disabled: isPrevDisabled() }\" ng-show=\"slides.length > 1\">\n" +
	    "    <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-left\"></span>\n" +
	    "    <span class=\"sr-only\">previous</span>\n" +
	    "  </a>\n" +
	    "  <a role=\"button\" href class=\"right carousel-control\" ng-click=\"next()\" ng-class=\"{ disabled: isNextDisabled() }\" ng-show=\"slides.length > 1\">\n" +
	    "    <span aria-hidden=\"true\" class=\"glyphicon glyphicon-chevron-right\"></span>\n" +
	    "    <span class=\"sr-only\">next</span>\n" +
	    "  </a>\n" +
	    "  <ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\n" +
	    "    <li ng-repeat=\"slide in slides | orderBy:indexOfSlide track by $index\" ng-class=\"{ active: isActive(slide) }\" ng-click=\"select(slide)\">\n" +
	    "      <span class=\"sr-only\">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if=\"isActive(slide)\">, currently active</span></span>\n" +
	    "    </li>\n" +
	    "  </ol>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/carousel/slide.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/carousel/slide.html",
	    "<div ng-class=\"{\n" +
	    "    'active': active\n" +
	    "  }\" class=\"item text-center\" ng-transclude></div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/datepicker/datepicker.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/datepicker/datepicker.html",
	    "<div class=\"uib-datepicker\" ng-switch=\"datepickerMode\" role=\"application\" ng-keydown=\"keydown($event)\">\n" +
	    "  <uib-daypicker ng-switch-when=\"day\" tabindex=\"0\"></uib-daypicker>\n" +
	    "  <uib-monthpicker ng-switch-when=\"month\" tabindex=\"0\"></uib-monthpicker>\n" +
	    "  <uib-yearpicker ng-switch-when=\"year\" tabindex=\"0\"></uib-yearpicker>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/datepicker/day.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/datepicker/day.html",
	    "<table class=\"uib-daypicker\" role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n" +
	    "  <thead>\n" +
	    "    <tr>\n" +
	    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n" +
	    "      <th colspan=\"{{::5 + showWeeks}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n" +
	    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n" +
	    "    </tr>\n" +
	    "    <tr>\n" +
	    "      <th ng-if=\"showWeeks\" class=\"text-center\"></th>\n" +
	    "      <th ng-repeat=\"label in ::labels track by $index\" class=\"text-center\"><small aria-label=\"{{::label.full}}\">{{::label.abbr}}</small></th>\n" +
	    "    </tr>\n" +
	    "  </thead>\n" +
	    "  <tbody>\n" +
	    "    <tr class=\"uib-weeks\" ng-repeat=\"row in rows track by $index\">\n" +
	    "      <td ng-if=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\n" +
	    "      <td ng-repeat=\"dt in row\" class=\"uib-day text-center\" role=\"gridcell\"\n" +
	    "        id=\"{{::dt.uid}}\"\n" +
	    "        ng-class=\"::dt.customClass\">\n" +
	    "        <button type=\"button\" class=\"btn btn-default btn-sm\"\n" +
	    "          uib-is-class=\"\n" +
	    "            'btn-info' for selectedDt,\n" +
	    "            'active' for activeDt\n" +
	    "            on dt\"\n" +
	    "          ng-click=\"select(dt.date)\"\n" +
	    "          ng-disabled=\"::dt.disabled\"\n" +
	    "          tabindex=\"-1\"><span ng-class=\"::{'text-muted': dt.secondary, 'text-info': dt.current}\">{{::dt.label}}</span></button>\n" +
	    "      </td>\n" +
	    "    </tr>\n" +
	    "  </tbody>\n" +
	    "</table>\n" +
	    "");
	}]);
	
	angular.module("uib/template/datepicker/month.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/datepicker/month.html",
	    "<table class=\"uib-monthpicker\" role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n" +
	    "  <thead>\n" +
	    "    <tr>\n" +
	    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n" +
	    "      <th><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n" +
	    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n" +
	    "    </tr>\n" +
	    "  </thead>\n" +
	    "  <tbody>\n" +
	    "    <tr class=\"uib-months\" ng-repeat=\"row in rows track by $index\">\n" +
	    "      <td ng-repeat=\"dt in row\" class=\"uib-month text-center\" role=\"gridcell\"\n" +
	    "        id=\"{{::dt.uid}}\"\n" +
	    "        ng-class=\"::dt.customClass\">\n" +
	    "        <button type=\"button\" class=\"btn btn-default\"\n" +
	    "          uib-is-class=\"\n" +
	    "            'btn-info' for selectedDt,\n" +
	    "            'active' for activeDt\n" +
	    "            on dt\"\n" +
	    "          ng-click=\"select(dt.date)\"\n" +
	    "          ng-disabled=\"::dt.disabled\"\n" +
	    "          tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n" +
	    "      </td>\n" +
	    "    </tr>\n" +
	    "  </tbody>\n" +
	    "</table>\n" +
	    "");
	}]);
	
	angular.module("uib/template/datepicker/year.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/datepicker/year.html",
	    "<table class=\"uib-yearpicker\" role=\"grid\" aria-labelledby=\"{{::uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n" +
	    "  <thead>\n" +
	    "    <tr>\n" +
	    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-left uib-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n" +
	    "      <th colspan=\"{{::columns - 2}}\"><button id=\"{{::uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm uib-title\" ng-click=\"toggleMode()\" ng-disabled=\"datepickerMode === maxMode\" tabindex=\"-1\"><strong>{{title}}</strong></button></th>\n" +
	    "      <th><button type=\"button\" class=\"btn btn-default btn-sm pull-right uib-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n" +
	    "    </tr>\n" +
	    "  </thead>\n" +
	    "  <tbody>\n" +
	    "    <tr class=\"uib-years\" ng-repeat=\"row in rows track by $index\">\n" +
	    "      <td ng-repeat=\"dt in row\" class=\"uib-year text-center\" role=\"gridcell\"\n" +
	    "        id=\"{{::dt.uid}}\"\n" +
	    "        ng-class=\"::dt.customClass\">\n" +
	    "        <button type=\"button\" class=\"btn btn-default\"\n" +
	    "          uib-is-class=\"\n" +
	    "            'btn-info' for selectedDt,\n" +
	    "            'active' for activeDt\n" +
	    "            on dt\"\n" +
	    "          ng-click=\"select(dt.date)\"\n" +
	    "          ng-disabled=\"::dt.disabled\"\n" +
	    "          tabindex=\"-1\"><span ng-class=\"::{'text-info': dt.current}\">{{::dt.label}}</span></button>\n" +
	    "      </td>\n" +
	    "    </tr>\n" +
	    "  </tbody>\n" +
	    "</table>\n" +
	    "");
	}]);
	
	angular.module("uib/template/datepickerPopup/popup.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/datepickerPopup/popup.html",
	    "<div>\n" +
	    "  <ul class=\"uib-datepicker-popup dropdown-menu uib-position-measure\" dropdown-nested ng-if=\"isOpen\" ng-keydown=\"keydown($event)\" ng-click=\"$event.stopPropagation()\">\n" +
	    "    <li ng-transclude></li>\n" +
	    "    <li ng-if=\"showButtonBar\" class=\"uib-button-bar\">\n" +
	    "      <span class=\"btn-group pull-left\">\n" +
	    "        <button type=\"button\" class=\"btn btn-sm btn-info uib-datepicker-current\" ng-click=\"select('today', $event)\" ng-disabled=\"isDisabled('today')\">{{ getText('current') }}</button>\n" +
	    "        <button type=\"button\" class=\"btn btn-sm btn-danger uib-clear\" ng-click=\"select(null, $event)\">{{ getText('clear') }}</button>\n" +
	    "      </span>\n" +
	    "      <button type=\"button\" class=\"btn btn-sm btn-success pull-right uib-close\" ng-click=\"close($event)\">{{ getText('close') }}</button>\n" +
	    "    </li>\n" +
	    "  </ul>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/modal/backdrop.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/modal/backdrop.html",
	    "<div class=\"modal-backdrop\"\n" +
	    "     uib-modal-animation-class=\"fade\"\n" +
	    "     modal-in-class=\"in\"\n" +
	    "     ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"\n" +
	    "></div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/modal/window.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/modal/window.html",
	    "<div modal-render=\"{{$isRendered}}\" tabindex=\"-1\" role=\"dialog\" class=\"modal\"\n" +
	    "    uib-modal-animation-class=\"fade\"\n" +
	    "    modal-in-class=\"in\"\n" +
	    "    ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\">\n" +
	    "    <div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/pager/pager.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/pager/pager.html",
	    "<ul class=\"pager\">\n" +
	    "  <li ng-class=\"{disabled: noPrevious()||ngDisabled, previous: align}\"><a href ng-click=\"selectPage(page - 1, $event)\">{{::getText('previous')}}</a></li>\n" +
	    "  <li ng-class=\"{disabled: noNext()||ngDisabled, next: align}\"><a href ng-click=\"selectPage(page + 1, $event)\">{{::getText('next')}}</a></li>\n" +
	    "</ul>\n" +
	    "");
	}]);
	
	angular.module("uib/template/pagination/pagination.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/pagination/pagination.html",
	    "<ul class=\"pagination\">\n" +
	    "  <li ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-first\"><a href ng-click=\"selectPage(1, $event)\">{{::getText('first')}}</a></li>\n" +
	    "  <li ng-if=\"::directionLinks\" ng-class=\"{disabled: noPrevious()||ngDisabled}\" class=\"pagination-prev\"><a href ng-click=\"selectPage(page - 1, $event)\">{{::getText('previous')}}</a></li>\n" +
	    "  <li ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active,disabled: ngDisabled&&!page.active}\" class=\"pagination-page\"><a href ng-click=\"selectPage(page.number, $event)\">{{page.text}}</a></li>\n" +
	    "  <li ng-if=\"::directionLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-next\"><a href ng-click=\"selectPage(page + 1, $event)\">{{::getText('next')}}</a></li>\n" +
	    "  <li ng-if=\"::boundaryLinks\" ng-class=\"{disabled: noNext()||ngDisabled}\" class=\"pagination-last\"><a href ng-click=\"selectPage(totalPages, $event)\">{{::getText('last')}}</a></li>\n" +
	    "</ul>\n" +
	    "");
	}]);
	
	angular.module("uib/template/tooltip/tooltip-html-popup.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/tooltip/tooltip-html-popup.html",
	    "<div class=\"tooltip\"\n" +
	    "  tooltip-animation-class=\"fade\"\n" +
	    "  uib-tooltip-classes\n" +
	    "  ng-class=\"{ in: isOpen() }\">\n" +
	    "  <div class=\"tooltip-arrow\"></div>\n" +
	    "  <div class=\"tooltip-inner\" ng-bind-html=\"contentExp()\"></div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/tooltip/tooltip-popup.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/tooltip/tooltip-popup.html",
	    "<div class=\"tooltip\"\n" +
	    "  tooltip-animation-class=\"fade\"\n" +
	    "  uib-tooltip-classes\n" +
	    "  ng-class=\"{ in: isOpen() }\">\n" +
	    "  <div class=\"tooltip-arrow\"></div>\n" +
	    "  <div class=\"tooltip-inner\" ng-bind=\"content\"></div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/tooltip/tooltip-template-popup.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/tooltip/tooltip-template-popup.html",
	    "<div class=\"tooltip\"\n" +
	    "  tooltip-animation-class=\"fade\"\n" +
	    "  uib-tooltip-classes\n" +
	    "  ng-class=\"{ in: isOpen() }\">\n" +
	    "  <div class=\"tooltip-arrow\"></div>\n" +
	    "  <div class=\"tooltip-inner\"\n" +
	    "    uib-tooltip-template-transclude=\"contentExp()\"\n" +
	    "    tooltip-template-transclude-scope=\"originScope()\"></div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/popover/popover-html.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/popover/popover-html.html",
	    "<div class=\"popover\"\n" +
	    "  tooltip-animation-class=\"fade\"\n" +
	    "  uib-tooltip-classes\n" +
	    "  ng-class=\"{ in: isOpen() }\">\n" +
	    "  <div class=\"arrow\"></div>\n" +
	    "\n" +
	    "  <div class=\"popover-inner\">\n" +
	    "      <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n" +
	    "      <div class=\"popover-content\" ng-bind-html=\"contentExp()\"></div>\n" +
	    "  </div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/popover/popover-template.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/popover/popover-template.html",
	    "<div class=\"popover\"\n" +
	    "  tooltip-animation-class=\"fade\"\n" +
	    "  uib-tooltip-classes\n" +
	    "  ng-class=\"{ in: isOpen() }\">\n" +
	    "  <div class=\"arrow\"></div>\n" +
	    "\n" +
	    "  <div class=\"popover-inner\">\n" +
	    "      <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n" +
	    "      <div class=\"popover-content\"\n" +
	    "        uib-tooltip-template-transclude=\"contentExp()\"\n" +
	    "        tooltip-template-transclude-scope=\"originScope()\"></div>\n" +
	    "  </div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/popover/popover.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/popover/popover.html",
	    "<div class=\"popover\"\n" +
	    "  tooltip-animation-class=\"fade\"\n" +
	    "  uib-tooltip-classes\n" +
	    "  ng-class=\"{ in: isOpen() }\">\n" +
	    "  <div class=\"arrow\"></div>\n" +
	    "\n" +
	    "  <div class=\"popover-inner\">\n" +
	    "      <h3 class=\"popover-title\" ng-bind=\"uibTitle\" ng-if=\"uibTitle\"></h3>\n" +
	    "      <div class=\"popover-content\" ng-bind=\"content\"></div>\n" +
	    "  </div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/progressbar/bar.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/progressbar/bar.html",
	    "<div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/progressbar/progress.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/progressbar/progress.html",
	    "<div class=\"progress\" ng-transclude aria-labelledby=\"{{::title}}\"></div>");
	}]);
	
	angular.module("uib/template/progressbar/progressbar.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/progressbar/progressbar.html",
	    "<div class=\"progress\">\n" +
	    "  <div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: (percent < 100 ? percent : 100) + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" aria-labelledby=\"{{::title}}\" ng-transclude></div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/rating/rating.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/rating/rating.html",
	    "<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\" aria-valuetext=\"{{title}}\">\n" +
	    "    <span ng-repeat-start=\"r in range track by $index\" class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n" +
	    "    <i ng-repeat-end ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || 'glyphicon-star') || (r.stateOff || 'glyphicon-star-empty')\" ng-attr-title=\"{{r.title}}\"></i>\n" +
	    "</span>\n" +
	    "");
	}]);
	
	angular.module("uib/template/tabs/tab.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/tabs/tab.html",
	    "<li ng-class=\"[{active: active, disabled: disabled}, classes]\" class=\"uib-tab nav-item\">\n" +
	    "  <a href ng-click=\"select($event)\" class=\"nav-link\" uib-tab-heading-transclude>{{heading}}</a>\n" +
	    "</li>\n" +
	    "");
	}]);
	
	angular.module("uib/template/tabs/tabset.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/tabs/tabset.html",
	    "<div>\n" +
	    "  <ul class=\"nav nav-{{tabset.type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n" +
	    "  <div class=\"tab-content\">\n" +
	    "    <div class=\"tab-pane\"\n" +
	    "         ng-repeat=\"tab in tabset.tabs\"\n" +
	    "         ng-class=\"{active: tabset.active === tab.index}\"\n" +
	    "         uib-tab-content-transclude=\"tab\">\n" +
	    "    </div>\n" +
	    "  </div>\n" +
	    "</div>\n" +
	    "");
	}]);
	
	angular.module("uib/template/timepicker/timepicker.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/timepicker/timepicker.html",
	    "<table class=\"uib-timepicker\">\n" +
	    "  <tbody>\n" +
	    "    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n" +
	    "      <td class=\"uib-increment hours\"><a ng-click=\"incrementHours()\" ng-class=\"{disabled: noIncrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementHours()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n" +
	    "      <td>&nbsp;</td>\n" +
	    "      <td class=\"uib-increment minutes\"><a ng-click=\"incrementMinutes()\" ng-class=\"{disabled: noIncrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementMinutes()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n" +
	    "      <td ng-show=\"showSeconds\">&nbsp;</td>\n" +
	    "      <td ng-show=\"showSeconds\" class=\"uib-increment seconds\"><a ng-click=\"incrementSeconds()\" ng-class=\"{disabled: noIncrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noIncrementSeconds()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n" +
	    "      <td ng-show=\"showMeridian\"></td>\n" +
	    "    </tr>\n" +
	    "    <tr>\n" +
	    "      <td class=\"form-group uib-time hours\" ng-class=\"{'has-error': invalidHours}\">\n" +
	    "        <input style=\"width:50px;\" type=\"text\" placeholder=\"HH\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementHours()\" ng-blur=\"blur()\">\n" +
	    "      </td>\n" +
	    "      <td class=\"uib-separator\">:</td>\n" +
	    "      <td class=\"form-group uib-time minutes\" ng-class=\"{'has-error': invalidMinutes}\">\n" +
	    "        <input style=\"width:50px;\" type=\"text\" placeholder=\"MM\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"::readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementMinutes()\" ng-blur=\"blur()\">\n" +
	    "      </td>\n" +
	    "      <td ng-show=\"showSeconds\" class=\"uib-separator\">:</td>\n" +
	    "      <td class=\"form-group uib-time seconds\" ng-class=\"{'has-error': invalidSeconds}\" ng-show=\"showSeconds\">\n" +
	    "        <input style=\"width:50px;\" type=\"text\" placeholder=\"SS\" ng-model=\"seconds\" ng-change=\"updateSeconds()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\" tabindex=\"{{::tabindex}}\" ng-disabled=\"noIncrementSeconds()\" ng-blur=\"blur()\">\n" +
	    "      </td>\n" +
	    "      <td ng-show=\"showMeridian\" class=\"uib-time am-pm\"><button type=\"button\" ng-class=\"{disabled: noToggleMeridian()}\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\" ng-disabled=\"noToggleMeridian()\" tabindex=\"{{::tabindex}}\">{{meridian}}</button></td>\n" +
	    "    </tr>\n" +
	    "    <tr class=\"text-center\" ng-show=\"::showSpinners\">\n" +
	    "      <td class=\"uib-decrement hours\"><a ng-click=\"decrementHours()\" ng-class=\"{disabled: noDecrementHours()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementHours()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n" +
	    "      <td>&nbsp;</td>\n" +
	    "      <td class=\"uib-decrement minutes\"><a ng-click=\"decrementMinutes()\" ng-class=\"{disabled: noDecrementMinutes()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementMinutes()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n" +
	    "      <td ng-show=\"showSeconds\">&nbsp;</td>\n" +
	    "      <td ng-show=\"showSeconds\" class=\"uib-decrement seconds\"><a ng-click=\"decrementSeconds()\" ng-class=\"{disabled: noDecrementSeconds()}\" class=\"btn btn-link\" ng-disabled=\"noDecrementSeconds()\" tabindex=\"{{::tabindex}}\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n" +
	    "      <td ng-show=\"showMeridian\"></td>\n" +
	    "    </tr>\n" +
	    "  </tbody>\n" +
	    "</table>\n" +
	    "");
	}]);
	
	angular.module("uib/template/typeahead/typeahead-match.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/typeahead/typeahead-match.html",
	    "<a href\n" +
	    "   tabindex=\"-1\"\n" +
	    "   ng-bind-html=\"match.label | uibTypeaheadHighlight:query\"\n" +
	    "   ng-attr-title=\"{{match.label}}\"></a>\n" +
	    "");
	}]);
	
	angular.module("uib/template/typeahead/typeahead-popup.html", []).run(["$templateCache", function($templateCache) {
	  $templateCache.put("uib/template/typeahead/typeahead-popup.html",
	    "<ul class=\"dropdown-menu\" ng-show=\"isOpen() && !moveInProgress\" ng-style=\"{top: position().top+'px', left: position().left+'px'}\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\n" +
	    "    <li ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-click=\"selectMatch($index, $event)\" role=\"option\" id=\"{{::match.id}}\">\n" +
	    "        <div uib-typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\n" +
	    "    </li>\n" +
	    "</ul>\n" +
	    "");
	}]);
	angular.module('ui.bootstrap.carousel').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibCarouselCss && angular.element(document).find('head').prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'); angular.$$uibCarouselCss = true; });
	angular.module('ui.bootstrap.datepicker').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibDatepickerCss && angular.element(document).find('head').prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'); angular.$$uibDatepickerCss = true; });
	angular.module('ui.bootstrap.position').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibPositionCss && angular.element(document).find('head').prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'); angular.$$uibPositionCss = true; });
	angular.module('ui.bootstrap.datepickerPopup').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibDatepickerpopupCss && angular.element(document).find('head').prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'); angular.$$uibDatepickerpopupCss = true; });
	angular.module('ui.bootstrap.tooltip').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibTooltipCss && angular.element(document).find('head').prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'); angular.$$uibTooltipCss = true; });
	angular.module('ui.bootstrap.timepicker').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibTimepickerCss && angular.element(document).find('head').prepend('<style type="text/css">.uib-time input{width:50px;}</style>'); angular.$$uibTimepickerCss = true; });
	angular.module('ui.bootstrap.typeahead').run(function() {!angular.$$csp().noInlineStyle && !angular.$$uibTypeaheadCss && angular.element(document).find('head').prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'); angular.$$uibTypeaheadCss = true; });

/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

	var __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/**
	 * @license
	 * lodash 4.10.0 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
	 * Build: `lodash -o ./dist/lodash.js`
	 */
	;(function(){function t(t,n){return t.set(n[0],n[1]),t}function n(t,n){return t.add(n),t}function r(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}function e(t,n,r,e){for(var u=-1,o=t.length;++u<o;){var i=t[u];n(e,i,r(i),t)}return e}function u(t,n){for(var r=-1,e=t.length;++r<e&&false!==n(t[r],r,t););return t}function o(t,n){for(var r=-1,e=t.length;++r<e;)if(!n(t[r],r,t))return false;
	return true}function i(t,n){for(var r=-1,e=t.length,u=0,o=[];++r<e;){var i=t[r];n(i,r,t)&&(o[u++]=i)}return o}function f(t,n){return!!t.length&&-1<d(t,n,0)}function c(t,n,r){for(var e=-1,u=t.length;++e<u;)if(r(n,t[e]))return true;return false}function a(t,n){for(var r=-1,e=t.length,u=Array(e);++r<e;)u[r]=n(t[r],r,t);return u}function l(t,n){for(var r=-1,e=n.length,u=t.length;++r<e;)t[u+r]=n[r];return t}function s(t,n,r,e){var u=-1,o=t.length;for(e&&o&&(r=t[++u]);++u<o;)r=n(r,t[u],u,t);return r}function h(t,n,r,e){
	var u=t.length;for(e&&u&&(r=t[--u]);u--;)r=n(r,t[u],u,t);return r}function p(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return true;return false}function _(t,n,r){for(var e=-1,u=t.length;++e<u;){var o=t[e],i=n(o);if(null!=i&&(f===T?i===i:r(i,f)))var f=i,c=o}return c}function v(t,n,r,e){var u;return r(t,function(t,r,o){return n(t,r,o)?(u=e?r:t,false):void 0}),u}function g(t,n,r){for(var e=t.length,u=r?e:-1;r?u--:++u<e;)if(n(t[u],u,t))return u;return-1}function d(t,n,r){if(n!==n)return U(t,r);--r;for(var e=t.length;++r<e;)if(t[r]===n)return r;
	return-1}function y(t,n,r,e){--r;for(var u=t.length;++r<u;)if(e(t[r],n))return r;return-1}function b(t,n){var r=t?t.length:0;return r?m(t,n)/r:K}function x(t,n,r,e,u){return u(t,function(t,u,o){r=e?(e=false,t):n(r,t,u,o)}),r}function j(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].c;return t}function m(t,n){for(var r,e=-1,u=t.length;++e<u;){var o=n(t[e]);o!==T&&(r=r===T?o:r+o)}return r}function w(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}function A(t,n){return a(n,function(n){return[n,t[n]];
	})}function O(t){return function(n){return t(n)}}function k(t,n){return a(n,function(n){return t[n]})}function E(t,n){for(var r=-1,e=t.length;++r<e&&-1<d(n,t[r],0););return r}function I(t,n){for(var r=t.length;r--&&-1<d(n,t[r],0););return r}function S(t){return t&&t.Object===Object?t:null}function R(t,n){if(t!==n){var r=null===t,e=t===T,u=t===t,o=null===n,i=n===T,f=n===n;if(t>n&&!o||!u||r&&!i&&f||e&&f)return 1;if(n>t&&!r||!f||o&&!e&&u||i&&u)return-1}return 0}function W(t){return function(n,r){var e;
	return n===T&&r===T?0:(n!==T&&(e=n),r!==T&&(e=e===T?r:t(e,r)),e)}}function B(t){return Mt[t]}function C(t){return Lt[t]}function z(t){return"\\"+Ft[t]}function U(t,n,r){var e=t.length;for(n+=r?0:-1;r?n--:++n<e;){var u=t[n];if(u!==u)return n}return-1}function M(t){var n=false;if(null!=t&&typeof t.toString!="function")try{n=!!(t+"")}catch(r){}return n}function L(t,n){return t=typeof t=="number"||jt.test(t)?+t:-1,t>-1&&0==t%1&&(null==n?9007199254740991:n)>t}function $(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);
	return r}function D(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function F(t,n){for(var r=-1,e=t.length,u=0,o=[];++r<e;){var i=t[r];i!==n&&"__lodash_placeholder__"!==i||(t[r]="__lodash_placeholder__",o[u++]=r)}return o}function N(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=t}),r}function P(t){if(!t||!Wt.test(t))return t.length;for(var n=St.lastIndex=0;St.test(t);)n++;return n}function Z(t){return $t[t]}function q(S){function jt(t){if(Be(t)&&!ni(t)&&!(t instanceof Et)){
	if(t instanceof kt)return t;if(yu.call(t,"__wrapped__"))return Qr(t)}return new kt(t)}function Ot(){}function kt(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=T}function Et(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=false,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Mt(){}function Lt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function $t(t){var n=-1,r=t?t.length:0;
	for(this.__data__=new Lt;++n<r;)this.push(t[n])}function Dt(t,n){var r=t.__data__;return qr(n)?(r=r.__data__,"__lodash_hash_undefined__"===(typeof n=="string"?r.string:r.hash)[n]):r.has(n)}function Ft(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Zt(t,n){var r=Vt(t,n);return 0>r?false:(r==t.length-1?t.pop():Uu.call(t,r,1),true)}function qt(t,n){var r=Vt(t,n);return 0>r?T:t[r][1]}function Vt(t,n){for(var r=t.length;r--;)if(me(t[r][0],n))return r;return-1}function Kt(t,n,r){
	var e=Vt(t,n);0>e?t.push([n,r]):t[e][1]=r}function Gt(t,n,r,e){return t===T||me(t,gu[r])&&!yu.call(e,r)?n:t}function Ht(t,n,r){(r===T||me(t[n],r))&&(typeof n!="number"||r!==T||n in t)||(t[n]=r)}function Qt(t,n,r){var e=t[n];yu.call(t,n)&&me(e,r)&&(r!==T||n in t)||(t[n]=r)}function Xt(t,n,r,e){return lo(t,function(t,u,o){n(e,t,r(t),o)}),e}function tn(t,n){return t&&ur(n,Ye(n),t)}function nn(t,n){for(var r=-1,e=null==t,u=n.length,o=Array(u);++r<u;)o[r]=e?T:Ke(t,n[r]);return o}function rn(t,n,r){return t===t&&(r!==T&&(t=t>r?r:t),
	n!==T&&(t=n>t?n:t)),t}function en(t,n,r,e,o,i,f){var c;if(e&&(c=i?e(t,o,i,f):e(t)),c!==T)return c;if(!We(t))return t;if(o=ni(t)){if(c=Mr(t),!n)return er(t,c)}else{var a=zr(t),l="[object Function]"==a||"[object GeneratorFunction]"==a;if(ri(t))return Xn(t,n);if("[object Object]"==a||"[object Arguments]"==a||l&&!i){if(M(t))return i?t:{};if(c=Lr(l?{}:t),!n)return ir(t,tn(c,t))}else{if(!Ut[a])return i?t:{};c=$r(t,a,en,n)}}if(f||(f=new Ft),i=f.get(t))return i;if(f.set(t,c),!o)var s=r?gn(t,Ye,Cr):Ye(t);return u(s||t,function(u,o){
	s&&(o=u,u=t[o]),Qt(c,o,en(u,n,r,e,o,t,f))}),c}function un(t){var n=Ye(t),r=n.length;return function(e){if(null==e)return!r;for(var u=r;u--;){var o=n[u],i=t[o],f=e[o];if(f===T&&!(o in Object(e))||!i(f))return false}return true}}function on(t){return We(t)?Bu(t):{}}function fn(t,n,r){if(typeof t!="function")throw new _u("Expected a function");return zu(function(){t.apply(T,r)},n)}function cn(t,n,r,e){var u=-1,o=f,i=true,l=t.length,s=[],h=n.length;if(!l)return s;r&&(n=a(n,O(r))),e?(o=c,i=false):n.length>=200&&(o=Dt,
	i=false,n=new $t(n));t:for(;++u<l;){var p=t[u],_=r?r(p):p;if(i&&_===_){for(var v=h;v--;)if(n[v]===_)continue t;s.push(p)}else o(n,_,e)||s.push(p)}return s}function an(t,n){var r=true;return lo(t,function(t,e,u){return r=!!n(t,e,u)}),r}function ln(t,n){var r=[];return lo(t,function(t,e,u){n(t,e,u)&&r.push(t)}),r}function sn(t,n,r,e,u){var o=-1,i=t.length;for(r||(r=Fr),u||(u=[]);++o<i;){var f=t[o];n>0&&r(f)?n>1?sn(f,n-1,r,e,u):l(u,f):e||(u[u.length]=f)}return u}function hn(t,n){return t&&ho(t,n,Ye)}function pn(t,n){
	return t&&po(t,n,Ye)}function _n(t,n){return i(n,function(n){return Ie(t[n])})}function vn(t,n){n=Zr(n,t)?[n]:Hn(n);for(var r=0,e=n.length;null!=t&&e>r;)t=t[n[r++]];return r&&r==e?t:T}function gn(t,n,r){return n=n(t),ni(t)?n:l(n,r(t))}function dn(t,n){return yu.call(t,n)||typeof t=="object"&&n in t&&null===$u(Object(t))}function yn(t,n){return n in Object(t)}function bn(t,n,r){for(var e=r?c:f,u=t[0].length,o=t.length,i=o,l=Array(o),s=1/0,h=[];i--;){var p=t[i];i&&n&&(p=a(p,O(n))),s=Zu(p.length,s),
	l[i]=r||!n&&(120>u||120>p.length)?T:new $t(i&&p)}var p=t[0],_=-1,v=l[0];t:for(;++_<u&&s>h.length;){var g=p[_],d=n?n(g):g;if(v?!Dt(v,d):!e(h,d,r)){for(i=o;--i;){var y=l[i];if(y?!Dt(y,d):!e(t[i],d,r))continue t}v&&v.push(d),h.push(g)}}return h}function xn(t,n,r){var e={};return hn(t,function(t,u,o){n(e,r(t),u,o)}),e}function jn(t,n,e){return Zr(n,t)||(n=Hn(n),t=Jr(t,n),n=re(n)),n=null==t?t:t[n],null==n?T:r(n,t,e)}function mn(t,n,r,e,u){if(t===n)n=true;else if(null==t||null==n||!We(t)&&!Be(n))n=t!==t&&n!==n;else t:{
	var o=ni(t),i=ni(n),f="[object Array]",c="[object Array]";o||(f=zr(t),f="[object Arguments]"==f?"[object Object]":f),i||(c=zr(n),c="[object Arguments]"==c?"[object Object]":c);var a="[object Object]"==f&&!M(t),i="[object Object]"==c&&!M(n);if((c=f==c)&&!a)u||(u=new Ft),n=o||De(t)?kr(t,n,mn,r,e,u):Er(t,n,f,mn,r,e,u);else{if(!(2&e)&&(o=a&&yu.call(t,"__wrapped__"),f=i&&yu.call(n,"__wrapped__"),o||f)){t=o?t.value():t,n=f?n.value():n,u||(u=new Ft),n=mn(t,n,r,e,u);break t}if(c)n:if(u||(u=new Ft),o=2&e,
	f=Ye(t),i=f.length,c=Ye(n).length,i==c||o){for(a=i;a--;){var l=f[a];if(!(o?l in n:dn(n,l))){n=false;break n}}if(c=u.get(t))n=c==n;else{c=true,u.set(t,n);for(var s=o;++a<i;){var l=f[a],h=t[l],p=n[l];if(r)var _=o?r(p,h,l,n,t,u):r(h,p,l,t,n,u);if(_===T?h!==p&&!mn(h,p,r,e,u):!_){c=false;break}s||(s="constructor"==l)}c&&!s&&(r=t.constructor,e=n.constructor,r!=e&&"constructor"in t&&"constructor"in n&&!(typeof r=="function"&&r instanceof r&&typeof e=="function"&&e instanceof e)&&(c=false)),u["delete"](t),n=c}}else n=false;else n=false;
	}}return n}function wn(t,n,r,e){var u=r.length,o=u,i=!e;if(null==t)return!o;for(t=Object(t);u--;){var f=r[u];if(i&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return false}for(;++u<o;){var f=r[u],c=f[0],a=t[c],l=f[1];if(i&&f[2]){if(a===T&&!(c in t))return false}else{if(f=new Ft,e)var s=e(a,l,c,t,n,f);if(s===T?!mn(l,a,e,3,f):!s)return false}}return true}function An(t){return typeof t=="function"?t:null==t?ou:typeof t=="object"?ni(t)?In(t[0],t[1]):En(t):au(t)}function On(t){t=null==t?t:Object(t);var n,r=[];for(n in t)r.push(n);
	return r}function kn(t,n){var r=-1,e=Oe(t)?Array(t.length):[];return lo(t,function(t,u,o){e[++r]=n(t,u,o)}),e}function En(t){var n=Rr(t);return 1==n.length&&n[0][2]?Kr(n[0][0],n[0][1]):function(r){return r===t||wn(r,t,n)}}function In(t,n){return Zr(t)&&n===n&&!We(n)?Kr(t,n):function(r){var e=Ke(r,t);return e===T&&e===n?Je(r,t):mn(n,e,T,3)}}function Sn(t,n,r,e,o){if(t!==n){if(!ni(n)&&!De(n))var i=He(n);u(i||n,function(u,f){if(i&&(f=u,u=n[f]),We(u)){o||(o=new Ft);var c=f,a=o,l=t[c],s=n[c],h=a.get(s);
	if(h)Ht(t,c,h);else{var h=e?e(l,s,c+"",t,n,a):T,p=h===T;p&&(h=s,ni(s)||De(s)?ni(l)?h=l:ke(l)?h=er(l):(p=false,h=en(s,true)):Ue(s)||Ae(s)?Ae(l)?h=Te(l):!We(l)||r&&Ie(l)?(p=false,h=en(s,true)):h=l:p=false),a.set(s,h),p&&Sn(h,s,r,e,a),a["delete"](s),Ht(t,c,h)}}else c=e?e(t[f],u,f+"",t,n,o):T,c===T&&(c=u),Ht(t,f,c)})}}function Rn(t,n,r){var e=-1;return n=a(n.length?n:[ou],Sr()),t=kn(t,function(t){return{a:a(n,function(n){return n(t)}),b:++e,c:t}}),j(t,function(t,n){var e;t:{e=-1;for(var u=t.a,o=n.a,i=u.length,f=r.length;++e<i;){
	var c=R(u[e],o[e]);if(c){e=f>e?c*("desc"==r[e]?-1:1):c;break t}}e=t.b-n.b}return e})}function Wn(t,n){return t=Object(t),s(n,function(n,r){return r in t&&(n[r]=t[r]),n},{})}function Bn(t,n){for(var r=-1,e=gn(t,He,bo),u=e.length,o={};++r<u;){var i=e[r],f=t[i];n(f,i)&&(o[i]=f)}return o}function Cn(t){return function(n){return null==n?T:n[t]}}function zn(t){return function(n){return vn(n,t)}}function Un(t,n,r,e){var u=e?y:d,o=-1,i=n.length,f=t;for(r&&(f=a(t,O(r)));++o<i;)for(var c=0,l=n[o],l=r?r(l):l;-1<(c=u(f,l,c,e));)f!==t&&Uu.call(f,c,1),
	Uu.call(t,c,1);return t}function Mn(t,n){for(var r=t?n.length:0,e=r-1;r--;){var u=n[r];if(e==r||u!=o){var o=u;if(L(u))Uu.call(t,u,1);else if(Zr(u,t))delete t[u];else{var u=Hn(u),i=Jr(t,u);null!=i&&delete i[re(u)]}}}}function Ln(t,n){return t+Lu(Tu()*(n-t+1))}function $n(t,n){var r="";if(!t||1>n||n>9007199254740991)return r;do n%2&&(r+=t),(n=Lu(n/2))&&(t+=t);while(n);return r}function Dn(t,n,r,e){n=Zr(n,t)?[n]:Hn(n);for(var u=-1,o=n.length,i=o-1,f=t;null!=f&&++u<o;){var c=n[u];if(We(f)){var a=r;if(u!=i){
	var l=f[c],a=e?e(l,c,f):T;a===T&&(a=null==l?L(n[u+1])?[]:{}:l)}Qt(f,c,a)}f=f[c]}return t}function Fn(t,n,r){var e=-1,u=t.length;for(0>n&&(n=-n>u?0:u+n),r=r>u?u:r,0>r&&(r+=u),u=n>r?0:r-n>>>0,n>>>=0,r=Array(u);++e<u;)r[e]=t[e+n];return r}function Nn(t,n){var r;return lo(t,function(t,e,u){return r=n(t,e,u),!r}),!!r}function Pn(t,n,r){var e=0,u=t?t.length:e;if(typeof n=="number"&&n===n&&2147483647>=u){for(;u>e;){var o=e+u>>>1,i=t[o];(r?n>=i:n>i)&&null!==i?e=o+1:u=o}return u}return Zn(t,n,ou,r)}function Zn(t,n,r,e){
	n=r(n);for(var u=0,o=t?t.length:0,i=n!==n,f=null===n,c=n===T;o>u;){var a=Lu((u+o)/2),l=r(t[a]),s=l!==T,h=l===l;(i?h||e:f?h&&s&&(e||null!=l):c?h&&(e||s):null==l?0:e?n>=l:n>l)?u=a+1:o=a}return Zu(o,4294967294)}function qn(t,n){for(var r=0,e=t.length,u=t[0],o=n?n(u):u,i=o,f=1,c=[u];++r<e;)u=t[r],o=n?n(u):u,me(o,i)||(i=o,c[f++]=u);return c}function Tn(t,n,r){var e=-1,u=f,o=t.length,i=true,a=[],l=a;if(r)i=false,u=c;else if(o<200)l=n?[]:a;else{if(u=n?null:vo(t))return N(u);i=false,u=Dt,l=new $t}t:for(;++e<o;){
	var s=t[e],h=n?n(s):s;if(i&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue t;n&&l.push(h),a.push(s)}else u(l,h,r)||(l!==a&&l.push(h),a.push(s))}return a}function Vn(t,n,r,e){for(var u=t.length,o=e?u:-1;(e?o--:++o<u)&&n(t[o],o,t););return r?Fn(t,e?0:o,e?o+1:u):Fn(t,e?o+1:0,e?u:o)}function Kn(t,n){var r=t;return r instanceof Et&&(r=r.value()),s(n,function(t,n){return n.func.apply(n.thisArg,l([t],n.args))},r)}function Gn(t,n,r){for(var e=-1,u=t.length;++e<u;)var o=o?l(cn(o,t[e],n,r),cn(t[e],o,n,r)):t[e];
	return o&&o.length?Tn(o,n,r):[]}function Jn(t,n,r){for(var e=-1,u=t.length,o=n.length,i={};++e<u;)r(i,t[e],o>e?n[e]:T);return i}function Yn(t){return ke(t)?t:[]}function Hn(t){return ni(t)?t:jo(t)}function Qn(t,n,r){var e=t.length;return r=r===T?e:r,n||e>r?Fn(t,n,r):t}function Xn(t,n){if(n)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function tr(t){var n=new t.constructor(t.byteLength);return new Eu(n).set(new Eu(t)),n}function nr(t,n,r,e){var u=-1,o=t.length,i=r.length,f=-1,c=n.length,a=Pu(o-i,0),l=Array(c+a);
	for(e=!e;++f<c;)l[f]=n[f];for(;++u<i;)(e||o>u)&&(l[r[u]]=t[u]);for(;a--;)l[f++]=t[u++];return l}function rr(t,n,r,e){var u=-1,o=t.length,i=-1,f=r.length,c=-1,a=n.length,l=Pu(o-f,0),s=Array(l+a);for(e=!e;++u<l;)s[u]=t[u];for(l=u;++c<a;)s[l+c]=n[c];for(;++i<f;)(e||o>u)&&(s[l+r[i]]=t[u++]);return s}function er(t,n){var r=-1,e=t.length;for(n||(n=Array(e));++r<e;)n[r]=t[r];return n}function ur(t,n,r){return or(t,n,r)}function or(t,n,r,e){r||(r={});for(var u=-1,o=n.length;++u<o;){var i=n[u],f=e?e(r[i],t[i],i,r,t):t[i];
	Qt(r,i,f)}return r}function ir(t,n){return ur(t,Cr(t),n)}function fr(t,n){return function(r,u){var o=ni(r)?e:Xt,i=n?n():{};return o(r,t,Sr(u),i)}}function cr(t){return xe(function(n,r){var e=-1,u=r.length,o=u>1?r[u-1]:T,i=u>2?r[2]:T,o=typeof o=="function"?(u--,o):T;for(i&&Pr(r[0],r[1],i)&&(o=3>u?T:o,u=1),n=Object(n);++e<u;)(i=r[e])&&t(n,i,e,o);return n})}function ar(t,n){return function(r,e){if(null==r)return r;if(!Oe(r))return t(r,e);for(var u=r.length,o=n?u:-1,i=Object(r);(n?o--:++o<u)&&false!==e(i[o],o,i););
	return r}}function lr(t){return function(n,r,e){var u=-1,o=Object(n);e=e(n);for(var i=e.length;i--;){var f=e[t?i:++u];if(false===r(o[f],f,o))break}return n}}function sr(t,n,r){function e(){return(this&&this!==Jt&&this instanceof e?o:t).apply(u?r:this,arguments)}var u=1&n,o=_r(t);return e}function hr(t){return function(n){n=Ve(n);var r=Wt.test(n)?n.match(St):T,e=r?r[0]:n.charAt(0);return n=r?Qn(r,1).join(""):n.slice(1),e[t]()+n}}function pr(t){return function(n){return s(eu(ru(n)),t,"")}}function _r(t){
	return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=on(t.prototype),n=t.apply(r,n);return We(n)?n:r}}function vr(t,n,e){function u(){for(var i=arguments.length,f=Array(i),c=i,a=Br(u);c--;)f[c]=arguments[c];
	return c=3>i&&f[0]!==a&&f[i-1]!==a?[]:F(f,a),i-=c.length,e>i?wr(t,n,dr,u.placeholder,T,f,c,T,T,e-i):r(this&&this!==Jt&&this instanceof u?o:t,this,f)}var o=_r(t);return u}function gr(t){return xe(function(n){n=sn(n,1);var r=n.length,e=r,u=kt.prototype.thru;for(t&&n.reverse();e--;){var o=n[e];if(typeof o!="function")throw new _u("Expected a function");if(u&&!i&&"wrapper"==Ir(o))var i=new kt([],true)}for(e=i?e:r;++e<r;)var o=n[e],u=Ir(o),f="wrapper"==u?go(o):T,i=f&&Tr(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?i[Ir(f[0])].apply(i,f[3]):1==o.length&&Tr(o)?i[u]():i.thru(o);
	return function(){var t=arguments,e=t[0];if(i&&1==t.length&&ni(e)&&e.length>=200)return i.plant(e).value();for(var u=0,t=r?n[u].apply(this,t):e;++u<r;)t=n[u].call(this,t);return t}})}function dr(t,n,r,e,u,o,i,f,c,a){function l(){for(var d=arguments.length,y=d,b=Array(d);y--;)b[y]=arguments[y];if(_){var x,j=Br(l),y=b.length;for(x=0;y--;)b[y]===j&&x++}if(e&&(b=nr(b,e,u,_)),o&&(b=rr(b,o,i,_)),d-=x,_&&a>d)return j=F(b,j),wr(t,n,dr,l.placeholder,r,b,j,f,c,a-d);if(j=h?r:this,y=p?j[t]:t,d=b.length,f){x=b.length;
	for(var m=Zu(f.length,x),w=er(b);m--;){var A=f[m];b[m]=L(A,x)?w[A]:T}}else v&&d>1&&b.reverse();return s&&d>c&&(b.length=c),this&&this!==Jt&&this instanceof l&&(y=g||_r(y)),y.apply(j,b)}var s=128&n,h=1&n,p=2&n,_=24&n,v=512&n,g=p?T:_r(t);return l}function yr(t,n){return function(r,e){return xn(r,t,n(e))}}function br(t){return xe(function(n){return n=a(sn(n,1,Nr),Sr()),xe(function(e){var u=this;return t(n,function(t){return r(t,u,e)})})})}function xr(t,n){n=n===T?" ":n+"";var r=n.length;return 2>r?r?$n(n,t):n:(r=$n(n,Mu(t/P(n))),
	Wt.test(n)?Qn(r.match(St),0,t).join(""):r.slice(0,t))}function jr(t,n,e,u){function o(){for(var n=-1,c=arguments.length,a=-1,l=u.length,s=Array(l+c),h=this&&this!==Jt&&this instanceof o?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++n];return r(h,i?e:this,s)}var i=1&n,f=_r(t);return o}function mr(t){return function(n,r,e){e&&typeof e!="number"&&Pr(n,r,e)&&(r=e=T),n=qe(n),n=n===n?n:0,r===T?(r=n,n=0):r=qe(r)||0,e=e===T?r>n?1:-1:qe(e)||0;var u=-1;r=Pu(Mu((r-n)/(e||1)),0);for(var o=Array(r);r--;)o[t?r:++u]=n,
	n+=e;return o}}function wr(t,n,r,e,u,o,i,f,c,a){var l=8&n;f=f?er(f):T;var s=l?i:T;i=l?T:i;var h=l?o:T;return o=l?T:o,n=(n|(l?32:64))&~(l?64:32),4&n||(n&=-4),n=[t,n,u,h,s,o,i,f,c,a],r=r.apply(T,n),Tr(t)&&xo(r,n),r.placeholder=e,r}function Ar(t){var n=hu[t];return function(t,r){if(t=qe(t),r=Pe(r)){var e=(Ve(t)+"e").split("e"),e=n(e[0]+"e"+(+e[1]+r)),e=(Ve(e)+"e").split("e");return+(e[0]+"e"+(+e[1]-r))}return n(t)}}function Or(t,n,r,e,u,o,i,f){var c=2&n;if(!c&&typeof t!="function")throw new _u("Expected a function");
	var a=e?e.length:0;if(a||(n&=-97,e=u=T),i=i===T?i:Pu(Pe(i),0),f=f===T?f:Pe(f),a-=u?u.length:0,64&n){var l=e,s=u;e=u=T}var h=c?T:go(t);return o=[t,n,r,e,u,l,s,o,i,f],h&&(r=o[1],t=h[1],n=r|t,e=128==t&&8==r||128==t&&256==r&&h[8]>=o[7].length||384==t&&h[8]>=h[7].length&&8==r,131>n||e)&&(1&t&&(o[2]=h[2],n|=1&r?0:4),(r=h[3])&&(e=o[3],o[3]=e?nr(e,r,h[4]):er(r),o[4]=e?F(o[3],"__lodash_placeholder__"):er(h[4])),(r=h[5])&&(e=o[5],o[5]=e?rr(e,r,h[6]):er(r),o[6]=e?F(o[5],"__lodash_placeholder__"):er(h[6])),(r=h[7])&&(o[7]=er(r)),
	128&t&&(o[8]=null==o[8]?h[8]:Zu(o[8],h[8])),null==o[9]&&(o[9]=h[9]),o[0]=h[0],o[1]=n),t=o[0],n=o[1],r=o[2],e=o[3],u=o[4],f=o[9]=null==o[9]?c?0:t.length:Pu(o[9]-a,0),!f&&24&n&&(n&=-25),(h?_o:xo)(n&&1!=n?8==n||16==n?vr(t,n,f):32!=n&&33!=n||u.length?dr.apply(T,o):jr(t,n,r,e):sr(t,n,r),o)}function kr(t,n,r,e,u,o){var i=-1,f=2&u,c=1&u,a=t.length,l=n.length;if(!(a==l||f&&l>a))return false;if(l=o.get(t))return l==n;for(l=true,o.set(t,n);++i<a;){var s=t[i],h=n[i];if(e)var _=f?e(h,s,i,n,t,o):e(s,h,i,t,n,o);if(_!==T){
	if(_)continue;l=false;break}if(c){if(!p(n,function(t){return s===t||r(s,t,e,u,o)})){l=false;break}}else if(s!==h&&!r(s,h,e,u,o)){l=false;break}}return o["delete"](t),l}function Er(t,n,r,e,u,o,i){switch(r){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)break;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":if(t.byteLength!=n.byteLength||!e(new Eu(t),new Eu(n)))break;return true;case"[object Boolean]":case"[object Date]":return+t==+n;case"[object Error]":return t.name==n.name&&t.message==n.message;
	case"[object Number]":return t!=+t?n!=+n:t==+n;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var f=D;case"[object Set]":if(f||(f=N),t.size!=n.size&&!(2&o))break;return(r=i.get(t))?r==n:(o|=1,i.set(t,n),kr(f(t),f(n),e,u,o,i));case"[object Symbol]":if(co)return co.call(t)==co.call(n)}return false}function Ir(t){for(var n=t.name+"",r=no[n],e=yu.call(no,n)?r.length:0;e--;){var u=r[e],o=u.func;if(null==o||o==t)return u.name}return n}function Sr(){var t=jt.iteratee||iu,t=t===iu?An:t;
	return arguments.length?t(arguments[0],arguments[1]):t}function Rr(t){t=Qe(t);for(var n=t.length;n--;){var r=t[n][1];t[n][2]=r===r&&!We(r)}return t}function Wr(t,n){var r=t[n];return Ce(r)?r:T}function Br(t){return(yu.call(jt,"placeholder")?jt:t).placeholder}function Cr(t){return Ru(Object(t))}function zr(t){return ju.call(t)}function Ur(t,n,r){n=Zr(n,t)?[n]:Hn(n);for(var e,u=-1,o=n.length;++u<o;){var i=n[u];if(!(e=null!=t&&r(t,i)))break;t=t[i]}return e?e:(o=t?t.length:0,!!o&&Re(o)&&L(i,o)&&(ni(t)||Le(t)||Ae(t)));
	}function Mr(t){var n=t.length,r=t.constructor(n);return n&&"string"==typeof t[0]&&yu.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Lr(t){return typeof t.constructor!="function"||Vr(t)?{}:on($u(Object(t)))}function $r(r,e,u,o){var i=r.constructor;switch(e){case"[object ArrayBuffer]":return tr(r);case"[object Boolean]":case"[object Date]":return new i(+r);case"[object DataView]":return e=o?tr(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.byteLength);case"[object Float32Array]":
	case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return e=o?tr(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.length);case"[object Map]":return e=o?u(D(r),true):D(r),s(e,t,new r.constructor);case"[object Number]":case"[object String]":return new i(r);case"[object RegExp]":return e=new r.constructor(r.source,vt.exec(r)),e.lastIndex=r.lastIndex,
	e;case"[object Set]":return e=o?u(N(r),true):N(r),s(e,n,new r.constructor);case"[object Symbol]":return co?Object(co.call(r)):{}}}function Dr(t){var n=t?t.length:T;return Re(n)&&(ni(t)||Le(t)||Ae(t))?w(n,String):null}function Fr(t){return ke(t)&&(ni(t)||Ae(t))}function Nr(t){return ni(t)&&!(2==t.length&&!Ie(t[0]))}function Pr(t,n,r){if(!We(r))return false;var e=typeof n;return("number"==e?Oe(r)&&L(n,r.length):"string"==e&&n in r)?me(r[n],t):false}function Zr(t,n){var r=typeof t;return"number"==r||"symbol"==r?true:!ni(t)&&($e(t)||ot.test(t)||!ut.test(t)||null!=n&&t in Object(n));
	}function qr(t){var n=typeof t;return"number"==n||"boolean"==n||"string"==n&&"__proto__"!=t||null==t}function Tr(t){var n=Ir(t),r=jt[n];return typeof r=="function"&&n in Et.prototype?t===r?true:(n=go(r),!!n&&t===n[0]):false}function Vr(t){var n=t&&t.constructor;return t===(typeof n=="function"&&n.prototype||gu)}function Kr(t,n){return function(r){return null==r?false:r[t]===n&&(n!==T||t in Object(r))}}function Gr(t,n,r,e,u,o){return We(t)&&We(n)&&Sn(t,n,T,Gr,o.set(n,t)),t}function Jr(t,n){return 1==n.length?t:vn(t,Fn(n,0,-1));
	}function Yr(t){return typeof t=="string"||$e(t)?t:t+""}function Hr(t){if(null!=t){try{return du.call(t)}catch(n){}return t+""}return""}function Qr(t){if(t instanceof Et)return t.clone();var n=new kt(t.__wrapped__,t.__chain__);return n.__actions__=er(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function Xr(t,n,r){var e=t?t.length:0;return e?(n=r||n===T?1:Pe(n),Fn(t,0>n?0:n,e)):[]}function te(t,n,r){var e=t?t.length:0;return e?(n=r||n===T?1:Pe(n),n=e-n,Fn(t,0,0>n?0:n)):[]}function ne(t){
	return t?t[0]:T}function re(t){var n=t?t.length:0;return n?t[n-1]:T}function ee(t,n){return t&&t.length&&n&&n.length?Un(t,n):t}function ue(t){return t?Vu.call(t):t}function oe(t){if(!t||!t.length)return[];var n=0;return t=i(t,function(t){return ke(t)?(n=Pu(t.length,n),true):void 0}),w(n,function(n){return a(t,Cn(n))})}function ie(t,n){if(!t||!t.length)return[];var e=oe(t);return null==n?e:a(e,function(t){return r(n,T,t)})}function fe(t){return t=jt(t),t.__chain__=true,t}function ce(t,n){return n(t)}function ae(){
	return this}function le(t,n){return typeof n=="function"&&ni(t)?u(t,n):lo(t,Sr(n))}function se(t,n){var r;if(typeof n=="function"&&ni(t)){for(r=t.length;r--&&false!==n(t[r],r,t););r=t}else r=so(t,Sr(n));return r}function he(t,n){return(ni(t)?a:kn)(t,Sr(n,3))}function pe(t,n,r){var e=-1,u=Ne(t),o=u.length,i=o-1;for(n=(r?Pr(t,n,r):n===T)?1:rn(Pe(n),0,o);++e<n;)t=Ln(e,i),r=u[t],u[t]=u[e],u[e]=r;return u.length=n,u}function _e(t,n,r){return n=r?T:n,n=t&&null==n?t.length:n,Or(t,128,T,T,T,T,n)}function ve(t,n){
	var r;if(typeof n!="function")throw new _u("Expected a function");return t=Pe(t),function(){return 0<--t&&(r=n.apply(this,arguments)),1>=t&&(n=T),r}}function ge(t,n,r){return n=r?T:n,t=Or(t,8,T,T,T,T,T,n),t.placeholder=ge.placeholder,t}function de(t,n,r){return n=r?T:n,t=Or(t,16,T,T,T,T,T,n),t.placeholder=de.placeholder,t}function ye(t,n,r){function e(n){var r=c,e=a;return c=a=T,p=n,l=t.apply(e,r)}function u(t){var r=t-h;return t-=p,!h||r>=n||0>r||false!==v&&t>=v}function o(){var t=Vo();if(u(t))return i(t);
	var r;r=t-p,t=n-(t-h),r=false===v?t:Zu(t,v-r),s=zu(o,r)}function i(t){return Iu(s),s=T,g&&c?e(t):(c=a=T,l)}function f(){var t=Vo(),r=u(t);return c=arguments,a=this,h=t,r?s===T?(p=t=h,s=zu(o,n),_?e(t):l):(Iu(s),s=zu(o,n),e(h)):(s===T&&(s=zu(o,n)),l)}var c,a,l,s,h=0,p=0,_=false,v=false,g=true;if(typeof t!="function")throw new _u("Expected a function");return n=qe(n)||0,We(r)&&(_=!!r.leading,v="maxWait"in r&&Pu(qe(r.maxWait)||0,n),g="trailing"in r?!!r.trailing:g),f.cancel=function(){s!==T&&Iu(s),h=p=0,c=a=s=T},
	f.flush=function(){return s===T?l:i(Vo())},f}function be(t,n){function r(){var e=arguments,u=n?n.apply(this,e):e[0],o=r.cache;return o.has(u)?o.get(u):(e=t.apply(this,e),r.cache=o.set(u,e),e)}if(typeof t!="function"||n&&typeof n!="function")throw new _u("Expected a function");return r.cache=new(be.Cache||Lt),r}function xe(t,n){if(typeof t!="function")throw new _u("Expected a function");return n=Pu(n===T?t.length-1:Pe(n),0),function(){for(var e=arguments,u=-1,o=Pu(e.length-n,0),i=Array(o);++u<o;)i[u]=e[n+u];
	switch(n){case 0:return t.call(this,i);case 1:return t.call(this,e[0],i);case 2:return t.call(this,e[0],e[1],i)}for(o=Array(n+1),u=-1;++u<n;)o[u]=e[u];return o[n]=i,r(t,this,o)}}function je(){if(!arguments.length)return[];var t=arguments[0];return ni(t)?t:[t]}function me(t,n){return t===n||t!==t&&n!==n}function we(t,n){return t>n}function Ae(t){return ke(t)&&yu.call(t,"callee")&&(!Cu.call(t,"callee")||"[object Arguments]"==ju.call(t))}function Oe(t){return null!=t&&Re(yo(t))&&!Ie(t)}function ke(t){
	return Be(t)&&Oe(t)}function Ee(t){return Be(t)?"[object Error]"==ju.call(t)||typeof t.message=="string"&&typeof t.name=="string":false}function Ie(t){return t=We(t)?ju.call(t):"","[object Function]"==t||"[object GeneratorFunction]"==t}function Se(t){return typeof t=="number"&&t==Pe(t)}function Re(t){return typeof t=="number"&&t>-1&&0==t%1&&9007199254740991>=t}function We(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Be(t){return!!t&&typeof t=="object"}function Ce(t){return We(t)?(Ie(t)||M(t)?wu:bt).test(Hr(t)):false;
	}function ze(t){return typeof t=="number"||Be(t)&&"[object Number]"==ju.call(t)}function Ue(t){return!Be(t)||"[object Object]"!=ju.call(t)||M(t)?false:(t=$u(Object(t)),null===t?true:(t=yu.call(t,"constructor")&&t.constructor,typeof t=="function"&&t instanceof t&&du.call(t)==xu))}function Me(t){return We(t)&&"[object RegExp]"==ju.call(t)}function Le(t){return typeof t=="string"||!ni(t)&&Be(t)&&"[object String]"==ju.call(t)}function $e(t){return typeof t=="symbol"||Be(t)&&"[object Symbol]"==ju.call(t)}function De(t){
	return Be(t)&&Re(t.length)&&!!zt[ju.call(t)]}function Fe(t,n){return n>t}function Ne(t){if(!t)return[];if(Oe(t))return Le(t)?t.match(St):er(t);if(Wu&&t[Wu])return $(t[Wu]());var n=zr(t);return("[object Map]"==n?D:"[object Set]"==n?N:tu)(t)}function Pe(t){if(!t)return 0===t?t:0;if(t=qe(t),t===V||t===-V)return 1.7976931348623157e308*(0>t?-1:1);var n=t%1;return t===t?n?t-n:t:0}function Ze(t){return t?rn(Pe(t),0,4294967295):0}function qe(t){if(typeof t=="number")return t;if($e(t))return K;if(We(t)&&(t=Ie(t.valueOf)?t.valueOf():t,
	t=We(t)?t+"":t),typeof t!="string")return 0===t?t:+t;t=t.replace(at,"");var n=yt.test(t);return n||xt.test(t)?Pt(t.slice(2),n?2:8):dt.test(t)?K:+t}function Te(t){return ur(t,He(t))}function Ve(t){if(typeof t=="string")return t;if(null==t)return"";if($e(t))return ao?ao.call(t):"";var n=t+"";return"0"==n&&1/t==-V?"-0":n}function Ke(t,n,r){return t=null==t?T:vn(t,n),t===T?r:t}function Ge(t,n){return null!=t&&Ur(t,n,dn)}function Je(t,n){return null!=t&&Ur(t,n,yn)}function Ye(t){var n=Vr(t);if(!n&&!Oe(t))return Nu(Object(t));
	var r,e=Dr(t),u=!!e,e=e||[],o=e.length;for(r in t)!dn(t,r)||u&&("length"==r||L(r,o))||n&&"constructor"==r||e.push(r);return e}function He(t){for(var n=-1,r=Vr(t),e=On(t),u=e.length,o=Dr(t),i=!!o,o=o||[],f=o.length;++n<u;){var c=e[n];i&&("length"==c||L(c,f))||"constructor"==c&&(r||!yu.call(t,c))||o.push(c)}return o}function Qe(t){return A(t,Ye(t))}function Xe(t){return A(t,He(t))}function tu(t){return t?k(t,Ye(t)):[]}function nu(t){return Ai(Ve(t).toLowerCase())}function ru(t){return(t=Ve(t))&&t.replace(mt,B).replace(It,"");
	}function eu(t,n,r){return t=Ve(t),n=r?T:n,n===T&&(n=Bt.test(t)?Rt:ht),t.match(n)||[]}function uu(t){return function(){return t}}function ou(t){return t}function iu(t){return An(typeof t=="function"?t:en(t,true))}function fu(t,n,r){var e=Ye(n),o=_n(n,e);null!=r||We(n)&&(o.length||!e.length)||(r=n,n=t,t=this,o=_n(n,Ye(n)));var i=We(r)&&"chain"in r?r.chain:true,f=Ie(t);return u(o,function(r){var e=n[r];t[r]=e,f&&(t.prototype[r]=function(){var n=this.__chain__;if(i||n){var r=t(this.__wrapped__);return(r.__actions__=er(this.__actions__)).push({
	func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,l([this.value()],arguments))})}),t}function cu(){}function au(t){return Zr(t)?Cn(t):zn(t)}S=S?Yt.defaults({},S,Yt.pick(Jt,Ct)):Jt;var lu=S.Date,su=S.Error,hu=S.Math,pu=S.RegExp,_u=S.TypeError,vu=S.Array.prototype,gu=S.Object.prototype,du=S.Function.prototype.toString,yu=gu.hasOwnProperty,bu=0,xu=du.call(Object),ju=gu.toString,mu=Jt._,wu=pu("^"+du.call(yu).replace(ft,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Au=Tt?S.Buffer:T,Ou=S.Reflect,ku=S.Symbol,Eu=S.Uint8Array,Iu=S.clearTimeout,Su=Ou?Ou.f:T,Ru=Object.getOwnPropertySymbols,Wu=typeof(Wu=ku&&ku.iterator)=="symbol"?Wu:T,Bu=Object.create,Cu=gu.propertyIsEnumerable,zu=S.setTimeout,Uu=vu.splice,Mu=hu.ceil,Lu=hu.floor,$u=Object.getPrototypeOf,Du=S.isFinite,Fu=vu.join,Nu=Object.keys,Pu=hu.max,Zu=hu.min,qu=S.parseInt,Tu=hu.random,Vu=vu.reverse,Ku=Wr(S,"DataView"),Gu=Wr(S,"Map"),Ju=Wr(S,"Promise"),Yu=Wr(S,"Set"),Hu=Wr(S,"WeakMap"),Qu=Wr(Object,"create"),Xu=Hu&&new Hu,to=!Cu.call({
	valueOf:1},"valueOf"),no={},ro=Hr(Ku),eo=Hr(Gu),uo=Hr(Ju),oo=Hr(Yu),io=Hr(Hu),fo=ku?ku.prototype:T,co=fo?fo.valueOf:T,ao=fo?fo.toString:T;jt.templateSettings={escape:nt,evaluate:rt,interpolate:et,variable:"",imports:{_:jt}},jt.prototype=Ot.prototype,jt.prototype.constructor=jt,kt.prototype=on(Ot.prototype),kt.prototype.constructor=kt,Et.prototype=on(Ot.prototype),Et.prototype.constructor=Et,Mt.prototype=Qu?Qu(null):gu,Lt.prototype.clear=function(){this.__data__={hash:new Mt,map:Gu?new Gu:[],string:new Mt
	}},Lt.prototype["delete"]=function(t){var n=this.__data__;return qr(t)?(n=typeof t=="string"?n.string:n.hash,t=(Qu?n[t]!==T:yu.call(n,t))&&delete n[t]):t=Gu?n.map["delete"](t):Zt(n.map,t),t},Lt.prototype.get=function(t){var n=this.__data__;return qr(t)?(n=typeof t=="string"?n.string:n.hash,Qu?(t=n[t],t="__lodash_hash_undefined__"===t?T:t):t=yu.call(n,t)?n[t]:T):t=Gu?n.map.get(t):qt(n.map,t),t},Lt.prototype.has=function(t){var n=this.__data__;return qr(t)?(n=typeof t=="string"?n.string:n.hash,t=Qu?n[t]!==T:yu.call(n,t)):t=Gu?n.map.has(t):-1<Vt(n.map,t),
	t},Lt.prototype.set=function(t,n){var r=this.__data__;return qr(t)?(typeof t=="string"?r.string:r.hash)[t]=Qu&&n===T?"__lodash_hash_undefined__":n:Gu?r.map.set(t,n):Kt(r.map,t,n),this},$t.prototype.push=function(t){var n=this.__data__;qr(t)?(n=n.__data__,(typeof t=="string"?n.string:n.hash)[t]="__lodash_hash_undefined__"):n.set(t,"__lodash_hash_undefined__")},Ft.prototype.clear=function(){this.__data__={array:[],map:null}},Ft.prototype["delete"]=function(t){var n=this.__data__,r=n.array;return r?Zt(r,t):n.map["delete"](t);
	},Ft.prototype.get=function(t){var n=this.__data__,r=n.array;return r?qt(r,t):n.map.get(t)},Ft.prototype.has=function(t){var n=this.__data__,r=n.array;return r?-1<Vt(r,t):n.map.has(t)},Ft.prototype.set=function(t,n){var r=this.__data__,e=r.array;return e&&(199>e.length?Kt(e,t,n):(r.array=null,r.map=new Lt(e))),(r=r.map)&&r.set(t,n),this};var lo=ar(hn),so=ar(pn,true),ho=lr(),po=lr(true);Su&&!Cu.call({valueOf:1},"valueOf")&&(On=function(t){return $(Su(t))});var _o=Xu?function(t,n){return Xu.set(t,n),t}:ou,vo=Yu&&2===new Yu([1,2]).size?function(t){
	return new Yu(t)}:cu,go=Xu?function(t){return Xu.get(t)}:cu,yo=Cn("length");Ru||(Cr=function(){return[]});var bo=Ru?function(t){for(var n=[];t;)l(n,Cr(t)),t=$u(Object(t));return n}:Cr;(Ku&&"[object DataView]"!=zr(new Ku(new ArrayBuffer(1)))||Gu&&"[object Map]"!=zr(new Gu)||Ju&&"[object Promise]"!=zr(Ju.resolve())||Yu&&"[object Set]"!=zr(new Yu)||Hu&&"[object WeakMap]"!=zr(new Hu))&&(zr=function(t){var n=ju.call(t);if(t=(t="[object Object]"==n?t.constructor:T)?Hr(t):T)switch(t){case ro:return"[object DataView]";
	case eo:return"[object Map]";case uo:return"[object Promise]";case oo:return"[object Set]";case io:return"[object WeakMap]"}return n});var xo=function(){var t=0,n=0;return function(r,e){var u=Vo(),o=16-(u-n);if(n=u,o>0){if(150<=++t)return r}else t=0;return _o(r,e)}}(),jo=be(function(t){var n=[];return Ve(t).replace(it,function(t,r,e,u){n.push(e?u.replace(pt,"$1"):r||t)}),n}),mo=xe(function(t,n){return ke(t)?cn(t,sn(n,1,ke,true)):[]}),wo=xe(function(t,n){var r=re(n);return ke(r)&&(r=T),ke(t)?cn(t,sn(n,1,ke,true),Sr(r)):[];
	}),Ao=xe(function(t,n){var r=re(n);return ke(r)&&(r=T),ke(t)?cn(t,sn(n,1,ke,true),T,r):[]}),Oo=xe(function(t){var n=a(t,Yn);return n.length&&n[0]===t[0]?bn(n):[]}),ko=xe(function(t){var n=re(t),r=a(t,Yn);return n===re(r)?n=T:r.pop(),r.length&&r[0]===t[0]?bn(r,Sr(n)):[]}),Eo=xe(function(t){var n=re(t),r=a(t,Yn);return n===re(r)?n=T:r.pop(),r.length&&r[0]===t[0]?bn(r,T,n):[]}),Io=xe(ee),So=xe(function(t,n){n=a(sn(n,1),String);var r=nn(t,n);return Mn(t,n.sort(R)),r}),Ro=xe(function(t){return Tn(sn(t,1,ke,true));
	}),Wo=xe(function(t){var n=re(t);return ke(n)&&(n=T),Tn(sn(t,1,ke,true),Sr(n))}),Bo=xe(function(t){var n=re(t);return ke(n)&&(n=T),Tn(sn(t,1,ke,true),T,n)}),Co=xe(function(t,n){return ke(t)?cn(t,n):[]}),zo=xe(function(t){return Gn(i(t,ke))}),Uo=xe(function(t){var n=re(t);return ke(n)&&(n=T),Gn(i(t,ke),Sr(n))}),Mo=xe(function(t){var n=re(t);return ke(n)&&(n=T),Gn(i(t,ke),T,n)}),Lo=xe(oe),$o=xe(function(t){var n=t.length,n=n>1?t[n-1]:T,n=typeof n=="function"?(t.pop(),n):T;return ie(t,n)}),Do=xe(function(t){
	function n(n){return nn(n,t)}t=sn(t,1);var r=t.length,e=r?t[0]:0,u=this.__wrapped__;return 1>=r&&!this.__actions__.length&&u instanceof Et&&L(e)?(u=u.slice(e,+e+(r?1:0)),u.__actions__.push({func:ce,args:[n],thisArg:T}),new kt(u,this.__chain__).thru(function(t){return r&&!t.length&&t.push(T),t})):this.thru(n)}),Fo=fr(function(t,n,r){yu.call(t,r)?++t[r]:t[r]=1}),No=fr(function(t,n,r){yu.call(t,r)?t[r].push(n):t[r]=[n]}),Po=xe(function(t,n,e){var u=-1,o=typeof n=="function",i=Zr(n),f=Oe(t)?Array(t.length):[];
	return lo(t,function(t){var c=o?n:i&&null!=t?t[n]:T;f[++u]=c?r(c,t,e):jn(t,n,e)}),f}),Zo=fr(function(t,n,r){t[r]=n}),qo=fr(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),To=xe(function(t,n){if(null==t)return[];var r=n.length;return r>1&&Pr(t,n[0],n[1])?n=[]:r>2&&Pr(n[0],n[1],n[2])&&(n=[n[0]]),Rn(t,sn(n,1),[])}),Vo=lu.now,Ko=xe(function(t,n,r){var e=1;if(r.length)var u=F(r,Br(Ko)),e=32|e;return Or(t,e,n,r,u)}),Go=xe(function(t,n,r){var e=3;if(r.length)var u=F(r,Br(Go)),e=32|e;return Or(n,e,t,r,u);
	}),Jo=xe(function(t,n){return fn(t,1,n)}),Yo=xe(function(t,n,r){return fn(t,qe(n)||0,r)});be.Cache=Lt;var Ho=xe(function(t,n){n=a(sn(n,1,Nr),Sr());var e=n.length;return xe(function(u){for(var o=-1,i=Zu(u.length,e);++o<i;)u[o]=n[o].call(this,u[o]);return r(t,this,u)})}),Qo=xe(function(t,n){var r=F(n,Br(Qo));return Or(t,32,T,n,r)}),Xo=xe(function(t,n){var r=F(n,Br(Xo));return Or(t,64,T,n,r)}),ti=xe(function(t,n){return Or(t,256,T,T,T,sn(n,1))}),ni=Array.isArray,ri=Au?function(t){return t instanceof Au;
	}:uu(false),ei=cr(function(t,n){if(to||Vr(n)||Oe(n))ur(n,Ye(n),t);else for(var r in n)yu.call(n,r)&&Qt(t,r,n[r])}),ui=cr(function(t,n){if(to||Vr(n)||Oe(n))ur(n,He(n),t);else for(var r in n)Qt(t,r,n[r])}),oi=cr(function(t,n,r,e){or(n,He(n),t,e)}),ii=cr(function(t,n,r,e){or(n,Ye(n),t,e)}),fi=xe(function(t,n){return nn(t,sn(n,1))}),ci=xe(function(t){return t.push(T,Gt),r(oi,T,t)}),ai=xe(function(t){return t.push(T,Gr),r(_i,T,t)}),li=yr(function(t,n,r){t[n]=r},uu(ou)),si=yr(function(t,n,r){yu.call(t,n)?t[n].push(r):t[n]=[r];
	},Sr),hi=xe(jn),pi=cr(function(t,n,r){Sn(t,n,r)}),_i=cr(function(t,n,r,e){Sn(t,n,r,e)}),vi=xe(function(t,n){return null==t?{}:(n=a(sn(n,1),Yr),Wn(t,cn(gn(t,He,bo),n)))}),gi=xe(function(t,n){return null==t?{}:Wn(t,sn(n,1))}),di=pr(function(t,n,r){return n=n.toLowerCase(),t+(r?nu(n):n)}),yi=pr(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()}),bi=pr(function(t,n,r){return t+(r?" ":"")+n.toLowerCase()}),xi=hr("toLowerCase"),ji=pr(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),mi=pr(function(t,n,r){
	return t+(r?" ":"")+Ai(n)}),wi=pr(function(t,n,r){return t+(r?" ":"")+n.toUpperCase()}),Ai=hr("toUpperCase"),Oi=xe(function(t,n){try{return r(t,T,n)}catch(e){return Ee(e)?e:new su(e)}}),ki=xe(function(t,n){return u(sn(n,1),function(n){t[n]=Ko(t[n],t)}),t}),Ei=gr(),Ii=gr(true),Si=xe(function(t,n){return function(r){return jn(r,t,n)}}),Ri=xe(function(t,n){return function(r){return jn(t,r,n)}}),Wi=br(a),Bi=br(o),Ci=br(p),zi=mr(),Ui=mr(true),Mi=W(function(t,n){return t+n}),Li=Ar("ceil"),$i=W(function(t,n){
	return t/n}),Di=Ar("floor"),Fi=W(function(t,n){return t*n}),Ni=Ar("round"),Pi=W(function(t,n){return t-n});return jt.after=function(t,n){if(typeof n!="function")throw new _u("Expected a function");return t=Pe(t),function(){return 1>--t?n.apply(this,arguments):void 0}},jt.ary=_e,jt.assign=ei,jt.assignIn=ui,jt.assignInWith=oi,jt.assignWith=ii,jt.at=fi,jt.before=ve,jt.bind=Ko,jt.bindAll=ki,jt.bindKey=Go,jt.castArray=je,jt.chain=fe,jt.chunk=function(t,n,r){if(n=(r?Pr(t,n,r):n===T)?1:Pu(Pe(n),0),r=t?t.length:0,
	!r||1>n)return[];for(var e=0,u=0,o=Array(Mu(r/n));r>e;)o[u++]=Fn(t,e,e+=n);return o},jt.compact=function(t){for(var n=-1,r=t?t.length:0,e=0,u=[];++n<r;){var o=t[n];o&&(u[e++]=o)}return u},jt.concat=function(){var t=arguments.length,n=je(arguments[0]);if(2>t)return t?er(n):[];for(var r=Array(t-1);t--;)r[t-1]=arguments[t];for(var t=sn(r,1),r=-1,e=n.length,u=-1,o=t.length,i=Array(e+o);++r<e;)i[r]=n[r];for(;++u<o;)i[r++]=t[u];return i},jt.cond=function(t){var n=t?t.length:0,e=Sr();return t=n?a(t,function(t){
	if("function"!=typeof t[1])throw new _u("Expected a function");return[e(t[0]),t[1]]}):[],xe(function(e){for(var u=-1;++u<n;){var o=t[u];if(r(o[0],this,e))return r(o[1],this,e)}})},jt.conforms=function(t){return un(en(t,true))},jt.constant=uu,jt.countBy=Fo,jt.create=function(t,n){var r=on(t);return n?tn(r,n):r},jt.curry=ge,jt.curryRight=de,jt.debounce=ye,jt.defaults=ci,jt.defaultsDeep=ai,jt.defer=Jo,jt.delay=Yo,jt.difference=mo,jt.differenceBy=wo,jt.differenceWith=Ao,jt.drop=Xr,jt.dropRight=te,jt.dropRightWhile=function(t,n){
	return t&&t.length?Vn(t,Sr(n,3),true,true):[]},jt.dropWhile=function(t,n){return t&&t.length?Vn(t,Sr(n,3),true):[]},jt.fill=function(t,n,r,e){var u=t?t.length:0;if(!u)return[];for(r&&typeof r!="number"&&Pr(t,n,r)&&(r=0,e=u),u=t.length,r=Pe(r),0>r&&(r=-r>u?0:u+r),e=e===T||e>u?u:Pe(e),0>e&&(e+=u),e=r>e?0:Ze(e);e>r;)t[r++]=n;return t},jt.filter=function(t,n){return(ni(t)?i:ln)(t,Sr(n,3))},jt.flatMap=function(t,n){return sn(he(t,n),1)},jt.flatMapDeep=function(t,n){return sn(he(t,n),V)},jt.flatMapDepth=function(t,n,r){
	return r=r===T?1:Pe(r),sn(he(t,n),r)},jt.flatten=function(t){return t&&t.length?sn(t,1):[]},jt.flattenDeep=function(t){return t&&t.length?sn(t,V):[]},jt.flattenDepth=function(t,n){return t&&t.length?(n=n===T?1:Pe(n),sn(t,n)):[]},jt.flip=function(t){return Or(t,512)},jt.flow=Ei,jt.flowRight=Ii,jt.fromPairs=function(t){for(var n=-1,r=t?t.length:0,e={};++n<r;){var u=t[n];e[u[0]]=u[1]}return e},jt.functions=function(t){return null==t?[]:_n(t,Ye(t))},jt.functionsIn=function(t){return null==t?[]:_n(t,He(t));
	},jt.groupBy=No,jt.initial=function(t){return te(t,1)},jt.intersection=Oo,jt.intersectionBy=ko,jt.intersectionWith=Eo,jt.invert=li,jt.invertBy=si,jt.invokeMap=Po,jt.iteratee=iu,jt.keyBy=Zo,jt.keys=Ye,jt.keysIn=He,jt.map=he,jt.mapKeys=function(t,n){var r={};return n=Sr(n,3),hn(t,function(t,e,u){r[n(t,e,u)]=t}),r},jt.mapValues=function(t,n){var r={};return n=Sr(n,3),hn(t,function(t,e,u){r[e]=n(t,e,u)}),r},jt.matches=function(t){return En(en(t,true))},jt.matchesProperty=function(t,n){return In(t,en(n,true));
	},jt.memoize=be,jt.merge=pi,jt.mergeWith=_i,jt.method=Si,jt.methodOf=Ri,jt.mixin=fu,jt.negate=function(t){if(typeof t!="function")throw new _u("Expected a function");return function(){return!t.apply(this,arguments)}},jt.nthArg=function(t){return t=Pe(t),function(){return arguments[t]}},jt.omit=vi,jt.omitBy=function(t,n){return n=Sr(n),Bn(t,function(t,r){return!n(t,r)})},jt.once=function(t){return ve(2,t)},jt.orderBy=function(t,n,r,e){return null==t?[]:(ni(n)||(n=null==n?[]:[n]),r=e?T:r,ni(r)||(r=null==r?[]:[r]),
	Rn(t,n,r))},jt.over=Wi,jt.overArgs=Ho,jt.overEvery=Bi,jt.overSome=Ci,jt.partial=Qo,jt.partialRight=Xo,jt.partition=qo,jt.pick=gi,jt.pickBy=function(t,n){return null==t?{}:Bn(t,Sr(n))},jt.property=au,jt.propertyOf=function(t){return function(n){return null==t?T:vn(t,n)}},jt.pull=Io,jt.pullAll=ee,jt.pullAllBy=function(t,n,r){return t&&t.length&&n&&n.length?Un(t,n,Sr(r)):t},jt.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Un(t,n,T,r):t},jt.pullAt=So,jt.range=zi,jt.rangeRight=Ui,jt.rearg=ti,
	jt.reject=function(t,n){var r=ni(t)?i:ln;return n=Sr(n,3),r(t,function(t,r,e){return!n(t,r,e)})},jt.remove=function(t,n){var r=[];if(!t||!t.length)return r;var e=-1,u=[],o=t.length;for(n=Sr(n,3);++e<o;){var i=t[e];n(i,e,t)&&(r.push(i),u.push(e))}return Mn(t,u),r},jt.rest=xe,jt.reverse=ue,jt.sampleSize=pe,jt.set=function(t,n,r){return null==t?t:Dn(t,n,r)},jt.setWith=function(t,n,r,e){return e=typeof e=="function"?e:T,null==t?t:Dn(t,n,r,e)},jt.shuffle=function(t){return pe(t,4294967295)},jt.slice=function(t,n,r){
	var e=t?t.length:0;return e?(r&&typeof r!="number"&&Pr(t,n,r)?(n=0,r=e):(n=null==n?0:Pe(n),r=r===T?e:Pe(r)),Fn(t,n,r)):[]},jt.sortBy=To,jt.sortedUniq=function(t){return t&&t.length?qn(t):[]},jt.sortedUniqBy=function(t,n){return t&&t.length?qn(t,Sr(n)):[]},jt.split=function(t,n,r){return r&&typeof r!="number"&&Pr(t,n,r)&&(n=r=T),r=r===T?4294967295:r>>>0,r?(t=Ve(t))&&(typeof n=="string"||null!=n&&!Me(n))&&(n+="",""==n&&Wt.test(t))?Qn(t.match(St),0,r):t.split(n,r):[]},jt.spread=function(t,n){if(typeof t!="function")throw new _u("Expected a function");
	return n=n===T?0:Pu(Pe(n),0),xe(function(e){var u=e[n];return e=Qn(e,0,n),u&&l(e,u),r(t,this,e)})},jt.tail=function(t){return Xr(t,1)},jt.take=function(t,n,r){return t&&t.length?(n=r||n===T?1:Pe(n),Fn(t,0,0>n?0:n)):[]},jt.takeRight=function(t,n,r){var e=t?t.length:0;return e?(n=r||n===T?1:Pe(n),n=e-n,Fn(t,0>n?0:n,e)):[]},jt.takeRightWhile=function(t,n){return t&&t.length?Vn(t,Sr(n,3),false,true):[]},jt.takeWhile=function(t,n){return t&&t.length?Vn(t,Sr(n,3)):[]},jt.tap=function(t,n){return n(t),t},jt.throttle=function(t,n,r){
	var e=true,u=true;if(typeof t!="function")throw new _u("Expected a function");return We(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),ye(t,n,{leading:e,maxWait:n,trailing:u})},jt.thru=ce,jt.toArray=Ne,jt.toPairs=Qe,jt.toPairsIn=Xe,jt.toPath=function(t){return ni(t)?a(t,Yr):$e(t)?[t]:er(jo(t))},jt.toPlainObject=Te,jt.transform=function(t,n,r){var e=ni(t)||De(t);if(n=Sr(n,4),null==r)if(e||We(t)){var o=t.constructor;r=e?ni(t)?new o:[]:Ie(o)?on($u(Object(t))):{}}else r={};return(e?u:hn)(t,function(t,e,u){
	return n(r,t,e,u)}),r},jt.unary=function(t){return _e(t,1)},jt.union=Ro,jt.unionBy=Wo,jt.unionWith=Bo,jt.uniq=function(t){return t&&t.length?Tn(t):[]},jt.uniqBy=function(t,n){return t&&t.length?Tn(t,Sr(n)):[]},jt.uniqWith=function(t,n){return t&&t.length?Tn(t,T,n):[]},jt.unset=function(t,n){var r;if(null==t)r=true;else{r=t;var e=n,e=Zr(e,r)?[e]:Hn(e);r=Jr(r,e),e=re(e),r=null!=r&&Ge(r,e)?delete r[e]:true}return r},jt.unzip=oe,jt.unzipWith=ie,jt.update=function(t,n,r){return null==t?t:Dn(t,n,(typeof r=="function"?r:ou)(vn(t,n)),void 0);
	},jt.updateWith=function(t,n,r,e){return e=typeof e=="function"?e:T,null!=t&&(t=Dn(t,n,(typeof r=="function"?r:ou)(vn(t,n)),e)),t},jt.values=tu,jt.valuesIn=function(t){return null==t?[]:k(t,He(t))},jt.without=Co,jt.words=eu,jt.wrap=function(t,n){return n=null==n?ou:n,Qo(n,t)},jt.xor=zo,jt.xorBy=Uo,jt.xorWith=Mo,jt.zip=Lo,jt.zipObject=function(t,n){return Jn(t||[],n||[],Qt)},jt.zipObjectDeep=function(t,n){return Jn(t||[],n||[],Dn)},jt.zipWith=$o,jt.entries=Qe,jt.entriesIn=Xe,jt.extend=ui,jt.extendWith=oi,
	fu(jt,jt),jt.add=Mi,jt.attempt=Oi,jt.camelCase=di,jt.capitalize=nu,jt.ceil=Li,jt.clamp=function(t,n,r){return r===T&&(r=n,n=T),r!==T&&(r=qe(r),r=r===r?r:0),n!==T&&(n=qe(n),n=n===n?n:0),rn(qe(t),n,r)},jt.clone=function(t){return en(t,false,true)},jt.cloneDeep=function(t){return en(t,true,true)},jt.cloneDeepWith=function(t,n){return en(t,true,true,n)},jt.cloneWith=function(t,n){return en(t,false,true,n)},jt.deburr=ru,jt.divide=$i,jt.endsWith=function(t,n,r){t=Ve(t),n=typeof n=="string"?n:n+"";var e=t.length;return r=r===T?e:rn(Pe(r),0,e),
	r-=n.length,r>=0&&t.indexOf(n,r)==r},jt.eq=me,jt.escape=function(t){return(t=Ve(t))&&tt.test(t)?t.replace(Q,C):t},jt.escapeRegExp=function(t){return(t=Ve(t))&&ct.test(t)?t.replace(ft,"\\$&"):t},jt.every=function(t,n,r){var e=ni(t)?o:an;return r&&Pr(t,n,r)&&(n=T),e(t,Sr(n,3))},jt.find=function(t,n){if(n=Sr(n,3),ni(t)){var r=g(t,n);return r>-1?t[r]:T}return v(t,n,lo)},jt.findIndex=function(t,n){return t&&t.length?g(t,Sr(n,3)):-1},jt.findKey=function(t,n){return v(t,Sr(n,3),hn,true)},jt.findLast=function(t,n){
	if(n=Sr(n,3),ni(t)){var r=g(t,n,true);return r>-1?t[r]:T}return v(t,n,so)},jt.findLastIndex=function(t,n){return t&&t.length?g(t,Sr(n,3),true):-1},jt.findLastKey=function(t,n){return v(t,Sr(n,3),pn,true)},jt.floor=Di,jt.forEach=le,jt.forEachRight=se,jt.forIn=function(t,n){return null==t?t:ho(t,Sr(n),He)},jt.forInRight=function(t,n){return null==t?t:po(t,Sr(n),He)},jt.forOwn=function(t,n){return t&&hn(t,Sr(n))},jt.forOwnRight=function(t,n){return t&&pn(t,Sr(n))},jt.get=Ke,jt.gt=we,jt.gte=function(t,n){return t>=n;
	},jt.has=Ge,jt.hasIn=Je,jt.head=ne,jt.identity=ou,jt.includes=function(t,n,r,e){return t=Oe(t)?t:tu(t),r=r&&!e?Pe(r):0,e=t.length,0>r&&(r=Pu(e+r,0)),Le(t)?e>=r&&-1<t.indexOf(n,r):!!e&&-1<d(t,n,r)},jt.indexOf=function(t,n,r){var e=t?t.length:0;return e?(r=Pe(r),0>r&&(r=Pu(e+r,0)),d(t,n,r)):-1},jt.inRange=function(t,n,r){return n=qe(n)||0,r===T?(r=n,n=0):r=qe(r)||0,t=qe(t),t>=Zu(n,r)&&t<Pu(n,r)},jt.invoke=hi,jt.isArguments=Ae,jt.isArray=ni,jt.isArrayBuffer=function(t){return Be(t)&&"[object ArrayBuffer]"==ju.call(t);
	},jt.isArrayLike=Oe,jt.isArrayLikeObject=ke,jt.isBoolean=function(t){return true===t||false===t||Be(t)&&"[object Boolean]"==ju.call(t)},jt.isBuffer=ri,jt.isDate=function(t){return Be(t)&&"[object Date]"==ju.call(t)},jt.isElement=function(t){return!!t&&1===t.nodeType&&Be(t)&&!Ue(t)},jt.isEmpty=function(t){if(Oe(t)&&(ni(t)||Le(t)||Ie(t.splice)||Ae(t)||ri(t)))return!t.length;if(Be(t)){var n=zr(t);if("[object Map]"==n||"[object Set]"==n)return!t.size}for(var r in t)if(yu.call(t,r))return false;return!(to&&Ye(t).length);
	},jt.isEqual=function(t,n){return mn(t,n)},jt.isEqualWith=function(t,n,r){var e=(r=typeof r=="function"?r:T)?r(t,n):T;return e===T?mn(t,n,r):!!e},jt.isError=Ee,jt.isFinite=function(t){return typeof t=="number"&&Du(t)},jt.isFunction=Ie,jt.isInteger=Se,jt.isLength=Re,jt.isMap=function(t){return Be(t)&&"[object Map]"==zr(t)},jt.isMatch=function(t,n){return t===n||wn(t,n,Rr(n))},jt.isMatchWith=function(t,n,r){return r=typeof r=="function"?r:T,wn(t,n,Rr(n),r)},jt.isNaN=function(t){return ze(t)&&t!=+t},
	jt.isNative=Ce,jt.isNil=function(t){return null==t},jt.isNull=function(t){return null===t},jt.isNumber=ze,jt.isObject=We,jt.isObjectLike=Be,jt.isPlainObject=Ue,jt.isRegExp=Me,jt.isSafeInteger=function(t){return Se(t)&&t>=-9007199254740991&&9007199254740991>=t},jt.isSet=function(t){return Be(t)&&"[object Set]"==zr(t)},jt.isString=Le,jt.isSymbol=$e,jt.isTypedArray=De,jt.isUndefined=function(t){return t===T},jt.isWeakMap=function(t){return Be(t)&&"[object WeakMap]"==zr(t)},jt.isWeakSet=function(t){return Be(t)&&"[object WeakSet]"==ju.call(t);
	},jt.join=function(t,n){return t?Fu.call(t,n):""},jt.kebabCase=yi,jt.last=re,jt.lastIndexOf=function(t,n,r){var e=t?t.length:0;if(!e)return-1;var u=e;if(r!==T&&(u=Pe(r),u=(0>u?Pu(e+u,0):Zu(u,e-1))+1),n!==n)return U(t,u,true);for(;u--;)if(t[u]===n)return u;return-1},jt.lowerCase=bi,jt.lowerFirst=xi,jt.lt=Fe,jt.lte=function(t,n){return n>=t},jt.max=function(t){return t&&t.length?_(t,ou,we):T},jt.maxBy=function(t,n){return t&&t.length?_(t,Sr(n),we):T},jt.mean=function(t){return b(t,ou)},jt.meanBy=function(t,n){
	return b(t,Sr(n))},jt.min=function(t){return t&&t.length?_(t,ou,Fe):T},jt.minBy=function(t,n){return t&&t.length?_(t,Sr(n),Fe):T},jt.multiply=Fi,jt.noConflict=function(){return Jt._===this&&(Jt._=mu),this},jt.noop=cu,jt.now=Vo,jt.pad=function(t,n,r){t=Ve(t);var e=(n=Pe(n))?P(t):0;return n&&n>e?(n=(n-e)/2,xr(Lu(n),r)+t+xr(Mu(n),r)):t},jt.padEnd=function(t,n,r){t=Ve(t);var e=(n=Pe(n))?P(t):0;return n&&n>e?t+xr(n-e,r):t},jt.padStart=function(t,n,r){t=Ve(t);var e=(n=Pe(n))?P(t):0;return n&&n>e?xr(n-e,r)+t:t;
	},jt.parseInt=function(t,n,r){return r||null==n?n=0:n&&(n=+n),t=Ve(t).replace(at,""),qu(t,n||(gt.test(t)?16:10))},jt.random=function(t,n,r){if(r&&typeof r!="boolean"&&Pr(t,n,r)&&(n=r=T),r===T&&(typeof n=="boolean"?(r=n,n=T):typeof t=="boolean"&&(r=t,t=T)),t===T&&n===T?(t=0,n=1):(t=qe(t)||0,n===T?(n=t,t=0):n=qe(n)||0),t>n){var e=t;t=n,n=e}return r||t%1||n%1?(r=Tu(),Zu(t+r*(n-t+Nt("1e-"+((r+"").length-1))),n)):Ln(t,n)},jt.reduce=function(t,n,r){var e=ni(t)?s:x,u=3>arguments.length;return e(t,Sr(n,4),r,u,lo);
	},jt.reduceRight=function(t,n,r){var e=ni(t)?h:x,u=3>arguments.length;return e(t,Sr(n,4),r,u,so)},jt.repeat=function(t,n,r){return n=(r?Pr(t,n,r):n===T)?1:Pe(n),$n(Ve(t),n)},jt.replace=function(){var t=arguments,n=Ve(t[0]);return 3>t.length?n:n.replace(t[1],t[2])},jt.result=function(t,n,r){n=Zr(n,t)?[n]:Hn(n);var e=-1,u=n.length;for(u||(t=T,u=1);++e<u;){var o=null==t?T:t[n[e]];o===T&&(e=u,o=r),t=Ie(o)?o.call(t):o}return t},jt.round=Ni,jt.runInContext=q,jt.sample=function(t){t=Oe(t)?t:tu(t);var n=t.length;
	return n>0?t[Ln(0,n-1)]:T},jt.size=function(t){if(null==t)return 0;if(Oe(t)){var n=t.length;return n&&Le(t)?P(t):n}return Be(t)&&(n=zr(t),"[object Map]"==n||"[object Set]"==n)?t.size:Ye(t).length},jt.snakeCase=ji,jt.some=function(t,n,r){var e=ni(t)?p:Nn;return r&&Pr(t,n,r)&&(n=T),e(t,Sr(n,3))},jt.sortedIndex=function(t,n){return Pn(t,n)},jt.sortedIndexBy=function(t,n,r){return Zn(t,n,Sr(r))},jt.sortedIndexOf=function(t,n){var r=t?t.length:0;if(r){var e=Pn(t,n);if(r>e&&me(t[e],n))return e}return-1;
	},jt.sortedLastIndex=function(t,n){return Pn(t,n,true)},jt.sortedLastIndexBy=function(t,n,r){return Zn(t,n,Sr(r),true)},jt.sortedLastIndexOf=function(t,n){if(t&&t.length){var r=Pn(t,n,true)-1;if(me(t[r],n))return r}return-1},jt.startCase=mi,jt.startsWith=function(t,n,r){return t=Ve(t),r=rn(Pe(r),0,t.length),t.lastIndexOf(n,r)==r},jt.subtract=Pi,jt.sum=function(t){return t&&t.length?m(t,ou):0},jt.sumBy=function(t,n){return t&&t.length?m(t,Sr(n)):0},jt.template=function(t,n,r){var e=jt.templateSettings;r&&Pr(t,n,r)&&(n=T),
	t=Ve(t),n=oi({},n,e,Gt),r=oi({},n.imports,e.imports,Gt);var u,o,i=Ye(r),f=k(r,i),c=0;r=n.interpolate||wt;var a="__p+='";r=pu((n.escape||wt).source+"|"+r.source+"|"+(r===et?_t:wt).source+"|"+(n.evaluate||wt).source+"|$","g");var l="sourceURL"in n?"//# sourceURL="+n.sourceURL+"\n":"";if(t.replace(r,function(n,r,e,i,f,l){return e||(e=i),a+=t.slice(c,l).replace(At,z),r&&(u=true,a+="'+__e("+r+")+'"),f&&(o=true,a+="';"+f+";\n__p+='"),e&&(a+="'+((__t=("+e+"))==null?'':__t)+'"),c=l+n.length,n}),a+="';",(n=n.variable)||(a="with(obj){"+a+"}"),
	a=(o?a.replace(G,""):a).replace(J,"$1").replace(Y,"$1;"),a="function("+(n||"obj")+"){"+(n?"":"obj||(obj={});")+"var __t,__p=''"+(u?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+a+"return __p}",n=Oi(function(){return Function(i,l+"return "+a).apply(T,f)}),n.source=a,Ee(n))throw n;return n},jt.times=function(t,n){if(t=Pe(t),1>t||t>9007199254740991)return[];var r=4294967295,e=Zu(t,4294967295);for(n=Sr(n),t-=4294967295,e=w(e,n);++r<t;)n(r);return e;
	},jt.toInteger=Pe,jt.toLength=Ze,jt.toLower=function(t){return Ve(t).toLowerCase()},jt.toNumber=qe,jt.toSafeInteger=function(t){return rn(Pe(t),-9007199254740991,9007199254740991)},jt.toString=Ve,jt.toUpper=function(t){return Ve(t).toUpperCase()},jt.trim=function(t,n,r){return(t=Ve(t))?r||n===T?t.replace(at,""):(n+="")?(t=t.match(St),n=n.match(St),Qn(t,E(t,n),I(t,n)+1).join("")):t:t},jt.trimEnd=function(t,n,r){return(t=Ve(t))?r||n===T?t.replace(st,""):(n+="")?(t=t.match(St),n=I(t,n.match(St))+1,Qn(t,0,n).join("")):t:t;
	},jt.trimStart=function(t,n,r){return(t=Ve(t))?r||n===T?t.replace(lt,""):(n+="")?(t=t.match(St),n=E(t,n.match(St)),Qn(t,n).join("")):t:t},jt.truncate=function(t,n){var r=30,e="...";if(We(n))var u="separator"in n?n.separator:u,r="length"in n?Pe(n.length):r,e="omission"in n?Ve(n.omission):e;t=Ve(t);var o=t.length;if(Wt.test(t))var i=t.match(St),o=i.length;if(r>=o)return t;if(o=r-P(e),1>o)return e;if(r=i?Qn(i,0,o).join(""):t.slice(0,o),u===T)return r+e;if(i&&(o+=r.length-o),Me(u)){if(t.slice(o).search(u)){
	var f=r;for(u.global||(u=pu(u.source,Ve(vt.exec(u))+"g")),u.lastIndex=0;i=u.exec(f);)var c=i.index;r=r.slice(0,c===T?o:c)}}else t.indexOf(u,o)!=o&&(u=r.lastIndexOf(u),u>-1&&(r=r.slice(0,u)));return r+e},jt.unescape=function(t){return(t=Ve(t))&&X.test(t)?t.replace(H,Z):t},jt.uniqueId=function(t){var n=++bu;return Ve(t)+n},jt.upperCase=wi,jt.upperFirst=Ai,jt.each=le,jt.eachRight=se,jt.first=ne,fu(jt,function(){var t={};return hn(jt,function(n,r){yu.call(jt.prototype,r)||(t[r]=n)}),t}(),{chain:false}),
	jt.VERSION="4.10.0",u("bind bindKey curry curryRight partial partialRight".split(" "),function(t){jt[t].placeholder=jt}),u(["drop","take"],function(t,n){Et.prototype[t]=function(r){var e=this.__filtered__;if(e&&!n)return new Et(this);r=r===T?1:Pu(Pe(r),0);var u=this.clone();return e?u.__takeCount__=Zu(r,u.__takeCount__):u.__views__.push({size:Zu(r,4294967295),type:t+(0>u.__dir__?"Right":"")}),u},Et.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),u(["filter","map","takeWhile"],function(t,n){
	var r=n+1,e=1==r||3==r;Et.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Sr(t,3),type:r}),n.__filtered__=n.__filtered__||e,n}}),u(["head","last"],function(t,n){var r="take"+(n?"Right":"");Et.prototype[t]=function(){return this[r](1).value()[0]}}),u(["initial","tail"],function(t,n){var r="drop"+(n?"":"Right");Et.prototype[t]=function(){return this.__filtered__?new Et(this):this[r](1)}}),Et.prototype.compact=function(){return this.filter(ou)},Et.prototype.find=function(t){
	return this.filter(t).head()},Et.prototype.findLast=function(t){return this.reverse().find(t)},Et.prototype.invokeMap=xe(function(t,n){return typeof t=="function"?new Et(this):this.map(function(r){return jn(r,t,n)})}),Et.prototype.reject=function(t){return t=Sr(t,3),this.filter(function(n){return!t(n)})},Et.prototype.slice=function(t,n){t=Pe(t);var r=this;return r.__filtered__&&(t>0||0>n)?new Et(r):(0>t?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==T&&(n=Pe(n),r=0>n?r.dropRight(-n):r.take(n-t)),r)},Et.prototype.takeRightWhile=function(t){
	return this.reverse().takeWhile(t).reverse()},Et.prototype.toArray=function(){return this.take(4294967295)},hn(Et.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),e=/^(?:head|last)$/.test(n),u=jt[e?"take"+("last"==n?"Right":""):n],o=e||/^find/.test(n);u&&(jt.prototype[n]=function(){function n(t){return t=u.apply(jt,l([t],f)),e&&h?t[0]:t}var i=this.__wrapped__,f=e?[1]:arguments,c=i instanceof Et,a=f[0],s=c||ni(i);s&&r&&typeof a=="function"&&1!=a.length&&(c=s=false);var h=this.__chain__,p=!!this.__actions__.length,a=o&&!h,c=c&&!p;
	return!o&&s?(i=c?i:new Et(this),i=t.apply(i,f),i.__actions__.push({func:ce,args:[n],thisArg:T}),new kt(i,h)):a&&c?t.apply(this,f):(i=this.thru(n),a?e?i.value()[0]:i.value():i)})}),u("pop push shift sort splice unshift".split(" "),function(t){var n=vu[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",e=/^(?:pop|shift)$/.test(t);jt.prototype[t]=function(){var t=arguments;if(e&&!this.__chain__){var u=this.value();return n.apply(ni(u)?u:[],t)}return this[r](function(r){return n.apply(ni(r)?r:[],t)});
	}}),hn(Et.prototype,function(t,n){var r=jt[n];if(r){var e=r.name+"";(no[e]||(no[e]=[])).push({name:n,func:r})}}),no[dr(T,2).name]=[{name:"wrapper",func:T}],Et.prototype.clone=function(){var t=new Et(this.__wrapped__);return t.__actions__=er(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=er(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=er(this.__views__),t},Et.prototype.reverse=function(){if(this.__filtered__){var t=new Et(this);t.__dir__=-1,
	t.__filtered__=true}else t=this.clone(),t.__dir__*=-1;return t},Et.prototype.value=function(){var t,n=this.__wrapped__.value(),r=this.__dir__,e=ni(n),u=0>r,o=e?n.length:0;t=o;for(var i=this.__views__,f=0,c=-1,a=i.length;++c<a;){var l=i[c],s=l.size;switch(l.type){case"drop":f+=s;break;case"dropRight":t-=s;break;case"take":t=Zu(t,f+s);break;case"takeRight":f=Pu(f,t-s)}}if(t={start:f,end:t},i=t.start,f=t.end,t=f-i,u=u?f:i-1,i=this.__iteratees__,f=i.length,c=0,a=Zu(t,this.__takeCount__),!e||200>o||o==t&&a==t)return Kn(n,this.__actions__);
	e=[];t:for(;t--&&a>c;){for(u+=r,o=-1,l=n[u];++o<f;){var h=i[o],s=h.type,h=(0,h.iteratee)(l);if(2==s)l=h;else if(!h){if(1==s)continue t;break t}}e[c++]=l}return e},jt.prototype.at=Do,jt.prototype.chain=function(){return fe(this)},jt.prototype.commit=function(){return new kt(this.value(),this.__chain__)},jt.prototype.next=function(){this.__values__===T&&(this.__values__=Ne(this.value()));var t=this.__index__>=this.__values__.length,n=t?T:this.__values__[this.__index__++];return{done:t,value:n}},jt.prototype.plant=function(t){
	for(var n,r=this;r instanceof Ot;){var e=Qr(r);e.__index__=0,e.__values__=T,n?u.__wrapped__=e:n=e;var u=e,r=r.__wrapped__}return u.__wrapped__=t,n},jt.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Et?(this.__actions__.length&&(t=new Et(this)),t=t.reverse(),t.__actions__.push({func:ce,args:[ue],thisArg:T}),new kt(t,this.__chain__)):this.thru(ue)},jt.prototype.toJSON=jt.prototype.valueOf=jt.prototype.value=function(){return Kn(this.__wrapped__,this.__actions__)},Wu&&(jt.prototype[Wu]=ae),
	jt}var T,V=1/0,K=NaN,G=/\b__p\+='';/g,J=/\b(__p\+=)''\+/g,Y=/(__e\(.*?\)|\b__t\))\+'';/g,H=/&(?:amp|lt|gt|quot|#39|#96);/g,Q=/[&<>"'`]/g,X=RegExp(H.source),tt=RegExp(Q.source),nt=/<%-([\s\S]+?)%>/g,rt=/<%([\s\S]+?)%>/g,et=/<%=([\s\S]+?)%>/g,ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ot=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ft=/[\\^$.*+?()[\]{}|]/g,ct=RegExp(ft.source),at=/^\s+|\s+$/g,lt=/^\s+/,st=/\s+$/,ht=/[a-zA-Z0-9]+/g,pt=/\\(\\)?/g,_t=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^0x/i,dt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,xt=/^0o[0-7]+$/i,jt=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,wt=/($^)/,At=/['\n\r\u2028\u2029\\]/g,Ot="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",kt="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Ot,Et="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",It=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),St=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Et+Ot,"g"),Rt=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|\\d+",kt].join("|"),"g"),Wt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Bt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ct="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),zt={};
	zt["[object Float32Array]"]=zt["[object Float64Array]"]=zt["[object Int8Array]"]=zt["[object Int16Array]"]=zt["[object Int32Array]"]=zt["[object Uint8Array]"]=zt["[object Uint8ClampedArray]"]=zt["[object Uint16Array]"]=zt["[object Uint32Array]"]=true,zt["[object Arguments]"]=zt["[object Array]"]=zt["[object ArrayBuffer]"]=zt["[object Boolean]"]=zt["[object DataView]"]=zt["[object Date]"]=zt["[object Error]"]=zt["[object Function]"]=zt["[object Map]"]=zt["[object Number]"]=zt["[object Object]"]=zt["[object RegExp]"]=zt["[object Set]"]=zt["[object String]"]=zt["[object WeakMap]"]=false;
	var Ut={};Ut["[object Arguments]"]=Ut["[object Array]"]=Ut["[object ArrayBuffer]"]=Ut["[object DataView]"]=Ut["[object Boolean]"]=Ut["[object Date]"]=Ut["[object Float32Array]"]=Ut["[object Float64Array]"]=Ut["[object Int8Array]"]=Ut["[object Int16Array]"]=Ut["[object Int32Array]"]=Ut["[object Map]"]=Ut["[object Number]"]=Ut["[object Object]"]=Ut["[object RegExp]"]=Ut["[object Set]"]=Ut["[object String]"]=Ut["[object Symbol]"]=Ut["[object Uint8Array]"]=Ut["[object Uint8ClampedArray]"]=Ut["[object Uint16Array]"]=Ut["[object Uint32Array]"]=true,
	Ut["[object Error]"]=Ut["[object Function]"]=Ut["[object WeakMap]"]=false;var Mt={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O",
	"\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},Lt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},$t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Dt={"function":true,object:true},Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"
	},Nt=parseFloat,Pt=parseInt,Zt=Dt[typeof exports]&&exports&&!exports.nodeType?exports:T,qt=Dt[typeof module]&&module&&!module.nodeType?module:T,Tt=qt&&qt.exports===Zt?Zt:T,Vt=S(Dt[typeof self]&&self),Kt=S(Dt[typeof window]&&window),Gt=S(Dt[typeof this]&&this),Jt=S(Zt&&qt&&typeof global=="object"&&global)||Kt!==(Gt&&Gt.window)&&Kt||Vt||Gt||Function("return this")(),Yt=q();(Kt||Vt||{})._=Yt, true? !(__WEBPACK_AMD_DEFINE_RESULT__ = function(){return Yt}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):Zt&&qt?(Tt&&((qt.exports=Yt)._=Yt),
	Zt._=Yt):Jt._=Yt}).call(this);
	
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(8)(module), (function() { return this; }())))

/***/ },
/* 8 */
/***/ function(module, exports) {

	module.exports = function(module) {
		if(!module.webpackPolyfill) {
			module.deprecate = function() {};
			module.paths = [];
			// module.parent = undefined by default
			module.children = [];
			module.webpackPolyfill = 1;
		}
		return module;
	}


/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgM2Y2NDI4MTNhZTI3OThhMDQxZTQiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3JlcXVpcmUuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL2xpYnMvYW5ndWxhci5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL21vZHVsZXMvYXBwLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9kaXJlY3RpdmVzL21vdmllLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9saWJzL3VpLWJvb3RzdHJhcC10cGxzLTEuMy4xLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9saWJzL2xvZGFzaC5taW4uanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7OztBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQixhQUFhLGNBQWMsa0JBQWtCLHFCQUFxQiwyRUFBMkUsUUFBUSxtQkFBbUIsS0FBSyxpQ0FBaUMsMkJBQTJCLGVBQWUsZ0RBQWdELHVGQUF1RixRQUFRLGlCQUFpQixlQUFlLDJCQUEyQjtBQUNuZCxzQ0FBcUMsK0VBQStFLGtCQUFrQixRQUFRLDJIQUEySCxxQkFBcUIsMEJBQTBCLElBQUksZUFBZSxJQUFJLG9DQUFvQyxrREFBa0QsNENBQTRDO0FBQ2pkLG9CQUFtQixpREFBaUQsU0FBUyxtQkFBbUIsb0NBQW9DLFdBQVcsMkJBQTJCLFNBQVMsZUFBZSxxQkFBcUIsUUFBUSxjQUFjLFdBQVcsbUJBQW1CLHFDQUFxQyxJQUFJLEtBQUssV0FBVyxzREFBc0QsSUFBSSxLQUFLLGtCQUFrQjtBQUNyWixnREFBK0MsMkJBQTJCLG1DQUFtQyxTQUFTLGNBQWMscUNBQXFDLGVBQWUscUNBQXFDLGVBQWUsc0JBQXNCLGlCQUFpQiw2QkFBNkIsY0FBYyxlQUFlLFNBQVMsZUFBZSxrQkFBa0IsVUFBVSxlQUFlLHNDQUFzQyxjQUFjLDZCQUE2QixjQUFjO0FBQy9lLFVBQVMsY0FBYyxxQ0FBcUMsZUFBZSw2Q0FBNkMsY0FBYywwQkFBMEIsY0FBYywwQkFBMEIsZUFBZSxtQ0FBbUMsY0FBYyw0QkFBNEIsZUFBZSxxQ0FBcUMsZUFBZSx1QkFBdUIsZUFBZSxpQ0FBaUMsZUFBZSwyQkFBMkIsZUFBZTtBQUN2ZSxxQkFBb0IsZUFBZSxtREFBbUQsZUFBZSxTQUFTLGVBQWUsTUFBTSxRQUFRLFdBQVcsZUFBZSxTQUFTLGVBQWUsMENBQTBDLGlCQUFpQixtQkFBbUIsb0JBQW9CLFNBQVMsaUJBQWlCLGdCQUFnQixvQkFBb0IsU0FBUyxJQUFJLG1CQUFtQixJQUFJLG9CQUFvQixzQ0FBc0M7QUFDM2IsZ0JBQWUsNkNBQTZDLG1DQUFtQyxTQUFTLGNBQWMsa0JBQWtCLG1CQUFtQixzQkFBc0IsaUNBQWlDLGdCQUFnQiw2Q0FBNkMsVUFBVSxVQUFVLGtCQUFrQixjQUFjLG1CQUFtQjtBQUN0ViwwQ0FBeUMsb0NBQW9DLDJDQUEyQyxTQUFTLGtCQUFrQixpSUFBaUksZ0hBQWdILG1EQUFtRCxZQUFZLEVBQUUseUNBQXlDO0FBQzllLE1BQUssTUFBTSwrREFBK0QseUJBQXlCLGtDQUFrQyw2QkFBNkIsRUFBRSxVQUFVLFVBQVUsY0FBYyxZQUFZLGlCQUFpQixTQUFTLFFBQVEsdUJBQXVCLElBQUksY0FBYyw2QkFBNkIscURBQXFELFlBQVksaUJBQWlCLGtCQUFrQiwrQkFBK0IseUJBQXlCLGlCQUFpQjtBQUN2ZSxzQkFBcUIsa0JBQWtCLDJCQUEyQixRQUFRLElBQUksK0JBQStCLFVBQVUsS0FBSyxxREFBcUQsb0RBQW9ELDJEQUEyRCxNQUFNLDJDQUEyQywyQkFBMkIsUUFBUSx1RUFBdUUsU0FBUyxTQUFTLG1CQUFtQjtBQUNoZSxLQUFJLGlCQUFpQixpREFBaUQsdURBQXVELGtFQUFrRSxZQUFZLHdEQUF3RCxpQkFBaUIsUUFBUSwySEFBMkgsU0FBUyxpQkFBaUIsaUJBQWlCLG1CQUFtQiw4QkFBOEIsZUFBZTtBQUNsZ0IsaUJBQWdCLGlCQUFpQixtQkFBbUIsaURBQWlELG9CQUFvQixtQkFBbUIsU0FBUyw0QkFBNEIsVUFBVSxPQUFPLHdCQUF3QiwrQkFBK0IsU0FBUyxlQUFlLGVBQWUsSUFBSSxVQUFVLFVBQVUsa0NBQWtDLElBQUksNEZBQTRGLGVBQWUsRUFBRSxTQUFTLGFBQWEsZUFBZSxJQUFJLDZCQUE2QjtBQUNqaEIsZ0JBQWUsU0FBUyxpQ0FBaUMsVUFBVSx3TEFBd0wsRUFBRSxTQUFTLGVBQWUsU0FBUyxrQkFBa0IscUJBQXFCLDBDQUEwQyw0Q0FBNEMsRUFBRSwrQkFBK0IsZUFBZTtBQUMzYywyQkFBMEIsaUJBQWlCLGtJQUFrSSwrQkFBK0IsaUJBQWlCLG9CQUFvQixRQUFRLElBQUksaURBQWlELFlBQVksaUJBQWlCLGFBQWEsaUJBQWlCLFNBQVMsaUVBQWlFLEVBQUUsaUJBQWlCLFNBQVMsTUFBTTtBQUNyZCx5Q0FBd0MsRUFBRSx5REFBeUQsbUJBQW1CLFdBQVcsRUFBRSxLQUFLLFlBQVksSUFBSSxpQkFBaUIsT0FBTyxpQkFBaUIsZ0NBQWdDLHNDQUFzQyxvQkFBb0IsS0FBSyxRQUFRLGtDQUFrQywwQkFBMEIsR0FBRywyREFBMkQsdUJBQXVCLEdBQUcsZ0JBQWdCLG1CQUFtQjtBQUMvZCx5REFBd0Qsb0JBQW9CLHNCQUFzQixRQUFRLEVBQUUsR0FBRyxTQUFTLHFEQUFxRCx1RUFBdUUsaUNBQWlDLDRCQUE0QiwrQkFBK0IsZ0JBQWdCLFVBQVUsRUFBRSxZQUFZLDREQUE0RCxjQUFjLHNDQUFzQztBQUN4ZSxnQkFBZSwyQkFBMkIsdUJBQXVCLDhCQUE4QixpQkFBaUIsU0FBUyxrQ0FBa0MsK0JBQStCLEVBQUUsY0FBYyxNQUFNLFFBQVEsV0FBVyxxREFBcUQseUhBQXlILDBDQUEwQyxnQkFBZ0IsZUFBZTtBQUMxZCw4Q0FBNkMsS0FBSyxNQUFNLGFBQWEsT0FBTyxtQkFBbUIsNENBQTRDLFNBQVMsbUJBQW1CLDJCQUEyQixpR0FBaUcsU0FBUyxpQkFBaUIsK0NBQStDLG1CQUFtQixlQUFlLGVBQWUsNkJBQTZCLElBQUksMkJBQTJCLHlCQUF5QixlQUFlO0FBQ2pnQiw0QkFBMkIseUJBQXlCLHNEQUFzRCxZQUFZLGFBQWEsMkJBQTJCLGVBQWUsa0JBQWtCLHdCQUF3QiwrQkFBK0Isd0JBQXdCLHlCQUF5QiwrQkFBK0IsU0FBUyx1QkFBdUIsb0RBQW9ELG9DQUFvQyx3QkFBd0Isb0JBQW9CLFNBQVMsa0JBQWtCO0FBQ3JnQiwwQkFBeUIsVUFBVSxnQkFBZ0IscUJBQXFCLDRCQUE0Qix3QkFBd0IsVUFBVSx5QkFBeUIseURBQXlEO0FBQ3hOLG9OQUFtTixVQUFVLGNBQWMsUUFBUSxTQUFTLEdBQUcsRUFBRSxlQUFlLEtBQUs7QUFDclIsMERBQXlELFVBQVUsOERBQThELEVBQUUsU0FBUyw2Q0FBNkMsWUFBWSxpQkFBaUIsRUFBRSxxQ0FBcUM7QUFDN1AscVNBQW9TLGFBQWEsYUFBYSw4QkFBOEIsWUFBWTtBQUN4Vyx5YUFBd2EsRUFBRSxHQUFHLGVBQWUsc0NBQXNDO0FBQ2xlLEdBQUUsc0JBQXNCLGVBQWUsYUFBYSx3QkFBd0IsaUJBQWlCLDBDQUEwQyxlQUFlLDJDQUEyQyx5Q0FBeUMscUJBQXFCLGdEQUFnRCxXQUFXLElBQUksZUFBZSxxQkFBcUIsZUFBZSxpQkFBaUIsaUNBQWlDLGlCQUFpQixlQUFlLGdCQUFnQixpQkFBaUIsRUFBRSxTQUFTO0FBQy9lLElBQUcsbUJBQW1CLHVCQUF1QixpQkFBaUIsY0FBYywyQkFBMkIsTUFBTSxvQkFBb0IseUJBQXlCLHlDQUF5QyxnQkFBZ0IsTUFBTSxJQUFJLE1BQU0scUVBQXFFLFdBQVcsZUFBZSx1QkFBdUIsaUJBQWlCLFNBQVMsdUVBQXVFLElBQUksYUFBYSxxQkFBcUI7QUFDaGUseUNBQXdDLFdBQVcsa0JBQWtCLFdBQVcsa0JBQWtCLGtFQUFrRSwyQkFBMkIsS0FBSyxnQkFBZ0IsRUFBRSwwRUFBMEUsaUJBQWlCLHlCQUF5QixpRUFBaUUsNkNBQTZDLGlCQUFpQix5QkFBeUI7QUFDbGUsVUFBUyxTQUFTLFFBQVEsVUFBVSxFQUFFLFNBQVMsbUJBQW1CLFVBQVUsK0JBQStCLHVCQUF1QixZQUFZLEtBQUssY0FBYyxvQkFBb0IsU0FBUyxpQkFBaUIsOEdBQThHLGlCQUFpQiw4Q0FBOEMsb0hBQW9ILEVBQUU7QUFDbGYsSUFBRyxzQkFBc0IscUVBQXFFLDJCQUEyQixPQUFPLHNDQUFzQyxFQUFFLDhCQUE4QixpQkFBaUIsbUNBQW1DLEtBQUssZUFBZSxzQ0FBc0MsaUJBQWlCLElBQUksdUJBQXVCLHNCQUFzQixpQkFBaUIsa0RBQWtELG1CQUFtQixxQ0FBcUM7QUFDamYsWUFBVyxFQUFFLEVBQUUsdUJBQXVCLElBQUksb0NBQW9DLHlDQUF5QyxlQUFlLGFBQWEsYUFBYSw2QkFBNkIsaUJBQWlCLFNBQVMsbUJBQW1CLG9CQUFvQixpQkFBaUIsT0FBTyxzREFBc0QsdUJBQXVCLGlCQUFpQiwwQkFBMEIsdUJBQXVCLGlCQUFpQixvQkFBb0IsZ0NBQWdDO0FBQzFlLG1DQUFrQyxNQUFNLHFDQUFxQyxpQ0FBaUMsc0NBQXNDLGlDQUFpQyx1Q0FBdUMsY0FBYywyQ0FBMkMsMENBQTBDLGtDQUFrQyxlQUFlLFlBQVksSUFBSSxxREFBcUQsU0FBUyxTQUFTLG1CQUFtQixZQUFZO0FBQ3RlLElBQUcsc0JBQXNCLHNDQUFzQyxjQUFjLHFCQUFxQixZQUFZLHVCQUF1QixpQkFBaUIsZUFBZSx3QkFBd0IsaUJBQWlCLGVBQWUsMkJBQTJCLGlCQUFpQixnQkFBZ0IsR0FBRyxpQkFBaUIscUJBQXFCLHNEQUFzRCxXQUFXLGtGQUFrRixpQkFBaUIsTUFBTSxRQUFRO0FBQ3BmLFlBQVcsV0FBVyxtQkFBbUIsZUFBZSw4QkFBOEIsZ0NBQWdDLGVBQWUseUVBQXlFLGlCQUFpQixjQUFjLHFCQUFxQixtQkFBbUIsb0JBQW9CLGdCQUFnQixnQkFBZ0IsaUNBQWlDLDhCQUE4Qix5QkFBeUIsZ0JBQWdCLGtCQUFrQix1QkFBdUI7QUFDMWQsV0FBVSxrQkFBa0IsWUFBWSxxQkFBcUIsRUFBRSxjQUFjLDhDQUE4QyxXQUFXLGdCQUFnQixjQUFjLFFBQVEsSUFBSSxlQUFlLElBQUksS0FBSyx5QkFBeUIsdUJBQXVCLGNBQWMsWUFBWSxJQUFJLG9LQUFvSyxTQUFTO0FBQ25jLHNHQUFxRyxFQUFFLFNBQVMsZ0JBQWdCLGdCQUFnQix3QkFBd0IscURBQXFELFlBQVksSUFBSSx1Q0FBdUMsU0FBUywrQkFBK0IsUUFBUSxXQUFXLGtCQUFrQixTQUFTLHVCQUF1Qix1QkFBdUIsSUFBSSxLQUFLLFdBQVcsMENBQTBDO0FBQ3RkLFNBQVEsU0FBUyxPQUFPLHlCQUF5QixrQ0FBa0MsV0FBVyx3QkFBd0IsMEdBQTBHLGlGQUFpRiw2QkFBNkIsMkJBQTJCLFdBQVcsZ0JBQWdCLGdEQUFnRCw4Q0FBOEM7QUFDbGUsb0NBQW1DLFNBQVMsUUFBUSx5QkFBeUIsVUFBVSxtREFBbUQsb0NBQW9DLHdCQUF3QixHQUFHLHdCQUF3QixxQkFBcUIsMkJBQTJCLGlCQUFpQixPQUFPLE9BQU8sMEJBQTBCLG1DQUFtQyxrQkFBa0Isb0JBQW9CLHdCQUF3QixZQUFZLEtBQUssaUNBQWlDO0FBQzdkLGtDQUFpQyxNQUFNLHFCQUFxQiw0QkFBNEIsOEJBQThCLE1BQU0scUJBQXFCLFlBQVksZ0NBQWdDLGFBQWEsZ0JBQWdCLGVBQWUsRUFBRSxTQUFTLGNBQWMsU0FBUyxxQ0FBcUMsTUFBTSw4REFBOEQsY0FBYyxXQUFXLHdDQUF3Qyw2QkFBNkIsRUFBRSxTQUFTLGNBQWMsTUFBTTtBQUNqZixPQUFNLFlBQVksb0hBQW9ILHVEQUF1RCxxQkFBcUIsY0FBYyxrQkFBa0IsTUFBTSw2RkFBNkYsaUJBQWlCLHVCQUF1QixnQkFBZ0IsZUFBZSw2QkFBNkIsZ0JBQWdCLEVBQUUsRUFBRSxTQUFTLEVBQUUsaUJBQWlCO0FBQ3plLGdCQUFlLGVBQWUsc0JBQXNCLHNCQUFzQixlQUFlLGVBQWUsdUJBQXVCLFVBQVUsZ0JBQWdCLG9CQUFvQixFQUFFLFNBQVMsZUFBZSxpQkFBaUIscUJBQXFCLGNBQWMsSUFBSSxtQ0FBbUMsUUFBUSxrQkFBa0IsU0FBUyxLQUFLLFVBQVUsU0FBUyxhQUFhLGFBQWEsT0FBTyxJQUFJLElBQUksYUFBYSxHQUFHLElBQUksVUFBVSxRQUFRLFVBQVUsU0FBUyxjQUFjLGVBQWUsSUFBSSxhQUFhO0FBQzdlLHFDQUFvQyxhQUFhLEVBQUUseUVBQXlFLFlBQVksYUFBYSxpQ0FBaUMsMENBQTBDLEtBQUssOENBQThDLHFCQUFxQix5Q0FBeUMsSUFBSSxJQUFJLHNCQUFzQixlQUFlLCtCQUErQiw2QkFBNkIsTUFBTSxZQUFZLG1DQUFtQztBQUMvZSxrQkFBaUIsSUFBSSxJQUFJLHFCQUFxQixhQUFhLGtGQUFrRixrQkFBa0IscURBQXFELFNBQVMsc0NBQXNDLG1CQUFtQixVQUFVLHFCQUFxQiwwQkFBMEIsT0FBTyxtQ0FBbUMsd0JBQXdCLEtBQUssVUFBVSxVQUFVLG9DQUFvQyxtQ0FBbUM7QUFDamYsR0FBRSxzQkFBc0IscUJBQXFCLG9EQUFvRCxzQkFBc0IsTUFBTSxJQUFJLGVBQWUsWUFBWSxLQUFLLE9BQU8sUUFBUSxVQUFVLDJCQUEyQiwyQ0FBMkMsY0FBYyxxRUFBcUUsdUJBQXVCLEVBQUUsY0FBYyxxQkFBcUIsZ0JBQWdCLGNBQWMsMkRBQTJEO0FBQ3hlLElBQUcsOEJBQThCLDRDQUE0QyxjQUFjLElBQUksS0FBSyw4REFBOEQsYUFBYSxrQkFBa0IsVUFBVSx1QkFBdUIsbUJBQW1CLE1BQU0sRUFBRSxLQUFLLFlBQVksT0FBTyx3QkFBd0IsVUFBVSxpQkFBaUIsdUJBQXVCLFdBQVcsYUFBYSxLQUFLLFlBQVksb0JBQW9CLHVCQUF1QixXQUFXLGFBQWEsY0FBYyxjQUFjLFdBQVcsWUFBWTtBQUM5ZixzQkFBcUIsc0JBQXNCLE1BQU0sSUFBSSxNQUFNLFNBQVMsb0JBQW9CLFdBQVcsWUFBWSxpQkFBaUIsV0FBVyxJQUFJLE9BQU8sSUFBSSxTQUFTLGtCQUFrQixTQUFTLGtCQUFrQixjQUFjLEVBQUUsVUFBVSxrQkFBa0IsYUFBYSxVQUFVLGNBQWMsdUNBQXVDLHNCQUFzQixFQUFFLGlCQUFpQixrQkFBa0IsaURBQWlELGtCQUFrQixvQkFBb0IsS0FBSyxpQkFBaUI7QUFDaGYsc0VBQXFFLE1BQU0seUVBQXlFLG1CQUFtQixFQUFFLFNBQVMsY0FBYyxrQkFBa0IscUNBQXFDLHNDQUFzQyxRQUFRLCtEQUErRCxNQUFNLHdHQUF3RywrQkFBK0I7QUFDamYsY0FBYSx5SUFBeUksU0FBUyxxQkFBcUIsSUFBSSxrQkFBa0IsUUFBUSxjQUFjLDRDQUE0Qyx5QkFBeUIsVUFBVSxpQkFBaUIsMENBQTBDLDRCQUE0Qiw4QkFBOEIsVUFBVSxTQUFTLE1BQU0sRUFBRSxTQUFTLDZCQUE2QixhQUFhO0FBQ2xmLGVBQWMsY0FBYyxjQUFjLGdDQUFnQyx3QkFBd0Isb0JBQW9CLEVBQUUsR0FBRyw4Q0FBOEMsT0FBTywrSUFBK0ksZ0NBQWdDLGlDQUFpQyxzQkFBc0Isa0JBQWtCLG1DQUFtQyxFQUFFLHdCQUF3QjtBQUNyZSxLQUFJLDRDQUE0QyxtRkFBbUYsNkNBQTZDLHFGQUFxRixTQUFTLGtDQUFrQywwQkFBMEI7QUFDMVUsTUFBSyxnQkFBZ0IsTUFBTSwyQkFBMkIsSUFBSSxlQUFlLElBQUksd0JBQXdCLG1CQUFtQixpQkFBaUIsa0JBQWtCLDRCQUE0QiwyQkFBMkIsV0FBVywwQkFBMEIsVUFBVSw2QkFBNkIsZ0JBQWdCLElBQUksY0FBYyxXQUFXLHNCQUFzQix5QkFBeUIsK0JBQStCLElBQUksS0FBSyxXQUFXLDBFQUEwRTtBQUN2ZixnQkFBZSxxQkFBcUIsV0FBVyx1QkFBdUIsY0FBYyx5Q0FBeUMsUUFBUSwwREFBMEQsd0JBQXdCLGdEQUFnRCx3RkFBd0YsdUVBQXVFLDZEQUE2RDtBQUNuZSxJQUFHLFVBQVUsY0FBYyxVQUFVLHdCQUF3QixvQkFBb0Isa0JBQWtCLCtCQUErQixXQUFXLHNCQUFzQixTQUFTLElBQUksZUFBZSxJQUFJLDZOQUE2TiwyQkFBMkIsV0FBVyxLQUFLLFFBQVEsNEJBQTRCO0FBQy9lLDZFQUE0RSxtSUFBbUksa0NBQWtDLE9BQU8sZ0JBQWdCLG1CQUFtQixzQkFBc0IsdUNBQXVDLGNBQWMsd0VBQXdFLEVBQUUsc0JBQXNCO0FBQ3RjLFNBQVEsU0FBUyx1QkFBdUIsZ0JBQWdCLG1CQUFtQiw4QkFBOEIsK0NBQStDLElBQUksS0FBSyxjQUFjLE9BQU8sU0FBUyxhQUFhLFFBQVEsMkVBQTJFLHVCQUF1QixFQUFFLHlGQUF5RixzQkFBc0IsT0FBTyxxREFBcUQsY0FBYztBQUNqZixnQkFBZSxjQUFjLG9CQUFvQixxQkFBcUIsWUFBWSwyRUFBMkUsTUFBTSx3QkFBd0IseURBQXlELDhFQUE4RSxrQkFBa0IsTUFBTSxXQUFXLG1FQUFtRSxXQUFXLFVBQVUsU0FBUyxrQkFBa0IsYUFBYTtBQUNyZSxvQkFBbUIsR0FBRyw4QkFBOEIsK0RBQStELFVBQVUsZ0JBQWdCLFdBQVcsZUFBZSxZQUFZLGtCQUFrQiwyQkFBMkIsY0FBYyxxQkFBcUIseUJBQXlCLE1BQU0saUNBQWlDLCtCQUErQixnQ0FBZ0MsOEJBQThCLG9CQUFvQixNQUFNLGdCQUFnQixvQkFBb0Isa0JBQWtCO0FBQ2hmLDZCQUE0QixnQkFBZ0IsRUFBRSxVQUFVLE1BQU0sZ0JBQWdCLG9CQUFvQixrQkFBa0IsbUNBQW1DLGdCQUFnQixFQUFFLFdBQVcsc0JBQXNCLG9CQUFvQixNQUFNLHlCQUF5QixTQUFTLHNCQUFzQixNQUFNLG1CQUFtQiwwQkFBMEIsb0NBQW9DLDBCQUEwQixvQkFBb0IsZ0RBQWdELElBQUk7QUFDcmQsMERBQXlELHFCQUFxQixFQUFFLHlCQUF5QixnTUFBZ00sWUFBWSxPQUFPLDRDQUE0Qyw4Q0FBOEMsWUFBWTtBQUNsYSxxQkFBb0Isa0JBQWtCLGdCQUFnQiw4REFBOEQsRUFBRSxnQkFBZ0IsNENBQTRDLEVBQUUsSUFBSSxlQUFlLElBQUksdUZBQXVGLFNBQVMsOENBQThDLDBCQUEwQixpQkFBaUIsS0FBSyx1RkFBdUYsUUFBUTtBQUN4ZSwwT0FBeU8sS0FBSyxLQUFLLE9BQU8sMkJBQTJCLGlCQUFpQixLQUFLLHNCQUFzQixpSEFBaUgsU0FBUztBQUMzYixZQUFXLFVBQVUsVUFBVSx5RUFBeUUsS0FBSyxNQUFNLE1BQU0saUdBQWlHLHVNQUF1TSw0QkFBNEIsRUFBRSxLQUFLLFVBQVUsdUJBQXVCLFNBQVMsTUFBTTtBQUNwZixZQUFXLGtCQUFrQix3QkFBd0IscUJBQXFCLFFBQVEsVUFBVSxRQUFRLEVBQUUsMkJBQTJCLG9CQUFvQixtREFBbUQsRUFBRSxtQkFBbUIsNkJBQTZCLEVBQUUsNkNBQTZDLFVBQVUsaUJBQWlCLDZDQUE2QyxFQUFFLFlBQVksNkdBQTZHLElBQUk7QUFDaGYscUNBQW9DLFFBQVEsdURBQXVELFVBQVUsSUFBSSxVQUFVLGNBQWMsb0NBQW9DLGtCQUFrQix5QkFBeUIsUUFBUSxZQUFZLGVBQWUsMkdBQTJHLDZIQUE2SCxjQUFjLHNCQUFzQjtBQUN2Z0IsOERBQTZELFVBQVUsWUFBWSxxREFBcUQsd0JBQXdCLDRCQUE0QiwwQkFBMEIsZUFBZSxrQ0FBa0MsU0FBUyxxQkFBcUIsTUFBTSxTQUFTLGlCQUFpQiwyQkFBMkIsOEJBQThCLGdEQUFnRCxPQUFPLHlCQUF5QixpQ0FBaUM7QUFDL2UsMkJBQTBCLHFDQUFxQyxJQUFJLHdCQUF3QixnQkFBZ0IsbUJBQW1CLGlCQUFpQixHQUFHLGVBQWUsMkJBQTJCLFlBQVksWUFBWSxjQUFjLHFFQUFxRSxnQkFBZ0Isc0JBQXNCLDJCQUEyQixZQUFZLDJDQUEyQyxTQUFTLG1CQUFtQix1QkFBdUIsSUFBSSxrQkFBa0I7QUFDeGUsY0FBYSxFQUFFLDBCQUEwQixxQkFBcUIsT0FBTyx3QkFBd0IsTUFBTSx1QkFBdUIsdUJBQXVCLElBQUksUUFBUSwyREFBMkQsWUFBWSxrQkFBa0IsR0FBRyxrQkFBa0Isd0JBQXdCLHlDQUF5QywwRkFBMEYsa0NBQWtDO0FBQ3hjLFFBQU8sMEJBQTBCLG9DQUFvQywyQkFBMkIsbUNBQW1DLHFCQUFxQix3REFBd0QsVUFBVSxLQUFLLFNBQVMsTUFBTSxTQUFTLGVBQWUscUVBQXFFLElBQUksc0NBQXNDLFNBQVMsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdGMsS0FBSSxrQ0FBa0MsRUFBRSxrQkFBa0IsNkdBQTZHLGdDQUFnQyxtRUFBbUUsRUFBRSw0QkFBNEIsd0NBQXdDLG9FQUFvRSw0RUFBNEUsVUFBVSxzQkFBc0I7QUFDaGdCLEdBQUUsUUFBUSxjQUFjLCtCQUErQixPQUFPLDBEQUEwRCxHQUFHLFVBQVUsVUFBVSxpQkFBaUIscUJBQXFCLGNBQWMsT0FBTyxtQkFBbUIsYUFBYSx1QkFBdUIsa0JBQWtCLGtCQUFrQixFQUFFLDJCQUEyQixTQUFTLEVBQUUsWUFBWSxZQUFZLG1DQUFtQyxtQkFBbUIsVUFBVSxrQkFBa0Isc0RBQXNEO0FBQzdlLElBQUcsVUFBVSxtREFBbUQsY0FBYyxPQUFPLEVBQUUsMkJBQTJCLElBQUksdUdBQXVHLGdCQUFnQiw0QkFBNEIsa0VBQWtFLHFCQUFxQixjQUFjLCtCQUErQixxRkFBcUYsaUJBQWlCO0FBQ25mLFNBQVEsV0FBVywrQkFBK0IsYUFBYSxpQkFBaUIsMEJBQTBCLHFCQUFxQixpQkFBaUIsMEJBQTBCLG9DQUFvQyx1QkFBdUIsaUJBQWlCLElBQUksRUFBRSxpQkFBaUIsZUFBZSxVQUFVLG9EQUFvRCxtQ0FBbUMsa0NBQWtDLGtCQUFrQixnQkFBZ0IsNkJBQTZCLFlBQVk7QUFDMWUsbUZBQWtGLHVCQUF1QixhQUFhLFVBQVUsa0JBQWtCLE1BQU0sK0RBQStELFFBQVEsZ0NBQWdDLE9BQU8sb0JBQW9CLHFDQUFxQyxxQ0FBcUMsV0FBVyw4QkFBOEI7QUFDN1ksSUFBRyxrREFBa0QsTUFBTSxHQUFHLG1CQUFtQix5Q0FBeUMsd0JBQXdCLElBQUksZ0JBQWdCLFNBQVMsUUFBUSxtQkFBbUIsSUFBSSxrQ0FBa0MsY0FBYyw2QkFBNkIsTUFBTSx1QkFBdUIsNkJBQTZCLFFBQVEsSUFBSSx3QkFBd0IseURBQXlELHFDQUFxQyxRQUFRLElBQUksZ0JBQWdCO0FBQ25mLEdBQUUsV0FBVyxpQkFBaUIsb0JBQW9CLCtCQUErQixNQUFNLHlCQUF5QixJQUFJLGFBQWEsU0FBUyxZQUFZLHVCQUF1QixTQUFTLGtCQUFrQixzQ0FBc0MsZUFBZSw2Q0FBNkMseUJBQXlCLGVBQWUsRUFBRSwyQkFBMkIsT0FBTyxrQ0FBa0MsTUFBTSwyQkFBMkIsV0FBVyxZQUFZLGtCQUFrQixVQUFVO0FBQzVlLGtCQUFpQiw0QkFBNEIsdUJBQXVCLFlBQVksc0NBQXNDLFlBQVksY0FBYyx1Q0FBdUMsWUFBWSxlQUFlLDZFQUE2RSxVQUFVLE1BQU0sMkJBQTJCLFdBQVcsWUFBWSxrQkFBa0IsVUFBVSxVQUFVLHlCQUF5QixPQUFPLFlBQVksVUFBVSxNQUFNLHlDQUF5QztBQUM1ZSxTQUFRLGlCQUFpQixnQkFBZ0IsRUFBRSw0QkFBNEIsdUJBQXVCLElBQUksWUFBWSx1Q0FBdUMsYUFBYSxvQ0FBb0MsNENBQTRDLDBCQUEwQiwrQ0FBK0MsNEJBQTRCLGNBQWMsMENBQTBDLHVEQUF1RCx3QkFBd0I7QUFDOWQsZ0JBQWUsb0RBQW9ELFVBQVUsaUVBQWlFLHFCQUFxQix5RkFBeUYsaUNBQWlDLDZIQUE2SCxJQUFJLG9EQUFvRCx3QkFBd0I7QUFDMWUsS0FBSSwrQkFBK0IsWUFBWSxtSEFBbUgseUNBQXlDLElBQUksS0FBSyxTQUFTLE1BQU0sRUFBRSx3QkFBd0Isa0VBQWtFLFVBQVUsd0JBQXdCLGtEQUFrRCxFQUFFLGtCQUFrQixXQUFXLDhDQUE4QyxVQUFVLHFCQUFxQixvQkFBb0IsRUFBRTtBQUNyaEIsZ0JBQWUsT0FBTyxvQ0FBb0MsbUNBQW1DLDZCQUE2Qiw2QkFBNkIscUJBQXFCLEdBQUcsa0NBQWtDLGtCQUFrQixHQUFHLHFDQUFxQyxpRUFBaUUsR0FBRyxrQ0FBa0MscUNBQXFDLEdBQUcsZ0NBQWdDLFNBQVMsb0NBQW9DO0FBQ3RlLFVBQVMsRUFBRSxlQUFlLDRCQUE0QixpQkFBaUIsK0NBQStDLE9BQU8sV0FBVyxLQUFLLG1CQUFtQixXQUFXLDBCQUEwQix5QkFBeUIsU0FBUyxlQUFlLE9BQU8sZUFBZSxpQkFBaUIsS0FBSyxJQUFJLG1DQUFtQyxTQUFTLGlCQUFpQixvQkFBb0IsU0FBUyxpQkFBaUIsa0JBQWtCLGNBQWMsUUFBUSxNQUFNLHFCQUFxQiw0QkFBNEI7QUFDaGYsZUFBYyxtQkFBbUIsb0JBQW9CLDZCQUE2QixNQUFNLCtDQUErQyxvQkFBb0Isd0RBQXdELGNBQWMseUJBQXlCLFVBQVUsU0FBUyxlQUFlLFNBQVMsY0FBYyw0QkFBNEIsT0FBTyxVQUFVLCtEQUErRCxXQUFXO0FBQzFhLGlDQUFnQyx3QkFBd0IsaURBQWlELFNBQVMsRUFBRSx3QkFBd0IsRUFBRSx1QkFBdUIsc0JBQXNCLFVBQVUsRUFBRSxjQUFjLGlDQUFpQyxxQkFBcUIsRUFBRSxjQUFjLDhCQUE4QixxQkFBcUIsNEJBQTRCLEVBQUUsZUFBZSwwQ0FBMEMsY0FBYyxxQkFBcUIsbUJBQW1CLGVBQWUsU0FBUztBQUNuZixlQUFjLHNDQUFzQyw0QkFBNEIsK0JBQStCLEVBQUUscUJBQXFCLGNBQWMscUJBQXFCLG1CQUFtQixrQkFBa0Isd0NBQXdDLDJCQUEyQixrQ0FBa0MsK0JBQStCLCtCQUErQixlQUFlLFNBQVMsV0FBVyxxQkFBcUIsaUJBQWlCLFNBQVMsOEJBQThCLE1BQU07QUFDdmUsaUVBQWdFLGNBQWMsU0FBUyxlQUFlLFlBQVksaUNBQWlDLGlCQUFpQiwwQkFBMEIsbUJBQW1CLDZCQUE2QiwwQkFBMEIsa0JBQWtCLDZCQUE2QixFQUFFLFNBQVMsZUFBZSxNQUFNLG1CQUFtQixhQUFhLCtDQUErQyxxQkFBcUIsd0JBQXdCLGdCQUFnQixXQUFXLEVBQUU7QUFDaGYsZUFBYyxxQkFBcUIscURBQXFELGtIQUFrSCxXQUFXLFFBQVEsMkNBQTJDLHFDQUFxQyxrR0FBa0csTUFBTSwrQkFBK0IsNEJBQTRCLFNBQVM7QUFDemQsYUFBWSw0QkFBNEIsMkJBQTJCLCtHQUErRyxjQUFjLGNBQWMsVUFBVSxJQUFJLHlEQUF5RCxXQUFXLG1DQUFtQyxnQkFBZ0IsV0FBVyxrQkFBa0IsdUNBQXVDLEVBQUUsU0FBUyxzQ0FBc0M7QUFDeGMsVUFBUyx5SEFBeUgsSUFBSSxzQkFBc0Isc0JBQXNCLHdCQUF3QiwwQkFBMEIsY0FBYyxPQUFPLGtDQUFrQyxVQUFVLGtCQUFrQixJQUFJLHNCQUFzQixrRkFBa0YsbUJBQW1CLHdEQUF3RDtBQUM5ZSxlQUFjLG1DQUFtQyxFQUFFLG1GQUFtRix3QkFBd0IsZ0JBQWdCLG9CQUFvQixpRUFBaUUsa0VBQWtFLEVBQUUsU0FBUyxFQUFFLFlBQVksOEJBQThCLHlCQUF5QixXQUFXLG1CQUFtQiwrQkFBK0IsRUFBRSxTQUFTLHFCQUFxQjtBQUNsZixPQUFNLHdCQUF3QiwrQkFBK0IsRUFBRSxTQUFTLGdEQUFnRCxTQUFTLGdCQUFnQixvQkFBb0IsYUFBYSxXQUFXLHNEQUFzRCwrQ0FBK0Msb0JBQW9CLFlBQVksb0NBQW9DLG9EQUFvRCxFQUFFLGNBQWMsZ0RBQWdELGFBQWE7QUFDdmUsdUNBQXNDLG1GQUFtRiwwQkFBMEIsWUFBWSxvSEFBb0gsdUZBQXVGLG1CQUFtQjtBQUM3WCxrREFBaUQsU0FBUyxnQkFBZ0IsZ0RBQWdELFNBQVMsaUJBQWlCLGtGQUFrRixTQUFTLGdCQUFnQixxQ0FBcUMsRUFBRSxxQkFBcUIsYUFBYSx3QkFBd0IsbUJBQW1CLGFBQWEsTUFBTSxFQUFFLGVBQWUsSUFBSSxFQUFFLGlDQUFpQyxhQUFhLHdCQUF3QjtBQUNuZSxJQUFHLGFBQWEsTUFBTSxFQUFFLHNCQUFzQixJQUFJLEVBQUUsd0JBQXdCLGFBQWEsU0FBUyxFQUFFLGNBQWMscUJBQXFCLGtCQUFrQiw4QkFBOEIsY0FBYyw0RUFBNEUsZ0RBQWdELEVBQUUsdUJBQXVCLGtCQUFrQix1Q0FBdUMseUJBQXlCLFFBQVEsV0FBVyxjQUFjLG1DQUFtQztBQUNoZixPQUFNLHNCQUFzQixPQUFPLHFCQUFxQixzQ0FBc0MsYUFBYSx1Q0FBdUMsV0FBVyxnQ0FBZ0MsaUNBQWlDLHNCQUFzQixTQUFTLGlDQUFpQyxhQUFhLE9BQU8sYUFBYSxzQkFBc0Isa0JBQWtCLFNBQVMsV0FBVyxrQ0FBa0MsaUNBQWlDLGFBQWEsa0JBQWtCO0FBQzdkLGtCQUFpQixZQUFZLGdCQUFnQiwwRUFBMEUsc0JBQXNCLE9BQU8sRUFBRSxLQUFLLGFBQWEsZUFBZSxrQkFBa0IsOEJBQThCLEVBQUUsb0JBQW9CLGlHQUFpRyw4Q0FBOEMsc0NBQXNDLGFBQWEsc0JBQXNCLFlBQVksWUFBWTtBQUM3ZSxLQUFJLFNBQVMsaUJBQWlCLFNBQVMsdUJBQXVCLG9CQUFvQixvQkFBb0IsOEJBQThCLGNBQWMsU0FBUyxPQUFPLEVBQUUsNkJBQTZCLHVCQUF1QiwyQkFBMkIsdUJBQXVCLCtEQUErRCxjQUFjLGlCQUFpQixjQUFjLG1DQUFtQyxvQkFBb0IsTUFBTSw4QkFBOEIsSUFBSSxZQUFZLE1BQU07QUFDdmUsTUFBSyxjQUFjLElBQUksUUFBUSxtQ0FBbUMsTUFBTSxnQkFBZ0IscUJBQXFCLEtBQUssaUJBQWlCLG9CQUFvQixxQkFBcUIsTUFBTSxnQkFBZ0IsSUFBSSxTQUFTLFNBQVMsbUJBQW1CLGlDQUFpQyxNQUFNLGlFQUFpRSxTQUFTLE1BQU0sc0JBQXNCLFdBQVcsa0JBQWtCLElBQUk7QUFDelosaUVBQWdFLEtBQUssaUNBQWlDLE1BQU0sbUNBQW1DLGlCQUFpQixrQkFBa0IsdUJBQXVCLElBQUksS0FBSyxxQkFBcUIsYUFBYSxtQkFBbUIscUJBQXFCLDhCQUE4QixJQUFJLEtBQUssSUFBSSxpQkFBaUIsWUFBWSxTQUFTLG1CQUFtQixFQUFFLGtEQUFrRCxNQUFNLHFDQUFxQyxXQUFXO0FBQzFlLGdCQUFlLElBQUksR0FBRyxHQUFHLGtHQUFrRyx5QkFBeUIsVUFBVSx1QkFBdUIsVUFBVSxTQUFTLEVBQUUsY0FBYyw0RUFBNEUsb0JBQW9CLGFBQWEsdUJBQXVCLG9JQUFvSSxXQUFXO0FBQzNlLGNBQWEsNkJBQTZCLGNBQWMscUVBQXFFLGNBQWMsSUFBSSxvQkFBb0IsU0FBUyxTQUFTLHFCQUFxQixxSUFBcUksU0FBUyxFQUFFLGVBQWUsZUFBZSxtQkFBbUIsSUFBSSxlQUFlLG1CQUFtQixpQkFBaUIsWUFBWSx3QkFBd0I7QUFDdGUsMkNBQTBDLGlCQUFpQix3QkFBd0IsYUFBYSxZQUFZLDhGQUE4Rix3QkFBd0Isb0NBQW9DLDJEQUEyRCxpQkFBaUIsOENBQThDLGVBQWUscUJBQXFCLDRCQUE0QixlQUFlLGtDQUFrQztBQUNqZixNQUFLLGdCQUFnQixRQUFRLFdBQVcseUJBQXlCLGNBQWMsa0NBQWtDLFdBQVcsK0JBQStCLGtCQUFrQiwwQkFBMEIsNkRBQTZELDBDQUEwQyxzQ0FBc0Msa0NBQWtDLGlEQUFpRCxRQUFRO0FBQy9hLHFCQUFvQixtQkFBbUIsV0FBVyxtQkFBbUIsV0FBVyx5QkFBeUIseUJBQXlCLG1HQUFtRyxXQUFXLGNBQWMsNEJBQTRCLHNDQUFzQyxvQ0FBb0MsY0FBYyxrQkFBa0IsMEJBQTBCLDZEQUE2RDtBQUMzZCxnQkFBZSw4Q0FBOEMsa0NBQWtDLDZDQUE2QyxtQkFBbUIsZ0JBQWdCLHlCQUF5QixrQ0FBa0MsaURBQWlELFFBQVEsa0RBQWtELG1CQUFtQixXQUFXLDBCQUEwQiw2REFBNkQsMENBQTBDO0FBQ3BmLGlCQUFnQixlQUFlLGtCQUFrQixnQkFBZ0IsaUJBQWlCLG1CQUFtQix1QkFBdUIsYUFBYSxpQkFBaUIsYUFBYSxjQUFjLFlBQVksMkNBQTJDLDRCQUE0QiwwQkFBMEIsMkJBQTJCO0FBQzdULDRGQUEyRixrQkFBa0IsMEJBQTBCLElBQUksaUNBQWlDLFNBQVMsK0JBQStCLGdCQUFnQixnRUFBZ0UsUUFBUSxlQUFlLGdCQUFnQixjQUFjLHdDQUF3QywyREFBMkQsa0JBQWtCLGtCQUFrQjtBQUNoZSxJQUFHLG1CQUFtQixzQkFBc0Isb0JBQW9CLGtDQUFrQyx5QkFBeUIsaUZBQWlGLHNCQUFzQixlQUFlLDJDQUEyQyw0REFBNEQsMEVBQTBFO0FBQ2xhLDhFQUE2RSxFQUFFLDRDQUE0QyxTQUFTLDRCQUE0QixzREFBc0QsK0JBQStCLFFBQVEsYUFBYSxZQUFZLGdFQUFnRSx1RUFBdUUsMEJBQTBCLEVBQUUsb0JBQW9CO0FBQzdjLDREQUEyRCxxQ0FBcUMseUZBQXlGLCtGQUErRixFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsY0FBYyxnQkFBZ0IsOEJBQThCLDBCQUEwQixpQ0FBaUMsY0FBYztBQUMzYixrR0FBaUcsU0FBUyxjQUFjLG1CQUFtQixrQkFBa0IsS0FBSyxJQUFJLFlBQVksVUFBVSxvQkFBb0IsU0FBUyx3QkFBd0IsYUFBYSxFQUFFLG9CQUFvQixlQUFlLG1CQUFtQixPQUFPLDZFQUE2RSxpQkFBaUIsa0JBQWtCLHlCQUF5QixJQUFJLEVBQUUsaUJBQWlCO0FBQzdkLGlIQUFnSCxTQUFTLGVBQWUsWUFBWSxpQkFBaUIsTUFBTSx5Q0FBeUMsd0NBQXdDLHlFQUF5RSxvQ0FBb0MsU0FBUyxpQkFBaUIsTUFBTSx5Q0FBeUMsZ0RBQWdELGlCQUFpQjtBQUNuZix1RUFBc0UsaUZBQWlGLGlCQUFpQixpQ0FBaUMsaUJBQWlCLDREQUE0RCxnQkFBZ0IsUUFBUSxlQUFlLG9CQUFvQixxQkFBcUIsa0JBQWtCLDJCQUEyQixFQUFFLGFBQWEsTUFBTSw2QkFBNkIsYUFBYSxNQUFNO0FBQ3hkLElBQUcsK0JBQStCLDZCQUE2QixNQUFNLG9DQUFvQyxhQUFhLDZDQUE2QyxpREFBaUQsTUFBTSxxQ0FBcUMsYUFBYSw2Q0FBNkMsNEJBQTRCLE1BQU0seUNBQXlDLGlCQUFpQixrQkFBa0Isd0VBQXdFO0FBQy9lLG1CQUFrQixNQUFNLGdDQUFnQyxjQUFjLE1BQU0sc0NBQXNDLDRCQUE0QixpRUFBaUUsY0FBYyxNQUFNLGdFQUFnRSxLQUFLLDBCQUEwQixPQUFPLGdCQUFnQixzQ0FBc0MsRUFBRSxhQUFhLHNEQUFzRCxNQUFNLHdDQUF3QztBQUNsZixJQUFHLDZDQUE2QyxjQUFjLE1BQU0sNEJBQTRCLEtBQUsseUJBQXlCLE9BQU8sZ0JBQWdCLHNDQUFzQyxFQUFFLGFBQWEsWUFBWSxNQUFNLDZCQUE2QixLQUFLLDJCQUEyQixhQUFhLHNCQUFzQixrREFBa0QsRUFBRSxhQUFhLFlBQVksTUFBTSxvQ0FBb0MsYUFBYSxNQUFNO0FBQ3RjLEtBQUksZUFBZSxnQkFBZ0Isa0JBQWtCLGdCQUFnQixvQ0FBb0MsZUFBZSwwREFBMEQsZUFBZSxzREFBc0QsNkRBQTZELHdCQUF3QixlQUFlLGVBQWU7QUFDMVcscUJBQW9CLGlCQUFpQixrQkFBa0IsZUFBZSxpQkFBaUIsa0JBQWtCLGVBQWUsZUFBZSx1QkFBdUIsZUFBZSwyQ0FBMkMsY0FBYyxtQkFBbUIsOENBQThDLDhCQUE4QixRQUFRLGlDQUFpQyxrQkFBa0IsVUFBVSxPQUFPLGlCQUFpQiwyQkFBMkIsWUFBWSxPQUFPLE9BQU87QUFDdmQseUJBQXdCLFFBQVEsZ0JBQWdCLDJCQUEyQixpR0FBaUcsWUFBWSxPQUFPLGNBQWMsOEJBQThCLHVCQUF1QixjQUFjLG9CQUFvQixRQUFRLEtBQUssSUFBSSxrQkFBa0IsUUFBUSxLQUFLLGVBQWUsb0NBQW9DLHFCQUFxQixzQkFBc0Isb0JBQW9CLFlBQVksNEJBQTRCO0FBQzllLGdCQUFlLGtCQUFrQixTQUFTLGdCQUFnQix3R0FBd0csc0JBQXNCLGlCQUFpQixpQkFBaUIsZUFBZSw0QkFBNEIsV0FBVyxvQ0FBb0MsU0FBUyxRQUFRLGlDQUFpQyxJQUFJLHFCQUFxQiw0QkFBNEIsNEJBQTRCLElBQUksS0FBSyxjQUFjLDBDQUEwQztBQUN4ZixnQkFBZSxTQUFTLFFBQVEsb0JBQW9CLFFBQVEsOEJBQThCLFlBQVksaUJBQWlCLElBQUksOEJBQThCLGdDQUFnQyxVQUFVLEVBQUUsSUFBSSxvQkFBb0IsY0FBYyxTQUFTLGdCQUFnQixhQUFhLEVBQUUsU0FBUyxRQUFRLDhCQUE4QixZQUFZLGlCQUFpQixJQUFJLHlCQUF5QixnQ0FBZ0MsVUFBVSxFQUFFLElBQUksb0JBQW9CLE1BQU0sOEJBQThCLElBQUksWUFBWTtBQUNwZixNQUFLLGdCQUFnQixlQUFlLDhEQUE4RCx1QkFBdUIsZ0JBQWdCLG1CQUFtQixhQUFhLFdBQVcsaUJBQWlCLDJKQUEySixTQUFTLDJCQUEyQix3Q0FBd0MsSUFBSSx3Q0FBd0MsTUFBTTtBQUM5ZCxZQUFXLFVBQVUsU0FBUyxFQUFFLGNBQWMsMERBQTBELHNCQUFzQixnQkFBZ0IsSUFBSSxFQUFFLGNBQWMsd0RBQXdELHNCQUFzQixXQUFXLElBQUksRUFBRSxpQkFBaUIsYUFBYSxjQUFjLFVBQVUsZ0JBQWdCLG1CQUFtQixhQUFhLGNBQWMsb0VBQW9FLFVBQVUsWUFBWSxzQkFBc0IsWUFBWTtBQUNqZixjQUFhLElBQUksS0FBSyxVQUFVLGlCQUFpQixJQUFJLDZFQUE2RSxTQUFTLG1CQUFtQixHQUFHLGFBQWEsbUJBQW1CLHdCQUF3QixlQUFlLHFCQUFxQixnQ0FBZ0MsWUFBWSw4Q0FBOEMscUNBQXFDLHVDQUF1QyxpQkFBaUIscUJBQXFCLHlCQUF5QjtBQUNsZSxJQUFHLDZCQUE2QixpQkFBaUIsYUFBYSxpQkFBaUIsS0FBSyxFQUFFLGVBQWUsb0JBQW9CLCtGQUErRix1QkFBdUIsY0FBYyx5QkFBeUIsY0FBYyx3QkFBd0Isa0JBQWtCLElBQUksMEJBQTBCLDZKQUE2SixTQUFTO0FBQ2xoQixPQUFNLG9CQUFvQiw4Q0FBOEMsc0JBQXNCLDZCQUE2Qiw4QkFBOEIsd0JBQXdCLG9CQUFvQixtQ0FBbUMsMERBQTBELDJCQUEyQixJQUFJLEtBQUssVUFBVSxVQUFVLElBQUksc0JBQXNCLFNBQVMsT0FBTyxHQUFHLEVBQUUsb0JBQW9CLFlBQVksMkJBQTJCLGlCQUFpQixtQkFBbUIsV0FBVyxJQUFJO0FBQ3ZmLFNBQVEsU0FBUyxlQUFlLHNDQUFzQyxjQUFjLGFBQWEsZUFBZSxTQUFTLHFCQUFxQixZQUFZLGFBQWEsNkJBQTZCLGVBQWUsOEJBQThCLFlBQVksY0FBYyxhQUFhLGFBQWEsWUFBWSxFQUFFLGtCQUFrQix3QkFBd0IsbUJBQW1CLFlBQVkseUJBQXlCLHVCQUF1Qix1QkFBdUIsVUFBVSxxQkFBcUIsWUFBWTtBQUM5ZSxtQkFBa0IsU0FBUyxZQUFZLGtCQUFrQiw2QkFBNkIsa0JBQWtCLElBQUksc0JBQXNCLGdEQUFnRCxhQUFhLGlDQUFpQyxFQUFFLEVBQUUsb0JBQW9CLGtCQUFrQixTQUFTLGNBQWMsOENBQThDLCtLQUErSztBQUM5ZixNQUFLLGtCQUFrQixNQUFNLGFBQWEsb0JBQW9CLGtCQUFrQixjQUFjLGNBQWMsU0FBUyxFQUFFLGNBQWMsY0FBYyxhQUFhLDBFQUEwRSxvQkFBb0Isd0JBQXdCLHVCQUF1QixjQUFjLHVCQUF1QixjQUFjLFNBQVMseUNBQXlDLDJCQUEyQix3QkFBd0IsVUFBVTtBQUMvYyw0QkFBMkIsY0FBYyw4QkFBOEIsY0FBYyw4RUFBOEUsZ0dBQWdHLGFBQWEsY0FBYyx1SEFBdUgsZ0JBQWdCLG9CQUFvQixvQkFBb0Isd0JBQXdCO0FBQ3JlLEdBQUUsNEJBQTRCLGNBQWMseUNBQXlDLFlBQVksZ0JBQWdCLHdCQUF3QixtQkFBbUIsa0JBQWtCLGlGQUFpRixtQkFBbUIsY0FBYyxhQUFhLEtBQUssU0FBUyxLQUFLLFlBQVksU0FBUyxLQUFLLE9BQU8sYUFBYSxnQ0FBZ0MsWUFBWSxHQUFHLGFBQWEsaUNBQWlDLE1BQU0sVUFBVTtBQUMzZCwwRUFBeUUsWUFBWSw4QkFBOEIsNEZBQTRGLGtDQUFrQyxTQUFTLDBCQUEwQixXQUFXLDREQUE0RCw2QkFBNkIsbUNBQW1DLE9BQU8sZUFBZSx1QkFBdUIsYUFBYSxVQUFVLGtCQUFrQjtBQUNqZixhQUFZLFFBQVEsMkJBQTJCLGFBQWEsS0FBSywyQkFBMkIsOERBQThELGNBQWMsU0FBUyx3QkFBd0IsWUFBWSxFQUFFLGtCQUFrQixNQUFNLHdEQUF3RCxPQUFPLE9BQU8saUJBQWlCLEVBQUUsa0JBQWtCLCtCQUErQixPQUFPLE9BQU8sMEJBQTBCLEVBQUUsVUFBVSxFQUFFLGtCQUFrQixLQUFLLFNBQVMsY0FBYztBQUM3ZCxJQUFHLGNBQWMsSUFBSSxZQUFZLFVBQVUsNEZBQTRGLElBQUksd0RBQXdELEtBQUssY0FBYyxVQUFVLElBQUksNkdBQTZHLHNEQUFzRCxzQkFBc0IsVUFBVSxlQUFlLG9EQUFvRCxVQUFVO0FBQ3BmLFlBQVcsMkJBQTJCLHVCQUF1QixrQkFBa0IsWUFBWSxXQUFXLGNBQWMsa0JBQWtCLDZCQUE2QixTQUFTLEVBQUUsb0JBQW9CLG1DQUFtQyxhQUFhLHFCQUFxQiw0Q0FBNEMsT0FBTyxHQUFHLEtBQUssV0FBVyxTQUFTLEVBQUUsSUFBSSxpREFBaUQsU0FBUyxLQUFLLE9BQU8sS0FBSyxpQ0FBaUMsSUFBSSxLQUFLO0FBQ2pkLCtLQUE4SywyRUFBMkUsR0FBRyxlQUFlLEtBQUssU0FBUyxTQUFTLEtBQUsseUVBQXlFLCtCQUErQixhQUFhLFdBQVcsNkRBQTZEO0FBQ3BlLG9CQUFtQixTQUFTLEtBQUssWUFBWSxTQUFTLE1BQU0scUJBQXFCLHNCQUFzQixtQkFBbUIsNEJBQTRCLG9CQUFvQixxQ0FBcUMsOEJBQThCLG9FQUFvRSwyREFBMkQsMkRBQTJELDBFQUEwRTtBQUNqZix1REFBc0QsMEVBQTBFLGlEQUFpRCxVQUFVLG9CQUFvQix3QkFBd0IsU0FBUyxxQkFBcUIsb0JBQW9CLDBCQUEwQix3Q0FBd0Msc0JBQXNCLEVBQUUsUUFBUSxvQ0FBb0MsRUFBRSwwQkFBMEIsVUFBVSxvQkFBb0IsSUFBSSxZQUFZLElBQUkscUJBQXFCLFFBQVE7QUFDMWdCLE9BQU0sU0FBUyxLQUFLLFFBQVEsSUFBSSxZQUFZLFNBQVMsZ0JBQWdCLHlCQUF5QixhQUFhLFdBQVcsV0FBVyxhQUFhLE9BQU8sSUFBSSxtQkFBbUIsMEJBQTBCLDhCQUE4QixVQUFVLFdBQVcseUVBQXlFLG1CQUFtQixXQUFXLGtCQUFrQixtQkFBbUIsOEJBQThCLHFCQUFxQiwwQkFBMEIsZ0RBQWdEO0FBQ2xnQixJQUFHLDJCQUEyQixzQkFBc0IscUJBQXFCLDJCQUEyQixHQUFHLHNCQUFzQixpQkFBaUIsSUFBSSxlQUFlLElBQUksZ0JBQWdCLG1CQUFtQixTQUFTLEtBQUssMkJBQTJCLGtDQUFrQyxZQUFZLFNBQVMsb0JBQW9CLFNBQVMsMEJBQTBCLHFCQUFxQixrREFBa0Qsc0JBQXNCLHNCQUFzQjtBQUNsZCxtQ0FBa0MsSUFBSSxFQUFFLGlCQUFpQix1QkFBdUIsSUFBSSxlQUFlLElBQUksZ0JBQWdCLG1CQUFtQixTQUFTLEtBQUssMkJBQTJCLDRFQUE0RSwrQkFBK0IsYUFBYSxvQkFBb0IsV0FBVyxrRkFBa0YsU0FBUyxFQUFFLGNBQWM7QUFDcmIsNkNBQTRDLDBCQUEwQiw2Q0FBNkMsMEJBQTBCLHFCQUFxQixxQkFBcUIsY0FBYyxhQUFhLHlDQUF5QyxlQUFlLHVCQUF1QixTQUFTLDRDQUE0QyxzREFBc0QsS0FBSyw2QkFBNkIsNkNBQTZDLHNCQUFzQixlQUFlO0FBQ2hnQixJQUFHLHNCQUFzQixjQUFjLEVBQUUsU0FBUyxjQUFjLHFCQUFxQixvQkFBb0Isc0NBQXNDLDRCQUE0QixVQUFVLHNDQUFzQyw0QkFBNEIsVUFBVSxtQ0FBbUMsZ0JBQWdCLHdDQUF3QyxjQUFjLGtCQUFrQixxQ0FBcUMsV0FBVyx1QkFBdUIsK0JBQStCO0FBQ2xlLGlDQUFnQywrQ0FBK0MsU0FBUyxrQkFBa0IscUJBQXFCLDJDQUEyQyxlQUFlLGdCQUFnQixlQUFlLGVBQWUsY0FBYyxnQ0FBZ0MsT0FBTyxzQkFBc0Isb0NBQW9DLCtCQUErQixtQ0FBbUMsMkNBQTJDLGdCQUFnQiwwQkFBMEI7QUFDN2UsMEJBQXlCLG9DQUFvQyxxREFBcUQsd0JBQXdCLGdDQUFnQyxJQUFJLGVBQWUsSUFBSSxrQkFBa0IsS0FBSyxNQUFNLHdCQUF3QixJQUFJLGtCQUFrQixLQUFLLE1BQU0sY0FBYyxtQ0FBbUMsMkJBQTJCLG9CQUFvQixxQkFBcUIsbURBQW1ELEVBQUUsY0FBYyxTQUFTLHlCQUF5QjtBQUNqZixTQUFRLFVBQVUsaURBQWlELGdDQUFnQyxhQUFhLHVCQUF1QixVQUFVLG9CQUFvQiwwQkFBMEIsb0JBQW9CLHlDQUF5QyxTQUFTLGVBQWUsd0JBQXdCLFdBQVcsK0NBQStDLHlCQUF5QixHQUFHLDJDQUEyQyxtQkFBbUIsV0FBVyxpQ0FBaUM7QUFDNWUsS0FBSSxvQ0FBb0MsZUFBZSxpQ0FBaUMsZUFBZSxFQUFFLFNBQVMsRUFBRSxjQUFjLCtDQUErQyxRQUFRLDhDQUE4Qyx1REFBdUQsdUJBQXVCLGtFQUFrRSxNQUFNLCtCQUErQixPQUFPLDBDQUEwQyxNQUFNO0FBQ25kLDRDQUEyQyx5Q0FBeUMsMkRBQTJELE9BQU8seUVBQXlFLGdDQUFnQyxZQUFZLDZCQUE2QixpQkFBaUIsWUFBWSwrREFBK0QsRUFBRSxjQUFjLE1BQU0sNkJBQTZCLHVCQUF1QjtBQUM5YywwQkFBeUIsZ0JBQWdCLHlCQUF5QiwrQ0FBK0MsK0NBQStDLDRCQUE0QixjQUFjLG1CQUFtQixrQkFBa0IsNEJBQTRCLDJCQUEyQix5QkFBeUIsbUJBQW1CLGdCQUFnQixjQUFjLGFBQWEsaURBQWlELG1CQUFtQixFQUFFLHlCQUF5QixTQUFTLEVBQUUsY0FBYztBQUNyZixzREFBcUQsT0FBTyw2QkFBNkIseUNBQXlDLFNBQVMsZ0JBQWdCLHFDQUFxQyxtQkFBbUIsNkZBQTZGLEVBQUUsRUFBRSxTQUFTLDRCQUE0Qix5Q0FBeUMsV0FBVyxLQUFLLG1FQUFtRSxzQkFBc0Isd0JBQXdCLGVBQWU7QUFDbGhCLHlCQUF3QixvQ0FBb0Msd0JBQXdCLHVDQUF1QyxFQUFFLGNBQWMsc0ZBQXNGLGtCQUFrQixvQkFBb0Isc0VBQXNFLHFCQUFxQixJQUFJLDJCQUEyQixTQUFTLGlCQUFpQixRQUFRLHdCQUF3QixjQUFjLElBQUksZ0JBQWdCLE9BQU8sU0FBUztBQUM3ZSxzQkFBcUIsNkhBQTZILFNBQVMsRUFBRSxlQUFlLDBDQUEwQywwQkFBMEIsT0FBTztBQUN2UCxjQUFhLGVBQWUsZUFBZSxrREFBa0QsY0FBYyxnQkFBZ0IsZUFBZSxjQUFjLElBQUksNkJBQTZCLFNBQVMsVUFBVSxjQUFjLEtBQUssTUFBTSxrQkFBa0IsY0FBYyxlQUFlLDZCQUE2QixRQUFRLEtBQUssV0FBVyw2RkFBNkYsVUFBVSxjQUFjLGFBQWEsZUFBZSxnQkFBZ0IsU0FBUztBQUNuZixJQUFHLGtCQUFrQixZQUFZLEVBQUUsU0FBUywrQkFBK0IsZ0JBQWdCLG1DQUFtQyxtQkFBbUIsMEJBQTBCLEVBQUUsaUJBQWlCLGFBQWEsZUFBZSxhQUFhLGdCQUFnQixrQkFBa0IsZUFBZSxnQkFBZ0Isa0JBQWtCLGNBQWMsdUJBQXVCLFdBQVcsb0JBQW9CLGlDQUFpQyxNQUFNLGNBQWMsc0JBQXNCO0FBQ3pjLElBQUcsMEJBQTBCLE1BQU0saUJBQWlCLHlDQUF5QyxtQkFBbUIsb0JBQW9CLG1DQUFtQyxpQkFBaUIsbUNBQW1DLCtCQUErQixVQUFVLFVBQVUsd0JBQXdCLEVBQUUsbUJBQW1CLDRDQUE0Qyx1QkFBdUIsb0JBQW9CLG1FQUFtRSxrQ0FBa0M7QUFDdmYsUUFBTyxFQUFFLFVBQVUsb0JBQW9CLE1BQU0sMERBQTBELHlCQUF5QixpQkFBaUIsOEVBQThFLFNBQVMsY0FBYyx5QkFBeUIsdUJBQXVCLGVBQWUsZ0NBQWdDLGVBQWUsdUJBQXVCLHVCQUF1Qix5QkFBeUIsZ0NBQWdDO0FBQzNjLHdDQUF1QyxlQUFlLHVCQUF1QixxQkFBcUIsa0VBQWtFLGVBQWUsa0JBQWtCLDJDQUEyQyx3RkFBd0YsUUFBUSxnQkFBZ0IsS0FBSyw2QkFBNkIsS0FBSyxRQUFRLGdCQUFnQixLQUFLLEtBQUssS0FBSyxRQUFRLEtBQUssMEJBQTBCO0FBQ3JkLE1BQUssT0FBTyxhQUFhLHFCQUFxQix5QkFBeUIsb0NBQW9DLFFBQVEsT0FBTyxRQUFRLDBCQUEwQixZQUFZLFdBQVcsV0FBVyxxRUFBcUUsSUFBSSxXQUFXLGtCQUFrQixRQUFRLElBQUksdUJBQXVCLGFBQWEsTUFBTSxjQUFjLEtBQUssZ0JBQWdCLGNBQWMscUNBQXFDLEtBQUssVUFBVSx3QkFBd0IsdUJBQXVCO0FBQzllLFVBQVMsbUNBQW1DLDhDQUE4QyxnQkFBZ0IsS0FBSyxRQUFRLDRCQUE0QixNQUFNLE1BQU0sTUFBTSxLQUFLLDZCQUE2QixhQUFhLEtBQUssSUFBSSxrQkFBa0IsOEJBQThCLEtBQUssK0RBQStELGlCQUFpQix3Q0FBd0MsZ0NBQWdDLFlBQVksNEJBQTRCLGVBQWU7QUFDamUsZ0NBQStCLHFCQUFxQixTQUFTLHNDQUFzQyxXQUFXLFdBQVcsUUFBUSw0QkFBNEIsV0FBVyx1QkFBdUIsT0FBTyxtQkFBbUIsZUFBZSxrQkFBa0Isc0JBQXNCLG9CQUFvQixtQkFBbUIscUJBQXFCLDhEQUE4RCxnQkFBZ0IsZUFBZSxpQ0FBaUMsbUNBQW1DLGVBQWUsbUJBQW1CO0FBQy9nQixxQkFBb0Isd0VBQXdFLHlCQUF5QixnQkFBZ0IsaUJBQWlCLDhDQUE4QyxlQUFlLGNBQWMsTUFBTSxpQkFBaUIsY0FBYyxrRkFBa0YsMENBQTBDLHVDQUF1QyxnQkFBZ0IsZ0JBQWdCLGNBQWM7QUFDdmQsYUFBWSxrQkFBa0IsU0FBUyxZQUFZLEVBQUUsK0ZBQStGLHVCQUF1QixrQkFBa0Isa0JBQWtCLDJCQUEyQixnQ0FBZ0Msc0JBQXNCLDJDQUEyQyxLQUFLLEVBQUUsMkRBQTJELDRCQUE0Qiw0QkFBNEIsZ0JBQWdCLFFBQVE7QUFDN2QsNkRBQTRELEVBQUUsVUFBVSxjQUFjLHFCQUFxQixZQUFZLGdCQUFnQixjQUFjLHVCQUF1QixpREFBaUQscUJBQXFCLHVCQUF1Qix5QkFBeUIsdUJBQXVCLCtCQUErQixpRkFBaUYsZUFBZSxnQkFBZ0IsU0FBUyx5QkFBeUI7QUFDMWUsYUFBWSxjQUFjLCtFQUErRSx1REFBdUQsYUFBYSxPQUFPLHNCQUFzQixFQUFFLGNBQWMsaUJBQWlCLG9EQUFvRCxrQkFBa0IsdUJBQXVCLG9CQUFvQiwyQ0FBMkMsY0FBYyx3QkFBd0IsYUFBYSxRQUFRLGVBQWUsU0FBUyxtQkFBbUIsRUFBRTtBQUMvZSxlQUFjLE9BQU8sMENBQTBDLGVBQWUsV0FBVyxnQ0FBZ0MsdUNBQXVDLHdCQUF3QiwrREFBK0Qsd0NBQXdDLElBQUksT0FBTyxnQkFBZ0IsR0FBRyxFQUFFLHFCQUFxQiwyQkFBMkIsSUFBSSxLQUFLLHNEQUFzRDtBQUM5YSxNQUFLLDZCQUE2QixTQUFTLEVBQUUsMkJBQTJCLGVBQWUsR0FBRyxlQUFlLFVBQVUsT0FBTyxFQUFFLDRCQUE0QixhQUFhLHVCQUF1QixnQkFBZ0IsWUFBWSxlQUFlLGFBQWEsbUNBQW1DLFlBQVksZUFBZSxZQUFZLGNBQWMsZ0JBQWdCLGtCQUFrQixnQ0FBZ0MsZ0JBQWdCLHVCQUF1QixHQUFHLDhCQUE4QixnQkFBZ0IscUJBQXFCO0FBQzNmLDJCQUEwQixvQkFBb0IsVUFBVSx3QkFBd0Isa0JBQWtCLGdDQUFnQyxjQUFjLHNCQUFzQixPQUFPLFdBQVcsNkJBQTZCLDJDQUEyQywyQkFBMkIseUJBQXlCLEVBQUUseUJBQXlCLHlCQUF5QixFQUFFLDRCQUE0Qix5QkFBeUIsRUFBRSxRQUFRLG1CQUFtQixJQUFJLHlDQUF5QyxXQUFXO0FBQ3BmLHVDQUFzQyx1QkFBdUIsV0FBVyx1Q0FBdUMsWUFBWSxFQUFFLHVCQUF1QixvQkFBb0IsaUJBQWlCLFlBQVksZUFBZSw0QkFBNEIsMEJBQTBCLG9DQUFvQyxZQUFZLGVBQWUsZ0JBQWdCLGdCQUFnQixpQkFBaUIsR0FBRywyQkFBMkIsZ0JBQWdCLGtCQUFrQixHQUFHLDJCQUEyQjtBQUN4ZCxpQkFBZ0IsZ0NBQWdDLGVBQWUsK0JBQStCLG9DQUFvQyxFQUFFLHlCQUF5QixtQkFBbUIsZUFBZSxTQUFTLG1DQUFtQyxLQUFLLEVBQUUsaUNBQWlDLEtBQUssSUFBSSxFQUFFLG9CQUFvQiw4QkFBOEIsT0FBTyxjQUFjLFlBQVksdURBQXVELDRFQUE0RTtBQUNwZixJQUFHLEtBQUssc0JBQXNCLHlCQUF5QixPQUFPLHFCQUFxQixJQUFJLDJCQUEyQixnQkFBZ0IsdURBQXVELEVBQUUsMkNBQTJDLGlCQUFpQix5RkFBeUYsT0FBTyxrREFBa0QscUJBQXFCLE9BQU8seUNBQXlDLEdBQUcsRUFBRSxxQkFBcUI7QUFDeGUsaUJBQWdCLHVCQUF1QixpQkFBaUIscUJBQXFCLFFBQVEsa0JBQWtCLFNBQVMsMkVBQTJFLGlDQUFpQyxjQUFjLHFDQUFxQyxzSUFBc0ksRUFBRSx5Q0FBeUMsbUJBQW1CLHlCQUF5QjtBQUM1ZSw2Q0FBNEMsWUFBWSxxQkFBcUIsK0JBQStCLGNBQWMsa0RBQWtELGNBQWMsOEJBQThCLFlBQVksZ0JBQWdCLDJDQUEyQyxpQkFBaUIsNEJBQTRCLGtFQUFrRSxFQUFFLCtCQUErQixtQ0FBbUM7QUFDbGQsa0JBQWlCLE9BQU8sU0FBUyxFQUFFLHNCQUFzQixNQUFNLDhCQUE4Qiw0QkFBNEIsNkJBQTZCLE9BQU8sY0FBYyxFQUFFLHNCQUFzQixNQUFNLDhCQUE4Qiw0QkFBNEIsNkJBQTZCLE9BQU8sY0FBYyxJQUFJLHFCQUFxQix3RUFBd0UsNkJBQTZCLHNDQUFzQyxFQUFFLHVCQUF1QixTQUFTO0FBQzNmLE1BQUsseUNBQXlDLFlBQVksU0FBUyxpQkFBaUIsY0FBYyw4QkFBOEIsZ0JBQWdCLGFBQWEsT0FBTyxXQUFXLEtBQUssbUJBQW1CLFdBQVcsMEJBQTBCLFVBQVUsU0FBUyxjQUFjLFNBQVMsNkJBQTZCLGlCQUFpQiwrQ0FBK0MsOEJBQThCLE9BQU8sT0FBTyxtQ0FBbUMsZ0JBQWdCO0FBQ2xkLElBQUcsZ0JBQWdCLHVEQUF1RCxFQUFFLHlCQUF5QixtQkFBbUIsY0FBYywyQkFBMkIsZUFBZSxPQUFPLGFBQWEsZUFBZSxrQkFBa0IsZ0RBQWdELDZCQUE2QixpQ0FBaUMsUUFBUSxNQUFNLG9CQUFvQiwrQkFBK0IsaUJBQWlCLEVBQUUsK0NBQStDLFVBQVUsY0FBYztBQUM5ZSxnRUFBK0QsSUFBSSxFQUFFLGVBQWUsZ0JBQWdCLDBFQUEwRSxnQkFBZ0IscUJBQXFCLGVBQWUsZUFBZSw4QkFBOEIsZ0NBQWdDLDhCQUE4QiwrQkFBK0IsZ0NBQWdDLG9GQUFvRjtBQUNoZSxrR0FBaUcsNEhBQTRILG9FQUFvRSxPQUFPLG9DQUFvQyxlQUFlLG9EQUFvRCxTQUFTLDZFQUE2RTtBQUNyZSxHQUFFLGdCQUFnQiw4QkFBOEIseUlBQXlJLFVBQVUsa0JBQWtCLGFBQWEsY0FBYywrSEFBK0gsdUJBQXVCLGdCQUFnQiw2QkFBNkIscURBQXFELGVBQWUsaUJBQWlCO0FBQ3hnQiwrREFBOEQsTUFBTSw4REFBOEQsVUFBVSx1R0FBdUcsS0FBSyxLQUFLLElBQUksc0JBQXNCLFNBQVMsS0FBSyxTQUFTLGtDQUFrQyxnQkFBZ0IsZUFBZSwrQkFBK0Isd0JBQXdCLFFBQVEsSUFBSSxrRUFBa0U7QUFDcGYsd0JBQXVCLE1BQU0sa0JBQWtCLHdFQUF3RSxxRUFBcUUsa0JBQWtCLGlCQUFpQixNQUFNLG9CQUFvQix3Q0FBd0MsOENBQThDLDZDQUE2QyxnRUFBZ0U7QUFDNWIsS0FBSSwwUEFBMFAsc0JBQXNCLGtEQUFrRCxZQUFZLDRDQUE0Qyw2Q0FBNkMsaUJBQWlCLGtCQUFrQixhQUFhLGNBQWMsU0FBUztBQUNsZiw4RUFBNkUscUJBQXFCLFNBQVMsbUJBQW1CLGFBQWEsRUFBRSwyQkFBMkIsZ0JBQWdCLDhDQUE4QyxnREFBZ0QsT0FBTyxxRkFBcUYsV0FBVyxFQUFFLFVBQVUsNEVBQTRFLFNBQVMsRUFBRSxRQUFRO0FBQ3hlLHNFQUFxRSxHQUFHLDBDQUEwQyxrQ0FBa0MsU0FBUyx1QkFBdUIsdUJBQXVCLElBQUksY0FBYyxlQUFlLE9BQU8sRUFBRSxHQUFHLDJDQUEyQywwRUFBMEUsMEJBQTBCLHNFQUFzRSxvQ0FBb0M7QUFDamYsY0FBYSwwQkFBMEIscUJBQXFCLGlDQUFpQyxRQUFRLHFCQUFxQix1QkFBdUIsc0JBQXNCLGlCQUFpQiwrR0FBK0csa0VBQWtFLGlDQUFpQyxpRUFBaUUsc0JBQXNCLGVBQWUsaUJBQWlCO0FBQ2pnQixpQkFBZ0IsZ0JBQWdCLFNBQVMsaUJBQWlCLHNDQUFzQyxnQkFBZ0IsU0FBUyxTQUFTLHFCQUFxQixTQUFTLGlDQUFpQyxTQUFTLHdCQUF3QixvQ0FBb0MsRUFBRSwyQkFBMkIsZUFBZSxVQUFVLG9CQUFvQiwyQkFBMkIsU0FBUyxjQUFjLFVBQVUsZUFBZSw2QkFBNkIsc0JBQXNCO0FBQzljLE9BQU0sU0FBUyxRQUFRLElBQUksMkJBQTJCLGtDQUFrQyxZQUFZLFFBQVEsdUJBQXVCLFFBQVEsSUFBSSxLQUFLLHFCQUFxQixVQUFVLFNBQVMsUUFBUSxJQUFJLG1CQUFtQixhQUFhLEVBQUUsR0FBRyxtQ0FBbUMsMkJBQTJCLFVBQVUsV0FBVywwQkFBMEIsd0JBQXdCLHFDQUFxQyxxQ0FBcUMsV0FBVztBQUN2YyxtQ0FBa0MsV0FBVyxJQUFJLDRDQUE0Qyw0QkFBNEIsT0FBTyxvQkFBb0IsV0FBVyxXQUFXLEVBQUUsVUFBVSwyQkFBMkIscUJBQXFCLE1BQU0sdUJBQXVCLHNEQUFzRCxJQUFJLEVBQUUsc0JBQXNCLFNBQVMsMkJBQTJCLDBCQUEwQixFQUFFLFNBQVMsc0JBQXNCLDJDQUEyQyxzQkFBc0I7QUFDcmYsWUFBVyxrQkFBa0IsV0FBVyx1QkFBdUIsSUFBSSx5QkFBeUIsdUJBQXVCLG1CQUFtQixtQkFBbUIsdUJBQXVCLG9CQUFvQixHQUFHLG9CQUFvQiw0QkFBNEIsOEJBQThCLFNBQVMscUJBQXFCLHVCQUF1QixXQUFXLHVCQUF1QixJQUFJLEtBQUssV0FBVyxnQ0FBZ0MsS0FBSyx3REFBd0QsOEJBQThCO0FBQzNmLEdBQUUsbUJBQW1CLGVBQWUsRUFBRSxvQkFBb0IsK0NBQStDLGtCQUFrQiw0QkFBNEIsb0JBQW9CLDJEQUEyRCx5Q0FBeUMsNEJBQTRCLDhCQUE4QiwwQkFBMEIseUJBQXlCLCtCQUErQixpQ0FBaUMscUNBQXFDO0FBQ2plLElBQUcsMENBQTBDLDRDQUE0QyxtQ0FBbUMsa0VBQWtFLGdEQUFnRCxHQUFHLGVBQWUsK0JBQStCLDRCQUE0QixJQUFJLG9FQUFvRSxvQkFBb0IsZ0NBQWdDLG1DQUFtQyxFQUFFLGNBQWM7QUFDMWUsSUFBRywyQkFBMkIsaUJBQWlCLGdDQUFnQyxvQkFBb0IsaUNBQWlDLGVBQWUsV0FBVyxtQkFBbUIsc0JBQXNCLFVBQVUsRUFBRSwwSUFBMEksOEJBQThCLE1BQU0sMEJBQTBCLG1CQUFtQixLQUFLLGFBQWE7QUFDaGMsU0FBUSw2QkFBNkIsNkJBQTZCLFVBQVUsRUFBRSxFQUFFLGFBQWEsb0VBQW9FLFVBQVUsbUNBQW1DLFlBQVksZUFBZSxrQkFBa0Isd0RBQXdELGtCQUFrQixTQUFTLGtEQUFrRCxpQkFBaUIsR0FBRyxTQUFTLGFBQWEsZ0JBQWdCLGVBQWUsTUFBTSxvQ0FBb0M7QUFDbmYsZUFBYyw4REFBOEQsRUFBRSxnQkFBZ0IsV0FBVyxXQUFXLEVBQUUsYUFBYSxFQUFFLFdBQVcsT0FBTyxrREFBa0QsT0FBTyxRQUFRLHNCQUFzQixrQkFBa0IsMkVBQTJFLG1GQUFtRixRQUFRLGFBQWEsV0FBVyxFQUFFLDRCQUE0QixXQUFXO0FBQ3ZlLHFCQUFvQiw0QkFBNEIsOENBQThDLHFCQUFxQix3Q0FBd0MsZ0JBQWdCLGlDQUFpQyxvTEFBb0wsK0JBQStCLHdDQUF3QyxrQkFBa0IsTUFBTSxNQUFNLEdBQUcsUUFBUSxXQUFXLEtBQUs7QUFDaGdCLE1BQUssbUJBQW1CLElBQUksU0FBUyxTQUFTLHFEQUFxRCwwQkFBMEIsT0FBTyxpRUFBaUUsZUFBZSx5QkFBeUIsVUFBVSxVQUFVLGdCQUFnQixTQUFTLCtCQUErQix3QkFBd0IsVUFBVSxVQUFVLGdCQUFnQixTQUFTLDhCQUE4QixxQkFBcUIseUNBQXlDLFdBQVcsRUFBRTtBQUN2ZSxNQUFLLFFBQVEsNEJBQTRCLDhCQUE4Qiw2QkFBNkIsUUFBUSxrQ0FBa0MsaUNBQWlDLDRCQUE0QixRQUFRLDRCQUE0QixrQ0FBa0MsOEJBQThCLDZCQUE2QixRQUFRLDRCQUE0QixzQkFBc0IsdURBQXVELCtCQUErQixFQUFFLGdCQUFnQjtBQUM5ZSxzQkFBcUIsY0FBYyxVQUFVLHlCQUF5QixZQUFZLFdBQVcsV0FBVyxLQUFLLEVBQUUsU0FBUyxrQkFBa0IsU0FBUyxhQUFhLEtBQUssRUFBRSxtQkFBbUIsYUFBYSxFQUFFLGVBQWUsMEZBQTBGLGNBQWMsZ0JBQWdCLFVBQVUsdUJBQXVCLHVCQUF1QixXQUFXLDRCQUE0QixjQUFjLHNCQUFzQixhQUFhO0FBQ2hlLHVCQUFzQix1QkFBdUIsRUFBRSxRQUFRLEtBQUssb0JBQW9CLGNBQWMsT0FBTyxxQkFBcUIsYUFBYSxnQkFBZ0IsVUFBVSxHQUFHLGFBQWEsb0JBQW9CLGdCQUFnQixrQkFBa0IsZ0RBQWdELGtDQUFrQyxrQkFBa0IsV0FBVyw2QkFBNkIsbUJBQW1CLGVBQWUsRUFBRSxFQUFFLG9CQUFvQixvQkFBb0IsbUNBQW1DLHFCQUFxQixxQ0FBcUM7QUFDOWhCLHVCQUFzQix1Q0FBdUMsa0JBQWtCLG1DQUFtQyxtQkFBbUIscUNBQXFDLGdCQUFnQiwrQkFBK0Isa0JBQWtCLG1CQUFtQixxQ0FBcUMsa0JBQWtCLHNCQUFzQixXQUFXLDZDQUE2QyxjQUFjLEdBQUcsc0JBQXNCLG9EQUFvRCxLQUFLO0FBQ25lLG9CQUFtQixTQUFTLEVBQUUsZUFBZSwwREFBMEQscUJBQXFCLGFBQWEsYUFBYSxxREFBcUQsaUVBQWlFLDhCQUE4QixnQkFBZ0IsS0FBSyxFQUFFLFNBQVMsWUFBWSx3QkFBd0Isb0NBQW9DLG9DQUFvQyxjQUFjLE9BQU8sZ0JBQWdCLEVBQUUsa0JBQWtCO0FBQy9lLHNDQUFxQyxpR0FBaUcsbUNBQW1DLG1CQUFtQixvREFBb0Qsd0JBQXdCLEVBQUUsMkJBQTJCLG9CQUFvQixlQUFlLFlBQVksS0FBSyxPQUFPLFdBQVcsSUFBSSxHQUFHLFlBQVksb0NBQW9DLGtCQUFrQix1QkFBdUI7QUFDM2MsOEJBQTZCLHlCQUF5Qix3QkFBd0Isb0NBQW9DLDZDQUE2Qyx5QkFBeUIsdUJBQXVCLDhEQUE4RCwwQkFBMEIsaUJBQWlCLG9EQUFvRCw0Q0FBNEMsb0JBQW9CLFlBQVk7QUFDeGIsOEJBQTZCLDJCQUEyQiwrQkFBK0IsdUJBQXVCLHlCQUF5Qiw0QkFBNEIsd0RBQXdELHNCQUFzQixvQkFBb0IscUJBQXFCLGtCQUFrQiwwQkFBMEIsTUFBTSxrRUFBa0UsaUJBQWlCLFlBQVksOEJBQThCLGdDQUFnQyxxQkFBcUI7QUFDOWYsSUFBRyxjQUFjLHlCQUF5Qiw4QkFBOEIsOEJBQThCLHlDQUF5Qyw2Q0FBNkMseUJBQXlCLGFBQWEsRUFBRSwyR0FBMkcseUVBQXlFLFNBQVMsRUFBRSxRQUFRLG1EQUFtRCxnQkFBZ0I7QUFDOWUsSUFBRyxjQUFjLCtCQUErQixZQUFZLGFBQWEsbUJBQW1CLDRCQUE0Qix1RUFBdUUsZ0ZBQWdGLHlDQUF5Qyx1QkFBdUIsS0FBSyx1QkFBdUIsd0JBQXdCLGVBQWUsMENBQTBDLEtBQUs7QUFDamMsNENBQTJDLG9DQUFvQyw4RkFBOEYsbUJBQW1CLGtCQUFrQix3QkFBd0Isa0JBQWtCLE9BQU8sdUVBQXVFLHNCQUFzQiwwQ0FBMEMsMEJBQTBCLG9FQUFvRSxxQkFBcUI7QUFDN2YsNkNBQTRDLDJCQUEyQix5Q0FBeUMsNEJBQTRCLGdCQUFnQixxRUFBcUUsaUNBQWlDLHVCQUF1QiwwQkFBMEIsNEJBQTRCLEVBQUUsc0NBQXNDLGlDQUFpQyxLQUFLLGtCQUFrQixzQ0FBc0M7QUFDcmQsa0RBQWlELHFGQUFxRix5Q0FBeUMsYUFBYSxrQkFBa0IsMkNBQTJDLEVBQUUsc0JBQXNCLHFCQUFxQiw0QkFBNEIsRUFBRSxtQ0FBbUMsNkNBQTZDLGFBQWEsa0JBQWtCLHlEQUF5RCxFQUFFLHdCQUF3QjtBQUN0Z0IsWUFBVyxhQUFhLHNCQUFzQiw0QkFBNEIsRUFBRSx5Q0FBeUMsZ0ZBQWdGLEVBQUUsaUlBQWlJLHNCQUFzQixLQUFLLFVBQVUsYUFBYSxrQkFBa0IsbUNBQW1DLEVBQUUsT0FBTyxLQUFLLGFBQWEsMENBQTBDO0FBQ3BmLGVBQWMsYUFBYSxnQkFBZ0Isb0JBQW9CLDRDQUE0Qyw4Q0FBOEMsZ0RBQWdELHdDQUF3QyxzQ0FBc0Msb0NBQW9DLGtDQUFrQyxzQ0FBc0MsMEJBQTBCLG9CQUFvQixvQ0FBb0Msc0JBQXNCO0FBQzNlLG9CQUFtQixrQ0FBa0Msc0NBQXNDLHNDQUFzQyxhQUFhLGdCQUFnQixZQUFZLDhCQUE4QixpQkFBaUIsaUZBQWlGLFNBQVMsb0JBQW9CLGNBQWMsdUNBQXVDLFFBQVEsMERBQTBELFVBQVUsdUJBQXVCLGdDQUFnQyxPQUFPO0FBQ3RnQixnQ0FBK0Isd0JBQXdCLDRCQUE0QixpQkFBaUIsa0JBQWtCLFNBQVMsdUJBQXVCLHlCQUF5Qix1QkFBdUIscUJBQXFCLHNCQUFzQix3RUFBd0UsRUFBRSxTQUFTLG9CQUFvQiwyQkFBMkIsdUZBQXVGO0FBQzFjLGNBQWEsSUFBSSxzQkFBc0IsNEJBQTRCLGtCQUFrQixJQUFJLHVFQUF1RSxTQUFTLHVCQUF1QiwwQkFBMEIsa0JBQWtCLElBQUkscUVBQXFFLFNBQVMscUJBQXFCLDhCQUE4QixxQ0FBcUMsSUFBSSx3RUFBd0UsU0FBUyx1QkFBdUI7QUFDbGdCLG1CQUFrQixpQ0FBaUMsSUFBSSxzRUFBc0UsU0FBUyxxQkFBcUIsa0NBQWtDLHVCQUF1QixJQUFJLDRFQUE0RSxTQUFTLDJCQUEyQix5QkFBeUIsMkJBQTJCLElBQUksbUVBQW1FLFNBQVMsa0JBQWtCLE1BQU07QUFDcGUsWUFBVyx1RUFBdUUsZ0JBQWdCLG9CQUFvQixNQUFNLG1IQUFtSCxtTEFBbUwsZ0VBQWdFO0FBQ2xlLG9IQUFtSCxVQUFVLDJCQUEyQixrQkFBa0IsK0RBQStELHFDQUFxQyx3RUFBd0Usb0NBQW9DLHdFQUF3RSwrQkFBK0IsU0FBUyxvQkFBb0I7QUFDOWYsS0FBSSxXQUFXLHNFQUFzRSxpQkFBaUIsMkJBQTJCLFNBQVMsMkJBQTJCLFNBQVMsZ0NBQWdDLDZCQUE2Qix3QkFBd0IsU0FBUyx1QkFBdUIscUJBQXFCLDZEQUE2RCxPQUFPLCtCQUErQixxQkFBcUIsT0FBTywyQ0FBMkMsNkJBQTZCO0FBQy9mLElBQUcsZ0NBQWdDLEdBQUcsd0JBQXdCLDBCQUEwQix3QkFBd0Isa0JBQWtCLE9BQU8sbUNBQW1DLG1CQUFtQixXQUFXLEtBQUssMkJBQTJCLEdBQUcsZUFBZSxTQUFTLEdBQUcsNkJBQTZCLHFJQUFxSSxrQkFBa0IsMEJBQTBCLFVBQVU7QUFDaGUsRUFBQyxlQUFlLEdBQUcsT0FBTyxzQ0FBc0MsMEJBQTBCLDZFQUE2RSxxQkFBcUIsb0RBQW9ELHFCQUFxQixtRUFBbUUsU0FBUyxzQkFBc0Isb0RBQW9ELHNCQUFzQix3QkFBd0IsaUNBQWlDO0FBQzFlLFVBQVMseUJBQXlCLGlCQUFpQixhQUFhLHNEQUFzRCxTQUFTLDBCQUEwQix3REFBd0Qsa0JBQWtCLFFBQVEsc0JBQXNCLFVBQVUsMkJBQTJCLGNBQWMsc0JBQXNCLG9DQUFvQyxZQUFZLG1CQUFtQix1QkFBdUIsdUJBQXVCLFNBQVMsdUJBQXVCLFlBQVk7QUFDdmUsWUFBVyxvQkFBb0Isa0pBQWtKLGFBQWEsaUJBQWlCLGtCQUFrQixhQUFhLFlBQVksd0JBQXdCLG9CQUFvQixpQkFBaUIsZUFBZSxhQUFhLHVCQUF1QixZQUFZLEVBQUUsMEJBQTBCLGtCQUFrQixnQkFBZ0Isa0NBQWtDO0FBQ3RkLG9FQUFtRSxFQUFFLHVNQUF1TSx3QkFBd0IsZ0JBQWdCLHNCQUFzQixTQUFTLCtDQUErQyxvQ0FBb0MsZ0JBQWdCLCtDQUErQyxFQUFFO0FBQ3ZlLGdCQUFlLEdBQUcsa0JBQWtCLGdDQUFnQyx1QkFBdUIscUNBQXFDLEVBQUUseUJBQXlCLGdCQUFnQixtQ0FBbUMsc0NBQXNDLEVBQUUscUNBQXFDLEtBQUssd0JBQXdCLHVFQUF1RSxLQUFLLGtCQUFrQixtQ0FBbUMsK0JBQStCLG1CQUFtQixPQUFPO0FBQ2xmLG9JQUFtSSxvQkFBb0Isc0NBQXNDLHVDQUF1QyxJQUFJLEVBQUUsOENBQThDLGdCQUFnQixFQUFFLE1BQU0sc0NBQXNDLGlCQUFpQixLQUFLLE1BQU0sK0RBQStELElBQUksRUFBRSx5Q0FBeUMsaUJBQWlCO0FBQ2pmLE9BQU0sNERBQTRELElBQUksRUFBRSxxQ0FBcUMsSUFBSSxFQUFFLHFJQUFxSSxpQkFBaUIsS0FBSyxNQUFNLDRDQUE0QyxvQkFBb0IsNkRBQTZELEtBQUssTUFBTSxnREFBZ0Qsb0JBQW9CO0FBQ2hlLG1DQUFrQyxLQUFLLE1BQU0scUNBQXFDLHVJQUF1SSxXQUFXLDRFQUE0RSx5Q0FBeUMsdUdBQXVHLElBQUksNENBQTRDLEVBQUU7QUFDbGYsa0RBQWlELGdFQUFnRSxLQUFLLE1BQU0sc0VBQXNFLG1CQUFtQixrQ0FBa0MsOEJBQThCLDBDQUEwQyx1TEFBdUw7QUFDdGYsdUZBQXNGLEtBQUssb0JBQW9CLHFIQUFxSCxJQUFJLHlDQUF5Qyx3RUFBd0UsY0FBYywyQ0FBMkMsWUFBWSx3QkFBd0IsRUFBRSxLQUFLLE1BQU0sTUFBTSx5Q0FBeUM7QUFDbGYsMkRBQTBELGlCQUFpQixlQUFlLFVBQVUsZ0VBQWdFLHdDQUF3Qyw4QkFBOEIsMkJBQTJCLDBCQUEwQixxQ0FBcUMsOEJBQThCLEVBQUUsRUFBRTtBQUN0VyxLQUFJLHdCQUF3QixjQUFjLFlBQVksd0JBQXdCLEVBQUUsS0FBSyxHQUFHLE1BQU0sNENBQTRDLEtBQUssK0JBQStCLG1DQUFtQyxzQ0FBc0MscUJBQXFCLDZEQUE2RCx3Q0FBd0MscURBQXFELGNBQWMsUUFBUSxFQUFFLElBQUksTUFBTSw0QkFBNEIseUJBQXlCO0FBQzdmLDBCQUF5QixVQUFVLEVBQUUsRUFBRSxzQkFBc0IsaUJBQWlCLEtBQUssTUFBTSw2QkFBNkIsMkJBQTJCLDJDQUEyQyw0RUFBNEUsRUFBRSxFQUFFLElBQUksZ0JBQWdCLEVBQUUsaUJBQWlCLEtBQUssTUFBTSx5Q0FBeUMsT0FBTyxNQUFNLDJDQUEyQyxPQUFPLE1BQU0sbURBQW1EO0FBQy9kLElBQUcsbUNBQW1DLGdGQUFnRixZQUFZLHNCQUFzQiwrQ0FBK0MsS0FBSyxvQkFBb0IsOEVBQThFLDZCQUE2Qix5QkFBeUIsNENBQTRDLG9CQUFvQiwwQkFBMEIscUJBQXFCO0FBQ25kLEtBQUksR0FBRyxxQkFBcUIsY0FBYyxLQUFLLDBCQUEwQixrQkFBa0IsR0FBRyxJQUFJLFNBQVMsR0FBRyxpQkFBaUIsZ0JBQWdCLEtBQUssaUJBQWlCLGlCQUFpQixxQkFBcUIsa0JBQWtCLGlDQUFpQyxlQUFlLDhCQUE4QixtQkFBbUIsd0JBQXdCLDhEQUE4RCxpQ0FBaUMsb0RBQW9ELEdBQUcscUNBQXFDO0FBQ2poQixHQUFFLEdBQUcsbUNBQW1DLHNEQUFzRCxHQUFHLHdDQUF3QywyREFBMkQsR0FBRyw4QkFBOEIscUNBQXFDLGtDQUFrQyx5Q0FBeUMsZ0NBQWdDLHVDQUF1Qyw0QkFBNEIsdUNBQXVDLHFDQUFxQztBQUNwZ0IsWUFBVyxtQ0FBbUMsV0FBVyxrQkFBa0Isd0JBQXdCLDBCQUEwQixXQUFXLGtCQUFrQixlQUFlLCtEQUErRCw0REFBNEQsb0JBQW9CLDRFQUE0RSw0QkFBNEIsdUJBQXVCLHdCQUF3Qix5QkFBeUI7QUFDeGUsNEJBQTJCLGdCQUFnQixzQkFBc0IsOEJBQThCLDRDQUE0QyxTQUFTLG9CQUFvQiwwQ0FBMEMsY0FBYyxzQkFBc0Isb0NBQW9DLGtCQUFrQix1QkFBdUIsZUFBZSxRQUFRLDZCQUE2QixhQUFhLE1BQU0sMkJBQTJCLG1CQUFtQixVQUFVLFVBQVUsWUFBWSxHQUFHLFNBQVMscUJBQXFCLGdDQUFnQztBQUN6aEIsNERBQTJELE1BQU0sZ0JBQWdCLFNBQVMsRUFBRSxVQUFVLDZCQUE2QixnQkFBZ0IsRUFBRSxnQkFBZ0IsZ0JBQWdCLHNCQUFzQixTQUFTLHlCQUF5QixpQkFBaUIsaURBQWlELGVBQWUsNENBQTRDLHVGQUF1RjtBQUNqYywwREFBeUQsZ0hBQWdILG1JQUFtSSxxSEFBcUg7QUFDamEsK0xBQThMLDREQUE0RCxxQkFBcUIsK0dBQStHLGlCQUFpQixXQUFXLDBCQUEwQixpQkFBaUIsVUFBVSx5QkFBeUIsR0FBRztBQUMzZSxRQUFPLG1CQUFtQixrQkFBa0IsMkJBQTJCLHlCQUF5QixLQUFLLFlBQVksV0FBVywyQ0FBMkMsOENBQThDLFVBQVUsUUFBUSxJQUFJLHlHQUF5RyxpQkFBaUIsYUFBYSx5QkFBeUIsY0FBYyxvQkFBb0IsVUFBVSxRQUFRLElBQUksNERBQTRELHFCQUFxQjtBQUNwaEIsbUJBQWtCLGlCQUFpQixXQUFXLDBCQUEwQixVQUFVLFFBQVEsSUFBSSwrREFBK0QsUUFBUSxpRkFBaUYsRUFBRSxvQkFBb0IsWUFBWSxLQUFLLFdBQVcsb0NBQW9DLFVBQVUsUUFBUSxJQUFJLHlDQUF5QyxVQUFVLFFBQVEsSUFBSSw2Q0FBNkMsVUFBVSxRQUFRLElBQUk7QUFDcGUsTUFBSyxVQUFVLFFBQVEsS0FBSyx3QkFBd0IseUJBQXlCLGFBQWEsWUFBWSxVQUFVLFFBQVEsSUFBSSx3QkFBd0IseUJBQXlCLGFBQWEsWUFBWSxVQUFVLFFBQVEsSUFBSSx3QkFBd0IseUJBQXlCLGNBQWMsVUFBVSxRQUFRLElBQUksMkJBQTJCLHlCQUF5QixpQkFBaUIsYUFBYSxVQUFVLFVBQVUsUUFBUSxJQUFJLDJCQUEyQix5QkFBeUIsaUJBQWlCO0FBQ3hlLHlCQUF3QixVQUFVLFFBQVEsSUFBSSwyQkFBMkIseUJBQXlCLHdCQUF3QixVQUFVLFFBQVEsSUFBSSwyQkFBMkIseUJBQXlCLHdCQUF3QixVQUFVLFFBQVEsSUFBSSwyQkFBMkIseUJBQXlCLHdCQUF3QixVQUFVLFFBQVEsSUFBSSw2QkFBNkIseUJBQXlCLDBCQUEwQixVQUFVLFFBQVEsSUFBSSw2QkFBNkIseUJBQXlCO0FBQ2hmLHFCQUFvQixVQUFVLFFBQVEsSUFBSSw0QkFBNEIseUJBQXlCLHlCQUF5QixVQUFVLFFBQVEsSUFBSSw0QkFBNEIseUJBQXlCLHlCQUF5QixVQUFVLFFBQVEsSUFBSSwyQkFBMkIseUJBQXlCLHdCQUF3QixVQUFVLFFBQVEsSUFBSSwyQkFBMkIseUJBQXlCLHdCQUF3QixVQUFVLFFBQVEsSUFBSSw0QkFBNEIseUJBQXlCO0FBQzNlLGdCQUFlLFVBQVUsUUFBUSxJQUFJLDRCQUE0Qix5QkFBeUIseUJBQXlCLFVBQVUsUUFBUSxJQUFJLDRCQUE0Qix5QkFBeUIseUJBQXlCLFVBQVUsUUFBUSxJQUFJLDRCQUE0Qix5QkFBeUIseUJBQXlCLFVBQVUsUUFBUSxJQUFJLCtCQUErQix5QkFBeUIsbUNBQW1DLFVBQVUsUUFBUSxJQUFJLHFCQUFxQixrQkFBa0IsVUFBVTtBQUNuZixnQkFBZSxJQUFJLGdDQUFnQyx5QkFBeUIsZ0JBQWdCLDRCQUE0QixFQUFFLFdBQVcsV0FBVyxVQUFVLHlCQUF5QixJQUFJLG9DQUFvQyx5QkFBeUIscUJBQXFCLHdFQUF3RSxtQkFBbUIsVUFBVSx5QkFBeUIsSUFBSSx5Q0FBeUMseUJBQXlCLGFBQWE7QUFDMWQsU0FBUSxHQUFHLGlCQUFpQixvQkFBb0IsVUFBVSx5QkFBeUIsSUFBSSxzQkFBc0IseUJBQXlCLDBCQUEwQix1QkFBdUIsYUFBYSxlQUFlLGVBQWUsb0JBQW9CLDhEQUE4RCxjQUFjLGlDQUFpQyxrRUFBa0UsaURBQWlEO0FBQ3RkLG9DQUFtQyxpRUFBaUUseUJBQXlCLHdCQUF3Qix3QkFBd0IsdUJBQXVCLHVCQUF1QixRQUFRO0FBQ25PLDJKQUEwSiw2Q0FBNkMsbUJBQW1CLE9BQU8sbUZBQW1GLHVEQUF1RCx1REFBdUQ7QUFDbGEsZUFBYyx1QkFBdUIsdUJBQXVCLHNCQUFzQixXQUFXLG1DQUFtQyw4Q0FBOEMsc0NBQXNDLGlGQUFpRix5QkFBeUIsOEJBQThCLEtBQUssUUFBUSxtQkFBbUIsa0JBQWtCLDBCQUEwQixjQUFjLEVBQUUsa0JBQWtCLHNCQUFzQjtBQUNoZSxNQUFLLDJCQUEyQixFQUFFLGlCQUFpQixPQUFPLG9DQUFvQyxFQUFFLG1CQUFtQixpQkFBaUIsT0FBTyxrQ0FBa0MsMkVBQTJFLDBDQUEwQyxPQUFPLDBCQUEwQixZQUFZLEtBQUssRUFBRSxzQ0FBc0Msa0JBQWtCLGlCQUFpQixPQUFPLGlDQUFpQyxZQUFZO0FBQ25kLHlFQUF3RSx5QkFBeUIsaUVBQWlFLEtBQUssRUFBRSxRQUFRLDRDQUE0QyxVQUFVLDZFQUE2RSxvRUFBb0UsbUJBQW1CLHlDQUF5QyxjQUFjLGlEQUFpRCxPQUFPO0FBQzFmLHFGQUFvRiw0QkFBNEIsNENBQTRDLE9BQU8sc0JBQXNCLFdBQVcsb0JBQW9CLGtCQUFrQixvQkFBb0IscUJBQXFCLGtCQUFrQixFQUFFLG9CQUFvQixxQ0FBcUMsMkJBQTJCLGFBQWEsd0NBQXdDLE9BQU8sRUFBRSxzQ0FBc0MscUJBQXFCO0FBQ3BmLGtDQUFpQyw4RUFBOEUsR0FBRywyQkFBMkIsaUNBQWlDLE9BQU8sUUFBUSxNQUFNLEVBQUUsMkJBQTJCLEdBQUcsOE5BQThOLEVBQUU7QUFDbmMsaUVBQWdFLEdBQUcsTUFBTSxFQUFFLE1BQU0sRUFBRSxhQUFhLEdBQUcsNkNBQTZDLElBQUksZ0JBQWdCLEdBQUcscUJBQXFCLEdBQUcsNkNBQTZDLElBQUksY0FBYyw4REFBOEQsU0FBUyxFQUFFLFFBQVEsMkJBQTJCLGdCQUFnQixNQUFNO0FBQ2hZLDRIQUEySCxrQkFBa0IsU0FBUyxlQUFlLGlCQUFpQixNQUFNLG9EQUFvRCw0RUFBNEUsNENBQTRDLFdBQVcsOEZBQThGLFlBQVksZ0JBQWdCO0FBQzdlLFVBQVMsNEJBQTRCLHFEQUFxRCxFQUFFLCtCQUErQixtQkFBbUIsOEJBQThCLGVBQWUsU0FBUyxFQUFFLHNCQUFzQixNQUFNLDhCQUE4QixrQ0FBa0MsNkJBQTZCLGtDQUFrQyxzQkFBc0IsY0FBYyxFQUFFLHNCQUFzQixNQUFNLDhCQUE4QixrQ0FBa0MsNkJBQTZCO0FBQ2hnQiw2QkFBNEIsc0JBQXNCLGNBQWMsR0FBRywyQkFBMkIsZ0JBQWdCLE1BQU0scUJBQXFCLGdDQUFnQyxXQUFXLGtDQUFrQyw2QkFBNkIsZ0JBQWdCLE1BQU0sdUJBQXVCLGtDQUFrQyxXQUFXLGtDQUFrQyx5QkFBeUIsK0JBQStCLHlCQUF5QixpREFBaUQsRUFBRTtBQUNuZixZQUFXLG9DQUFvQyw4QkFBOEIsb0NBQW9DLHdGQUF3Rix5QkFBeUIsd0NBQXdDLEVBQUUscUJBQXFCLDJCQUEyQix1QkFBdUIsY0FBYywrQkFBK0IsZUFBZSxFQUFFLDRCQUE0QixhQUFhLEVBQUUsMkNBQTJDO0FBQ3ZlLGlEQUFnRCxPQUFPLHdDQUF3QyxzQkFBc0Isc0RBQXNELHdDQUF3QyxPQUFPLGdEQUFnRCwwQ0FBMEMsbUNBQW1DLGlCQUFpQiwrQkFBK0Isa0JBQWtCLEtBQUssNEJBQTRCLE9BQU8sa0NBQWtDO0FBQ25lLHdCQUF1QiwrQkFBK0IsT0FBTyw4QkFBOEIsd0JBQXdCLEtBQUssOENBQThDLE9BQU8sb0JBQW9CLHVCQUF1Qix1QkFBdUIsb0NBQW9DLG9DQUFvQyxPQUFPLHdDQUF3Qyx3QkFBd0IsS0FBSyxpREFBaUQsT0FBTyxtQ0FBbUM7QUFDOWQsNEJBQTJCLHlCQUF5QixFQUFFLHVCQUF1Qix1QkFBdUIsbUNBQW1DLHNCQUFzQixtQ0FBbUMsS0FBSyxTQUFTLHNEQUFzRCx1Q0FBdUMsb0JBQW9CLEdBQUcscURBQXFELHNCQUFzQixvQkFBb0IsMkJBQTJCLGlCQUFpQixPQUFPO0FBQ3BkLGVBQWMsT0FBTyxLQUFLLGtCQUFrQix1S0FBdUssa0JBQWtCLDJDQUEyQyxPQUFPLG1DQUFtQyxzQkFBc0IscUJBQXFCLG1CQUFtQixpQkFBaUIsS0FBSyxTQUFTLEdBQUcsNkNBQTZDLEtBQUssRUFBRSxFQUFFO0FBQ2hkLElBQUcsT0FBTyw2R0FBNkcsVUFBVSw0QkFBNEIscUJBQXFCLElBQUksbURBQW1ELEdBQUcsU0FBUyx3QkFBd0IsZ0dBQWdHLE9BQU8sV0FBVyxJQUFJLG9FQUFvRSxPQUFPO0FBQzljLCtEQUE4RCx1REFBdUQsMkJBQTJCLDJCQUEyQix1QkFBdUIseUJBQXlCLCtCQUErQixPQUFPLGVBQWUsdUJBQXVCLGlCQUFpQiwyQkFBMkIsT0FBTyw0QkFBNEIsMEJBQTBCLGVBQWUsYUFBYSxrQkFBa0IsSUFBSSwwQkFBMEIsRUFBRSxJQUFJLElBQUk7QUFDdGUsSUFBRyxZQUFZLFlBQVksOERBQThELCtEQUErRCxLQUFLLDZCQUE2QixPQUFPLHdFQUF3RSxtRkFBbUYsWUFBWSxFQUFFLHNCQUFzQiw2Q0FBNkMsU0FBUyxnQ0FBZ0MsT0FBTyxvQkFBb0IscUJBQXFCO0FBQ3RnQixlQUFjLE9BQU8sbUVBQW1FLG1FQUFtRSw0QkFBNEIsVUFBVSxTQUFTLDRCQUE0QixvQkFBb0IsRUFBRSxVQUFVLEVBQUUsK0JBQStCLHdCQUF3QixFQUFFLHVCQUF1Qix1QkFBdUI7QUFDL1csMEdBQXlHLDRDQUE0Qyx1QkFBdUIsb0JBQW9CLHlCQUF5QixpQkFBaUIsb0JBQW9CLDZCQUE2QixtQkFBbUIsaUJBQWlCLGtCQUFrQixlQUFlLGVBQWUsaUJBQWlCLGVBQWUsa0JBQWtCLGdCQUFnQiwrQkFBK0IscUJBQXFCO0FBQ3JlLG9DQUFtQyw4QkFBOEIsbUNBQW1DLGdEQUFnRCxjQUFjLFdBQVcsZUFBZSxVQUFVLGdCQUFnQixhQUFhLE9BQU8sVUFBVSwwREFBMEQsZUFBZSwwQkFBMEIsc0NBQXNDLHNDQUFzQztBQUNuYSw0Q0FBMkMsUUFBUSxJQUFJLHVDQUF1QyxRQUFRLHFCQUFxQixZQUFZLFlBQVksRUFBRSw2QkFBNkIsWUFBWSxlQUFlLG9CQUFvQixrQkFBa0IsMEJBQTBCLFlBQVksZUFBZSxvQkFBb0IsaUJBQWlCLDRCQUE0Qiw4QkFBOEIsY0FBYyxnQkFBZ0IsMkNBQTJDLDRCQUE0QjtBQUM1ZSxJQUFHLGdCQUFnQiwyQ0FBMkMsbUNBQW1DLFlBQVksd0NBQXdDLGFBQWEsMEJBQTBCLDZDQUE2Qyx5RkFBeUYsMkRBQTJELDJFQUEyRSxJQUFJLHFDQUFxQyxhQUFhO0FBQzlmLElBQUcsOEJBQThCLGFBQWEsT0FBTyxPQUFPLEVBQUUsZ0RBQWdELFVBQVUsTUFBTSxhQUFhLGNBQWMsbUNBQW1DLGFBQWEsMENBQTBDLE9BQU8seUJBQXlCLFFBQVEsWUFBWSxLQUFLLFFBQVEsR0FBRyxFQUFFLGtDQUFrQyxLQUFLLFVBQVUsZ0JBQWdCLDJCQUEyQixjQUFjLFlBQVksSUFBSSxRQUFRLFlBQVksOEJBQThCO0FBQ3JlLCtDQUE4QyxVQUFVLHFDQUFxQyxVQUFVLFlBQVksU0FBUyx5QkFBeUIsaUNBQWlDLG1CQUFtQixZQUFZLG1MQUFtTCxtQ0FBbUMsaUNBQWlDLDJCQUEyQixvQkFBb0I7QUFDM2Ysd0JBQXVCLEtBQUssTUFBTSw2REFBNkQsMERBQTBELG9CQUFvQixnRUFBZ0UsMkRBQTJELG9FQUFvRSxHQUFHLG9DQUFvQyxtQkFBbUIscUNBQXFDLElBQUksSUFBSSxTQUFTLE1BQU0sR0FBRztBQUNyZSxlQUFjLGVBQWUseUVBQXlFLDJDQUEyQyxxQkFBcUIsMkZBQTJGLFlBQVksaUJBQWlCLHFCQUFxQix1REFBdUQscUJBQXFCLEdBQUcsb0JBQW9CLFdBQVcsOERBQThEO0FBQy9kLEdBQUUsSUFBSSx1Q0FBdUMsSUFBSSxXQUFXLDZIQUE2SCxTQUFTLEVBQUUsK0JBQStCLE9BQU8sMEdBQTBHLHFEQUFxRCxPQUFPLHNCQUFzQixXQUFXLHVCQUF1QixvQ0FBb0M7QUFDNWUsK0JBQThCLGlEQUFpRCxFQUFFLDRCQUE0QixpQ0FBaUMsRUFBRSx3QkFBd0IsV0FBVyx3RUFBd0UsdUNBQXVDLEVBQUUsdUJBQXVCLDRFQUE0RSxNQUFNLDJDQUEyQyxPQUFPO0FBQy9iLElBQUcsV0FBVyw0Q0FBNEMsa0lBQWtJLDhCQUE4QixVQUFVLHFDQUFxQyxHQUFHLFFBQVEseUJBQXlCO0FBQzdTLHVDQUFzQyxrQkFBa0Isc0JBQXNCLG1CQUFtQixpQkFBaUIsYUFBYSxhQUFhLGdCQUFnQixjQUFjLE1BQU0saUJBQWlCLEtBQUssS0FBSyxpRUFBaUUsU0FBUyxrQkFBa0IsK0JBQStCLHdCQUF3QiwwQkFBMEIsV0FBVyxpQkFBaUIsNkNBQTZDLGNBQWMsYUFBYSxhQUFhO0FBQ3plLElBQUcsbUJBQW1CLDJEQUEyRCxtQkFBbUIsT0FBTyxPQUFPLFNBQVMsYUFBYSxPQUFPLFVBQVUsT0FBTywwREFBMEQsU0FBUyxRQUFRLDhCQUE4QixJQUFJLEtBQUssNENBQTRDLFVBQVUsaUNBQWlDLDJCQUEyQixTQUFTLHdCQUF3QixpQkFBaUIsa0NBQWtDLElBQUksS0FBSztBQUNqZSwyRUFBMEUsVUFBVSxPQUFPLE9BQU8sNERBQTRELGVBQWUsb0NBQW9DLDhDQUE4Qyw4REFBOEQsT0FBTyw0REFBNEQsc0JBQXNCLHNCQUFzQix3QkFBd0IsZ0JBQWdCLFlBQVk7QUFDaGUsNERBQTJELDJDQUEyQyxvQkFBb0Isb0ZBQW9GLFNBQVMsY0FBYyxVQUFVLEVBQUUsMkJBQTJCLGNBQWMsd0JBQXdCLGFBQWEsa0VBQWtFLGlCQUFpQixTQUFTLGFBQWEsdUJBQXVCLGlCQUFpQixRQUFRLG1CQUFtQjtBQUMzZSxRQUFPLDRCQUE0QixRQUFRLG9HQUFvRyxpREFBaUQscUpBQXFKLEVBQUUsbUNBQW1DLDZCQUE2QixFQUFFLEtBQUssWUFBWSxtQkFBbUIsb0JBQW9CO0FBQ2pkLGVBQWMsaUNBQWlDLElBQUksa0NBQWtDLElBQUksd0JBQXdCLFVBQVUsTUFBTSwrQkFBK0IsV0FBVywyQkFBMkIsMEJBQTBCLHVCQUF1QiwwQkFBMEIsNEJBQTRCLHNCQUFzQixFQUFFLHlCQUF5QixzRUFBc0UsRUFBRSx3QkFBd0IsdUJBQXVCLGdCQUFnQjtBQUNyZSxrREFBaUQsRUFBRSxTQUFTLDBDQUEwQyx1REFBdUQsNEJBQTRCLEVBQUUsWUFBWSxZQUFZLDZCQUE2QixrQ0FBa0M7QUFDbFIsZ0hBQStHLHdCQUF3QixnQ0FBZ0Msa0ZBQWtGLGdDQUFnQyx1Q0FBdUMsWUFBWSxZQUFZLEdBQUcsc0VBQXNFLElBQUkseUNBQXlDO0FBQzljLE1BQUssU0FBUywwQkFBMEIsT0FBTyxxQkFBcUIsY0FBYyxjQUFjLGlGQUFpRixLQUFLLDZEQUE2RCxrQkFBa0IsZ0JBQWdCLHFEQUFxRCxFQUFFLGtCQUFrQix1QkFBdUIsRUFBRSx1QkFBdUIsK0JBQStCLGdDQUFnQztBQUM3YyxtR0FBa0csSUFBSSxxREFBcUQsOENBQThDLE9BQU8sWUFBWSxXQUFXLGVBQWUsZ0JBQWdCLCtCQUErQiw2QkFBNkIsT0FBTywwR0FBMEc7QUFDbmIseUJBQXdCLG9HQUFvRywwQkFBMEIsd0JBQXdCLHlLQUF5SyxlQUFlLFFBQVEsMEJBQTBCLGFBQWEsZUFBZSxTQUFTLEVBQUUsMkJBQTJCLHNCQUFzQixZQUFZLE9BQU87QUFDbmYsR0FBRSxjQUFjLEVBQUUsVUFBVSxpQ0FBaUMscUNBQXFDLFlBQVksb0JBQW9CLHVFQUF1RSxXQUFXLFdBQVcsUUFBUSxJQUFJLDhFQUE4RSxLQUFLLDhCQUE4Qix3QkFBd0IsbUJBQW1CLE1BQU0sc0JBQXNCLFFBQVEsWUFBWSxPQUFPLGNBQWMsV0FBVyxzQ0FBc0M7QUFDN2YsR0FBRSx5QkFBeUIsbUJBQW1CLFFBQVEsSUFBSSw2Q0FBNkMsSUFBSSxtQkFBbUIseUJBQXlCLDBDQUEwQyw0QkFBNEIsdUJBQXVCLHFCQUFxQixVQUFVLHNCQUFzQixnQkFBZ0Isa0JBQWtCLElBQUksVUFBVSxVQUFVLHVCQUF1QixFQUFFLElBQUksS0FBSyw2QkFBNkIsT0FBTyxrREFBa0QsOEJBQThCO0FBQ3pmLHdDQUF1Qyw4QkFBOEIsRUFBRSxJQUFJLDZCQUE2QixPQUFPLGtEQUFrRCw4QkFBOEIsMkNBQTJDLDhCQUE4QixFQUFFLElBQUksd0JBQXdCLGlDQUFpQyw0QkFBNEIsWUFBWSxFQUFFLFlBQVksS0FBSywwQ0FBMEMsT0FBTyxtREFBbUQsY0FBYztBQUNwZix3QkFBdUIsd0NBQXdDLGtCQUFrQixnQkFBZ0Isc0NBQXNDLFFBQVEsSUFBSSxlQUFlLElBQUksbUJBQW1CLGFBQWEsZUFBZSxJQUFJLEtBQUsscUJBQXFCLGdCQUFnQiwrQkFBK0IsV0FBVyxXQUFXLGtEQUFrRCwyQkFBMkIsVUFBVSxnQkFBZ0Isb0RBQW9ELFFBQVEsUUFBUSxFQUFFO0FBQ3JlLElBQUcsRUFBRSxFQUFFLElBQUksU0FBUyxnR0FBZ0csNERBQTRELGtDQUFrQyx1QkFBdUIsR0FBRyxTQUFTLGdHQUFnRyw4QkFBOEIsbUJBQW1CLHVCQUF1QixHQUFHLDhCQUE4Qix3Q0FBd0M7QUFDdGUsMkNBQTBDLCtCQUErQixjQUFjLGtDQUFrQywyQ0FBMkMsbUNBQW1DLE9BQU8sK0NBQStDLG9EQUFvRCxNQUFNLDBCQUEwQix1Q0FBdUMsb0JBQW9CLGlCQUFpQiw2Q0FBNkMsa0NBQWtDO0FBQzVlLE1BQUssdUJBQXVCLDJCQUEyQixVQUFVLDRCQUE0Qix3QkFBd0IsRUFBRSxpQ0FBaUMsb0RBQW9ELHVCQUF1Qix3QkFBd0IsZ0JBQWdCLHlCQUF5QixpTEFBaUwsMEJBQTBCO0FBQy9lLGdCQUFlLHVCQUF1QiwwQkFBMEIsa0JBQWtCLGFBQWEsd0JBQXdCLG9EQUFvRCwyQkFBMkIsZUFBZSxpRUFBaUUsd0JBQXdCLGtCQUFrQixxQ0FBcUMsTUFBTSxNQUFNLCtCQUErQix3QkFBd0IsSUFBSSxpQkFBaUIsRUFBRSxnQ0FBZ0Msa0JBQWtCO0FBQ2pmLHNCQUFxQixpQkFBaUIseUJBQXlCLDJCQUEyQix3QkFBd0Isd0JBQXdCLEdBQUcsZ0JBQWdCLE9BQU8sMEVBQTBFLHNCQUFzQixXQUFXLE1BQU0sV0FBVyxnQkFBZ0IseUJBQXlCLG9CQUFvQiwrQkFBK0IsRUFBRSxFQUFFLGVBQWUsdUJBQXVCLFNBQVMsK0JBQStCLDRCQUE0QixFQUFFO0FBQzVlLDBCQUF5QixnQkFBZ0IsK0JBQStCLDZCQUE2QixHQUFHLFlBQVksb0JBQW9CLHVFQUF1RSxlQUFlLEVBQUUsdUJBQXVCLDBCQUEwQix3QkFBd0IsV0FBVyxNQUFNLFdBQVcscUJBQXFCLGdDQUFnQyxnQ0FBZ0MsT0FBTyxnREFBZ0Qsa0NBQWtDLEtBQUs7QUFDeGYsZ0JBQWUsNEJBQTRCLHVCQUF1QixpQkFBaUIsc0dBQXNHLFNBQVMseUJBQXlCLGdCQUFnQixPQUFPLHVEQUF1RCx1REFBdUQsa0NBQWtDLGtDQUFrQyxjQUFjLEtBQUssZUFBZSxPQUFPO0FBQzdjLFFBQU8sTUFBTSwrQkFBK0IsaUNBQWlDLDRDQUE0Qyx5REFBeUQsT0FBTyxjQUFjLEVBQUUsb0NBQW9DLDBDQUEwQyxlQUFlLE9BQU8sdURBQXVELE1BQU0sU0FBUyxtQ0FBbUMsUUFBUSxnQkFBZ0IsY0FBYyxFQUFFLHNDQUFzQztBQUNwZSxpQkFBZ0IsZUFBZSxPQUFPLHVEQUF1RCxNQUFNLFFBQVEsbUNBQW1DLFdBQVcsY0FBYyxFQUFFLHNDQUFzQyx1Q0FBdUMsMEpBQTBKLGNBQWMsTUFBTSxxQkFBcUIsMkJBQTJCLG1CQUFtQixrQkFBa0I7QUFDemY7QUFDQSwyTEFBMEwsaUJBQWlCLDBEQUEwRCx1RkFBdUYsRUFBRSxtR0FBbUcsRUFBRTtBQUNuYyxJQUFHLGNBQWMsNEJBQTRCLGVBQWUsaUNBQWlDLEVBQUUseUJBQXlCLFNBQVMsR0FBRyxtQkFBbUIsOEhBQThILDBHQUEwRyx5QkFBeUIsVUFBVSxlQUFlLGlCQUFpQixtQkFBbUIsV0FBVyxtQkFBbUI7QUFDbmY7Ozs7Ozs7QUNwVEE7QUFDQTs7Ozs7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF1QiwwQkFBMEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLDRCQUEyQiwwQkFBMEI7QUFDckQ7QUFDQTtBQUNBLFlBQVc7QUFDWCw0QkFBMkIsMEJBQTBCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBOztBQUVBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCLGdCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiLFlBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVzs7QUFFWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRzs7Ozs7Ozs7QUM5Skg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQWtCLGVBQWU7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCO0FBQ3ZCLGtCQUFpQjtBQUNqQixnQkFBZTtBQUNmO0FBQ0Esd0JBQXVCO0FBQ3ZCLGtCQUFpQjtBQUNqQjtBQUNBLGNBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQkFBa0IsZUFBZTtBQUNqQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUFzQix1Q0FBdUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdCQUF1QjtBQUN2QixrQkFBaUI7QUFDakIsZ0JBQWU7QUFDZjtBQUNBLHdCQUF1QjtBQUN2QixrQkFBaUI7QUFDakI7QUFDQSxjQUFhO0FBQ2I7O0FBRUE7QUFDQSx3QkFBdUIsWUFBWSxFQUFFO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQSxJQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQSxFQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQStCLGlEQUFpRCxFQUFFO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBaUMsZ0JBQWdCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0EsUUFBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBaUMsZ0JBQWdCOztBQUVqRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVCxRQUFPO0FBQ1A7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFHOztBQUVIO0FBQ0E7QUFDQSxJQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxzQkFBcUIsbUJBQW1CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx1Q0FBc0MsT0FBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNEJBQTJCLHFCQUFxQjtBQUNoRCxvREFBbUQsR0FBRyxxQkFBcUI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUzs7QUFFVDtBQUNBO0FBQ0EsVUFBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxzQkFBcUIsOEJBQThCO0FBQ25ELDBCQUF5QjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsVUFBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQW9DLHNDQUFzQyxFQUFFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWCxVQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQLE1BQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFrRCx3Q0FBd0M7QUFDMUY7O0FBRUE7QUFDQSxnQ0FBK0Isd0NBQXdDO0FBQ3ZFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFpQjs7QUFFakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFlO0FBQ2Y7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTs7QUFFQSxnQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQSxvQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRFQUEyRTtBQUMzRTtBQUNBLDJCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQSxnQkFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFtQixRQUFRO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBaUI7QUFDakI7O0FBRUE7QUFDQTs7QUFFQSw0RUFBMkUsV0FBVztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCLFFBQVE7QUFDekI7QUFDQSxvQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxRQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCLE9BQU87QUFDeEI7QUFDQSxvQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCLFFBQVE7QUFDekI7QUFDQSxvQkFBbUIs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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxFQUFDOztBQUVEO0FBQ0E7QUFDQSxpQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFPO0FBQ1AsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBK0U7QUFDL0U7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0EsVUFBUztBQUNULFFBQU87QUFDUDtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUc7O0FBRUg7QUFDQSxxREFBb0QsK0JBQStCLEVBQUU7QUFDckY7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCLDRCQUE0QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFxQixxREFBcUQ7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBRztBQUNILEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLElBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0JBQXFCLFFBQVE7O0FBRTdCLDBEQUF5RCxRQUFROztBQUVqRSxrQ0FBaUMsUUFBUTs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF3QztBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0NBQWlDLGlCQUFpQjtBQUNsRDtBQUNBLFFBQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYLFVBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUc7QUFDSCxFQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxxQkFBb0IsZ0RBQWdEO0FBQ3BFO0FBQ0E7QUFDQSxRQUFPOztBQUVQO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhO0FBQ2IsWUFBVztBQUNYO0FBQ0EsNEJBQTJCLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBO0FBQ0EsNEJBQTJCLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxZQUFXO0FBQ1g7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBO0FBQ0EsNEJBQTJCLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXO0FBQ1g7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixZQUFXO0FBQ1g7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQSxZQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYTtBQUNiO0FBQ0EsY0FBYTtBQUNiO0FBQ0E7QUFDQSxZQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFhOztBQUViO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQSxNQUFLO0FBQ0wsSUFBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXO0FBQ1g7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsSUFBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQVkseUJBQXlCLHFDQUFxQyx3QkFBd0I7QUFDbEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWU7QUFDZixjQUFhO0FBQ2I7OztBQUdBO0FBQ0Esd0JBQXVCLGtCQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYLFVBQVM7QUFDVDtBQUNBO0FBQ0EsSUFBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQTtBQUNBLElBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXVCLG1CQUFtQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBbUMsb0RBQW9EO0FBQ3ZGLGNBQWE7QUFDYixvQ0FBbUMsaUJBQWlCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUUFBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7O0FBRVQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQStCLDRDQUE0QztBQUMzRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNkNBQTRDO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxR0FBb0c7O0FBRXBHO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWlCOztBQUVqQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBbUI7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFD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O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxvQkFBbUIsOEJBQThCO0FBQ2pEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7QUFDQTtBQUNBLE1BQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsVUFBUywyQkFBMkI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBLDhCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxVQUFTLDJCQUEyQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0EsOEJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLFVBQVMsMkJBQTJCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsTUFBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQSxVQUFTO0FBQ1Q7QUFDQSxNQUFLOztBQUVMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtEQUE4RDtBQUM5RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUc7QUFDSCxFQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYjtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUM7O0FBRUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQXlDLGVBQWU7QUFDeEQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUJBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFpQjtBQUNqQixnQkFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLFlBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFPOztBQUVQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhCQUE2QixvQkFBb0IsRUFBRTtBQUNuRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFlO0FBQ2YsY0FBYTtBQUNiO0FBQ0E7QUFDQSxZQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBUztBQUNUO0FBQ0EsTUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWE7QUFDYixZQUFXO0FBQ1g7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFLOztBQUVMOztBQUVBO0FBQ0E7QUFDQSxNQUFLO0FBQ0w7QUFDQSxNQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFXO0FBQ1g7QUFDQTtBQUNBLFVBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtB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V0FBVyxhQUFhLFlBQVksWUFBWSxNQUFNLEtBQUssNEJBQTRCLEtBQUs7QUFDaGMsRUFBQyxxWEFBcVgsV0FBVywyREFBNkYsVUFBVTtBQUN4ZSxrQkFBaUI7Ozs7Ozs7O0FDNUhqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9wdWJsaWMvXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCAzZjY0MjgxM2FlMjc5OGEwNDFlNFxuICoqLyIsInJlcXVpcmUoJy4vbGlicy9sb2Rhc2gubWluLmpzJyk7XHJcbnJlcXVpcmUoJy4vbGlicy9hbmd1bGFyLm1pbi5qcycpO1xyXG5yZXF1aXJlKCcuL2xpYnMvdWktYm9vdHN0cmFwLXRwbHMtMS4zLjEuanMnKTtcclxucmVxdWlyZSgnLi9tb2R1bGVzL2FwcC5qcycpO1xyXG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMvbW92aWUuanMnKTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3B1YmxpYy9qcy9yZXF1aXJlLmpzXG4gKiogbW9kdWxlIGlkID0gMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcclxuIEFuZ3VsYXJKUyB2MS41LjJcclxuIChjKSAyMDEwLTIwMTYgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXHJcbiBMaWNlbnNlOiBNSVRcclxuKi9cclxuKGZ1bmN0aW9uKE4sUSx3KXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gTyhhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1hcmd1bWVudHNbMF0sZDtkPVwiW1wiKyhhP2ErXCI6XCI6XCJcIikrYitcIl0gaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNS4yL1wiKyhhP2ErXCIvXCI6XCJcIikrYjtmb3IoYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe2Q9ZCsoMT09Yj9cIj9cIjpcIiZcIikrXCJwXCIrKGItMSkrXCI9XCI7dmFyIGM9ZW5jb2RlVVJJQ29tcG9uZW50LGU7ZT1hcmd1bWVudHNbYl07ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UudG9TdHJpbmcoKS5yZXBsYWNlKC8gXFx7W1xcc1xcU10qJC8sXCJcIik6XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpcInN0cmluZ1wiIT10eXBlb2YgZT9KU09OLnN0cmluZ2lmeShlKTplO2QrPWMoZSl9cmV0dXJuIEVycm9yKGQpfX1mdW5jdGlvbiBDYShhKXtpZihudWxsPT1hfHxYYShhKSlyZXR1cm4hMTtpZihMKGEpfHxEKGEpfHxHJiZhIGluc3RhbmNlb2YgRylyZXR1cm4hMDtcclxudmFyIGI9XCJsZW5ndGhcImluIE9iamVjdChhKSYmYS5sZW5ndGg7cmV0dXJuIFcoYikmJigwPD1iJiYoYi0xIGluIGF8fGEgaW5zdGFuY2VvZiBBcnJheSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuaXRlbSl9ZnVuY3Rpb24gcChhLGIsZCl7dmFyIGMsZTtpZihhKWlmKEgoYSkpZm9yKGMgaW4gYSlcInByb3RvdHlwZVwiPT1jfHxcImxlbmd0aFwiPT1jfHxcIm5hbWVcIj09Y3x8YS5oYXNPd25Qcm9wZXJ0eSYmIWEuaGFzT3duUHJvcGVydHkoYyl8fGIuY2FsbChkLGFbY10sYyxhKTtlbHNlIGlmKEwoYSl8fENhKGEpKXt2YXIgZj1cIm9iamVjdFwiIT09dHlwZW9mIGE7Yz0wO2ZvcihlPWEubGVuZ3RoO2M8ZTtjKyspKGZ8fGMgaW4gYSkmJmIuY2FsbChkLGFbY10sYyxhKX1lbHNlIGlmKGEuZm9yRWFjaCYmYS5mb3JFYWNoIT09cClhLmZvckVhY2goYixkLGEpO2Vsc2UgaWYobmMoYSkpZm9yKGMgaW4gYSliLmNhbGwoZCxhW2NdLGMsYSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5oYXNPd25Qcm9wZXJ0eSlmb3IoYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJlxyXG5iLmNhbGwoZCxhW2NdLGMsYSk7ZWxzZSBmb3IoYyBpbiBhKXNhLmNhbGwoYSxjKSYmYi5jYWxsKGQsYVtjXSxjLGEpO3JldHVybiBhfWZ1bmN0aW9uIG9jKGEsYixkKXtmb3IodmFyIGM9T2JqZWN0LmtleXMoYSkuc29ydCgpLGU9MDtlPGMubGVuZ3RoO2UrKyliLmNhbGwoZCxhW2NbZV1dLGNbZV0pO3JldHVybiBjfWZ1bmN0aW9uIHBjKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2EoZCxiKX19ZnVuY3Rpb24gVWQoKXtyZXR1cm4rK3BifWZ1bmN0aW9uIE5iKGEsYixkKXtmb3IodmFyIGM9YS4kJGhhc2hLZXksZT0wLGY9Yi5sZW5ndGg7ZTxmOysrZSl7dmFyIGc9YltlXTtpZihJKGcpfHxIKGcpKWZvcih2YXIgaD1PYmplY3Qua2V5cyhnKSxrPTAsbD1oLmxlbmd0aDtrPGw7aysrKXt2YXIgbT1oW2tdLG49Z1ttXTtkJiZJKG4pP2dhKG4pP2FbbV09bmV3IERhdGUobi52YWx1ZU9mKCkpOllhKG4pP2FbbV09bmV3IFJlZ0V4cChuKTpuLm5vZGVOYW1lP2FbbV09bi5jbG9uZU5vZGUoITApOlxyXG5PYihuKT9hW21dPW4uY2xvbmUoKTooSShhW21dKXx8KGFbbV09TChuKT9bXTp7fSksTmIoYVttXSxbbl0sITApKTphW21dPW59fWM/YS4kJGhhc2hLZXk9YzpkZWxldGUgYS4kJGhhc2hLZXk7cmV0dXJuIGF9ZnVuY3Rpb24gUyhhKXtyZXR1cm4gTmIoYSx5YS5jYWxsKGFyZ3VtZW50cywxKSwhMSl9ZnVuY3Rpb24gVmQoYSl7cmV0dXJuIE5iKGEseWEuY2FsbChhcmd1bWVudHMsMSksITApfWZ1bmN0aW9uIGRhKGEpe3JldHVybiBwYXJzZUludChhLDEwKX1mdW5jdGlvbiBQYihhLGIpe3JldHVybiBTKE9iamVjdC5jcmVhdGUoYSksYil9ZnVuY3Rpb24geigpe31mdW5jdGlvbiBaYShhKXtyZXR1cm4gYX1mdW5jdGlvbiBpYShhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gcWMoYSl7cmV0dXJuIEgoYS50b1N0cmluZykmJmEudG9TdHJpbmchPT1oYX1mdW5jdGlvbiB2KGEpe3JldHVyblwidW5kZWZpbmVkXCI9PT10eXBlb2YgYX1mdW5jdGlvbiBBKGEpe3JldHVyblwidW5kZWZpbmVkXCIhPT1cclxudHlwZW9mIGF9ZnVuY3Rpb24gSShhKXtyZXR1cm4gbnVsbCE9PWEmJlwib2JqZWN0XCI9PT10eXBlb2YgYX1mdW5jdGlvbiBuYyhhKXtyZXR1cm4gbnVsbCE9PWEmJlwib2JqZWN0XCI9PT10eXBlb2YgYSYmIXJjKGEpfWZ1bmN0aW9uIEQoYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIFcoYSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIGdhKGEpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09aGEuY2FsbChhKX1mdW5jdGlvbiBIKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBhfWZ1bmN0aW9uIFlhKGEpe3JldHVyblwiW29iamVjdCBSZWdFeHBdXCI9PT1oYS5jYWxsKGEpfWZ1bmN0aW9uIFhhKGEpe3JldHVybiBhJiZhLndpbmRvdz09PWF9ZnVuY3Rpb24gJGEoYSl7cmV0dXJuIGEmJmEuJGV2YWxBc3luYyYmYS4kd2F0Y2h9ZnVuY3Rpb24gTWEoYSl7cmV0dXJuXCJib29sZWFuXCI9PT10eXBlb2YgYX1mdW5jdGlvbiBXZChhKXtyZXR1cm4gYSYmVyhhLmxlbmd0aCkmJlxyXG5YZC50ZXN0KGhhLmNhbGwoYSkpfWZ1bmN0aW9uIE9iKGEpe3JldHVybiEoIWF8fCEoYS5ub2RlTmFtZXx8YS5wcm9wJiZhLmF0dHImJmEuZmluZCkpfWZ1bmN0aW9uIFlkKGEpe3ZhciBiPXt9O2E9YS5zcGxpdChcIixcIik7dmFyIGQ7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyliW2FbZF1dPSEwO3JldHVybiBifWZ1bmN0aW9uIHBhKGEpe3JldHVybiBFKGEubm9kZU5hbWV8fGFbMF0mJmFbMF0ubm9kZU5hbWUpfWZ1bmN0aW9uIGFiKGEsYil7dmFyIGQ9YS5pbmRleE9mKGIpOzA8PWQmJmEuc3BsaWNlKGQsMSk7cmV0dXJuIGR9ZnVuY3Rpb24gcWEoYSxiKXtmdW5jdGlvbiBkKGEsYil7dmFyIGQ9Yi4kJGhhc2hLZXksZTtpZihMKGEpKXtlPTA7Zm9yKHZhciBmPWEubGVuZ3RoO2U8ZjtlKyspYi5wdXNoKGMoYVtlXSkpfWVsc2UgaWYobmMoYSkpZm9yKGUgaW4gYSliW2VdPWMoYVtlXSk7ZWxzZSBpZihhJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5oYXNPd25Qcm9wZXJ0eSlmb3IoZSBpbiBhKWEuaGFzT3duUHJvcGVydHkoZSkmJlxyXG4oYltlXT1jKGFbZV0pKTtlbHNlIGZvcihlIGluIGEpc2EuY2FsbChhLGUpJiYoYltlXT1jKGFbZV0pKTtkP2IuJCRoYXNoS2V5PWQ6ZGVsZXRlIGIuJCRoYXNoS2V5O3JldHVybiBifWZ1bmN0aW9uIGMoYSl7aWYoIUkoYSkpcmV0dXJuIGE7dmFyIGI9Zi5pbmRleE9mKGEpO2lmKC0xIT09YilyZXR1cm4gZ1tiXTtpZihYYShhKXx8JGEoYSkpdGhyb3cgRGEoXCJjcHdzXCIpO3ZhciBiPSExLGM9ZShhKTtjPT09dyYmKGM9TChhKT9bXTpPYmplY3QuY3JlYXRlKHJjKGEpKSxiPSEwKTtmLnB1c2goYSk7Zy5wdXNoKGMpO3JldHVybiBiP2QoYSxjKTpjfWZ1bmN0aW9uIGUoYSl7c3dpdGNoKGhhLmNhbGwoYSkpe2Nhc2UgXCJbb2JqZWN0IEludDhBcnJheV1cIjpjYXNlIFwiW29iamVjdCBJbnQxNkFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IEludDMyQXJyYXldXCI6Y2FzZSBcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIjpjYXNlIFwiW29iamVjdCBVaW50OEFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiOnJldHVybiBuZXcgYS5jb25zdHJ1Y3RvcihjKGEuYnVmZmVyKSk7XHJcbmNhc2UgXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiOmlmKCFhLnNsaWNlKXt2YXIgYj1uZXcgQXJyYXlCdWZmZXIoYS5ieXRlTGVuZ3RoKTsobmV3IFVpbnQ4QXJyYXkoYikpLnNldChuZXcgVWludDhBcnJheShhKSk7cmV0dXJuIGJ9cmV0dXJuIGEuc2xpY2UoMCk7Y2FzZSBcIltvYmplY3QgQm9vbGVhbl1cIjpjYXNlIFwiW29iamVjdCBOdW1iZXJdXCI6Y2FzZSBcIltvYmplY3QgU3RyaW5nXVwiOmNhc2UgXCJbb2JqZWN0IERhdGVdXCI6cmV0dXJuIG5ldyBhLmNvbnN0cnVjdG9yKGEudmFsdWVPZigpKTtjYXNlIFwiW29iamVjdCBSZWdFeHBdXCI6cmV0dXJuIGI9bmV3IFJlZ0V4cChhLnNvdXJjZSxhLnRvU3RyaW5nKCkubWF0Y2goL1teXFwvXSokLylbMF0pLGIubGFzdEluZGV4PWEubGFzdEluZGV4LGI7Y2FzZSBcIltvYmplY3QgQmxvYl1cIjpyZXR1cm4gbmV3IGEuY29uc3RydWN0b3IoW2FdLHt0eXBlOmEudHlwZX0pfWlmKEgoYS5jbG9uZU5vZGUpKXJldHVybiBhLmNsb25lTm9kZSghMCl9dmFyIGY9W10sXHJcbmc9W107aWYoYil7aWYoV2QoYil8fFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PWhhLmNhbGwoYikpdGhyb3cgRGEoXCJjcHRhXCIpO2lmKGE9PT1iKXRocm93IERhKFwiY3BpXCIpO0woYik/Yi5sZW5ndGg9MDpwKGIsZnVuY3Rpb24oYSxjKXtcIiQkaGFzaEtleVwiIT09YyYmZGVsZXRlIGJbY119KTtmLnB1c2goYSk7Zy5wdXNoKGIpO3JldHVybiBkKGEsYil9cmV0dXJuIGMoYSl9ZnVuY3Rpb24gbWEoYSxiKXtpZihMKGEpKXtiPWJ8fFtdO2Zvcih2YXIgZD0wLGM9YS5sZW5ndGg7ZDxjO2QrKyliW2RdPWFbZF19ZWxzZSBpZihJKGEpKWZvcihkIGluIGI9Ynx8e30sYSlpZihcIiRcIiE9PWQuY2hhckF0KDApfHxcIiRcIiE9PWQuY2hhckF0KDEpKWJbZF09YVtkXTtyZXR1cm4gYnx8YX1mdW5jdGlvbiBvYShhLGIpe2lmKGE9PT1iKXJldHVybiEwO2lmKG51bGw9PT1hfHxudWxsPT09YilyZXR1cm4hMTtpZihhIT09YSYmYiE9PWIpcmV0dXJuITA7dmFyIGQ9dHlwZW9mIGEsYztpZihkPT10eXBlb2YgYiYmXHJcblwib2JqZWN0XCI9PWQpaWYoTChhKSl7aWYoIUwoYikpcmV0dXJuITE7aWYoKGQ9YS5sZW5ndGgpPT1iLmxlbmd0aCl7Zm9yKGM9MDtjPGQ7YysrKWlmKCFvYShhW2NdLGJbY10pKXJldHVybiExO3JldHVybiEwfX1lbHNle2lmKGdhKGEpKXJldHVybiBnYShiKT9vYShhLmdldFRpbWUoKSxiLmdldFRpbWUoKSk6ITE7aWYoWWEoYSkpcmV0dXJuIFlhKGIpP2EudG9TdHJpbmcoKT09Yi50b1N0cmluZygpOiExO2lmKCRhKGEpfHwkYShiKXx8WGEoYSl8fFhhKGIpfHxMKGIpfHxnYShiKXx8WWEoYikpcmV0dXJuITE7ZD1YKCk7Zm9yKGMgaW4gYSlpZihcIiRcIiE9PWMuY2hhckF0KDApJiYhSChhW2NdKSl7aWYoIW9hKGFbY10sYltjXSkpcmV0dXJuITE7ZFtjXT0hMH1mb3IoYyBpbiBiKWlmKCEoYyBpbiBkKSYmXCIkXCIhPT1jLmNoYXJBdCgwKSYmQShiW2NdKSYmIUgoYltjXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gYmIoYSxiLGQpe3JldHVybiBhLmNvbmNhdCh5YS5jYWxsKGIsXHJcbmQpKX1mdW5jdGlvbiBzYyhhLGIpe3ZhciBkPTI8YXJndW1lbnRzLmxlbmd0aD95YS5jYWxsKGFyZ3VtZW50cywyKTpbXTtyZXR1cm4hSChiKXx8YiBpbnN0YW5jZW9mIFJlZ0V4cD9iOmQubGVuZ3RoP2Z1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Yi5hcHBseShhLGJiKGQsYXJndW1lbnRzLDApKTpiLmFwcGx5KGEsZCl9OmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Yi5hcHBseShhLGFyZ3VtZW50cyk6Yi5jYWxsKGEpfX1mdW5jdGlvbiBaZChhLGIpe3ZhciBkPWI7XCJzdHJpbmdcIj09PXR5cGVvZiBhJiZcIiRcIj09PWEuY2hhckF0KDApJiZcIiRcIj09PWEuY2hhckF0KDEpP2Q9dzpYYShiKT9kPVwiJFdJTkRPV1wiOmImJlE9PT1iP2Q9XCIkRE9DVU1FTlRcIjokYShiKSYmKGQ9XCIkU0NPUEVcIik7cmV0dXJuIGR9ZnVuY3Rpb24gY2IoYSxiKXtpZih2KGEpKXJldHVybiB3O1coYil8fChiPWI/MjpudWxsKTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoYSxaZCxiKX1mdW5jdGlvbiB0YyhhKXtyZXR1cm4gRChhKT9cclxuSlNPTi5wYXJzZShhKTphfWZ1bmN0aW9uIHVjKGEsYil7YT1hLnJlcGxhY2UoJGQsXCJcIik7dmFyIGQ9RGF0ZS5wYXJzZShcIkphbiAwMSwgMTk3MCAwMDowMDowMCBcIithKS82RTQ7cmV0dXJuIGlzTmFOKGQpP2I6ZH1mdW5jdGlvbiBRYihhLGIsZCl7ZD1kPy0xOjE7dmFyIGM9YS5nZXRUaW1lem9uZU9mZnNldCgpO2I9dWMoYixjKTtkKj1iLWM7YT1uZXcgRGF0ZShhLmdldFRpbWUoKSk7YS5zZXRNaW51dGVzKGEuZ2V0TWludXRlcygpK2QpO3JldHVybiBhfWZ1bmN0aW9uIHRhKGEpe2E9RyhhKS5jbG9uZSgpO3RyeXthLmVtcHR5KCl9Y2F0Y2goYil7fXZhciBkPUcoXCI8ZGl2PlwiKS5hcHBlbmQoYSkuaHRtbCgpO3RyeXtyZXR1cm4gYVswXS5ub2RlVHlwZT09PU5hP0UoZCk6ZC5tYXRjaCgvXig8W14+XSs+KS8pWzFdLnJlcGxhY2UoL148KFtcXHdcXC1dKykvLGZ1bmN0aW9uKGEsYil7cmV0dXJuXCI8XCIrRShiKX0pfWNhdGNoKGMpe3JldHVybiBFKGQpfX1mdW5jdGlvbiB2YyhhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXt9fVxyXG5mdW5jdGlvbiB3YyhhKXt2YXIgYj17fTtwKChhfHxcIlwiKS5zcGxpdChcIiZcIiksZnVuY3Rpb24oYSl7dmFyIGMsZSxmO2EmJihlPWE9YS5yZXBsYWNlKC9cXCsvZyxcIiUyMFwiKSxjPWEuaW5kZXhPZihcIj1cIiksLTEhPT1jJiYoZT1hLnN1YnN0cmluZygwLGMpLGY9YS5zdWJzdHJpbmcoYysxKSksZT12YyhlKSxBKGUpJiYoZj1BKGYpP3ZjKGYpOiEwLHNhLmNhbGwoYixlKT9MKGJbZV0pP2JbZV0ucHVzaChmKTpiW2VdPVtiW2VdLGZdOmJbZV09ZikpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gUmIoYSl7dmFyIGI9W107cChhLGZ1bmN0aW9uKGEsYyl7TChhKT9wKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKGphKGMsITApKyghMD09PWE/XCJcIjpcIj1cIitqYShhLCEwKSkpfSk6Yi5wdXNoKGphKGMsITApKyghMD09PWE/XCJcIjpcIj1cIitqYShhLCEwKSkpfSk7cmV0dXJuIGIubGVuZ3RoP2Iuam9pbihcIiZcIik6XCJcIn1mdW5jdGlvbiBxYihhKXtyZXR1cm4gamEoYSwhMCkucmVwbGFjZSgvJTI2L2dpLFwiJlwiKS5yZXBsYWNlKC8lM0QvZ2ksXHJcblwiPVwiKS5yZXBsYWNlKC8lMkIvZ2ksXCIrXCIpfWZ1bmN0aW9uIGphKGEsYil7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8lNDAvZ2ksXCJAXCIpLnJlcGxhY2UoLyUzQS9naSxcIjpcIikucmVwbGFjZSgvJTI0L2csXCIkXCIpLnJlcGxhY2UoLyUyQy9naSxcIixcIikucmVwbGFjZSgvJTNCL2dpLFwiO1wiKS5yZXBsYWNlKC8lMjAvZyxiP1wiJTIwXCI6XCIrXCIpfWZ1bmN0aW9uIGFlKGEsYil7dmFyIGQsYyxlPU9hLmxlbmd0aDtmb3IoYz0wO2M8ZTsrK2MpaWYoZD1PYVtjXStiLEQoZD1hLmdldEF0dHJpYnV0ZShkKSkpcmV0dXJuIGQ7cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmUoYSxiKXt2YXIgZCxjLGU9e307cChPYSxmdW5jdGlvbihiKXtiKz1cImFwcFwiOyFkJiZhLmhhc0F0dHJpYnV0ZSYmYS5oYXNBdHRyaWJ1dGUoYikmJihkPWEsYz1hLmdldEF0dHJpYnV0ZShiKSl9KTtwKE9hLGZ1bmN0aW9uKGIpe2IrPVwiYXBwXCI7dmFyIGU7IWQmJihlPWEucXVlcnlTZWxlY3RvcihcIltcIitiLnJlcGxhY2UoXCI6XCIsXHJcblwiXFxcXDpcIikrXCJdXCIpKSYmKGQ9ZSxjPWUuZ2V0QXR0cmlidXRlKGIpKX0pO2QmJihlLnN0cmljdERpPW51bGwhPT1hZShkLFwic3RyaWN0LWRpXCIpLGIoZCxjP1tjXTpbXSxlKSl9ZnVuY3Rpb24geGMoYSxiLGQpe0koZCl8fChkPXt9KTtkPVMoe3N0cmljdERpOiExfSxkKTt2YXIgYz1mdW5jdGlvbigpe2E9RyhhKTtpZihhLmluamVjdG9yKCkpe3ZhciBjPWFbMF09PT1RP1wiZG9jdW1lbnRcIjp0YShhKTt0aHJvdyBEYShcImJ0c3RycGRcIixjLnJlcGxhY2UoLzwvLFwiJmx0O1wiKS5yZXBsYWNlKC8+LyxcIiZndDtcIikpO31iPWJ8fFtdO2IudW5zaGlmdChbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKGIpe2IudmFsdWUoXCIkcm9vdEVsZW1lbnRcIixhKX1dKTtkLmRlYnVnSW5mb0VuYWJsZWQmJmIucHVzaChbXCIkY29tcGlsZVByb3ZpZGVyXCIsZnVuY3Rpb24oYSl7YS5kZWJ1Z0luZm9FbmFibGVkKCEwKX1dKTtiLnVuc2hpZnQoXCJuZ1wiKTtjPWRiKGIsZC5zdHJpY3REaSk7Yy5pbnZva2UoW1wiJHJvb3RTY29wZVwiLFxyXG5cIiRyb290RWxlbWVudFwiLFwiJGNvbXBpbGVcIixcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGEsYixjLGQpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7Yi5kYXRhKFwiJGluamVjdG9yXCIsZCk7YyhiKShhKX0pfV0pO3JldHVybiBjfSxlPS9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLyxmPS9eTkdfREVGRVJfQk9PVFNUUkFQIS87TiYmZS50ZXN0KE4ubmFtZSkmJihkLmRlYnVnSW5mb0VuYWJsZWQ9ITAsTi5uYW1lPU4ubmFtZS5yZXBsYWNlKGUsXCJcIikpO2lmKE4mJiFmLnRlc3QoTi5uYW1lKSlyZXR1cm4gYygpO04ubmFtZT1OLm5hbWUucmVwbGFjZShmLFwiXCIpO2VhLnJlc3VtZUJvb3RzdHJhcD1mdW5jdGlvbihhKXtwKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKGEpfSk7cmV0dXJuIGMoKX07SChlYS5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCkmJmVhLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKCl9ZnVuY3Rpb24gY2UoKXtOLm5hbWU9XCJOR19FTkFCTEVfREVCVUdfSU5GTyFcIitOLm5hbWU7Ti5sb2NhdGlvbi5yZWxvYWQoKX1cclxuZnVuY3Rpb24gZGUoYSl7YT1lYS5lbGVtZW50KGEpLmluamVjdG9yKCk7aWYoIWEpdGhyb3cgRGEoXCJ0ZXN0XCIpO3JldHVybiBhLmdldChcIiQkdGVzdGFiaWxpdHlcIil9ZnVuY3Rpb24geWMoYSxiKXtiPWJ8fFwiX1wiO3JldHVybiBhLnJlcGxhY2UoZWUsZnVuY3Rpb24oYSxjKXtyZXR1cm4oYz9iOlwiXCIpK2EudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIGZlKCl7dmFyIGE7aWYoIXpjKXt2YXIgYj1yYigpOyhyYT12KGIpP04ualF1ZXJ5OmI/TltiXTp3KSYmcmEuZm4ub24/KEc9cmEsUyhyYS5mbix7c2NvcGU6UGEuc2NvcGUsaXNvbGF0ZVNjb3BlOlBhLmlzb2xhdGVTY29wZSxjb250cm9sbGVyOlBhLmNvbnRyb2xsZXIsaW5qZWN0b3I6UGEuaW5qZWN0b3IsaW5oZXJpdGVkRGF0YTpQYS5pbmhlcml0ZWREYXRhfSksYT1yYS5jbGVhbkRhdGEscmEuY2xlYW5EYXRhPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxlPTAsZjtudWxsIT0oZj1iW2VdKTtlKyspKGM9cmEuX2RhdGEoZixcImV2ZW50c1wiKSkmJlxyXG5jLiRkZXN0cm95JiZyYShmKS50cmlnZ2VySGFuZGxlcihcIiRkZXN0cm95XCIpO2EoYil9KTpHPVk7ZWEuZWxlbWVudD1HO3pjPSEwfX1mdW5jdGlvbiBzYihhLGIsZCl7aWYoIWEpdGhyb3cgRGEoXCJhcmVxXCIsYnx8XCI/XCIsZHx8XCJyZXF1aXJlZFwiKTtyZXR1cm4gYX1mdW5jdGlvbiBRYShhLGIsZCl7ZCYmTChhKSYmKGE9YVthLmxlbmd0aC0xXSk7c2IoSChhKSxiLFwibm90IGEgZnVuY3Rpb24sIGdvdCBcIisoYSYmXCJvYmplY3RcIj09PXR5cGVvZiBhP2EuY29uc3RydWN0b3IubmFtZXx8XCJPYmplY3RcIjp0eXBlb2YgYSkpO3JldHVybiBhfWZ1bmN0aW9uIFJhKGEsYil7aWYoXCJoYXNPd25Qcm9wZXJ0eVwiPT09YSl0aHJvdyBEYShcImJhZG5hbWVcIixiKTt9ZnVuY3Rpb24gQWMoYSxiLGQpe2lmKCFiKXJldHVybiBhO2I9Yi5zcGxpdChcIi5cIik7Zm9yKHZhciBjLGU9YSxmPWIubGVuZ3RoLGc9MDtnPGY7ZysrKWM9YltnXSxhJiYoYT0oZT1hKVtjXSk7cmV0dXJuIWQmJkgoYSk/c2MoZSxhKTphfWZ1bmN0aW9uIHRiKGEpe2Zvcih2YXIgYj1cclxuYVswXSxkPWFbYS5sZW5ndGgtMV0sYyxlPTE7YiE9PWQmJihiPWIubmV4dFNpYmxpbmcpO2UrKylpZihjfHxhW2VdIT09YiljfHwoYz1HKHlhLmNhbGwoYSwwLGUpKSksYy5wdXNoKGIpO3JldHVybiBjfHxhfWZ1bmN0aW9uIFgoKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiBnZShhKXtmdW5jdGlvbiBiKGEsYixjKXtyZXR1cm4gYVtiXXx8KGFbYl09YygpKX12YXIgZD1PKFwiJGluamVjdG9yXCIpLGM9TyhcIm5nXCIpO2E9YihhLFwiYW5ndWxhclwiLE9iamVjdCk7YS4kJG1pbkVycj1hLiQkbWluRXJyfHxPO3JldHVybiBiKGEsXCJtb2R1bGVcIixmdW5jdGlvbigpe3ZhciBhPXt9O3JldHVybiBmdW5jdGlvbihmLGcsaCl7aWYoXCJoYXNPd25Qcm9wZXJ0eVwiPT09Zil0aHJvdyBjKFwiYmFkbmFtZVwiLFwibW9kdWxlXCIpO2cmJmEuaGFzT3duUHJvcGVydHkoZikmJihhW2ZdPW51bGwpO3JldHVybiBiKGEsZixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixkLGUsZil7Znx8KGY9Yyk7cmV0dXJuIGZ1bmN0aW9uKCl7ZltlfHxcclxuXCJwdXNoXCJdKFtiLGQsYXJndW1lbnRzXSk7cmV0dXJuIEt9fWZ1bmN0aW9uIGIoYSxkKXtyZXR1cm4gZnVuY3Rpb24oYixlKXtlJiZIKGUpJiYoZS4kJG1vZHVsZU5hbWU9Zik7Yy5wdXNoKFthLGQsYXJndW1lbnRzXSk7cmV0dXJuIEt9fWlmKCFnKXRocm93IGQoXCJub21vZFwiLGYpO3ZhciBjPVtdLGU9W10seT1bXSxCPWEoXCIkaW5qZWN0b3JcIixcImludm9rZVwiLFwicHVzaFwiLGUpLEs9e19pbnZva2VRdWV1ZTpjLF9jb25maWdCbG9ja3M6ZSxfcnVuQmxvY2tzOnkscmVxdWlyZXM6ZyxuYW1lOmYscHJvdmlkZXI6YihcIiRwcm92aWRlXCIsXCJwcm92aWRlclwiKSxmYWN0b3J5OmIoXCIkcHJvdmlkZVwiLFwiZmFjdG9yeVwiKSxzZXJ2aWNlOmIoXCIkcHJvdmlkZVwiLFwic2VydmljZVwiKSx2YWx1ZTphKFwiJHByb3ZpZGVcIixcInZhbHVlXCIpLGNvbnN0YW50OmEoXCIkcHJvdmlkZVwiLFwiY29uc3RhbnRcIixcInVuc2hpZnRcIiksZGVjb3JhdG9yOmIoXCIkcHJvdmlkZVwiLFwiZGVjb3JhdG9yXCIpLGFuaW1hdGlvbjpiKFwiJGFuaW1hdGVQcm92aWRlclwiLFxyXG5cInJlZ2lzdGVyXCIpLGZpbHRlcjpiKFwiJGZpbHRlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxjb250cm9sbGVyOmIoXCIkY29udHJvbGxlclByb3ZpZGVyXCIsXCJyZWdpc3RlclwiKSxkaXJlY3RpdmU6YihcIiRjb21waWxlUHJvdmlkZXJcIixcImRpcmVjdGl2ZVwiKSxjb21wb25lbnQ6YihcIiRjb21waWxlUHJvdmlkZXJcIixcImNvbXBvbmVudFwiKSxjb25maWc6QixydW46ZnVuY3Rpb24oYSl7eS5wdXNoKGEpO3JldHVybiB0aGlzfX07aCYmQihoKTtyZXR1cm4gS30pfX0pfWZ1bmN0aW9uIGhlKGEpe1MoYSx7Ym9vdHN0cmFwOnhjLGNvcHk6cWEsZXh0ZW5kOlMsbWVyZ2U6VmQsZXF1YWxzOm9hLGVsZW1lbnQ6Ryxmb3JFYWNoOnAsaW5qZWN0b3I6ZGIsbm9vcDp6LGJpbmQ6c2MsdG9Kc29uOmNiLGZyb21Kc29uOnRjLGlkZW50aXR5OlphLGlzVW5kZWZpbmVkOnYsaXNEZWZpbmVkOkEsaXNTdHJpbmc6RCxpc0Z1bmN0aW9uOkgsaXNPYmplY3Q6SSxpc051bWJlcjpXLGlzRWxlbWVudDpPYixpc0FycmF5OkwsXHJcbnZlcnNpb246aWUsaXNEYXRlOmdhLGxvd2VyY2FzZTpFLHVwcGVyY2FzZTp1YixjYWxsYmFja3M6e2NvdW50ZXI6MH0sZ2V0VGVzdGFiaWxpdHk6ZGUsJCRtaW5FcnI6TywkJGNzcDpFYSxyZWxvYWRXaXRoRGVidWdJbmZvOmNlfSk7U2I9Z2UoTik7U2IoXCJuZ1wiLFtcIm5nTG9jYWxlXCJdLFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7YS5wcm92aWRlcih7JCRzYW5pdGl6ZVVyaTpqZX0pO2EucHJvdmlkZXIoXCIkY29tcGlsZVwiLEJjKS5kaXJlY3RpdmUoe2E6a2UsaW5wdXQ6Q2MsdGV4dGFyZWE6Q2MsZm9ybTpsZSxzY3JpcHQ6bWUsc2VsZWN0Om5lLHN0eWxlOm9lLG9wdGlvbjpwZSxuZ0JpbmQ6cWUsbmdCaW5kSHRtbDpyZSxuZ0JpbmRUZW1wbGF0ZTpzZSxuZ0NsYXNzOnRlLG5nQ2xhc3NFdmVuOnVlLG5nQ2xhc3NPZGQ6dmUsbmdDbG9hazp3ZSxuZ0NvbnRyb2xsZXI6eGUsbmdGb3JtOnllLG5nSGlkZTp6ZSxuZ0lmOkFlLG5nSW5jbHVkZTpCZSxuZ0luaXQ6Q2UsbmdOb25CaW5kYWJsZTpEZSxcclxubmdQbHVyYWxpemU6RWUsbmdSZXBlYXQ6RmUsbmdTaG93OkdlLG5nU3R5bGU6SGUsbmdTd2l0Y2g6SWUsbmdTd2l0Y2hXaGVuOkplLG5nU3dpdGNoRGVmYXVsdDpLZSxuZ09wdGlvbnM6TGUsbmdUcmFuc2NsdWRlOk1lLG5nTW9kZWw6TmUsbmdMaXN0Ok9lLG5nQ2hhbmdlOlBlLHBhdHRlcm46RGMsbmdQYXR0ZXJuOkRjLHJlcXVpcmVkOkVjLG5nUmVxdWlyZWQ6RWMsbWlubGVuZ3RoOkZjLG5nTWlubGVuZ3RoOkZjLG1heGxlbmd0aDpHYyxuZ01heGxlbmd0aDpHYyxuZ1ZhbHVlOlFlLG5nTW9kZWxPcHRpb25zOlJlfSkuZGlyZWN0aXZlKHtuZ0luY2x1ZGU6U2V9KS5kaXJlY3RpdmUodmIpLmRpcmVjdGl2ZShIYyk7YS5wcm92aWRlcih7JGFuY2hvclNjcm9sbDpUZSwkYW5pbWF0ZTpVZSwkYW5pbWF0ZUNzczpWZSwkJGFuaW1hdGVKczpXZSwkJGFuaW1hdGVRdWV1ZTpYZSwkJEFuaW1hdGVSdW5uZXI6WWUsJCRhbmltYXRlQXN5bmNSdW46WmUsJGJyb3dzZXI6JGUsJGNhY2hlRmFjdG9yeTphZixcclxuJGNvbnRyb2xsZXI6YmYsJGRvY3VtZW50OmNmLCRleGNlcHRpb25IYW5kbGVyOmRmLCRmaWx0ZXI6SWMsJCRmb3JjZVJlZmxvdzplZiwkaW50ZXJwb2xhdGU6ZmYsJGludGVydmFsOmdmLCRodHRwOmhmLCRodHRwUGFyYW1TZXJpYWxpemVyOmpmLCRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlOmtmLCRodHRwQmFja2VuZDpsZiwkeGhyRmFjdG9yeTptZiwkbG9jYXRpb246bmYsJGxvZzpvZiwkcGFyc2U6cGYsJHJvb3RTY29wZTpxZiwkcTpyZiwkJHE6c2YsJHNjZTp0Ziwkc2NlRGVsZWdhdGU6dWYsJHNuaWZmZXI6dmYsJHRlbXBsYXRlQ2FjaGU6d2YsJHRlbXBsYXRlUmVxdWVzdDp4ZiwkJHRlc3RhYmlsaXR5OnlmLCR0aW1lb3V0OnpmLCR3aW5kb3c6QWYsJCRyQUY6QmYsJCRqcUxpdGU6Q2YsJCRIYXNoTWFwOkRmLCQkY29va2llUmVhZGVyOkVmfSl9XSl9ZnVuY3Rpb24gZWIoYSl7cmV0dXJuIGEucmVwbGFjZShGZixmdW5jdGlvbihhLGQsYyxlKXtyZXR1cm4gZT9jLnRvVXBwZXJDYXNlKCk6XHJcbmN9KS5yZXBsYWNlKEdmLFwiTW96JDFcIil9ZnVuY3Rpb24gSmMoYSl7YT1hLm5vZGVUeXBlO3JldHVybiAxPT09YXx8IWF8fDk9PT1hfWZ1bmN0aW9uIEtjKGEsYil7dmFyIGQsYyxlPWIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGY9W107aWYoVGIudGVzdChhKSl7ZD1kfHxlLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7Yz0oSGYuZXhlYyhhKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCk7Yz1rYVtjXXx8a2EuX2RlZmF1bHQ7ZC5pbm5lckhUTUw9Y1sxXSthLnJlcGxhY2UoSWYsXCI8JDE+PC8kMj5cIikrY1syXTtmb3IoYz1jWzBdO2MtLTspZD1kLmxhc3RDaGlsZDtmPWJiKGYsZC5jaGlsZE5vZGVzKTtkPWUuZmlyc3RDaGlsZDtkLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBmLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShhKSk7ZS50ZXh0Q29udGVudD1cIlwiO2UuaW5uZXJIVE1MPVwiXCI7cChmLGZ1bmN0aW9uKGEpe2UuYXBwZW5kQ2hpbGQoYSl9KTtyZXR1cm4gZX1mdW5jdGlvbiBMYyhhLFxyXG5iKXt2YXIgZD1hLnBhcmVudE5vZGU7ZCYmZC5yZXBsYWNlQ2hpbGQoYixhKTtiLmFwcGVuZENoaWxkKGEpfWZ1bmN0aW9uIFkoYSl7aWYoYSBpbnN0YW5jZW9mIFkpcmV0dXJuIGE7dmFyIGI7RChhKSYmKGE9WihhKSxiPSEwKTtpZighKHRoaXMgaW5zdGFuY2VvZiBZKSl7aWYoYiYmXCI8XCIhPWEuY2hhckF0KDApKXRocm93IFViKFwibm9zZWxcIik7cmV0dXJuIG5ldyBZKGEpfWlmKGIpe2I9UTt2YXIgZDthPShkPUpmLmV4ZWMoYSkpP1tiLmNyZWF0ZUVsZW1lbnQoZFsxXSldOihkPUtjKGEsYikpP2QuY2hpbGROb2RlczpbXX1NYyh0aGlzLGEpfWZ1bmN0aW9uIFZiKGEpe3JldHVybiBhLmNsb25lTm9kZSghMCl9ZnVuY3Rpb24gd2IoYSxiKXtifHxmYihhKTtpZihhLnF1ZXJ5U2VsZWN0b3JBbGwpZm9yKHZhciBkPWEucXVlcnlTZWxlY3RvckFsbChcIipcIiksYz0wLGU9ZC5sZW5ndGg7YzxlO2MrKylmYihkW2NdKX1mdW5jdGlvbiBOYyhhLGIsZCxjKXtpZihBKGMpKXRocm93IFViKFwib2ZmYXJnc1wiKTtcclxudmFyIGU9KGM9eGIoYSkpJiZjLmV2ZW50cyxmPWMmJmMuaGFuZGxlO2lmKGYpaWYoYil7dmFyIGc9ZnVuY3Rpb24oYil7dmFyIGM9ZVtiXTtBKGQpJiZhYihjfHxbXSxkKTtBKGQpJiZjJiYwPGMubGVuZ3RofHwoYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsZiwhMSksZGVsZXRlIGVbYl0pfTtwKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2coYSk7eWJbYV0mJmcoeWJbYV0pfSl9ZWxzZSBmb3IoYiBpbiBlKVwiJGRlc3Ryb3lcIiE9PWImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRlbGV0ZSBlW2JdfWZ1bmN0aW9uIGZiKGEsYil7dmFyIGQ9YS5uZzMzOSxjPWQmJmdiW2RdO2MmJihiP2RlbGV0ZSBjLmRhdGFbYl06KGMuaGFuZGxlJiYoYy5ldmVudHMuJGRlc3Ryb3kmJmMuaGFuZGxlKHt9LFwiJGRlc3Ryb3lcIiksTmMoYSkpLGRlbGV0ZSBnYltkXSxhLm5nMzM5PXcpKX1mdW5jdGlvbiB4YihhLGIpe3ZhciBkPWEubmczMzksZD1kJiZnYltkXTtiJiYhZCYmKGEubmczMzk9ZD0rK0tmLFxyXG5kPWdiW2RdPXtldmVudHM6e30sZGF0YTp7fSxoYW5kbGU6d30pO3JldHVybiBkfWZ1bmN0aW9uIFdiKGEsYixkKXtpZihKYyhhKSl7dmFyIGM9QShkKSxlPSFjJiZiJiYhSShiKSxmPSFiO2E9KGE9eGIoYSwhZSkpJiZhLmRhdGE7aWYoYylhW2JdPWQ7ZWxzZXtpZihmKXJldHVybiBhO2lmKGUpcmV0dXJuIGEmJmFbYl07UyhhLGIpfX19ZnVuY3Rpb24gemIoYSxiKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGU/LTE8KFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIikuaW5kZXhPZihcIiBcIitiK1wiIFwiKTohMX1mdW5jdGlvbiBBYihhLGIpe2ImJmEuc2V0QXR0cmlidXRlJiZwKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIpe2Euc2V0QXR0cmlidXRlKFwiY2xhc3NcIixaKChcIiBcIisoYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikrXCIgXCIpLnJlcGxhY2UoL1tcXG5cXHRdL2csXCIgXCIpLnJlcGxhY2UoXCIgXCIrWihiKStcIiBcIixcIiBcIikpKX0pfWZ1bmN0aW9uIEJiKGEsXHJcbmIpe2lmKGImJmEuc2V0QXR0cmlidXRlKXt2YXIgZD0oXCIgXCIrKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKTtwKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2E9WihhKTstMT09PWQuaW5kZXhPZihcIiBcIithK1wiIFwiKSYmKGQrPWErXCIgXCIpfSk7YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFooZCkpfX1mdW5jdGlvbiBNYyhhLGIpe2lmKGIpaWYoYi5ub2RlVHlwZSlhW2EubGVuZ3RoKytdPWI7ZWxzZXt2YXIgZD1iLmxlbmd0aDtpZihcIm51bWJlclwiPT09dHlwZW9mIGQmJmIud2luZG93IT09Yil7aWYoZClmb3IodmFyIGM9MDtjPGQ7YysrKWFbYS5sZW5ndGgrK109YltjXX1lbHNlIGFbYS5sZW5ndGgrK109Yn19ZnVuY3Rpb24gT2MoYSxiKXtyZXR1cm4gQ2IoYSxcIiRcIisoYnx8XCJuZ0NvbnRyb2xsZXJcIikrXCJDb250cm9sbGVyXCIpfWZ1bmN0aW9uIENiKGEsYixkKXs5PT1hLm5vZGVUeXBlJiYoYT1hLmRvY3VtZW50RWxlbWVudCk7Zm9yKGI9XHJcbkwoYik/YjpbYl07YTspe2Zvcih2YXIgYz0wLGU9Yi5sZW5ndGg7YzxlO2MrKylpZihBKGQ9Ry5kYXRhKGEsYltjXSkpKXJldHVybiBkO2E9YS5wYXJlbnROb2RlfHwxMT09PWEubm9kZVR5cGUmJmEuaG9zdH19ZnVuY3Rpb24gUGMoYSl7Zm9yKHdiKGEsITApO2EuZmlyc3RDaGlsZDspYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIFhiKGEsYil7Ynx8d2IoYSk7dmFyIGQ9YS5wYXJlbnROb2RlO2QmJmQucmVtb3ZlQ2hpbGQoYSl9ZnVuY3Rpb24gTGYoYSxiKXtiPWJ8fE47aWYoXCJjb21wbGV0ZVwiPT09Yi5kb2N1bWVudC5yZWFkeVN0YXRlKWIuc2V0VGltZW91dChhKTtlbHNlIEcoYikub24oXCJsb2FkXCIsYSl9ZnVuY3Rpb24gUWMoYSxiKXt2YXIgZD1EYltiLnRvTG93ZXJDYXNlKCldO3JldHVybiBkJiZSY1twYShhKV0mJmR9ZnVuY3Rpb24gTWYoYSxiKXt2YXIgZD1mdW5jdGlvbihjLGQpe2MuaXNEZWZhdWx0UHJldmVudGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdFByZXZlbnRlZH07XHJcbnZhciBmPWJbZHx8Yy50eXBlXSxnPWY/Zi5sZW5ndGg6MDtpZihnKXtpZih2KGMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSl7dmFyIGg9Yy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247Yy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtjLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD0hMDtjLnN0b3BQcm9wYWdhdGlvbiYmYy5zdG9wUHJvcGFnYXRpb24oKTtoJiZoLmNhbGwoYyl9fWMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMD09PWMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkfTt2YXIgaz1mLnNwZWNpYWxIYW5kbGVyV3JhcHBlcnx8TmY7MTxnJiYoZj1tYShmKSk7Zm9yKHZhciBsPTA7bDxnO2wrKyljLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCl8fGsoYSxjLGZbbF0pfX07ZC5lbGVtPWE7cmV0dXJuIGR9ZnVuY3Rpb24gTmYoYSxiLGQpe2QuY2FsbChhLGIpfWZ1bmN0aW9uIE9mKGEsYixcclxuZCl7dmFyIGM9Yi5yZWxhdGVkVGFyZ2V0O2MmJihjPT09YXx8UGYuY2FsbChhLGMpKXx8ZC5jYWxsKGEsYil9ZnVuY3Rpb24gQ2YoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gUyhZLHtoYXNDbGFzczpmdW5jdGlvbihhLGIpe2EuYXR0ciYmKGE9YVswXSk7cmV0dXJuIHpiKGEsYil9LGFkZENsYXNzOmZ1bmN0aW9uKGEsYil7YS5hdHRyJiYoYT1hWzBdKTtyZXR1cm4gQmIoYSxiKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSxiKXthLmF0dHImJihhPWFbMF0pO3JldHVybiBBYihhLGIpfX0pfX1mdW5jdGlvbiBGYShhLGIpe3ZhciBkPWEmJmEuJCRoYXNoS2V5O2lmKGQpcmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGQmJihkPWEuJCRoYXNoS2V5KCkpLGQ7ZD10eXBlb2YgYTtyZXR1cm4gZD1cImZ1bmN0aW9uXCI9PWR8fFwib2JqZWN0XCI9PWQmJm51bGwhPT1hP2EuJCRoYXNoS2V5PWQrXCI6XCIrKGJ8fFVkKSgpOmQrXCI6XCIrYX1mdW5jdGlvbiBTYShhLGIpe2lmKGIpe3ZhciBkPTA7dGhpcy5uZXh0VWlkPVxyXG5mdW5jdGlvbigpe3JldHVybisrZH19cChhLHRoaXMucHV0LHRoaXMpfWZ1bmN0aW9uIFNjKGEpe2E9YS50b1N0cmluZygpLnJlcGxhY2UoUWYsXCJcIik7cmV0dXJuIGEubWF0Y2goUmYpfHxhLm1hdGNoKFNmKX1mdW5jdGlvbiBUZihhKXtyZXR1cm4oYT1TYyhhKSk/XCJmdW5jdGlvbihcIisoYVsxXXx8XCJcIikucmVwbGFjZSgvW1xcc1xcclxcbl0rLyxcIiBcIikrXCIpXCI6XCJmblwifWZ1bmN0aW9uIGRiKGEsYil7ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtpZihJKGIpKXAoYixwYyhhKSk7ZWxzZSByZXR1cm4gYShiLGMpfX1mdW5jdGlvbiBjKGEsYil7UmEoYSxcInNlcnZpY2VcIik7aWYoSChiKXx8TChiKSliPXkuaW5zdGFudGlhdGUoYik7aWYoIWIuJGdldCl0aHJvdyBHYShcInBnZXRcIixhKTtyZXR1cm4gblthK1wiUHJvdmlkZXJcIl09Yn1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9eC5pbnZva2UoYix0aGlzKTtpZih2KGMpKXRocm93IEdhKFwidW5kZWZcIixhKTtcclxucmV0dXJuIGN9fWZ1bmN0aW9uIGYoYSxiLGQpe3JldHVybiBjKGEseyRnZXQ6ITEhPT1kP2UoYSxiKTpifSl9ZnVuY3Rpb24gZyhhKXtzYih2KGEpfHxMKGEpLFwibW9kdWxlc1RvTG9hZFwiLFwibm90IGFuIGFycmF5XCIpO3ZhciBiPVtdLGM7cChhLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYSl7dmFyIGIsYztiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGU9YVtiXSxmPXkuZ2V0KGVbMF0pO2ZbZVsxXV0uYXBwbHkoZixlWzJdKX19aWYoIW0uZ2V0KGEpKXttLnB1dChhLCEwKTt0cnl7RChhKT8oYz1TYihhKSxiPWIuY29uY2F0KGcoYy5yZXF1aXJlcykpLmNvbmNhdChjLl9ydW5CbG9ja3MpLGQoYy5faW52b2tlUXVldWUpLGQoYy5fY29uZmlnQmxvY2tzKSk6SChhKT9iLnB1c2goeS5pbnZva2UoYSkpOkwoYSk/Yi5wdXNoKHkuaW52b2tlKGEpKTpRYShhLFwibW9kdWxlXCIpfWNhdGNoKGUpe3Rocm93IEwoYSkmJihhPWFbYS5sZW5ndGgtMV0pLGUubWVzc2FnZSYmZS5zdGFjayYmXHJcbi0xPT1lLnN0YWNrLmluZGV4T2YoZS5tZXNzYWdlKSYmKGU9ZS5tZXNzYWdlK1wiXFxuXCIrZS5zdGFjayksR2EoXCJtb2R1bGVyclwiLGEsZS5zdGFja3x8ZS5tZXNzYWdlfHxlKTt9fX0pO3JldHVybiBifWZ1bmN0aW9uIGgoYSxjKXtmdW5jdGlvbiBkKGIsZSl7aWYoYS5oYXNPd25Qcm9wZXJ0eShiKSl7aWYoYVtiXT09PWspdGhyb3cgR2EoXCJjZGVwXCIsYitcIiA8LSBcIitsLmpvaW4oXCIgPC0gXCIpKTtyZXR1cm4gYVtiXX10cnl7cmV0dXJuIGwudW5zaGlmdChiKSxhW2JdPWssYVtiXT1jKGIsZSl9Y2F0Y2goZil7dGhyb3cgYVtiXT09PWsmJmRlbGV0ZSBhW2JdLGY7fWZpbmFsbHl7bC5zaGlmdCgpfX1mdW5jdGlvbiBlKGEsYyxmKXt2YXIgZz1bXTthPWRiLiQkYW5ub3RhdGUoYSxiLGYpO2Zvcih2YXIgaD0wLGs9YS5sZW5ndGg7aDxrO2grKyl7dmFyIGw9YVtoXTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGwpdGhyb3cgR2EoXCJpdGtuXCIsbCk7Zy5wdXNoKGMmJmMuaGFzT3duUHJvcGVydHkobCk/Y1tsXTpcclxuZChsLGYpKX1yZXR1cm4gZ31yZXR1cm57aW52b2tlOmZ1bmN0aW9uKGEsYixjLGQpe1wic3RyaW5nXCI9PT10eXBlb2YgYyYmKGQ9YyxjPW51bGwpO2M9ZShhLGMsZCk7TChhKSYmKGE9YVthLmxlbmd0aC0xXSk7ZD0xMT49emE/ITE6XCJmdW5jdGlvblwiPT09dHlwZW9mIGEmJi9eKD86Y2xhc3NcXHN8Y29uc3RydWN0b3JcXCgpLy50ZXN0KEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpKTtyZXR1cm4gZD8oYy51bnNoaWZ0KG51bGwpLG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoYSxjKSkpOmEuYXBwbHkoYixjKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUwoYSk/YVthLmxlbmd0aC0xXTphO2E9ZShhLGIsYyk7YS51bnNoaWZ0KG51bGwpO3JldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGQsYSkpfSxnZXQ6ZCxhbm5vdGF0ZTpkYi4kJGFubm90YXRlLGhhczpmdW5jdGlvbihiKXtyZXR1cm4gbi5oYXNPd25Qcm9wZXJ0eShiK1xyXG5cIlByb3ZpZGVyXCIpfHxhLmhhc093blByb3BlcnR5KGIpfX19Yj0hMD09PWI7dmFyIGs9e30sbD1bXSxtPW5ldyBTYShbXSwhMCksbj17JHByb3ZpZGU6e3Byb3ZpZGVyOmQoYyksZmFjdG9yeTpkKGYpLHNlcnZpY2U6ZChmdW5jdGlvbihhLGIpe3JldHVybiBmKGEsW1wiJGluamVjdG9yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5zdGFudGlhdGUoYil9XSl9KSx2YWx1ZTpkKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYSxpYShiKSwhMSl9KSxjb25zdGFudDpkKGZ1bmN0aW9uKGEsYil7UmEoYSxcImNvbnN0YW50XCIpO25bYV09YjtCW2FdPWJ9KSxkZWNvcmF0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz15LmdldChhK1wiUHJvdmlkZXJcIiksZD1jLiRnZXQ7Yy4kZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9eC5pbnZva2UoZCxjKTtyZXR1cm4geC5pbnZva2UoYixudWxsLHskZGVsZWdhdGU6YX0pfX19fSx5PW4uJGluamVjdG9yPWgobixmdW5jdGlvbihhLGIpe2VhLmlzU3RyaW5nKGIpJiZsLnB1c2goYik7XHJcbnRocm93IEdhKFwidW5wclwiLGwuam9pbihcIiA8LSBcIikpO30pLEI9e30sSz1oKEIsZnVuY3Rpb24oYSxiKXt2YXIgYz15LmdldChhK1wiUHJvdmlkZXJcIixiKTtyZXR1cm4geC5pbnZva2UoYy4kZ2V0LGMsdyxhKX0pLHg9SztuLiRpbmplY3RvclByb3ZpZGVyPXskZ2V0OmlhKEspfTt2YXIgcT1nKGEpLHg9Sy5nZXQoXCIkaW5qZWN0b3JcIik7eC5zdHJpY3REaT1iO3AocSxmdW5jdGlvbihhKXthJiZ4Lmludm9rZShhKX0pO3JldHVybiB4fWZ1bmN0aW9uIFRlKCl7dmFyIGE9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1mdW5jdGlvbigpe2E9ITF9O3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkbG9jYXRpb25cIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihiLGQsYyl7ZnVuY3Rpb24gZShhKXt2YXIgYj1udWxsO0FycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoYSxmdW5jdGlvbihhKXtpZihcImFcIj09PXBhKGEpKXJldHVybiBiPWEsITB9KTtyZXR1cm4gYn1mdW5jdGlvbiBmKGEpe2lmKGEpe2Euc2Nyb2xsSW50b1ZpZXcoKTtcclxudmFyIGM7Yz1nLnlPZmZzZXQ7SChjKT9jPWMoKTpPYihjKT8oYz1jWzBdLGM9XCJmaXhlZFwiIT09Yi5nZXRDb21wdXRlZFN0eWxlKGMpLnBvc2l0aW9uPzA6Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20pOlcoYyl8fChjPTApO2MmJihhPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLGIuc2Nyb2xsQnkoMCxhLWMpKX1lbHNlIGIuc2Nyb2xsVG8oMCwwKX1mdW5jdGlvbiBnKGEpe2E9RChhKT9hOmQuaGFzaCgpO3ZhciBiO2E/KGI9aC5nZXRFbGVtZW50QnlJZChhKSk/ZihiKTooYj1lKGguZ2V0RWxlbWVudHNCeU5hbWUoYSkpKT9mKGIpOlwidG9wXCI9PT1hJiZmKG51bGwpOmYobnVsbCl9dmFyIGg9Yi5kb2N1bWVudDthJiZjLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBkLmhhc2goKX0sZnVuY3Rpb24oYSxiKXthPT09YiYmXCJcIj09PWF8fExmKGZ1bmN0aW9uKCl7Yy4kZXZhbEFzeW5jKGcpfSl9KTtyZXR1cm4gZ31dfWZ1bmN0aW9uIGhiKGEsYil7aWYoIWEmJiFiKXJldHVyblwiXCI7XHJcbmlmKCFhKXJldHVybiBiO2lmKCFiKXJldHVybiBhO0woYSkmJihhPWEuam9pbihcIiBcIikpO0woYikmJihiPWIuam9pbihcIiBcIikpO3JldHVybiBhK1wiIFwiK2J9ZnVuY3Rpb24gVWYoYSl7RChhKSYmKGE9YS5zcGxpdChcIiBcIikpO3ZhciBiPVgoKTtwKGEsZnVuY3Rpb24oYSl7YS5sZW5ndGgmJihiW2FdPSEwKX0pO3JldHVybiBifWZ1bmN0aW9uIEhhKGEpe3JldHVybiBJKGEpP2E6e319ZnVuY3Rpb24gVmYoYSxiLGQsYyl7ZnVuY3Rpb24gZShhKXt0cnl7YS5hcHBseShudWxsLHlhLmNhbGwoYXJndW1lbnRzLDEpKX1maW5hbGx5e2lmKEstLSwwPT09Sylmb3IoO3gubGVuZ3RoOyl0cnl7eC5wb3AoKSgpfWNhdGNoKGIpe2QuZXJyb3IoYil9fX1mdW5jdGlvbiBmKCl7TT1udWxsO2coKTtoKCl9ZnVuY3Rpb24gZygpe2E6e3RyeXtxPW0uc3RhdGU7YnJlYWsgYX1jYXRjaChhKXt9cT12b2lkIDB9cT12KHEpP251bGw6cTtvYShxLFQpJiYocT1UKTtUPXF9ZnVuY3Rpb24gaCgpe2lmKHUhPT1rLnVybCgpfHxcclxudCE9PXEpdT1rLnVybCgpLHQ9cSxwKEMsZnVuY3Rpb24oYSl7YShrLnVybCgpLHEpfSl9dmFyIGs9dGhpcyxsPWEubG9jYXRpb24sbT1hLmhpc3Rvcnksbj1hLnNldFRpbWVvdXQseT1hLmNsZWFyVGltZW91dCxCPXt9O2suaXNNb2NrPSExO3ZhciBLPTAseD1bXTtrLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Q9ZTtrLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQ9ZnVuY3Rpb24oKXtLKyt9O2subm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cz1mdW5jdGlvbihhKXswPT09Sz9hKCk6eC5wdXNoKGEpfTt2YXIgcSx0LHU9bC5ocmVmLHM9Yi5maW5kKFwiYmFzZVwiKSxNPW51bGw7ZygpO3Q9cTtrLnVybD1mdW5jdGlvbihiLGQsZSl7dihlKSYmKGU9bnVsbCk7bCE9PWEubG9jYXRpb24mJihsPWEubG9jYXRpb24pO20hPT1hLmhpc3RvcnkmJihtPWEuaGlzdG9yeSk7aWYoYil7dmFyIGY9dD09PWU7aWYodT09PWImJighYy5oaXN0b3J5fHxmKSlyZXR1cm4gazt2YXIgaD1cclxudSYmSWEodSk9PT1JYShiKTt1PWI7dD1lO2lmKCFjLmhpc3Rvcnl8fGgmJmYpe2lmKCFofHxNKU09YjtkP2wucmVwbGFjZShiKTpoPyhkPWwsZT1iLmluZGV4T2YoXCIjXCIpLGU9LTE9PT1lP1wiXCI6Yi5zdWJzdHIoZSksZC5oYXNoPWUpOmwuaHJlZj1iO2wuaHJlZiE9PWImJihNPWIpfWVsc2UgbVtkP1wicmVwbGFjZVN0YXRlXCI6XCJwdXNoU3RhdGVcIl0oZSxcIlwiLGIpLGcoKSx0PXE7cmV0dXJuIGt9cmV0dXJuIE18fGwuaHJlZi5yZXBsYWNlKC8lMjcvZyxcIidcIil9O2suc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gcX07dmFyIEM9W10sSj0hMSxUPW51bGw7ay5vblVybENoYW5nZT1mdW5jdGlvbihiKXtpZighSil7aWYoYy5oaXN0b3J5KUcoYSkub24oXCJwb3BzdGF0ZVwiLGYpO0coYSkub24oXCJoYXNoY2hhbmdlXCIsZik7Sj0hMH1DLnB1c2goYik7cmV0dXJuIGJ9O2suJCRhcHBsaWNhdGlvbkRlc3Ryb3llZD1mdW5jdGlvbigpe0coYSkub2ZmKFwiaGFzaGNoYW5nZSBwb3BzdGF0ZVwiLGYpfTtrLiQkY2hlY2tVcmxDaGFuZ2U9XHJcbmg7ay5iYXNlSHJlZj1mdW5jdGlvbigpe3ZhciBhPXMuYXR0cihcImhyZWZcIik7cmV0dXJuIGE/YS5yZXBsYWNlKC9eKGh0dHBzP1xcOik/XFwvXFwvW15cXC9dKi8sXCJcIik6XCJcIn07ay5kZWZlcj1mdW5jdGlvbihhLGIpe3ZhciBjO0srKztjPW4oZnVuY3Rpb24oKXtkZWxldGUgQltjXTtlKGEpfSxifHwwKTtCW2NdPSEwO3JldHVybiBjfTtrLmRlZmVyLmNhbmNlbD1mdW5jdGlvbihhKXtyZXR1cm4gQlthXT8oZGVsZXRlIEJbYV0seShhKSxlKHopLCEwKTohMX19ZnVuY3Rpb24gJGUoKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJGxvZ1wiLFwiJHNuaWZmZXJcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGEsYixkLGMpe3JldHVybiBuZXcgVmYoYSxjLGIsZCl9XX1mdW5jdGlvbiBhZigpe3RoaXMuJGdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjKXtmdW5jdGlvbiBlKGEpe2EhPW4mJih5P3k9PWEmJih5PWEubik6eT1hLGYoYS5uLGEucCksZihhLG4pLG49YSxuLm49bnVsbCl9ZnVuY3Rpb24gZihhLFxyXG5iKXthIT1iJiYoYSYmKGEucD1iKSxiJiYoYi5uPWEpKX1pZihhIGluIGIpdGhyb3cgTyhcIiRjYWNoZUZhY3RvcnlcIikoXCJpaWRcIixhKTt2YXIgZz0wLGg9Uyh7fSxjLHtpZDphfSksaz1YKCksbD1jJiZjLmNhcGFjaXR5fHxOdW1iZXIuTUFYX1ZBTFVFLG09WCgpLG49bnVsbCx5PW51bGw7cmV0dXJuIGJbYV09e3B1dDpmdW5jdGlvbihhLGIpe2lmKCF2KGIpKXtpZihsPE51bWJlci5NQVhfVkFMVUUpe3ZhciBjPW1bYV18fChtW2FdPXtrZXk6YX0pO2UoYyl9YSBpbiBrfHxnKys7a1thXT1iO2c+bCYmdGhpcy5yZW1vdmUoeS5rZXkpO3JldHVybiBifX0sZ2V0OmZ1bmN0aW9uKGEpe2lmKGw8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGI9bVthXTtpZighYilyZXR1cm47ZShiKX1yZXR1cm4ga1thXX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2lmKGw8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGI9bVthXTtpZighYilyZXR1cm47Yj09biYmKG49Yi5wKTtiPT15JiYoeT1iLm4pO2YoYi5uLGIucCk7ZGVsZXRlIG1bYV19YSBpblxyXG5rJiYoZGVsZXRlIGtbYV0sZy0tKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7az1YKCk7Zz0wO209WCgpO249eT1udWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7bT1oPWs9bnVsbDtkZWxldGUgYlthXX0saW5mbzpmdW5jdGlvbigpe3JldHVybiBTKHt9LGgse3NpemU6Z30pfX19dmFyIGI9e307YS5pbmZvPWZ1bmN0aW9uKCl7dmFyIGE9e307cChiLGZ1bmN0aW9uKGIsZSl7YVtlXT1iLmluZm8oKX0pO3JldHVybiBhfTthLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gYlthXX07cmV0dXJuIGF9fWZ1bmN0aW9uIHdmKCl7dGhpcy4kZ2V0PVtcIiRjYWNoZUZhY3RvcnlcIixmdW5jdGlvbihhKXtyZXR1cm4gYShcInRlbXBsYXRlc1wiKX1dfWZ1bmN0aW9uIEJjKGEsYil7ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQ9L15cXHMqKFtAJjxdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLyxlPXt9O3AoYSxmdW5jdGlvbihhLGYpe2lmKGEgaW4gbSllW2ZdPW1bYV07ZWxzZXt2YXIgZz1hLm1hdGNoKGQpO2lmKCFnKXRocm93IGxhKFwiaXNjcFwiLFxyXG5iLGYsYSxjP1wiY29udHJvbGxlciBiaW5kaW5ncyBkZWZpbml0aW9uXCI6XCJpc29sYXRlIHNjb3BlIGRlZmluaXRpb25cIik7ZVtmXT17bW9kZTpnWzFdWzBdLGNvbGxlY3Rpb246XCIqXCI9PT1nWzJdLG9wdGlvbmFsOlwiP1wiPT09Z1szXSxhdHRyTmFtZTpnWzRdfHxmfTtnWzRdJiYobVthXT1lW2ZdKX19KTtyZXR1cm4gZX1mdW5jdGlvbiBjKGEpe3ZhciBiPWEuY2hhckF0KDApO2lmKCFifHxiIT09RShiKSl0aHJvdyBsYShcImJhZGRpclwiLGEpO2lmKGEhPT1hLnRyaW0oKSl0aHJvdyBsYShcImJhZGRpclwiLGEpO312YXIgZT17fSxmPS9eXFxzKmRpcmVjdGl2ZVxcOlxccyooW1xcd1xcLV0rKVxccysoLiopJC8sZz0vKChbXFx3XFwtXSspKD86XFw6KFteO10rKSk/Oz8pLyxoPVlkKFwibmdTcmMsbmdTcmNzZXQsc3JjLHNyY3NldFwiKSxrPS9eKD86KFxcXlxcXj8pPyhcXD8pPyhcXF5cXF4/KT8pPy8sbD0vXihvblthLXpdK3xmb3JtYWN0aW9uKSQvLG09WCgpO3RoaXMuZGlyZWN0aXZlPWZ1bmN0aW9uIEIoYixkKXtSYShiLFxyXG5cImRpcmVjdGl2ZVwiKTtEKGIpPyhjKGIpLHNiKGQsXCJkaXJlY3RpdmVGYWN0b3J5XCIpLGUuaGFzT3duUHJvcGVydHkoYil8fChlW2JdPVtdLGEuZmFjdG9yeShiK1wiRGlyZWN0aXZlXCIsW1wiJGluamVjdG9yXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9W107cChlW2JdLGZ1bmN0aW9uKGUsZil7dHJ5e3ZhciBnPWEuaW52b2tlKGUpO0goZyk/Zz17Y29tcGlsZTppYShnKX06IWcuY29tcGlsZSYmZy5saW5rJiYoZy5jb21waWxlPWlhKGcubGluaykpO2cucHJpb3JpdHk9Zy5wcmlvcml0eXx8MDtnLmluZGV4PWY7Zy5uYW1lPWcubmFtZXx8YjtnLnJlcXVpcmU9Zy5yZXF1aXJlfHxnLmNvbnRyb2xsZXImJmcubmFtZTtnLnJlc3RyaWN0PWcucmVzdHJpY3R8fFwiRUFcIjtnLiQkbW9kdWxlTmFtZT1lLiQkbW9kdWxlTmFtZTtkLnB1c2goZyl9Y2F0Y2goaCl7YyhoKX19KTtyZXR1cm4gZH1dKSksZVtiXS5wdXNoKGQpKTpwKGIscGMoQikpO3JldHVybiB0aGlzfTt0aGlzLmNvbXBvbmVudD1cclxuZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2Z1bmN0aW9uIGUoYil7cmV0dXJuIEgoYil8fEwoYik/ZnVuY3Rpb24oYyxkKXtyZXR1cm4gYS5pbnZva2UoYix0aGlzLHskZWxlbWVudDpjLCRhdHRyczpkfSl9OmJ9dmFyIGY9Yi50ZW1wbGF0ZXx8Yi50ZW1wbGF0ZVVybD9iLnRlbXBsYXRlOlwiXCI7cmV0dXJue2NvbnRyb2xsZXI6ZCxjb250cm9sbGVyQXM6VGMoYi5jb250cm9sbGVyKXx8Yi5jb250cm9sbGVyQXN8fFwiJGN0cmxcIix0ZW1wbGF0ZTplKGYpLHRlbXBsYXRlVXJsOmUoYi50ZW1wbGF0ZVVybCksdHJhbnNjbHVkZTpiLnRyYW5zY2x1ZGUsc2NvcGU6e30sYmluZFRvQ29udHJvbGxlcjpiLmJpbmRpbmdzfHx7fSxyZXN0cmljdDpcIkVcIixyZXF1aXJlOmIucmVxdWlyZX19dmFyIGQ9Yi5jb250cm9sbGVyfHx6O3AoYixmdW5jdGlvbihhLGIpe1wiJFwiPT09Yi5jaGFyQXQoMCkmJihjW2JdPWEsZFtiXT1hKX0pO2MuJGluamVjdD1bXCIkaW5qZWN0b3JcIl07cmV0dXJuIHRoaXMuZGlyZWN0aXZlKGEsXHJcbmMpfTt0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiBBKGEpPyhiLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KGEpLHRoaXMpOmIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX07dGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIEEoYSk/KGIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KGEpLHRoaXMpOmIuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0KCl9O3ZhciBuPSEwO3RoaXMuZGVidWdJbmZvRW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gQShhKT8obj1hLHRoaXMpOm59O3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixcIiRpbnRlcnBvbGF0ZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiRwYXJzZVwiLFwiJGNvbnRyb2xsZXJcIixcIiRyb290U2NvcGVcIixcIiRzY2VcIixcIiRhbmltYXRlXCIsXCIkJHNhbml0aXplVXJpXCIsZnVuY3Rpb24oYSxiLGMsbSx0LHUscyxNLFxyXG5DLEope2Z1bmN0aW9uIFQoYSxiKXtpZihiKXt2YXIgYz1PYmplY3Qua2V5cyhiKSxkLGUsZjtkPTA7Zm9yKGU9Yy5sZW5ndGg7ZDxlO2QrKylmPWNbZF0sdGhpc1tmXT1iW2ZdfWVsc2UgdGhpcy4kYXR0cj17fTt0aGlzLiQkZWxlbWVudD1hfWZ1bmN0aW9uIEYoYSxiLGMpe2ZhLmlubmVySFRNTD1cIjxzcGFuIFwiK2IrXCI+XCI7Yj1mYS5maXJzdENoaWxkLmF0dHJpYnV0ZXM7dmFyIGQ9YlswXTtiLnJlbW92ZU5hbWVkSXRlbShkLm5hbWUpO2QudmFsdWU9YzthLmF0dHJpYnV0ZXMuc2V0TmFtZWRJdGVtKGQpfWZ1bmN0aW9uICQoYSxiKXt0cnl7YS5hZGRDbGFzcyhiKX1jYXRjaChjKXt9fWZ1bmN0aW9uIFIoYSxiLGMsZCxlKXthIGluc3RhbmNlb2YgR3x8KGE9RyhhKSk7Zm9yKHZhciBmPS9cXFMrLyxnPTAsaD1hLmxlbmd0aDtnPGg7ZysrKXt2YXIgaz1hW2ddO2subm9kZVR5cGU9PT1OYSYmay5ub2RlVmFsdWUubWF0Y2goZikmJkxjKGssYVtnXT1RLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKX12YXIgbD1cclxuUChhLGIsYSxjLGQsZSk7Ui4kJGFkZFNjb3BlQ2xhc3MoYSk7dmFyIG09bnVsbDtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe3NiKGIsXCJzY29wZVwiKTtlJiZlLm5lZWRzTmV3U2NvcGUmJihiPWIuJHBhcmVudC4kbmV3KCkpO2Q9ZHx8e307dmFyIGY9ZC5wYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbixnPWQudHJhbnNjbHVkZUNvbnRyb2xsZXJzO2Q9ZC5mdXR1cmVQYXJlbnRFbGVtZW50O2YmJmYuJCRib3VuZFRyYW5zY2x1ZGUmJihmPWYuJCRib3VuZFRyYW5zY2x1ZGUpO218fChtPShkPWQmJmRbMF0pP1wiZm9yZWlnbm9iamVjdFwiIT09cGEoZCkmJmhhLmNhbGwoZCkubWF0Y2goL1NWRy8pP1wic3ZnXCI6XCJodG1sXCI6XCJodG1sXCIpO2Q9XCJodG1sXCIhPT1tP0coZGEobSxHKFwiPGRpdj5cIikuYXBwZW5kKGEpLmh0bWwoKSkpOmM/UGEuY2xvbmUuY2FsbChhKTphO2lmKGcpZm9yKHZhciBoIGluIGcpZC5kYXRhKFwiJFwiK2grXCJDb250cm9sbGVyXCIsZ1toXS5pbnN0YW5jZSk7Ui4kJGFkZFNjb3BlSW5mbyhkLFxyXG5iKTtjJiZjKGQsYik7bCYmbChiLGQsZCxmKTtyZXR1cm4gZH19ZnVuY3Rpb24gUChhLGIsYyxkLGUsZil7ZnVuY3Rpb24gZyhhLGMsZCxlKXt2YXIgZixrLGwsbSxuLEMsdTtpZihxKWZvcih1PUFycmF5KGMubGVuZ3RoKSxtPTA7bTxoLmxlbmd0aDttKz0zKWY9aFttXSx1W2ZdPWNbZl07ZWxzZSB1PWM7bT0wO2ZvcihuPWgubGVuZ3RoO208bjspaz11W2hbbSsrXV0sYz1oW20rK10sZj1oW20rK10sYz8oYy5zY29wZT8obD1hLiRuZXcoKSxSLiQkYWRkU2NvcGVJbmZvKEcoayksbCkpOmw9YSxDPWMudHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ/Y2EoYSxjLnRyYW5zY2x1ZGUsZSk6IWMudGVtcGxhdGVPblRoaXNFbGVtZW50JiZlP2U6IWUmJmI/Y2EoYSxiKTpudWxsLGMoZixsLGssZCxDKSk6ZiYmZihhLGsuY2hpbGROb2Rlcyx3LGUpfWZvcih2YXIgaD1bXSxrLGwsbSxuLHEsQz0wO0M8YS5sZW5ndGg7QysrKXtrPW5ldyBUO2w9QWEoYVtDXSxbXSxrLDA9PT1DP2Q6dyxlKTsoZj1sLmxlbmd0aD9cclxuTyhsLGFbQ10sayxiLGMsbnVsbCxbXSxbXSxmKTpudWxsKSYmZi5zY29wZSYmUi4kJGFkZFNjb3BlQ2xhc3Moay4kJGVsZW1lbnQpO2s9ZiYmZi50ZXJtaW5hbHx8IShtPWFbQ10uY2hpbGROb2Rlcyl8fCFtLmxlbmd0aD9udWxsOlAobSxmPyhmLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50fHwhZi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpJiZmLnRyYW5zY2x1ZGU6Yik7aWYoZnx8ayloLnB1c2goQyxmLGspLG49ITAscT1xfHxmO2Y9bnVsbH1yZXR1cm4gbj9nOm51bGx9ZnVuY3Rpb24gY2EoYSxiLGMpe2Z1bmN0aW9uIGQoZSxmLGcsaCxrKXtlfHwoZT1hLiRuZXcoITEsayksZS4kJHRyYW5zY2x1ZGVkPSEwKTtyZXR1cm4gYihlLGYse3BhcmVudEJvdW5kVHJhbnNjbHVkZUZuOmMsdHJhbnNjbHVkZUNvbnRyb2xsZXJzOmcsZnV0dXJlUGFyZW50RWxlbWVudDpofSl9dmFyIGU9ZC4kJHNsb3RzPVgoKSxmO2ZvcihmIGluIGIuJCRzbG90cyllW2ZdPWIuJCRzbG90c1tmXT9jYShhLGIuJCRzbG90c1tmXSxcclxuYyk6bnVsbDtyZXR1cm4gZH1mdW5jdGlvbiBBYShhLGIsYyxkLGUpe3ZhciBoPWMuJGF0dHIsaztzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOk4oYix1YShwYShhKSksXCJFXCIsZCxlKTtmb3IodmFyIGwsbSxuLHE9YS5hdHRyaWJ1dGVzLEM9MCx1PXEmJnEubGVuZ3RoO0M8dTtDKyspe3ZhciB0PSExLEo9ITE7bD1xW0NdO2s9bC5uYW1lO209WihsLnZhbHVlKTtsPXVhKGspO2lmKG49d2EudGVzdChsKSlrPWsucmVwbGFjZShVYyxcIlwiKS5zdWJzdHIoOCkucmVwbGFjZSgvXyguKS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX0pOyhsPWwubWF0Y2goeGEpKSYmdmEobFsxXSkmJih0PWssSj1rLnN1YnN0cigwLGsubGVuZ3RoLTUpK1wiZW5kXCIsaz1rLnN1YnN0cigwLGsubGVuZ3RoLTYpKTtsPXVhKGsudG9Mb3dlckNhc2UoKSk7aFtsXT1rO2lmKG58fCFjLmhhc093blByb3BlcnR5KGwpKWNbbF09bSxRYyhhLGwpJiYoY1tsXT0hMCk7ZWEoYSxiLG0sbCxuKTtOKGIsXHJcbmwsXCJBXCIsZCxlLHQsSil9YT1hLmNsYXNzTmFtZTtJKGEpJiYoYT1hLmFuaW1WYWwpO2lmKEQoYSkmJlwiXCIhPT1hKWZvcig7az1nLmV4ZWMoYSk7KWw9dWEoa1syXSksTihiLGwsXCJDXCIsZCxlKSYmKGNbbF09WihrWzNdKSksYT1hLnN1YnN0cihrLmluZGV4K2tbMF0ubGVuZ3RoKTticmVhaztjYXNlIE5hOmlmKDExPT09emEpZm9yKDthLnBhcmVudE5vZGUmJmEubmV4dFNpYmxpbmcmJmEubmV4dFNpYmxpbmcubm9kZVR5cGU9PT1OYTspYS5ub2RlVmFsdWUrPWEubmV4dFNpYmxpbmcubm9kZVZhbHVlLGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhLm5leHRTaWJsaW5nKTtiYShiLGEubm9kZVZhbHVlKTticmVhaztjYXNlIDg6dHJ5e2lmKGs9Zi5leGVjKGEubm9kZVZhbHVlKSlsPXVhKGtbMV0pLE4oYixsLFwiTVwiLGQsZSkmJihjW2xdPVooa1syXSkpfWNhdGNoKEIpe319Yi5zb3J0KFYpO3JldHVybiBifWZ1bmN0aW9uIHIoYSxiLGMpe3ZhciBkPVtdLGU9MDtpZihiJiZhLmhhc0F0dHJpYnV0ZSYmXHJcbmEuaGFzQXR0cmlidXRlKGIpKXtkb3tpZighYSl0aHJvdyBsYShcInV0ZXJkaXJcIixiLGMpOzE9PWEubm9kZVR5cGUmJihhLmhhc0F0dHJpYnV0ZShiKSYmZSsrLGEuaGFzQXR0cmlidXRlKGMpJiZlLS0pO2QucHVzaChhKTthPWEubmV4dFNpYmxpbmd9d2hpbGUoMDxlKX1lbHNlIGQucHVzaChhKTtyZXR1cm4gRyhkKX1mdW5jdGlvbiBBKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCxlLGYsZyxoKXtlPXIoZVswXSxiLGMpO3JldHVybiBhKGQsZSxmLGcsaCl9fWZ1bmN0aW9uIFliKGEsYixjLGQsZSxmKXt2YXIgZztyZXR1cm4gYT9SKGIsYyxkLGUsZik6ZnVuY3Rpb24oKXtnfHwoZz1SKGIsYyxkLGUsZiksYj1jPWY9bnVsbCk7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBPKGEsYixkLGUsZixnLGgsayxsKXtmdW5jdGlvbiBtKGEsYixjLGQpe2lmKGEpe2MmJihhPUEoYSxjLGQpKTthLnJlcXVpcmU9cy5yZXF1aXJlO2EuZGlyZWN0aXZlTmFtZT1LO2lmKHQ9PT1cclxuc3x8cy4kJGlzb2xhdGVTY29wZSlhPWlhKGEse2lzb2xhdGVTY29wZTohMH0pO2gucHVzaChhKX1pZihiKXtjJiYoYj1BKGIsYyxkKSk7Yi5yZXF1aXJlPXMucmVxdWlyZTtiLmRpcmVjdGl2ZU5hbWU9SztpZih0PT09c3x8cy4kJGlzb2xhdGVTY29wZSliPWlhKGIse2lzb2xhdGVTY29wZTohMH0pO2sucHVzaChiKX19ZnVuY3Rpb24gbihhLGMsZSxmLGcpe2Z1bmN0aW9uIGwoYSxiLGMsZCl7dmFyIGU7JGEoYSl8fChkPWMsYz1iLGI9YSxhPXcpO00mJihlPUYpO2N8fChjPU0/eC5wYXJlbnQoKTp4KTtpZihkKXt2YXIgZj1nLiQkc2xvdHNbZF07aWYoZilyZXR1cm4gZihhLGIsZSxjLEFhKTtpZih2KGYpKXRocm93IGxhKFwibm9zbG90XCIsZCx0YSh4KSk7fWVsc2UgcmV0dXJuIGcoYSxiLGUsYyxBYSl9dmFyIG0scSxCLHMsRiwkLHgsUDtiPT09ZT8oZj1kLHg9ZC4kJGVsZW1lbnQpOih4PUcoZSksZj1uZXcgVCh4LGQpKTtCPWM7dD9zPWMuJG5ldyghMCk6QyYmKEI9Yy4kcGFyZW50KTtcclxuZyYmKCQ9bCwkLiQkYm91bmRUcmFuc2NsdWRlPWcsJC5pc1Nsb3RGaWxsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuISFnLiQkc2xvdHNbYV19KTt1JiYoRj1YZih4LGYsJCx1LHMsYyx0KSk7dCYmKFIuJCRhZGRTY29wZUluZm8oeCxzLCEwLCEoSiYmKEo9PT10fHxKPT09dC4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpLFIuJCRhZGRTY29wZUNsYXNzKHgsITApLHMuJCRpc29sYXRlQmluZGluZ3M9dC4kJGlzb2xhdGVCaW5kaW5ncywoUD1qYShjLGYscyxzLiQkaXNvbGF0ZUJpbmRpbmdzLHQpKSYmcy4kb24oXCIkZGVzdHJveVwiLFApKTtmb3IocSBpbiBGKXtQPXVbcV07dmFyIFRhPUZbcV0sSz1QLiQkYmluZGluZ3MuYmluZFRvQ29udHJvbGxlcjtUYS5pZGVudGlmaWVyJiZLJiYobT1qYShCLGYsVGEuaW5zdGFuY2UsSyxQKSk7dmFyIGNhPVRhKCk7Y2EhPT1UYS5pbnN0YW5jZSYmKFRhLmluc3RhbmNlPWNhLHguZGF0YShcIiRcIitQLm5hbWUrXCJDb250cm9sbGVyXCIsY2EpLG0mJm0oKSxtPWphKEIsXHJcbmYsVGEuaW5zdGFuY2UsSyxQKSl9cCh1LGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5yZXF1aXJlO2EuYmluZFRvQ29udHJvbGxlciYmIUwoYykmJkkoYykmJlMoRltiXS5pbnN0YW5jZSxpYihiLGMseCxGKSl9KTtwKEYsZnVuY3Rpb24oYSl7SChhLmluc3RhbmNlLiRvbkluaXQpJiZhLmluc3RhbmNlLiRvbkluaXQoKX0pO209MDtmb3IocT1oLmxlbmd0aDttPHE7bSsrKUI9aFttXSxtYShCLEIuaXNvbGF0ZVNjb3BlP3M6Yyx4LGYsQi5yZXF1aXJlJiZpYihCLmRpcmVjdGl2ZU5hbWUsQi5yZXF1aXJlLHgsRiksJCk7dmFyIEFhPWM7dCYmKHQudGVtcGxhdGV8fG51bGw9PT10LnRlbXBsYXRlVXJsKSYmKEFhPXMpO2EmJmEoQWEsZS5jaGlsZE5vZGVzLHcsZyk7Zm9yKG09ay5sZW5ndGgtMTswPD1tO20tLSlCPWtbbV0sbWEoQixCLmlzb2xhdGVTY29wZT9zOmMseCxmLEIucmVxdWlyZSYmaWIoQi5kaXJlY3RpdmVOYW1lLEIucmVxdWlyZSx4LEYpLCQpfWw9bHx8e307Zm9yKHZhciBxPS1OdW1iZXIuTUFYX1ZBTFVFLFxyXG5DPWwubmV3U2NvcGVEaXJlY3RpdmUsdT1sLmNvbnRyb2xsZXJEaXJlY3RpdmVzLHQ9bC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsSj1sLnRlbXBsYXRlRGlyZWN0aXZlLEI9bC5ub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLEY9ITEsJD0hMSxNPWwuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsUD1kLiQkZWxlbWVudD1HKGIpLHMsSyxjYSx6PWUsRCx2YT0hMSxOPSExLEUsUT0wLFVhPWEubGVuZ3RoO1E8VWE7USsrKXtzPWFbUV07dmFyIFY9cy4kJHN0YXJ0LGJhPXMuJCRlbmQ7ViYmKFA9cihiLFYsYmEpKTtjYT13O2lmKHE+cy5wcmlvcml0eSlicmVhaztpZihFPXMuc2NvcGUpcy50ZW1wbGF0ZVVybHx8KEkoRSk/KGFhKFwibmV3L2lzb2xhdGVkIHNjb3BlXCIsdHx8QyxzLFApLHQ9cyk6YWEoXCJuZXcvaXNvbGF0ZWQgc2NvcGVcIix0LHMsUCkpLEM9Q3x8cztLPXMubmFtZTtpZighdmEmJihzLnJlcGxhY2UmJihzLnRlbXBsYXRlVXJsfHxzLnRlbXBsYXRlKXx8cy50cmFuc2NsdWRlJiZcclxuIXMuJCR0bGIpKXtmb3IoRT1RKzE7dmE9YVtFKytdOylpZih2YS50cmFuc2NsdWRlJiYhdmEuJCR0bGJ8fHZhLnJlcGxhY2UmJih2YS50ZW1wbGF0ZVVybHx8dmEudGVtcGxhdGUpKXtOPSEwO2JyZWFrfXZhPSEwfSFzLnRlbXBsYXRlVXJsJiZzLmNvbnRyb2xsZXImJihFPXMuY29udHJvbGxlcix1PXV8fFgoKSxhYShcIidcIitLK1wiJyBjb250cm9sbGVyXCIsdVtLXSxzLFApLHVbS109cyk7aWYoRT1zLnRyYW5zY2x1ZGUpaWYoRj0hMCxzLiQkdGxifHwoYWEoXCJ0cmFuc2NsdXNpb25cIixCLHMsUCksQj1zKSxcImVsZW1lbnRcIj09RSlNPSEwLHE9cy5wcmlvcml0eSxjYT1QLFA9ZC4kJGVsZW1lbnQ9RyhSLiQkY3JlYXRlQ29tbWVudChLLGRbS10pKSxiPVBbMF0sZ2EoZix5YS5jYWxsKGNhLDApLGIpLHo9WWIoTixjYSxlLHEsZyYmZy5uYW1lLHtub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOkJ9KTtlbHNle3ZhciBVPVgoKTtjYT1HKFZiKGIpKS5jb250ZW50cygpO2lmKEkoRSkpe2NhPVtdO3ZhciBlYT1cclxuWCgpLGZhPVgoKTtwKEUsZnVuY3Rpb24oYSxiKXt2YXIgYz1cIj9cIj09PWEuY2hhckF0KDApO2E9Yz9hLnN1YnN0cmluZygxKTphO2VhW2FdPWI7VVtiXT1udWxsO2ZhW2JdPWN9KTtwKFAuY29udGVudHMoKSxmdW5jdGlvbihhKXt2YXIgYj1lYVt1YShwYShhKSldO2I/KGZhW2JdPSEwLFVbYl09VVtiXXx8W10sVVtiXS5wdXNoKGEpKTpjYS5wdXNoKGEpfSk7cChmYSxmdW5jdGlvbihhLGIpe2lmKCFhKXRocm93IGxhKFwicmVxc2xvdFwiLGIpO30pO2Zvcih2YXIgaGEgaW4gVSlVW2hhXSYmKFVbaGFdPVliKE4sVVtoYV0sZSkpfVAuZW1wdHkoKTt6PVliKE4sY2EsZSx3LHcse25lZWRzTmV3U2NvcGU6cy4kJGlzb2xhdGVTY29wZXx8cy4kJG5ld1Njb3BlfSk7ei4kJHNsb3RzPVV9aWYocy50ZW1wbGF0ZSlpZigkPSEwLGFhKFwidGVtcGxhdGVcIixKLHMsUCksSj1zLEU9SChzLnRlbXBsYXRlKT9zLnRlbXBsYXRlKFAsZCk6cy50ZW1wbGF0ZSxFPXJhKEUpLHMucmVwbGFjZSl7Zz1zO2NhPVRiLnRlc3QoRSk/XHJcblZjKGRhKHMudGVtcGxhdGVOYW1lc3BhY2UsWihFKSkpOltdO2I9Y2FbMF07aWYoMSE9Y2EubGVuZ3RofHwxIT09Yi5ub2RlVHlwZSl0aHJvdyBsYShcInRwbHJ0XCIsSyxcIlwiKTtnYShmLFAsYik7VWE9eyRhdHRyOnt9fTtFPUFhKGIsW10sVWEpO3ZhciBrYT1hLnNwbGljZShRKzEsYS5sZW5ndGgtKFErMSkpOyh0fHxDKSYmV2MoRSx0LEMpO2E9YS5jb25jYXQoRSkuY29uY2F0KGthKTtXKGQsVWEpO1VhPWEubGVuZ3RofWVsc2UgUC5odG1sKEUpO2lmKHMudGVtcGxhdGVVcmwpJD0hMCxhYShcInRlbXBsYXRlXCIsSixzLFApLEo9cyxzLnJlcGxhY2UmJihnPXMpLG49WShhLnNwbGljZShRLGEubGVuZ3RoLVEpLFAsZCxmLEYmJnosaCxrLHtjb250cm9sbGVyRGlyZWN0aXZlczp1LG5ld1Njb3BlRGlyZWN0aXZlOkMhPT1zJiZDLG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZTp0LHRlbXBsYXRlRGlyZWN0aXZlOkosbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTpCfSksVWE9YS5sZW5ndGg7ZWxzZSBpZihzLmNvbXBpbGUpdHJ5e0Q9XHJcbnMuY29tcGlsZShQLGQseiksSChEKT9tKG51bGwsRCxWLGJhKTpEJiZtKEQucHJlLEQucG9zdCxWLGJhKX1jYXRjaChXZil7YyhXZix0YShQKSl9cy50ZXJtaW5hbCYmKG4udGVybWluYWw9ITAscT1NYXRoLm1heChxLHMucHJpb3JpdHkpKX1uLnNjb3BlPUMmJiEwPT09Qy5zY29wZTtuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50PUY7bi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQ9JDtuLnRyYW5zY2x1ZGU9ejtsLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlPU07cmV0dXJuIG59ZnVuY3Rpb24gaWIoYSxiLGMsZCl7dmFyIGU7aWYoRChiKSl7dmFyIGY9Yi5tYXRjaChrKTtiPWIuc3Vic3RyaW5nKGZbMF0ubGVuZ3RoKTt2YXIgZz1mWzFdfHxmWzNdLGY9XCI/XCI9PT1mWzJdO1wiXl5cIj09PWc/Yz1jLnBhcmVudCgpOmU9KGU9ZCYmZFtiXSkmJmUuaW5zdGFuY2U7aWYoIWUpe3ZhciBoPVwiJFwiK2IrXCJDb250cm9sbGVyXCI7ZT1nP2MuaW5oZXJpdGVkRGF0YShoKTpjLmRhdGEoaCl9aWYoIWUmJlxyXG4hZil0aHJvdyBsYShcImN0cmVxXCIsYixhKTt9ZWxzZSBpZihMKGIpKWZvcihlPVtdLGc9MCxmPWIubGVuZ3RoO2c8ZjtnKyspZVtnXT1pYihhLGJbZ10sYyxkKTtlbHNlIEkoYikmJihlPXt9LHAoYixmdW5jdGlvbihiLGYpe2VbZl09aWIoYSxiLGMsZCl9KSk7cmV0dXJuIGV8fG51bGx9ZnVuY3Rpb24gWGYoYSxiLGMsZCxlLGYsZyl7dmFyIGg9WCgpLGs7Zm9yKGsgaW4gZCl7dmFyIGw9ZFtrXSxtPXskc2NvcGU6bD09PWd8fGwuJCRpc29sYXRlU2NvcGU/ZTpmLCRlbGVtZW50OmEsJGF0dHJzOmIsJHRyYW5zY2x1ZGU6Y30sbj1sLmNvbnRyb2xsZXI7XCJAXCI9PW4mJihuPWJbbC5uYW1lXSk7bT11KG4sbSwhMCxsLmNvbnRyb2xsZXJBcyk7aFtsLm5hbWVdPW07YS5kYXRhKFwiJFwiK2wubmFtZStcIkNvbnRyb2xsZXJcIixtLmluc3RhbmNlKX1yZXR1cm4gaH1mdW5jdGlvbiBXYyhhLGIsYyl7Zm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWFbZF09UGIoYVtkXSx7JCRpc29sYXRlU2NvcGU6YixcclxuJCRuZXdTY29wZTpjfSl9ZnVuY3Rpb24gTihiLGYsZyxoLGssbCxtKXtpZihmPT09aylyZXR1cm4gbnVsbDtrPW51bGw7aWYoZS5oYXNPd25Qcm9wZXJ0eShmKSl7dmFyIG47Zj1hLmdldChmK1wiRGlyZWN0aXZlXCIpO2Zvcih2YXIgcT0wLEM9Zi5sZW5ndGg7cTxDO3ErKyl0cnl7aWYobj1mW3FdLCh2KGgpfHxoPm4ucHJpb3JpdHkpJiYtMSE9bi5yZXN0cmljdC5pbmRleE9mKGcpKXtsJiYobj1QYihuLHskJHN0YXJ0OmwsJCRlbmQ6bX0pKTtpZighbi4kJGJpbmRpbmdzKXt2YXIgdT1uLHQ9bixKPW4ubmFtZSxzPXtpc29sYXRlU2NvcGU6bnVsbCxiaW5kVG9Db250cm9sbGVyOm51bGx9O0kodC5zY29wZSkmJighMD09PXQuYmluZFRvQ29udHJvbGxlcj8ocy5iaW5kVG9Db250cm9sbGVyPWQodC5zY29wZSxKLCEwKSxzLmlzb2xhdGVTY29wZT17fSk6cy5pc29sYXRlU2NvcGU9ZCh0LnNjb3BlLEosITEpKTtJKHQuYmluZFRvQ29udHJvbGxlcikmJihzLmJpbmRUb0NvbnRyb2xsZXI9ZCh0LmJpbmRUb0NvbnRyb2xsZXIsXHJcbkosITApKTtpZihJKHMuYmluZFRvQ29udHJvbGxlcikpe3ZhciBGPXQuY29udHJvbGxlciwkPXQuY29udHJvbGxlckFzO2lmKCFGKXRocm93IGxhKFwibm9jdHJsXCIsSik7aWYoIVRjKEYsJCkpdGhyb3cgbGEoXCJub2lkZW50XCIsSik7fXZhciBUPXUuJCRiaW5kaW5ncz1zO0koVC5pc29sYXRlU2NvcGUpJiYobi4kJGlzb2xhdGVCaW5kaW5ncz1ULmlzb2xhdGVTY29wZSl9Yi5wdXNoKG4pO2s9bn19Y2F0Y2goUCl7YyhQKX19cmV0dXJuIGt9ZnVuY3Rpb24gdmEoYil7aWYoZS5oYXNPd25Qcm9wZXJ0eShiKSlmb3IodmFyIGM9YS5nZXQoYitcIkRpcmVjdGl2ZVwiKSxkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKWlmKGI9Y1tkXSxiLm11bHRpRWxlbWVudClyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBXKGEsYil7dmFyIGM9Yi4kYXR0cixkPWEuJGF0dHIsZT1hLiQkZWxlbWVudDtwKGEsZnVuY3Rpb24oZCxlKXtcIiRcIiE9ZS5jaGFyQXQoMCkmJihiW2VdJiZiW2VdIT09ZCYmKGQrPShcInN0eWxlXCI9PT1cclxuZT9cIjtcIjpcIiBcIikrYltlXSksYS4kc2V0KGUsZCwhMCxjW2VdKSl9KTtwKGIsZnVuY3Rpb24oYixmKXtcImNsYXNzXCI9PWY/KCQoZSxiKSxhW1wiY2xhc3NcIl09KGFbXCJjbGFzc1wiXT9hW1wiY2xhc3NcIl0rXCIgXCI6XCJcIikrYik6XCJzdHlsZVwiPT1mPyhlLmF0dHIoXCJzdHlsZVwiLGUuYXR0cihcInN0eWxlXCIpK1wiO1wiK2IpLGEuc3R5bGU9KGEuc3R5bGU/YS5zdHlsZStcIjtcIjpcIlwiKStiKTpcIiRcIj09Zi5jaGFyQXQoMCl8fGEuaGFzT3duUHJvcGVydHkoZil8fChhW2ZdPWIsZFtmXT1jW2ZdKX0pfWZ1bmN0aW9uIFkoYSxiLGMsZCxlLGYsZyxoKXt2YXIgaz1bXSxsLG4sQz1iWzBdLHU9YS5zaGlmdCgpLHQ9UGIodSx7dGVtcGxhdGVVcmw6bnVsbCx0cmFuc2NsdWRlOm51bGwscmVwbGFjZTpudWxsLCQkb3JpZ2luYWxEaXJlY3RpdmU6dX0pLEo9SCh1LnRlbXBsYXRlVXJsKT91LnRlbXBsYXRlVXJsKGIsYyk6dS50ZW1wbGF0ZVVybCxCPXUudGVtcGxhdGVOYW1lc3BhY2U7Yi5lbXB0eSgpO20oSikudGhlbihmdW5jdGlvbihtKXt2YXIgcSxcclxuczttPXJhKG0pO2lmKHUucmVwbGFjZSl7bT1UYi50ZXN0KG0pP1ZjKGRhKEIsWihtKSkpOltdO3E9bVswXTtpZigxIT1tLmxlbmd0aHx8MSE9PXEubm9kZVR5cGUpdGhyb3cgbGEoXCJ0cGxydFwiLHUubmFtZSxKKTttPXskYXR0cjp7fX07Z2EoZCxiLHEpO3ZhciBGPUFhKHEsW10sbSk7SSh1LnNjb3BlKSYmV2MoRiwhMCk7YT1GLmNvbmNhdChhKTtXKGMsbSl9ZWxzZSBxPUMsYi5odG1sKG0pO2EudW5zaGlmdCh0KTtsPU8oYSxxLGMsZSxiLHUsZixnLGgpO3AoZCxmdW5jdGlvbihhLGMpe2E9PXEmJihkW2NdPWJbMF0pfSk7Zm9yKG49UChiWzBdLmNoaWxkTm9kZXMsZSk7ay5sZW5ndGg7KXttPWsuc2hpZnQoKTtzPWsuc2hpZnQoKTt2YXIgeD1rLnNoaWZ0KCksVD1rLnNoaWZ0KCksRj1iWzBdO2lmKCFtLiQkZGVzdHJveWVkKXtpZihzIT09Qyl7dmFyIFI9cy5jbGFzc05hbWU7aC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSYmdS5yZXBsYWNlfHwoRj1WYihxKSk7Z2EoeCxHKHMpLFxyXG5GKTskKEcoRiksUil9cz1sLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50P2NhKG0sbC50cmFuc2NsdWRlLFQpOlQ7bChuLG0sRixkLHMpfX1rPW51bGx9KTtyZXR1cm4gZnVuY3Rpb24oYSxiLGMsZCxlKXthPWU7Yi4kJGRlc3Ryb3llZHx8KGs/ay5wdXNoKGIsYyxkLGEpOihsLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50JiYoYT1jYShiLGwudHJhbnNjbHVkZSxlKSksbChuLGIsYyxkLGEpKSl9fWZ1bmN0aW9uIFYoYSxiKXt2YXIgYz1iLnByaW9yaXR5LWEucHJpb3JpdHk7cmV0dXJuIDAhPT1jP2M6YS5uYW1lIT09Yi5uYW1lP2EubmFtZTxiLm5hbWU/LTE6MTphLmluZGV4LWIuaW5kZXh9ZnVuY3Rpb24gYWEoYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT9cIiAobW9kdWxlOiBcIithK1wiKVwiOlwiXCJ9aWYoYil0aHJvdyBsYShcIm11bHRpZGlyXCIsYi5uYW1lLGUoYi4kJG1vZHVsZU5hbWUpLGMubmFtZSxlKGMuJCRtb2R1bGVOYW1lKSxhLHRhKGQpKTt9ZnVuY3Rpb24gYmEoYSxjKXt2YXIgZD1cclxuYihjLCEwKTtkJiZhLnB1c2goe3ByaW9yaXR5OjAsY29tcGlsZTpmdW5jdGlvbihhKXthPWEucGFyZW50KCk7dmFyIGI9ISFhLmxlbmd0aDtiJiZSLiQkYWRkQmluZGluZ0NsYXNzKGEpO3JldHVybiBmdW5jdGlvbihhLGMpe3ZhciBlPWMucGFyZW50KCk7Ynx8Ui4kJGFkZEJpbmRpbmdDbGFzcyhlKTtSLiQkYWRkQmluZGluZ0luZm8oZSxkLmV4cHJlc3Npb25zKTthLiR3YXRjaChkLGZ1bmN0aW9uKGEpe2NbMF0ubm9kZVZhbHVlPWF9KX19fSl9ZnVuY3Rpb24gZGEoYSxiKXthPUUoYXx8XCJodG1sXCIpO3N3aXRjaChhKXtjYXNlIFwic3ZnXCI6Y2FzZSBcIm1hdGhcIjp2YXIgYz1RLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5pbm5lckhUTUw9XCI8XCIrYStcIj5cIitiK1wiPC9cIithK1wiPlwiO3JldHVybiBjLmNoaWxkTm9kZXNbMF0uY2hpbGROb2RlcztkZWZhdWx0OnJldHVybiBifX1mdW5jdGlvbiBVKGEsYil7aWYoXCJzcmNkb2NcIj09YilyZXR1cm4gTS5IVE1MO3ZhciBjPXBhKGEpO2lmKFwieGxpbmtIcmVmXCI9PVxyXG5ifHxcImZvcm1cIj09YyYmXCJhY3Rpb25cIj09Ynx8XCJpbWdcIiE9YyYmKFwic3JjXCI9PWJ8fFwibmdTcmNcIj09YikpcmV0dXJuIE0uUkVTT1VSQ0VfVVJMfWZ1bmN0aW9uIGVhKGEsYyxkLGUsZil7dmFyIGc9VShhLGUpO2Y9aFtlXXx8Zjt2YXIgaz1iKGQsITAsZyxmKTtpZihrKXtpZihcIm11bHRpcGxlXCI9PT1lJiZcInNlbGVjdFwiPT09cGEoYSkpdGhyb3cgbGEoXCJzZWxtdWx0aVwiLHRhKGEpKTtjLnB1c2goe3ByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihhLGMsaCl7Yz1oLiQkb2JzZXJ2ZXJzfHwoaC4kJG9ic2VydmVycz1YKCkpO2lmKGwudGVzdChlKSl0aHJvdyBsYShcIm5vZG9tZXZlbnRzXCIpO3ZhciBtPWhbZV07bSE9PWQmJihrPW0mJmIobSwhMCxnLGYpLGQ9bSk7ayYmKGhbZV09ayhhKSwoY1tlXXx8KGNbZV09W10pKS4kJGludGVyPSEwLChoLiQkb2JzZXJ2ZXJzJiZoLiQkb2JzZXJ2ZXJzW2VdLiQkc2NvcGV8fGEpLiR3YXRjaChrLGZ1bmN0aW9uKGEsXHJcbmIpe1wiY2xhc3NcIj09PWUmJmEhPWI/aC4kdXBkYXRlQ2xhc3MoYSxiKTpoLiRzZXQoZSxhKX0pKX19fX0pfX1mdW5jdGlvbiBnYShhLGIsYyl7dmFyIGQ9YlswXSxlPWIubGVuZ3RoLGY9ZC5wYXJlbnROb2RlLGcsaDtpZihhKWZvcihnPTAsaD1hLmxlbmd0aDtnPGg7ZysrKWlmKGFbZ109PWQpe2FbZysrXT1jO2g9ZytlLTE7Zm9yKHZhciBrPWEubGVuZ3RoO2c8aztnKyssaCsrKWg8az9hW2ddPWFbaF06ZGVsZXRlIGFbZ107YS5sZW5ndGgtPWUtMTthLmNvbnRleHQ9PT1kJiYoYS5jb250ZXh0PWMpO2JyZWFrfWYmJmYucmVwbGFjZUNoaWxkKGMsZCk7YT1RLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IoZz0wO2c8ZTtnKyspYS5hcHBlbmRDaGlsZChiW2ddKTtHLmhhc0RhdGEoZCkmJihHLmRhdGEoYyxHLmRhdGEoZCkpLEcoZCkub2ZmKFwiJGRlc3Ryb3lcIikpO0cuY2xlYW5EYXRhKGEucXVlcnlTZWxlY3RvckFsbChcIipcIikpO2ZvcihnPTE7ZzxlO2crKylkZWxldGUgYltnXTtiWzBdPVxyXG5jO2IubGVuZ3RoPTF9ZnVuY3Rpb24gaWEoYSxiKXtyZXR1cm4gUyhmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sYSxiKX1mdW5jdGlvbiBtYShhLGIsZCxlLGYsZyl7dHJ5e2EoYixkLGUsZixnKX1jYXRjaChoKXtjKGgsdGEoZCkpfX1mdW5jdGlvbiBqYShhLGMsZCxlLGYpe3ZhciBnPVtdO3AoZSxmdW5jdGlvbihlLGgpe3ZhciBrPWUuYXR0ck5hbWUsbD1lLm9wdGlvbmFsLG0sbixxLEM7c3dpdGNoKGUubW9kZSl7Y2FzZSBcIkBcIjpsfHxzYS5jYWxsKGMsayl8fChkW2hdPWNba109dm9pZCAwKTtjLiRvYnNlcnZlKGssZnVuY3Rpb24oYSl7RChhKSYmKGRbaF09YSl9KTtjLiQkb2JzZXJ2ZXJzW2tdLiQkc2NvcGU9YTttPWNba107RChtKT9kW2hdPWIobSkoYSk6TWEobSkmJihkW2hdPW0pO2JyZWFrO2Nhc2UgXCI9XCI6aWYoIXNhLmNhbGwoYyxrKSl7aWYobClicmVhaztjW2tdPXZvaWQgMH1pZihsJiYhY1trXSlicmVhaztuPXQoY1trXSk7Qz1uLmxpdGVyYWw/XHJcbm9hOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1ifHxhIT09YSYmYiE9PWJ9O3E9bi5hc3NpZ258fGZ1bmN0aW9uKCl7bT1kW2hdPW4oYSk7dGhyb3cgbGEoXCJub25hc3NpZ25cIixjW2tdLGssZi5uYW1lKTt9O209ZFtoXT1uKGEpO2w9ZnVuY3Rpb24oYil7QyhiLGRbaF0pfHwoQyhiLG0pP3EoYSxiPWRbaF0pOmRbaF09Yik7cmV0dXJuIG09Yn07bC4kc3RhdGVmdWw9ITA7bD1lLmNvbGxlY3Rpb24/YS4kd2F0Y2hDb2xsZWN0aW9uKGNba10sbCk6YS4kd2F0Y2godChjW2tdLGwpLG51bGwsbi5saXRlcmFsKTtnLnB1c2gobCk7YnJlYWs7Y2FzZSBcIjxcIjppZighc2EuY2FsbChjLGspKXtpZihsKWJyZWFrO2Nba109dm9pZCAwfWlmKGwmJiFjW2tdKWJyZWFrO249dChjW2tdKTtkW2hdPW4oYSk7bD1hLiR3YXRjaChuLGZ1bmN0aW9uKGEpe2RbaF09YX0sbi5saXRlcmFsKTtnLnB1c2gobCk7YnJlYWs7Y2FzZSBcIiZcIjpuPWMuaGFzT3duUHJvcGVydHkoayk/dChjW2tdKTp6O2lmKG49PT16JiZcclxubClicmVhaztkW2hdPWZ1bmN0aW9uKGIpe3JldHVybiBuKGEsYil9fX0pO3JldHVybiBnLmxlbmd0aCYmZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPWcubGVuZ3RoO2E8YjsrK2EpZ1thXSgpfX12YXIga2E9L15cXHcvLGZhPVEuY3JlYXRlRWxlbWVudChcImRpdlwiKTtULnByb3RvdHlwZT17JG5vcm1hbGl6ZTp1YSwkYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7YSYmMDxhLmxlbmd0aCYmQy5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxhKX0sJHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe2EmJjA8YS5sZW5ndGgmJkMucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsYSl9LCR1cGRhdGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPVhjKGEsYik7YyYmYy5sZW5ndGgmJkMuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsYyk7KGM9WGMoYixhKSkmJmMubGVuZ3RoJiZDLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LGMpfSwkc2V0OmZ1bmN0aW9uKGEsYixkLGUpe3ZhciBmPVFjKHRoaXMuJCRlbGVtZW50WzBdLFxyXG5hKSxnPVljW2FdLGg9YTtmPyh0aGlzLiQkZWxlbWVudC5wcm9wKGEsYiksZT1mKTpnJiYodGhpc1tnXT1iLGg9Zyk7dGhpc1thXT1iO2U/dGhpcy4kYXR0clthXT1lOihlPXRoaXMuJGF0dHJbYV0pfHwodGhpcy4kYXR0clthXT1lPXljKGEsXCItXCIpKTtmPXBhKHRoaXMuJCRlbGVtZW50KTtpZihcImFcIj09PWYmJihcImhyZWZcIj09PWF8fFwieGxpbmtIcmVmXCI9PT1hKXx8XCJpbWdcIj09PWYmJlwic3JjXCI9PT1hKXRoaXNbYV09Yj1KKGIsXCJzcmNcIj09PWEpO2Vsc2UgaWYoXCJpbWdcIj09PWYmJlwic3Jjc2V0XCI9PT1hKXtmb3IodmFyIGY9XCJcIixnPVooYiksaz0vKFxccytcXGQreFxccyosfFxccytcXGQrd1xccyosfFxccyssfCxcXHMrKS8saz0vXFxzLy50ZXN0KGcpP2s6LygsKS8sZz1nLnNwbGl0KGspLGs9TWF0aC5mbG9vcihnLmxlbmd0aC8yKSxsPTA7bDxrO2wrKyl2YXIgbT0yKmwsZj1mK0ooWihnW21dKSwhMCksZj1mKyhcIiBcIitaKGdbbSsxXSkpO2c9WihnWzIqbF0pLnNwbGl0KC9cXHMvKTtmKz1KKFooZ1swXSksXHJcbiEwKTsyPT09Zy5sZW5ndGgmJihmKz1cIiBcIitaKGdbMV0pKTt0aGlzW2FdPWI9Zn0hMSE9PWQmJihudWxsPT09Ynx8dihiKT90aGlzLiQkZWxlbWVudC5yZW1vdmVBdHRyKGUpOmthLnRlc3QoZSk/dGhpcy4kJGVsZW1lbnQuYXR0cihlLGIpOkYodGhpcy4kJGVsZW1lbnRbMF0sZSxiKSk7KGE9dGhpcy4kJG9ic2VydmVycykmJnAoYVtoXSxmdW5jdGlvbihhKXt0cnl7YShiKX1jYXRjaChkKXtjKGQpfX0pfSwkb2JzZXJ2ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLiQkb2JzZXJ2ZXJzfHwoYy4kJG9ic2VydmVycz1YKCkpLGU9ZFthXXx8KGRbYV09W10pO2UucHVzaChiKTtzLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtlLiQkaW50ZXJ8fCFjLmhhc093blByb3BlcnR5KGEpfHx2KGNbYV0pfHxiKGNbYV0pfSk7cmV0dXJuIGZ1bmN0aW9uKCl7YWIoZSxiKX19fTt2YXIgbmE9Yi5zdGFydFN5bWJvbCgpLHFhPWIuZW5kU3ltYm9sKCkscmE9XCJ7e1wiPT1uYSYmXCJ9fVwiPT1xYT9aYTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHtcXHsvZyxcclxubmEpLnJlcGxhY2UoL319L2cscWEpfSx3YT0vXm5nQXR0cltBLVpdLyx4YT0vXiguKylTdGFydCQvO1IuJCRhZGRCaW5kaW5nSW5mbz1uP2Z1bmN0aW9uKGEsYil7dmFyIGM9YS5kYXRhKFwiJGJpbmRpbmdcIil8fFtdO0woYik/Yz1jLmNvbmNhdChiKTpjLnB1c2goYik7YS5kYXRhKFwiJGJpbmRpbmdcIixjKX06ejtSLiQkYWRkQmluZGluZ0NsYXNzPW4/ZnVuY3Rpb24oYSl7JChhLFwibmctYmluZGluZ1wiKX06ejtSLiQkYWRkU2NvcGVJbmZvPW4/ZnVuY3Rpb24oYSxiLGMsZCl7YS5kYXRhKGM/ZD9cIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlXCI6XCIkaXNvbGF0ZVNjb3BlXCI6XCIkc2NvcGVcIixiKX06ejtSLiQkYWRkU2NvcGVDbGFzcz1uP2Z1bmN0aW9uKGEsYil7JChhLGI/XCJuZy1pc29sYXRlLXNjb3BlXCI6XCJuZy1zY29wZVwiKX06ejtSLiQkY3JlYXRlQ29tbWVudD1mdW5jdGlvbihhLGIpe3ZhciBjPVwiXCI7biYmKGM9XCIgXCIrKGF8fFwiXCIpK1wiOiBcIisoYnx8XCJcIikrXCIgXCIpO3JldHVybiBRLmNyZWF0ZUNvbW1lbnQoYyl9O1xyXG5yZXR1cm4gUn1dfWZ1bmN0aW9uIHVhKGEpe3JldHVybiBlYihhLnJlcGxhY2UoVWMsXCJcIikpfWZ1bmN0aW9uIFhjKGEsYil7dmFyIGQ9XCJcIixjPWEuc3BsaXQoL1xccysvKSxlPWIuc3BsaXQoL1xccysvKSxmPTA7YTpmb3IoO2Y8Yy5sZW5ndGg7ZisrKXtmb3IodmFyIGc9Y1tmXSxoPTA7aDxlLmxlbmd0aDtoKyspaWYoZz09ZVtoXSljb250aW51ZSBhO2QrPSgwPGQubGVuZ3RoP1wiIFwiOlwiXCIpK2d9cmV0dXJuIGR9ZnVuY3Rpb24gVmMoYSl7YT1HKGEpO3ZhciBiPWEubGVuZ3RoO2lmKDE+PWIpcmV0dXJuIGE7Zm9yKDtiLS07KTg9PT1hW2JdLm5vZGVUeXBlJiZZZi5jYWxsKGEsYiwxKTtyZXR1cm4gYX1mdW5jdGlvbiBUYyhhLGIpe2lmKGImJkQoYikpcmV0dXJuIGI7aWYoRChhKSl7dmFyIGQ9WmMuZXhlYyhhKTtpZihkKXJldHVybiBkWzNdfX1mdW5jdGlvbiBiZigpe3ZhciBhPXt9LGI9ITE7dGhpcy5oYXM9ZnVuY3Rpb24oYil7cmV0dXJuIGEuaGFzT3duUHJvcGVydHkoYil9O3RoaXMucmVnaXN0ZXI9XHJcbmZ1bmN0aW9uKGIsYyl7UmEoYixcImNvbnRyb2xsZXJcIik7SShiKT9TKGEsYik6YVtiXT1jfTt0aGlzLmFsbG93R2xvYmFscz1mdW5jdGlvbigpe2I9ITB9O3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixcIiR3aW5kb3dcIixmdW5jdGlvbihkLGMpe2Z1bmN0aW9uIGUoYSxiLGMsZCl7aWYoIWF8fCFJKGEuJHNjb3BlKSl0aHJvdyBPKFwiJGNvbnRyb2xsZXJcIikoXCJub3NjcFwiLGQsYik7YS4kc2NvcGVbYl09Y31yZXR1cm4gZnVuY3Rpb24oZixnLGgsayl7dmFyIGwsbSxuO2g9ITA9PT1oO2smJkQoaykmJihuPWspO2lmKEQoZikpe2s9Zi5tYXRjaChaYyk7aWYoIWspdGhyb3cgWmYoXCJjdHJsZm10XCIsZik7bT1rWzFdO249bnx8a1szXTtmPWEuaGFzT3duUHJvcGVydHkobSk/YVttXTpBYyhnLiRzY29wZSxtLCEwKXx8KGI/QWMoYyxtLCEwKTp3KTtRYShmLG0sITApfWlmKGgpcmV0dXJuIGg9KEwoZik/ZltmLmxlbmd0aC0xXTpmKS5wcm90b3R5cGUsbD1PYmplY3QuY3JlYXRlKGh8fG51bGwpLG4mJlxyXG5lKGcsbixsLG18fGYubmFtZSksUyhmdW5jdGlvbigpe3ZhciBhPWQuaW52b2tlKGYsbCxnLG0pO2EhPT1sJiYoSShhKXx8SChhKSkmJihsPWEsbiYmZShnLG4sbCxtfHxmLm5hbWUpKTtyZXR1cm4gbH0se2luc3RhbmNlOmwsaWRlbnRpZmllcjpufSk7bD1kLmluc3RhbnRpYXRlKGYsZyxtKTtuJiZlKGcsbixsLG18fGYubmFtZSk7cmV0dXJuIGx9fV19ZnVuY3Rpb24gY2YoKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLGZ1bmN0aW9uKGEpe3JldHVybiBHKGEuZG9jdW1lbnQpfV19ZnVuY3Rpb24gZGYoKXt0aGlzLiRnZXQ9W1wiJGxvZ1wiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2EuZXJyb3IuYXBwbHkoYSxhcmd1bWVudHMpfX1dfWZ1bmN0aW9uIFpiKGEpe3JldHVybiBJKGEpP2dhKGEpP2EudG9JU09TdHJpbmcoKTpjYihhKTphfWZ1bmN0aW9uIGpmKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKCFhKXJldHVyblwiXCI7dmFyIGI9W107b2MoYSxcclxuZnVuY3Rpb24oYSxjKXtudWxsPT09YXx8dihhKXx8KEwoYSk/cChhLGZ1bmN0aW9uKGEpe2IucHVzaChqYShjKStcIj1cIitqYShaYihhKSkpfSk6Yi5wdXNoKGphKGMpK1wiPVwiK2phKFpiKGEpKSkpfSk7cmV0dXJuIGIuam9pbihcIiZcIil9fX1mdW5jdGlvbiBrZigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsZSxmKXtudWxsPT09YXx8dihhKXx8KEwoYSk/cChhLGZ1bmN0aW9uKGEsYyl7YihhLGUrXCJbXCIrKEkoYSk/YzpcIlwiKStcIl1cIil9KTpJKGEpJiYhZ2EoYSk/b2MoYSxmdW5jdGlvbihhLGMpe2IoYSxlKyhmP1wiXCI6XCJbXCIpK2MrKGY/XCJcIjpcIl1cIikpfSk6ZC5wdXNoKGphKGUpK1wiPVwiK2phKFpiKGEpKSkpfWlmKCFhKXJldHVyblwiXCI7dmFyIGQ9W107YihhLFwiXCIsITApO3JldHVybiBkLmpvaW4oXCImXCIpfX19ZnVuY3Rpb24gJGIoYSxiKXtpZihEKGEpKXt2YXIgZD1hLnJlcGxhY2UoJGYsXCJcIikudHJpbSgpO2lmKGQpe3ZhciBjPWIoXCJDb250ZW50LVR5cGVcIik7XHJcbihjPWMmJjA9PT1jLmluZGV4T2YoJGMpKXx8KGM9KGM9ZC5tYXRjaChhZykpJiZiZ1tjWzBdXS50ZXN0KGQpKTtjJiYoYT10YyhkKSl9fXJldHVybiBhfWZ1bmN0aW9uIGFkKGEpe3ZhciBiPVgoKSxkO0QoYSk/cChhLnNwbGl0KFwiXFxuXCIpLGZ1bmN0aW9uKGEpe2Q9YS5pbmRleE9mKFwiOlwiKTt2YXIgZT1FKFooYS5zdWJzdHIoMCxkKSkpO2E9WihhLnN1YnN0cihkKzEpKTtlJiYoYltlXT1iW2VdP2JbZV0rXCIsIFwiK2E6YSl9KTpJKGEpJiZwKGEsZnVuY3Rpb24oYSxkKXt2YXIgZj1FKGQpLGc9WihhKTtmJiYoYltmXT1iW2ZdP2JbZl0rXCIsIFwiK2c6Zyl9KTtyZXR1cm4gYn1mdW5jdGlvbiBiZChhKXt2YXIgYjtyZXR1cm4gZnVuY3Rpb24oZCl7Ynx8KGI9YWQoYSkpO3JldHVybiBkPyhkPWJbRShkKV0sdm9pZCAwPT09ZCYmKGQ9bnVsbCksZCk6Yn19ZnVuY3Rpb24gY2QoYSxiLGQsYyl7aWYoSChjKSlyZXR1cm4gYyhhLGIsZCk7cChjLGZ1bmN0aW9uKGMpe2E9YyhhLGIsZCl9KTtyZXR1cm4gYX1cclxuZnVuY3Rpb24gaGYoKXt2YXIgYT10aGlzLmRlZmF1bHRzPXt0cmFuc2Zvcm1SZXNwb25zZTpbJGJdLHRyYW5zZm9ybVJlcXVlc3Q6W2Z1bmN0aW9uKGEpe3JldHVybiBJKGEpJiZcIltvYmplY3QgRmlsZV1cIiE9PWhhLmNhbGwoYSkmJlwiW29iamVjdCBCbG9iXVwiIT09aGEuY2FsbChhKSYmXCJbb2JqZWN0IEZvcm1EYXRhXVwiIT09aGEuY2FsbChhKT9jYihhKTphfV0saGVhZGVyczp7Y29tbW9uOntBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLypcIn0scG9zdDptYShhYykscHV0Om1hKGFjKSxwYXRjaDptYShhYyl9LHhzcmZDb29raWVOYW1lOlwiWFNSRi1UT0tFTlwiLHhzcmZIZWFkZXJOYW1lOlwiWC1YU1JGLVRPS0VOXCIscGFyYW1TZXJpYWxpemVyOlwiJGh0dHBQYXJhbVNlcmlhbGl6ZXJcIn0sYj0hMTt0aGlzLnVzZUFwcGx5QXN5bmM9ZnVuY3Rpb24oYSl7cmV0dXJuIEEoYSk/KGI9ISFhLHRoaXMpOmJ9O3ZhciBkPSEwO3RoaXMudXNlTGVnYWN5UHJvbWlzZUV4dGVuc2lvbnM9XHJcbmZ1bmN0aW9uKGEpe3JldHVybiBBKGEpPyhkPSEhYSx0aGlzKTpkfTt2YXIgYz10aGlzLmludGVyY2VwdG9ycz1bXTt0aGlzLiRnZXQ9W1wiJGh0dHBCYWNrZW5kXCIsXCIkJGNvb2tpZVJlYWRlclwiLFwiJGNhY2hlRmFjdG9yeVwiLFwiJHJvb3RTY29wZVwiLFwiJHFcIixcIiRpbmplY3RvclwiLGZ1bmN0aW9uKGUsZixnLGgsayxsKXtmdW5jdGlvbiBtKGIpe2Z1bmN0aW9uIGMoYSl7dmFyIGI9Uyh7fSxhKTtiLmRhdGE9Y2QoYS5kYXRhLGEuaGVhZGVycyxhLnN0YXR1cyxmLnRyYW5zZm9ybVJlc3BvbnNlKTthPWEuc3RhdHVzO3JldHVybiAyMDA8PWEmJjMwMD5hP2I6ay5yZWplY3QoYil9ZnVuY3Rpb24gZShhLGIpe3ZhciBjLGQ9e307cChhLGZ1bmN0aW9uKGEsZSl7SChhKT8oYz1hKGIpLG51bGwhPWMmJihkW2VdPWMpKTpkW2VdPWF9KTtyZXR1cm4gZH1pZighSShiKSl0aHJvdyBPKFwiJGh0dHBcIikoXCJiYWRyZXFcIixiKTtpZighRChiLnVybCkpdGhyb3cgTyhcIiRodHRwXCIpKFwiYmFkcmVxXCIsYi51cmwpO1xyXG52YXIgZj1TKHttZXRob2Q6XCJnZXRcIix0cmFuc2Zvcm1SZXF1ZXN0OmEudHJhbnNmb3JtUmVxdWVzdCx0cmFuc2Zvcm1SZXNwb25zZTphLnRyYW5zZm9ybVJlc3BvbnNlLHBhcmFtU2VyaWFsaXplcjphLnBhcmFtU2VyaWFsaXplcn0sYik7Zi5oZWFkZXJzPWZ1bmN0aW9uKGIpe3ZhciBjPWEuaGVhZGVycyxkPVMoe30sYi5oZWFkZXJzKSxmLGcsaCxjPVMoe30sYy5jb21tb24sY1tFKGIubWV0aG9kKV0pO2E6Zm9yKGYgaW4gYyl7Zz1FKGYpO2ZvcihoIGluIGQpaWYoRShoKT09PWcpY29udGludWUgYTtkW2ZdPWNbZl19cmV0dXJuIGUoZCxtYShiKSl9KGIpO2YubWV0aG9kPXViKGYubWV0aG9kKTtmLnBhcmFtU2VyaWFsaXplcj1EKGYucGFyYW1TZXJpYWxpemVyKT9sLmdldChmLnBhcmFtU2VyaWFsaXplcik6Zi5wYXJhbVNlcmlhbGl6ZXI7dmFyIGc9W2Z1bmN0aW9uKGIpe3ZhciBkPWIuaGVhZGVycyxlPWNkKGIuZGF0YSxiZChkKSx3LGIudHJhbnNmb3JtUmVxdWVzdCk7dihlKSYmcChkLFxyXG5mdW5jdGlvbihhLGIpe1wiY29udGVudC10eXBlXCI9PT1FKGIpJiZkZWxldGUgZFtiXX0pO3YoYi53aXRoQ3JlZGVudGlhbHMpJiYhdihhLndpdGhDcmVkZW50aWFscykmJihiLndpdGhDcmVkZW50aWFscz1hLndpdGhDcmVkZW50aWFscyk7cmV0dXJuIG4oYixlKS50aGVuKGMsYyl9LHddLGg9ay53aGVuKGYpO2ZvcihwKEssZnVuY3Rpb24oYSl7KGEucmVxdWVzdHx8YS5yZXF1ZXN0RXJyb3IpJiZnLnVuc2hpZnQoYS5yZXF1ZXN0LGEucmVxdWVzdEVycm9yKTsoYS5yZXNwb25zZXx8YS5yZXNwb25zZUVycm9yKSYmZy5wdXNoKGEucmVzcG9uc2UsYS5yZXNwb25zZUVycm9yKX0pO2cubGVuZ3RoOyl7Yj1nLnNoaWZ0KCk7dmFyIG09Zy5zaGlmdCgpLGg9aC50aGVuKGIsbSl9ZD8oaC5zdWNjZXNzPWZ1bmN0aW9uKGEpe1FhKGEsXCJmblwiKTtoLnRoZW4oZnVuY3Rpb24oYil7YShiLmRhdGEsYi5zdGF0dXMsYi5oZWFkZXJzLGYpfSk7cmV0dXJuIGh9LGguZXJyb3I9ZnVuY3Rpb24oYSl7UWEoYSxcclxuXCJmblwiKTtoLnRoZW4obnVsbCxmdW5jdGlvbihiKXthKGIuZGF0YSxiLnN0YXR1cyxiLmhlYWRlcnMsZil9KTtyZXR1cm4gaH0pOihoLnN1Y2Nlc3M9ZGQoXCJzdWNjZXNzXCIpLGguZXJyb3I9ZGQoXCJlcnJvclwiKSk7cmV0dXJuIGh9ZnVuY3Rpb24gbihjLGQpe2Z1bmN0aW9uIGcoYSxjLGQsZSl7ZnVuY3Rpb24gZigpe2woYyxhLGQsZSl9VCYmKDIwMDw9YSYmMzAwPmE/VC5wdXQoUixbYSxjLGFkKGQpLGVdKTpULnJlbW92ZShSKSk7Yj9oLiRhcHBseUFzeW5jKGYpOihmKCksaC4kJHBoYXNlfHxoLiRhcHBseSgpKX1mdW5jdGlvbiBsKGEsYixkLGUpe2I9LTE8PWI/YjowOygyMDA8PWImJjMwMD5iP0MucmVzb2x2ZTpDLnJlamVjdCkoe2RhdGE6YSxzdGF0dXM6YixoZWFkZXJzOmJkKGQpLGNvbmZpZzpjLHN0YXR1c1RleHQ6ZX0pfWZ1bmN0aW9uIG4oYSl7bChhLmRhdGEsYS5zdGF0dXMsbWEoYS5oZWFkZXJzKCkpLGEuc3RhdHVzVGV4dCl9ZnVuY3Rpb24gSygpe3ZhciBhPW0ucGVuZGluZ1JlcXVlc3RzLmluZGV4T2YoYyk7XHJcbi0xIT09YSYmbS5wZW5kaW5nUmVxdWVzdHMuc3BsaWNlKGEsMSl9dmFyIEM9ay5kZWZlcigpLEo9Qy5wcm9taXNlLFQsRiwkPWMuaGVhZGVycyxSPXkoYy51cmwsYy5wYXJhbVNlcmlhbGl6ZXIoYy5wYXJhbXMpKTttLnBlbmRpbmdSZXF1ZXN0cy5wdXNoKGMpO0oudGhlbihLLEspOyFjLmNhY2hlJiYhYS5jYWNoZXx8ITE9PT1jLmNhY2hlfHxcIkdFVFwiIT09Yy5tZXRob2QmJlwiSlNPTlBcIiE9PWMubWV0aG9kfHwoVD1JKGMuY2FjaGUpP2MuY2FjaGU6SShhLmNhY2hlKT9hLmNhY2hlOkIpO1QmJihGPVQuZ2V0KFIpLEEoRik/RiYmSChGLnRoZW4pP0YudGhlbihuLG4pOkwoRik/bChGWzFdLEZbMF0sbWEoRlsyXSksRlszXSk6bChGLDIwMCx7fSxcIk9LXCIpOlQucHV0KFIsSikpO3YoRikmJigoRj1lZChjLnVybCk/ZigpW2MueHNyZkNvb2tpZU5hbWV8fGEueHNyZkNvb2tpZU5hbWVdOncpJiYoJFtjLnhzcmZIZWFkZXJOYW1lfHxhLnhzcmZIZWFkZXJOYW1lXT1GKSxlKGMubWV0aG9kLFIsZCxcclxuZywkLGMudGltZW91dCxjLndpdGhDcmVkZW50aWFscyxjLnJlc3BvbnNlVHlwZSkpO3JldHVybiBKfWZ1bmN0aW9uIHkoYSxiKXswPGIubGVuZ3RoJiYoYSs9KC0xPT1hLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiKStiKTtyZXR1cm4gYX12YXIgQj1nKFwiJGh0dHBcIik7YS5wYXJhbVNlcmlhbGl6ZXI9RChhLnBhcmFtU2VyaWFsaXplcik/bC5nZXQoYS5wYXJhbVNlcmlhbGl6ZXIpOmEucGFyYW1TZXJpYWxpemVyO3ZhciBLPVtdO3AoYyxmdW5jdGlvbihhKXtLLnVuc2hpZnQoRChhKT9sLmdldChhKTpsLmludm9rZShhKSl9KTttLnBlbmRpbmdSZXF1ZXN0cz1bXTsoZnVuY3Rpb24oYSl7cChhcmd1bWVudHMsZnVuY3Rpb24oYSl7bVthXT1mdW5jdGlvbihiLGMpe3JldHVybiBtKFMoe30sY3x8e30se21ldGhvZDphLHVybDpifSkpfX0pfSkoXCJnZXRcIixcImRlbGV0ZVwiLFwiaGVhZFwiLFwianNvbnBcIik7KGZ1bmN0aW9uKGEpe3AoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe21bYV09ZnVuY3Rpb24oYixjLFxyXG5kKXtyZXR1cm4gbShTKHt9LGR8fHt9LHttZXRob2Q6YSx1cmw6YixkYXRhOmN9KSl9fSl9KShcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIik7bS5kZWZhdWx0cz1hO3JldHVybiBtfV19ZnVuY3Rpb24gbWYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IE4uWE1MSHR0cFJlcXVlc3R9fX1mdW5jdGlvbiBsZigpe3RoaXMuJGdldD1bXCIkYnJvd3NlclwiLFwiJHdpbmRvd1wiLFwiJGRvY3VtZW50XCIsXCIkeGhyRmFjdG9yeVwiLGZ1bmN0aW9uKGEsYixkLGMpe3JldHVybiBjZyhhLGMsYS5kZWZlcixiLmFuZ3VsYXIuY2FsbGJhY2tzLGRbMF0pfV19ZnVuY3Rpb24gY2coYSxiLGQsYyxlKXtmdW5jdGlvbiBmKGEsYixkKXt2YXIgZj1lLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksbT1udWxsO2YudHlwZT1cInRleHQvamF2YXNjcmlwdFwiO2Yuc3JjPWE7Zi5hc3luYz0hMDttPWZ1bmN0aW9uKGEpe2YucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixtLCExKTtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLFxyXG5tLCExKTtlLmJvZHkucmVtb3ZlQ2hpbGQoZik7Zj1udWxsO3ZhciBnPS0xLEI9XCJ1bmtub3duXCI7YSYmKFwibG9hZFwiIT09YS50eXBlfHxjW2JdLmNhbGxlZHx8KGE9e3R5cGU6XCJlcnJvclwifSksQj1hLnR5cGUsZz1cImVycm9yXCI9PT1hLnR5cGU/NDA0OjIwMCk7ZCYmZChnLEIpfTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsbSwhMSk7Zi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixtLCExKTtlLmJvZHkuYXBwZW5kQ2hpbGQoZik7cmV0dXJuIG19cmV0dXJuIGZ1bmN0aW9uKGUsaCxrLGwsbSxuLHksQil7ZnVuY3Rpb24gSygpe3QmJnQoKTt1JiZ1LmFib3J0KCl9ZnVuY3Rpb24geChiLGMsZSxmLGcpe0EoTSkmJmQuY2FuY2VsKE0pO3Q9dT1udWxsO2IoYyxlLGYsZyk7YS4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KHopfWEuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpO2g9aHx8YS51cmwoKTtpZihcImpzb25wXCI9PUUoZSkpe3ZhciBxPVwiX1wiKyhjLmNvdW50ZXIrKykudG9TdHJpbmcoMzYpO1xyXG5jW3FdPWZ1bmN0aW9uKGEpe2NbcV0uZGF0YT1hO2NbcV0uY2FsbGVkPSEwfTt2YXIgdD1mKGgucmVwbGFjZShcIkpTT05fQ0FMTEJBQ0tcIixcImFuZ3VsYXIuY2FsbGJhY2tzLlwiK3EpLHEsZnVuY3Rpb24oYSxiKXt4KGwsYSxjW3FdLmRhdGEsXCJcIixiKTtjW3FdPXp9KX1lbHNle3ZhciB1PWIoZSxoKTt1Lm9wZW4oZSxoLCEwKTtwKG0sZnVuY3Rpb24oYSxiKXtBKGEpJiZ1LnNldFJlcXVlc3RIZWFkZXIoYixhKX0pO3Uub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGE9dS5zdGF0dXNUZXh0fHxcIlwiLGI9XCJyZXNwb25zZVwiaW4gdT91LnJlc3BvbnNlOnUucmVzcG9uc2VUZXh0LGM9MTIyMz09PXUuc3RhdHVzPzIwNDp1LnN0YXR1czswPT09YyYmKGM9Yj8yMDA6XCJmaWxlXCI9PXdhKGgpLnByb3RvY29sPzQwNDowKTt4KGwsYyxiLHUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksYSl9O2U9ZnVuY3Rpb24oKXt4KGwsLTEsbnVsbCxudWxsLFwiXCIpfTt1Lm9uZXJyb3I9ZTt1Lm9uYWJvcnQ9ZTt5JiYodS53aXRoQ3JlZGVudGlhbHM9XHJcbiEwKTtpZihCKXRyeXt1LnJlc3BvbnNlVHlwZT1CfWNhdGNoKHMpe2lmKFwianNvblwiIT09Qil0aHJvdyBzO311LnNlbmQodihrKT9udWxsOmspfWlmKDA8bil2YXIgTT1kKEssbik7ZWxzZSBuJiZIKG4udGhlbikmJm4udGhlbihLKX19ZnVuY3Rpb24gZmYoKXt2YXIgYT1cInt7XCIsYj1cIn19XCI7dGhpcy5zdGFydFN5bWJvbD1mdW5jdGlvbihiKXtyZXR1cm4gYj8oYT1iLHRoaXMpOmF9O3RoaXMuZW5kU3ltYm9sPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PVtcIiRwYXJzZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRzY2VcIixmdW5jdGlvbihkLGMsZSl7ZnVuY3Rpb24gZihhKXtyZXR1cm5cIlxcXFxcXFxcXFxcXFwiK2F9ZnVuY3Rpb24gZyhjKXtyZXR1cm4gYy5yZXBsYWNlKG4sYSkucmVwbGFjZSh5LGIpfWZ1bmN0aW9uIGgoYSxiLGMsZCl7dmFyIGU7cmV0dXJuIGU9YS4kd2F0Y2goZnVuY3Rpb24oYSl7ZSgpO3JldHVybiBkKGEpfSxiLGMpfWZ1bmN0aW9uIGsoZixrLFxyXG5uLHEpe2Z1bmN0aW9uIHkoYSl7dHJ5e3ZhciBiPWE7YT1uP2UuZ2V0VHJ1c3RlZChuLGIpOmUudmFsdWVPZihiKTt2YXIgZDtpZihxJiYhQShhKSlkPWE7ZWxzZSBpZihudWxsPT1hKWQ9XCJcIjtlbHNle3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcInN0cmluZ1wiOmJyZWFrO2Nhc2UgXCJudW1iZXJcIjphPVwiXCIrYTticmVhaztkZWZhdWx0OmE9Y2IoYSl9ZD1hfXJldHVybiBkfWNhdGNoKGcpe2MoSmEuaW50ZXJyKGYsZykpfX1pZighZi5sZW5ndGh8fC0xPT09Zi5pbmRleE9mKGEpKXt2YXIgdTtrfHwoaz1nKGYpLHU9aWEoayksdS5leHA9Zix1LmV4cHJlc3Npb25zPVtdLHUuJCR3YXRjaERlbGVnYXRlPWgpO3JldHVybiB1fXE9ISFxO3ZhciBzLHAsQz0wLEo9W10sVD1bXTt1PWYubGVuZ3RoO2Zvcih2YXIgRj1bXSwkPVtdO0M8dTspaWYoLTEhPShzPWYuaW5kZXhPZihhLEMpKSYmLTEhPShwPWYuaW5kZXhPZihiLHMrbCkpKUMhPT1zJiZGLnB1c2goZyhmLnN1YnN0cmluZyhDLHMpKSksQz1mLnN1YnN0cmluZyhzK1xyXG5sLHApLEoucHVzaChDKSxULnB1c2goZChDLHkpKSxDPXArbSwkLnB1c2goRi5sZW5ndGgpLEYucHVzaChcIlwiKTtlbHNle0MhPT11JiZGLnB1c2goZyhmLnN1YnN0cmluZyhDKSkpO2JyZWFrfW4mJjE8Ri5sZW5ndGgmJkphLnRocm93Tm9jb25jYXQoZik7aWYoIWt8fEoubGVuZ3RoKXt2YXIgUj1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPUoubGVuZ3RoO2I8YztiKyspe2lmKHEmJnYoYVtiXSkpcmV0dXJuO0ZbJFtiXV09YVtiXX1yZXR1cm4gRi5qb2luKFwiXCIpfTtyZXR1cm4gUyhmdW5jdGlvbihhKXt2YXIgYj0wLGQ9Si5sZW5ndGgsZT1BcnJheShkKTt0cnl7Zm9yKDtiPGQ7YisrKWVbYl09VFtiXShhKTtyZXR1cm4gUihlKX1jYXRjaChnKXtjKEphLmludGVycihmLGcpKX19LHtleHA6ZixleHByZXNzaW9uczpKLCQkd2F0Y2hEZWxlZ2F0ZTpmdW5jdGlvbihhLGIpe3ZhciBjO3JldHVybiBhLiR3YXRjaEdyb3VwKFQsZnVuY3Rpb24oZCxlKXt2YXIgZj1SKGQpO0goYikmJmIuY2FsbCh0aGlzLFxyXG5mLGQhPT1lP2M6ZixhKTtjPWZ9KX19KX19dmFyIGw9YS5sZW5ndGgsbT1iLmxlbmd0aCxuPW5ldyBSZWdFeHAoYS5yZXBsYWNlKC8uL2csZiksXCJnXCIpLHk9bmV3IFJlZ0V4cChiLnJlcGxhY2UoLy4vZyxmKSxcImdcIik7ay5zdGFydFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBhfTtrLmVuZFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBifTtyZXR1cm4ga31dfWZ1bmN0aW9uIGdmKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiR3aW5kb3dcIixcIiRxXCIsXCIkJHFcIixcIiRicm93c2VyXCIsZnVuY3Rpb24oYSxiLGQsYyxlKXtmdW5jdGlvbiBmKGYsayxsLG0pe2Z1bmN0aW9uIG4oKXt5P2YuYXBwbHkobnVsbCxCKTpmKHEpfXZhciB5PTQ8YXJndW1lbnRzLmxlbmd0aCxCPXk/eWEuY2FsbChhcmd1bWVudHMsNCk6W10scD1iLnNldEludGVydmFsLHg9Yi5jbGVhckludGVydmFsLHE9MCx0PUEobSkmJiFtLHU9KHQ/YzpkKS5kZWZlcigpLHM9dS5wcm9taXNlO2w9QShsKT9sOjA7cy4kJGludGVydmFsSWQ9XHJcbnAoZnVuY3Rpb24oKXt0P2UuZGVmZXIobik6YS4kZXZhbEFzeW5jKG4pO3Uubm90aWZ5KHErKyk7MDxsJiZxPj1sJiYodS5yZXNvbHZlKHEpLHgocy4kJGludGVydmFsSWQpLGRlbGV0ZSBnW3MuJCRpbnRlcnZhbElkXSk7dHx8YS4kYXBwbHkoKX0sayk7Z1tzLiQkaW50ZXJ2YWxJZF09dTtyZXR1cm4gc312YXIgZz17fTtmLmNhbmNlbD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmYS4kJGludGVydmFsSWQgaW4gZz8oZ1thLiQkaW50ZXJ2YWxJZF0ucmVqZWN0KFwiY2FuY2VsZWRcIiksYi5jbGVhckludGVydmFsKGEuJCRpbnRlcnZhbElkKSxkZWxldGUgZ1thLiQkaW50ZXJ2YWxJZF0sITApOiExfTtyZXR1cm4gZn1dfWZ1bmN0aW9uIGJjKGEpe2E9YS5zcGxpdChcIi9cIik7Zm9yKHZhciBiPWEubGVuZ3RoO2ItLTspYVtiXT1xYihhW2JdKTtyZXR1cm4gYS5qb2luKFwiL1wiKX1mdW5jdGlvbiBmZChhLGIpe3ZhciBkPXdhKGEpO2IuJCRwcm90b2NvbD1kLnByb3RvY29sO2IuJCRob3N0PWQuaG9zdG5hbWU7XHJcbmIuJCRwb3J0PWRhKGQucG9ydCl8fGRnW2QucHJvdG9jb2xdfHxudWxsfWZ1bmN0aW9uIGdkKGEsYil7dmFyIGQ9XCIvXCIhPT1hLmNoYXJBdCgwKTtkJiYoYT1cIi9cIithKTt2YXIgYz13YShhKTtiLiQkcGF0aD1kZWNvZGVVUklDb21wb25lbnQoZCYmXCIvXCI9PT1jLnBhdGhuYW1lLmNoYXJBdCgwKT9jLnBhdGhuYW1lLnN1YnN0cmluZygxKTpjLnBhdGhuYW1lKTtiLiQkc2VhcmNoPXdjKGMuc2VhcmNoKTtiLiQkaGFzaD1kZWNvZGVVUklDb21wb25lbnQoYy5oYXNoKTtiLiQkcGF0aCYmXCIvXCIhPWIuJCRwYXRoLmNoYXJBdCgwKSYmKGIuJCRwYXRoPVwiL1wiK2IuJCRwYXRoKX1mdW5jdGlvbiBuYShhLGIpe2lmKDA9PT1iLmluZGV4T2YoYSkpcmV0dXJuIGIuc3Vic3RyKGEubGVuZ3RoKX1mdW5jdGlvbiBJYShhKXt2YXIgYj1hLmluZGV4T2YoXCIjXCIpO3JldHVybi0xPT1iP2E6YS5zdWJzdHIoMCxiKX1mdW5jdGlvbiBqYihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oIy4rKXwjJC8sXCIkMVwiKX1mdW5jdGlvbiBjYyhhLFxyXG5iLGQpe3RoaXMuJCRodG1sNT0hMDtkPWR8fFwiXCI7ZmQoYSx0aGlzKTt0aGlzLiQkcGFyc2U9ZnVuY3Rpb24oYSl7dmFyIGQ9bmEoYixhKTtpZighRChkKSl0aHJvdyBFYihcImlwdGhwcmZ4XCIsYSxiKTtnZChkLHRoaXMpO3RoaXMuJCRwYXRofHwodGhpcy4kJHBhdGg9XCIvXCIpO3RoaXMuJCRjb21wb3NlKCl9O3RoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGE9UmIodGhpcy4kJHNlYXJjaCksZD10aGlzLiQkaGFzaD9cIiNcIitxYih0aGlzLiQkaGFzaCk6XCJcIjt0aGlzLiQkdXJsPWJjKHRoaXMuJCRwYXRoKSsoYT9cIj9cIithOlwiXCIpK2Q7dGhpcy4kJGFic1VybD1iK3RoaXMuJCR1cmwuc3Vic3RyKDEpfTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGMsZSl7aWYoZSYmXCIjXCI9PT1lWzBdKXJldHVybiB0aGlzLmhhc2goZS5zbGljZSgxKSksITA7dmFyIGYsZztBKGY9bmEoYSxjKSk/KGc9ZixnPUEoZj1uYShkLGYpKT9iKyhuYShcIi9cIixmKXx8Zik6YStnKTpBKGY9bmEoYixjKSk/Zz1cclxuYitmOmI9PWMrXCIvXCImJihnPWIpO2cmJnRoaXMuJCRwYXJzZShnKTtyZXR1cm4hIWd9fWZ1bmN0aW9uIGRjKGEsYixkKXtmZChhLHRoaXMpO3RoaXMuJCRwYXJzZT1mdW5jdGlvbihjKXt2YXIgZT1uYShhLGMpfHxuYShiLGMpLGY7dihlKXx8XCIjXCIhPT1lLmNoYXJBdCgwKT90aGlzLiQkaHRtbDU/Zj1lOihmPVwiXCIsdihlKSYmKGE9Yyx0aGlzLnJlcGxhY2UoKSkpOihmPW5hKGQsZSksdihmKSYmKGY9ZSkpO2dkKGYsdGhpcyk7Yz10aGlzLiQkcGF0aDt2YXIgZT1hLGc9L15cXC9bQS1aXTooXFwvLiopLzswPT09Zi5pbmRleE9mKGUpJiYoZj1mLnJlcGxhY2UoZSxcIlwiKSk7Zy5leGVjKGYpfHwoYz0oZj1nLmV4ZWMoYykpP2ZbMV06Yyk7dGhpcy4kJHBhdGg9Yzt0aGlzLiQkY29tcG9zZSgpfTt0aGlzLiQkY29tcG9zZT1mdW5jdGlvbigpe3ZhciBiPVJiKHRoaXMuJCRzZWFyY2gpLGU9dGhpcy4kJGhhc2g/XCIjXCIrcWIodGhpcy4kJGhhc2gpOlwiXCI7dGhpcy4kJHVybD1iYyh0aGlzLiQkcGF0aCkrXHJcbihiP1wiP1wiK2I6XCJcIikrZTt0aGlzLiQkYWJzVXJsPWErKHRoaXMuJCR1cmw/ZCt0aGlzLiQkdXJsOlwiXCIpfTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIElhKGEpPT1JYShiKT8odGhpcy4kJHBhcnNlKGIpLCEwKTohMX19ZnVuY3Rpb24gaGQoYSxiLGQpe3RoaXMuJCRodG1sNT0hMDtkYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy4kJHBhcnNlTGlua1VybD1mdW5jdGlvbihjLGUpe2lmKGUmJlwiI1wiPT09ZVswXSlyZXR1cm4gdGhpcy5oYXNoKGUuc2xpY2UoMSkpLCEwO3ZhciBmLGc7YT09SWEoYyk/Zj1jOihnPW5hKGIsYykpP2Y9YStkK2c6Yj09PWMrXCIvXCImJihmPWIpO2YmJnRoaXMuJCRwYXJzZShmKTtyZXR1cm4hIWZ9O3RoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGI9UmIodGhpcy4kJHNlYXJjaCksZT10aGlzLiQkaGFzaD9cIiNcIitxYih0aGlzLiQkaGFzaCk6XCJcIjt0aGlzLiQkdXJsPWJjKHRoaXMuJCRwYXRoKSsoYj9cIj9cIitiOlwiXCIpK2U7dGhpcy4kJGFic1VybD1cclxuYStkK3RoaXMuJCR1cmx9fWZ1bmN0aW9uIEZiKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW2FdfX1mdW5jdGlvbiBpZChhLGIpe3JldHVybiBmdW5jdGlvbihkKXtpZih2KGQpKXJldHVybiB0aGlzW2FdO3RoaXNbYV09YihkKTt0aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfX1mdW5jdGlvbiBuZigpe3ZhciBhPVwiXCIsYj17ZW5hYmxlZDohMSxyZXF1aXJlQmFzZTohMCxyZXdyaXRlTGlua3M6ITB9O3RoaXMuaGFzaFByZWZpeD1mdW5jdGlvbihiKXtyZXR1cm4gQShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuaHRtbDVNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBNYShhKT8oYi5lbmFibGVkPWEsdGhpcyk6SShhKT8oTWEoYS5lbmFibGVkKSYmKGIuZW5hYmxlZD1hLmVuYWJsZWQpLE1hKGEucmVxdWlyZUJhc2UpJiYoYi5yZXF1aXJlQmFzZT1hLnJlcXVpcmVCYXNlKSxNYShhLnJld3JpdGVMaW5rcykmJihiLnJld3JpdGVMaW5rcz1hLnJld3JpdGVMaW5rcyksdGhpcyk6Yn07XHJcbnRoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIixcIiRyb290RWxlbWVudFwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGQsYyxlLGYsZyl7ZnVuY3Rpb24gaChhLGIsZCl7dmFyIGU9bC51cmwoKSxmPWwuJCRzdGF0ZTt0cnl7Yy51cmwoYSxiLGQpLGwuJCRzdGF0ZT1jLnN0YXRlKCl9Y2F0Y2goZyl7dGhyb3cgbC51cmwoZSksbC4kJHN0YXRlPWYsZzt9fWZ1bmN0aW9uIGsoYSxiKXtkLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXCIsbC5hYnNVcmwoKSxhLGwuJCRzdGF0ZSxiKX12YXIgbCxtO209Yy5iYXNlSHJlZigpO3ZhciBuPWMudXJsKCkseTtpZihiLmVuYWJsZWQpe2lmKCFtJiZiLnJlcXVpcmVCYXNlKXRocm93IEViKFwibm9iYXNlXCIpO3k9bi5zdWJzdHJpbmcoMCxuLmluZGV4T2YoXCIvXCIsbi5pbmRleE9mKFwiLy9cIikrMikpKyhtfHxcIi9cIik7bT1lLmhpc3Rvcnk/Y2M6aGR9ZWxzZSB5PUlhKG4pLG09ZGM7dmFyIEI9eS5zdWJzdHIoMCxJYSh5KS5sYXN0SW5kZXhPZihcIi9cIikrXHJcbjEpO2w9bmV3IG0oeSxCLFwiI1wiK2EpO2wuJCRwYXJzZUxpbmtVcmwobixuKTtsLiQkc3RhdGU9Yy5zdGF0ZSgpO3ZhciBwPS9eXFxzKihqYXZhc2NyaXB0fG1haWx0byk6L2k7Zi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7aWYoYi5yZXdyaXRlTGlua3MmJiFhLmN0cmxLZXkmJiFhLm1ldGFLZXkmJiFhLnNoaWZ0S2V5JiYyIT1hLndoaWNoJiYyIT1hLmJ1dHRvbil7Zm9yKHZhciBlPUcoYS50YXJnZXQpO1wiYVwiIT09cGEoZVswXSk7KWlmKGVbMF09PT1mWzBdfHwhKGU9ZS5wYXJlbnQoKSlbMF0pcmV0dXJuO3ZhciBoPWUucHJvcChcImhyZWZcIiksaz1lLmF0dHIoXCJocmVmXCIpfHxlLmF0dHIoXCJ4bGluazpocmVmXCIpO0koaCkmJlwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PWgudG9TdHJpbmcoKSYmKGg9d2EoaC5hbmltVmFsKS5ocmVmKTtwLnRlc3QoaCl8fCFofHxlLmF0dHIoXCJ0YXJnZXRcIil8fGEuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFsLiQkcGFyc2VMaW5rVXJsKGgsayl8fChhLnByZXZlbnREZWZhdWx0KCksXHJcbmwuYWJzVXJsKCkhPWMudXJsKCkmJihkLiRhcHBseSgpLGcuYW5ndWxhcltcImZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdFwiXT0hMCkpfX0pO2piKGwuYWJzVXJsKCkpIT1qYihuKSYmYy51cmwobC5hYnNVcmwoKSwhMCk7dmFyIHg9ITA7Yy5vblVybENoYW5nZShmdW5jdGlvbihhLGIpe3YobmEoQixhKSk/Zy5sb2NhdGlvbi5ocmVmPWE6KGQuJGV2YWxBc3luYyhmdW5jdGlvbigpe3ZhciBjPWwuYWJzVXJsKCksZT1sLiQkc3RhdGUsZjthPWpiKGEpO2wuJCRwYXJzZShhKTtsLiQkc3RhdGU9YjtmPWQuJGJyb2FkY2FzdChcIiRsb2NhdGlvbkNoYW5nZVN0YXJ0XCIsYSxjLGIsZSkuZGVmYXVsdFByZXZlbnRlZDtsLmFic1VybCgpPT09YSYmKGY/KGwuJCRwYXJzZShjKSxsLiQkc3RhdGU9ZSxoKGMsITEsZSkpOih4PSExLGsoYyxlKSkpfSksZC4kJHBoYXNlfHxkLiRkaWdlc3QoKSl9KTtkLiR3YXRjaChmdW5jdGlvbigpe3ZhciBhPWpiKGMudXJsKCkpLGI9amIobC5hYnNVcmwoKSksZj1jLnN0YXRlKCksXHJcbmc9bC4kJHJlcGxhY2UsbT1hIT09Ynx8bC4kJGh0bWw1JiZlLmhpc3RvcnkmJmYhPT1sLiQkc3RhdGU7aWYoeHx8bSl4PSExLGQuJGV2YWxBc3luYyhmdW5jdGlvbigpe3ZhciBiPWwuYWJzVXJsKCksYz1kLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLGIsYSxsLiQkc3RhdGUsZikuZGVmYXVsdFByZXZlbnRlZDtsLmFic1VybCgpPT09YiYmKGM/KGwuJCRwYXJzZShhKSxsLiQkc3RhdGU9Zik6KG0mJmgoYixnLGY9PT1sLiQkc3RhdGU/bnVsbDpsLiQkc3RhdGUpLGsoYSxmKSkpfSk7bC4kJHJlcGxhY2U9ITF9KTtyZXR1cm4gbH1dfWZ1bmN0aW9uIG9mKCl7dmFyIGE9ITAsYj10aGlzO3RoaXMuZGVidWdFbmFibGVkPWZ1bmN0aW9uKGIpe3JldHVybiBBKGIpPyhhPWIsdGhpcyk6YX07dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixmdW5jdGlvbihkKXtmdW5jdGlvbiBjKGEpe2EgaW5zdGFuY2VvZiBFcnJvciYmKGEuc3RhY2s/YT1hLm1lc3NhZ2UmJi0xPT09YS5zdGFjay5pbmRleE9mKGEubWVzc2FnZSk/XHJcblwiRXJyb3I6IFwiK2EubWVzc2FnZStcIlxcblwiK2Euc3RhY2s6YS5zdGFjazphLnNvdXJjZVVSTCYmKGE9YS5tZXNzYWdlK1wiXFxuXCIrYS5zb3VyY2VVUkwrXCI6XCIrYS5saW5lKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZShhKXt2YXIgYj1kLmNvbnNvbGV8fHt9LGU9YlthXXx8Yi5sb2d8fHo7YT0hMTt0cnl7YT0hIWUuYXBwbHl9Y2F0Y2goayl7fXJldHVybiBhP2Z1bmN0aW9uKCl7dmFyIGE9W107cChhcmd1bWVudHMsZnVuY3Rpb24oYil7YS5wdXNoKGMoYikpfSk7cmV0dXJuIGUuYXBwbHkoYixhKX06ZnVuY3Rpb24oYSxiKXtlKGEsbnVsbD09Yj9cIlwiOmIpfX1yZXR1cm57bG9nOmUoXCJsb2dcIiksaW5mbzplKFwiaW5mb1wiKSx3YXJuOmUoXCJ3YXJuXCIpLGVycm9yOmUoXCJlcnJvclwiKSxkZWJ1ZzpmdW5jdGlvbigpe3ZhciBjPWUoXCJkZWJ1Z1wiKTtyZXR1cm4gZnVuY3Rpb24oKXthJiZjLmFwcGx5KGIsYXJndW1lbnRzKX19KCl9fV19ZnVuY3Rpb24gVmEoYSxiKXtpZihcIl9fZGVmaW5lR2V0dGVyX19cIj09PVxyXG5hfHxcIl9fZGVmaW5lU2V0dGVyX19cIj09PWF8fFwiX19sb29rdXBHZXR0ZXJfX1wiPT09YXx8XCJfX2xvb2t1cFNldHRlcl9fXCI9PT1hfHxcIl9fcHJvdG9fX1wiPT09YSl0aHJvdyBVKFwiaXNlY2ZsZFwiLGIpO3JldHVybiBhfWZ1bmN0aW9uIGVnKGEpe3JldHVybiBhK1wiXCJ9ZnVuY3Rpb24geGEoYSxiKXtpZihhKXtpZihhLmNvbnN0cnVjdG9yPT09YSl0aHJvdyBVKFwiaXNlY2ZuXCIsYik7aWYoYS53aW5kb3c9PT1hKXRocm93IFUoXCJpc2Vjd2luZG93XCIsYik7aWYoYS5jaGlsZHJlbiYmKGEubm9kZU5hbWV8fGEucHJvcCYmYS5hdHRyJiZhLmZpbmQpKXRocm93IFUoXCJpc2VjZG9tXCIsYik7aWYoYT09PU9iamVjdCl0aHJvdyBVKFwiaXNlY29ialwiLGIpO31yZXR1cm4gYX1mdW5jdGlvbiBqZChhLGIpe2lmKGEpe2lmKGEuY29uc3RydWN0b3I9PT1hKXRocm93IFUoXCJpc2VjZm5cIixiKTtpZihhPT09Zmd8fGE9PT1nZ3x8YT09PWhnKXRocm93IFUoXCJpc2VjZmZcIixiKTt9fWZ1bmN0aW9uIEdiKGEsYil7aWYoYSYmXHJcbihhPT09KDApLmNvbnN0cnVjdG9yfHxhPT09KCExKS5jb25zdHJ1Y3Rvcnx8YT09PVwiXCIuY29uc3RydWN0b3J8fGE9PT17fS5jb25zdHJ1Y3Rvcnx8YT09PVtdLmNvbnN0cnVjdG9yfHxhPT09RnVuY3Rpb24uY29uc3RydWN0b3IpKXRocm93IFUoXCJpc2VjYWZcIixiKTt9ZnVuY3Rpb24gaWcoYSxiKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGE/YTpifWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhP2I6XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBiP2E6YStifWZ1bmN0aW9uIFYoYSxiKXt2YXIgZCxjO3N3aXRjaChhLnR5cGUpe2Nhc2Ugci5Qcm9ncmFtOmQ9ITA7cChhLmJvZHksZnVuY3Rpb24oYSl7VihhLmV4cHJlc3Npb24sYik7ZD1kJiZhLmV4cHJlc3Npb24uY29uc3RhbnR9KTthLmNvbnN0YW50PWQ7YnJlYWs7Y2FzZSByLkxpdGVyYWw6YS5jb25zdGFudD0hMDthLnRvV2F0Y2g9W107YnJlYWs7Y2FzZSByLlVuYXJ5RXhwcmVzc2lvbjpWKGEuYXJndW1lbnQsXHJcbmIpO2EuY29uc3RhbnQ9YS5hcmd1bWVudC5jb25zdGFudDthLnRvV2F0Y2g9YS5hcmd1bWVudC50b1dhdGNoO2JyZWFrO2Nhc2Ugci5CaW5hcnlFeHByZXNzaW9uOlYoYS5sZWZ0LGIpO1YoYS5yaWdodCxiKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDthLnRvV2F0Y2g9YS5sZWZ0LnRvV2F0Y2guY29uY2F0KGEucmlnaHQudG9XYXRjaCk7YnJlYWs7Y2FzZSByLkxvZ2ljYWxFeHByZXNzaW9uOlYoYS5sZWZ0LGIpO1YoYS5yaWdodCxiKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDthLnRvV2F0Y2g9YS5jb25zdGFudD9bXTpbYV07YnJlYWs7Y2FzZSByLkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpWKGEudGVzdCxiKTtWKGEuYWx0ZXJuYXRlLGIpO1YoYS5jb25zZXF1ZW50LGIpO2EuY29uc3RhbnQ9YS50ZXN0LmNvbnN0YW50JiZhLmFsdGVybmF0ZS5jb25zdGFudCYmYS5jb25zZXF1ZW50LmNvbnN0YW50O2EudG9XYXRjaD1cclxuYS5jb25zdGFudD9bXTpbYV07YnJlYWs7Y2FzZSByLklkZW50aWZpZXI6YS5jb25zdGFudD0hMTthLnRvV2F0Y2g9W2FdO2JyZWFrO2Nhc2Ugci5NZW1iZXJFeHByZXNzaW9uOlYoYS5vYmplY3QsYik7YS5jb21wdXRlZCYmVihhLnByb3BlcnR5LGIpO2EuY29uc3RhbnQ9YS5vYmplY3QuY29uc3RhbnQmJighYS5jb21wdXRlZHx8YS5wcm9wZXJ0eS5jb25zdGFudCk7YS50b1dhdGNoPVthXTticmVhaztjYXNlIHIuQ2FsbEV4cHJlc3Npb246ZD1hLmZpbHRlcj8hYihhLmNhbGxlZS5uYW1lKS4kc3RhdGVmdWw6ITE7Yz1bXTtwKGEuYXJndW1lbnRzLGZ1bmN0aW9uKGEpe1YoYSxiKTtkPWQmJmEuY29uc3RhbnQ7YS5jb25zdGFudHx8Yy5wdXNoLmFwcGx5KGMsYS50b1dhdGNoKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YS5maWx0ZXImJiFiKGEuY2FsbGVlLm5hbWUpLiRzdGF0ZWZ1bD9jOlthXTticmVhaztjYXNlIHIuQXNzaWdubWVudEV4cHJlc3Npb246VihhLmxlZnQsYik7VihhLnJpZ2h0LFxyXG5iKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDthLnRvV2F0Y2g9W2FdO2JyZWFrO2Nhc2Ugci5BcnJheUV4cHJlc3Npb246ZD0hMDtjPVtdO3AoYS5lbGVtZW50cyxmdW5jdGlvbihhKXtWKGEsYik7ZD1kJiZhLmNvbnN0YW50O2EuY29uc3RhbnR8fGMucHVzaC5hcHBseShjLGEudG9XYXRjaCl9KTthLmNvbnN0YW50PWQ7YS50b1dhdGNoPWM7YnJlYWs7Y2FzZSByLk9iamVjdEV4cHJlc3Npb246ZD0hMDtjPVtdO3AoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe1YoYS52YWx1ZSxiKTtkPWQmJmEudmFsdWUuY29uc3RhbnQ7YS52YWx1ZS5jb25zdGFudHx8Yy5wdXNoLmFwcGx5KGMsYS52YWx1ZS50b1dhdGNoKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YzticmVhaztjYXNlIHIuVGhpc0V4cHJlc3Npb246YS5jb25zdGFudD0hMTthLnRvV2F0Y2g9W107YnJlYWs7Y2FzZSByLkxvY2Fsc0V4cHJlc3Npb246YS5jb25zdGFudD0hMSxhLnRvV2F0Y2g9XHJcbltdfX1mdW5jdGlvbiBsZChhKXtpZigxPT1hLmxlbmd0aCl7YT1hWzBdLmV4cHJlc3Npb247dmFyIGI9YS50b1dhdGNoO3JldHVybiAxIT09Yi5sZW5ndGg/YjpiWzBdIT09YT9iOnd9fWZ1bmN0aW9uIG1kKGEpe3JldHVybiBhLnR5cGU9PT1yLklkZW50aWZpZXJ8fGEudHlwZT09PXIuTWVtYmVyRXhwcmVzc2lvbn1mdW5jdGlvbiBuZChhKXtpZigxPT09YS5ib2R5Lmxlbmd0aCYmbWQoYS5ib2R5WzBdLmV4cHJlc3Npb24pKXJldHVybnt0eXBlOnIuQXNzaWdubWVudEV4cHJlc3Npb24sbGVmdDphLmJvZHlbMF0uZXhwcmVzc2lvbixyaWdodDp7dHlwZTpyLk5HVmFsdWVQYXJhbWV0ZXJ9LG9wZXJhdG9yOlwiPVwifX1mdW5jdGlvbiBvZChhKXtyZXR1cm4gMD09PWEuYm9keS5sZW5ndGh8fDE9PT1hLmJvZHkubGVuZ3RoJiYoYS5ib2R5WzBdLmV4cHJlc3Npb24udHlwZT09PXIuTGl0ZXJhbHx8YS5ib2R5WzBdLmV4cHJlc3Npb24udHlwZT09PXIuQXJyYXlFeHByZXNzaW9ufHxhLmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlPT09XHJcbnIuT2JqZWN0RXhwcmVzc2lvbil9ZnVuY3Rpb24gcGQoYSxiKXt0aGlzLmFzdEJ1aWxkZXI9YTt0aGlzLiRmaWx0ZXI9Yn1mdW5jdGlvbiBxZChhLGIpe3RoaXMuYXN0QnVpbGRlcj1hO3RoaXMuJGZpbHRlcj1ifWZ1bmN0aW9uIEhiKGEpe3JldHVyblwiY29uc3RydWN0b3JcIj09YX1mdW5jdGlvbiBlYyhhKXtyZXR1cm4gSChhLnZhbHVlT2YpP2EudmFsdWVPZigpOmpnLmNhbGwoYSl9ZnVuY3Rpb24gcGYoKXt2YXIgYT1YKCksYj1YKCksZD17XCJ0cnVlXCI6ITAsXCJmYWxzZVwiOiExLFwibnVsbFwiOm51bGwsdW5kZWZpbmVkOnd9O3RoaXMuYWRkTGl0ZXJhbD1mdW5jdGlvbihhLGIpe2RbYV09Yn07dGhpcy4kZ2V0PVtcIiRmaWx0ZXJcIixmdW5jdGlvbihjKXtmdW5jdGlvbiBlKGQsZSxnKXt2YXIgeSxwLEM7Zz1nfHx4O3N3aXRjaCh0eXBlb2YgZCl7Y2FzZSBcInN0cmluZ1wiOkM9ZD1kLnRyaW0oKTt2YXIgSj1nP2I6YTt5PUpbQ107aWYoIXkpe1wiOlwiPT09ZC5jaGFyQXQoMCkmJlwiOlwiPT09ZC5jaGFyQXQoMSkmJlxyXG4ocD0hMCxkPWQuc3Vic3RyaW5nKDIpKTt5PWc/SzpCO3ZhciBUPW5ldyBmYyh5KTt5PShuZXcgZ2MoVCxjLHkpKS5wYXJzZShkKTt5LmNvbnN0YW50P3kuJCR3YXRjaERlbGVnYXRlPW06cD95LiQkd2F0Y2hEZWxlZ2F0ZT15LmxpdGVyYWw/bDprOnkuaW5wdXRzJiYoeS4kJHdhdGNoRGVsZWdhdGU9aCk7ZyYmKHk9Zih5KSk7SltDXT15fXJldHVybiBuKHksZSk7Y2FzZSBcImZ1bmN0aW9uXCI6cmV0dXJuIG4oZCxlKTtkZWZhdWx0OnJldHVybiBuKHosZSl9fWZ1bmN0aW9uIGYoYSl7ZnVuY3Rpb24gYihjLGQsZSxmKXt2YXIgZz14O3g9ITA7dHJ5e3JldHVybiBhKGMsZCxlLGYpfWZpbmFsbHl7eD1nfX1pZighYSlyZXR1cm4gYTtiLiQkd2F0Y2hEZWxlZ2F0ZT1hLiQkd2F0Y2hEZWxlZ2F0ZTtiLmFzc2lnbj1mKGEuYXNzaWduKTtiLmNvbnN0YW50PWEuY29uc3RhbnQ7Yi5saXRlcmFsPWEubGl0ZXJhbDtmb3IodmFyIGM9MDthLmlucHV0cyYmYzxhLmlucHV0cy5sZW5ndGg7KytjKWEuaW5wdXRzW2NdPVxyXG5mKGEuaW5wdXRzW2NdKTtiLmlucHV0cz1hLmlucHV0cztyZXR1cm4gYn1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIG51bGw9PWF8fG51bGw9PWI/YT09PWI6XCJvYmplY3RcIj09PXR5cGVvZiBhJiYoYT1lYyhhKSxcIm9iamVjdFwiPT09dHlwZW9mIGEpPyExOmE9PT1ifHxhIT09YSYmYiE9PWJ9ZnVuY3Rpb24gaChhLGIsYyxkLGUpe3ZhciBmPWQuaW5wdXRzLGg7aWYoMT09PWYubGVuZ3RoKXt2YXIgaz1nLGY9ZlswXTtyZXR1cm4gYS4kd2F0Y2goZnVuY3Rpb24oYSl7dmFyIGI9ZihhKTtnKGIsayl8fChoPWQoYSx3LHcsW2JdKSxrPWImJmVjKGIpKTtyZXR1cm4gaH0sYixjLGUpfWZvcih2YXIgbD1bXSxtPVtdLG49MCx5PWYubGVuZ3RoO248eTtuKyspbFtuXT1nLG1bbl09bnVsbDtyZXR1cm4gYS4kd2F0Y2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSExLGM9MCxlPWYubGVuZ3RoO2M8ZTtjKyspe3ZhciBrPWZbY10oYSk7aWYoYnx8KGI9IWcoayxsW2NdKSkpbVtjXT1rLGxbY109ayYmZWMoayl9YiYmXHJcbihoPWQoYSx3LHcsbSkpO3JldHVybiBofSxiLGMsZSl9ZnVuY3Rpb24gayhhLGIsYyxkKXt2YXIgZSxmO3JldHVybiBlPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpfSxmdW5jdGlvbihhLGMsZCl7Zj1hO0goYikmJmIuYXBwbHkodGhpcyxhcmd1bWVudHMpO0EoYSkmJmQuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7QShmKSYmZSgpfSl9LGMpfWZ1bmN0aW9uIGwoYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj0hMDtwKGEsZnVuY3Rpb24oYSl7QShhKXx8KGI9ITEpfSk7cmV0dXJuIGJ9dmFyIGYsZztyZXR1cm4gZj1hLiR3YXRjaChmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0sZnVuY3Rpb24oYSxjLGQpe2c9YTtIKGIpJiZiLmNhbGwodGhpcyxhLGMsZCk7ZShhKSYmZC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtlKGcpJiZmKCl9KX0sYyl9ZnVuY3Rpb24gbShhLGIsYyxkKXt2YXIgZTtyZXR1cm4gZT1hLiR3YXRjaChmdW5jdGlvbihhKXtlKCk7cmV0dXJuIGQoYSl9LFxyXG5iLGMpfWZ1bmN0aW9uIG4oYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1hLiQkd2F0Y2hEZWxlZ2F0ZSxkPSExLGM9YyE9PWwmJmMhPT1rP2Z1bmN0aW9uKGMsZSxmLGcpe2Y9ZCYmZz9nWzBdOmEoYyxlLGYsZyk7cmV0dXJuIGIoZixjLGUpfTpmdW5jdGlvbihjLGQsZSxmKXtlPWEoYyxkLGUsZik7Yz1iKGUsYyxkKTtyZXR1cm4gQShlKT9jOmV9O2EuJCR3YXRjaERlbGVnYXRlJiZhLiQkd2F0Y2hEZWxlZ2F0ZSE9PWg/Yy4kJHdhdGNoRGVsZWdhdGU9YS4kJHdhdGNoRGVsZWdhdGU6Yi4kc3RhdGVmdWx8fChjLiQkd2F0Y2hEZWxlZ2F0ZT1oLGQ9IWEuaW5wdXRzLGMuaW5wdXRzPWEuaW5wdXRzP2EuaW5wdXRzOlthXSk7cmV0dXJuIGN9dmFyIHk9RWEoKS5ub1Vuc2FmZUV2YWwsQj17Y3NwOnksZXhwZW5zaXZlQ2hlY2tzOiExLGxpdGVyYWxzOnFhKGQpfSxLPXtjc3A6eSxleHBlbnNpdmVDaGVja3M6ITAsbGl0ZXJhbHM6cWEoZCl9LHg9ITE7ZS4kJHJ1bm5pbmdFeHBlbnNpdmVDaGVja3M9XHJcbmZ1bmN0aW9uKCl7cmV0dXJuIHh9O3JldHVybiBlfV19ZnVuY3Rpb24gcmYoKXt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixmdW5jdGlvbihhLGIpe3JldHVybiByZChmdW5jdGlvbihiKXthLiRldmFsQXN5bmMoYil9LGIpfV19ZnVuY3Rpb24gc2YoKXt0aGlzLiRnZXQ9W1wiJGJyb3dzZXJcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gcmQoZnVuY3Rpb24oYil7YS5kZWZlcihiKX0sYil9XX1mdW5jdGlvbiByZChhLGIpe2Z1bmN0aW9uIGQoKXt0aGlzLiQkc3RhdGU9e3N0YXR1czowfX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2IuY2FsbChhLGMpfX1mdW5jdGlvbiBlKGMpeyFjLnByb2Nlc3NTY2hlZHVsZWQmJmMucGVuZGluZyYmKGMucHJvY2Vzc1NjaGVkdWxlZD0hMCxhKGZ1bmN0aW9uKCl7dmFyIGEsZCxlO2U9Yy5wZW5kaW5nO2MucHJvY2Vzc1NjaGVkdWxlZD0hMTtjLnBlbmRpbmc9dztmb3IodmFyIGY9XHJcbjAsZz1lLmxlbmd0aDtmPGc7KytmKXtkPWVbZl1bMF07YT1lW2ZdW2Muc3RhdHVzXTt0cnl7SChhKT9kLnJlc29sdmUoYShjLnZhbHVlKSk6MT09PWMuc3RhdHVzP2QucmVzb2x2ZShjLnZhbHVlKTpkLnJlamVjdChjLnZhbHVlKX1jYXRjaChoKXtkLnJlamVjdChoKSxiKGgpfX19KSl9ZnVuY3Rpb24gZigpe3RoaXMucHJvbWlzZT1uZXcgZH12YXIgZz1PKFwiJHFcIixUeXBlRXJyb3IpO1MoZC5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oYSxiLGMpe2lmKHYoYSkmJnYoYikmJnYoYykpcmV0dXJuIHRoaXM7dmFyIGQ9bmV3IGY7dGhpcy4kJHN0YXRlLnBlbmRpbmc9dGhpcy4kJHN0YXRlLnBlbmRpbmd8fFtdO3RoaXMuJCRzdGF0ZS5wZW5kaW5nLnB1c2goW2QsYSxiLGNdKTswPHRoaXMuJCRzdGF0ZS5zdGF0dXMmJmUodGhpcy4kJHN0YXRlKTtyZXR1cm4gZC5wcm9taXNlfSxcImNhdGNoXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGEpfSxcImZpbmFsbHlcIjpmdW5jdGlvbihhLFxyXG5iKXtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKGIpe3JldHVybiBrKGIsITAsYSl9LGZ1bmN0aW9uKGIpe3JldHVybiBrKGIsITEsYSl9LGIpfX0pO1MoZi5wcm90b3R5cGUse3Jlc29sdmU6ZnVuY3Rpb24oYSl7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzfHwoYT09PXRoaXMucHJvbWlzZT90aGlzLiQkcmVqZWN0KGcoXCJxY3ljbGVcIixhKSk6dGhpcy4kJHJlc29sdmUoYSkpfSwkJHJlc29sdmU6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChhKXtrfHwoaz0hMCxoLiQkcmVzb2x2ZShhKSl9ZnVuY3Rpb24gZihhKXtrfHwoaz0hMCxoLiQkcmVqZWN0KGEpKX12YXIgZyxoPXRoaXMsaz0hMTt0cnl7aWYoSShhKXx8SChhKSlnPWEmJmEudGhlbjtIKGcpPyh0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9LTEsZy5jYWxsKGEsZCxmLGModGhpcyx0aGlzLm5vdGlmeSkpKToodGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWU9YSx0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXM9MSxlKHRoaXMucHJvbWlzZS4kJHN0YXRlKSl9Y2F0Y2gobCl7ZihsKSxcclxuYihsKX19LHJlamVjdDpmdW5jdGlvbihhKXt0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXN8fHRoaXMuJCRyZWplY3QoYSl9LCQkcmVqZWN0OmZ1bmN0aW9uKGEpe3RoaXMucHJvbWlzZS4kJHN0YXRlLnZhbHVlPWE7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzPTI7ZSh0aGlzLnByb21pc2UuJCRzdGF0ZSl9LG5vdGlmeTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLnByb21pc2UuJCRzdGF0ZS5wZW5kaW5nOzA+PXRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyYmZCYmZC5sZW5ndGgmJmEoZnVuY3Rpb24oKXtmb3IodmFyIGEsZSxmPTAsZz1kLmxlbmd0aDtmPGc7ZisrKXtlPWRbZl1bMF07YT1kW2ZdWzNdO3RyeXtlLm5vdGlmeShIKGEpP2EoYyk6Yyl9Y2F0Y2goaCl7YihoKX19fSl9fSk7dmFyIGg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgZjtiP2MucmVzb2x2ZShhKTpjLnJlamVjdChhKTtyZXR1cm4gYy5wcm9taXNlfSxrPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1udWxsO3RyeXtIKGMpJiZcclxuKGQ9YygpKX1jYXRjaChlKXtyZXR1cm4gaChlLCExKX1yZXR1cm4gZCYmSChkLnRoZW4pP2QudGhlbihmdW5jdGlvbigpe3JldHVybiBoKGEsYil9LGZ1bmN0aW9uKGEpe3JldHVybiBoKGEsITEpfSk6aChhLGIpfSxsPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBmO2UucmVzb2x2ZShhKTtyZXR1cm4gZS5wcm9taXNlLnRoZW4oYixjLGQpfSxtPWZ1bmN0aW9uKGEpe2lmKCFIKGEpKXRocm93IGcoXCJub3JzbHZyXCIsYSk7dmFyIGI9bmV3IGY7YShmdW5jdGlvbihhKXtiLnJlc29sdmUoYSl9LGZ1bmN0aW9uKGEpe2IucmVqZWN0KGEpfSk7cmV0dXJuIGIucHJvbWlzZX07bS5wcm90b3R5cGU9ZC5wcm90b3R5cGU7bS5kZWZlcj1mdW5jdGlvbigpe3ZhciBhPW5ldyBmO2EucmVzb2x2ZT1jKGEsYS5yZXNvbHZlKTthLnJlamVjdD1jKGEsYS5yZWplY3QpO2Eubm90aWZ5PWMoYSxhLm5vdGlmeSk7cmV0dXJuIGF9O20ucmVqZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBmO2IucmVqZWN0KGEpO1xyXG5yZXR1cm4gYi5wcm9taXNlfTttLndoZW49bDttLnJlc29sdmU9bDttLmFsbD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgZixjPTAsZD1MKGEpP1tdOnt9O3AoYSxmdW5jdGlvbihhLGUpe2MrKztsKGEpLnRoZW4oZnVuY3Rpb24oYSl7ZC5oYXNPd25Qcm9wZXJ0eShlKXx8KGRbZV09YSwtLWN8fGIucmVzb2x2ZShkKSl9LGZ1bmN0aW9uKGEpe2QuaGFzT3duUHJvcGVydHkoZSl8fGIucmVqZWN0KGEpfSl9KTswPT09YyYmYi5yZXNvbHZlKGQpO3JldHVybiBiLnByb21pc2V9O3JldHVybiBtfWZ1bmN0aW9uIEJmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYSxiKXt2YXIgZD1hLnJlcXVlc3RBbmltYXRpb25GcmFtZXx8YS53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsYz1hLmNhbmNlbEFuaW1hdGlvbkZyYW1lfHxhLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHxhLndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSxlPSEhZCxmPWU/ZnVuY3Rpb24oYSl7dmFyIGI9XHJcbmQoYSk7cmV0dXJuIGZ1bmN0aW9uKCl7YyhiKX19OmZ1bmN0aW9uKGEpe3ZhciBjPWIoYSwxNi42NiwhMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5jYW5jZWwoYyl9fTtmLnN1cHBvcnRlZD1lO3JldHVybiBmfV19ZnVuY3Rpb24gcWYoKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsO3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJGxpc3RlbmVyQ291bnQ9e307dGhpcy4kJHdhdGNoZXJzQ291bnQ9MDt0aGlzLiRpZD0rK3BiO3RoaXMuJCRDaGlsZFNjb3BlPW51bGx9Yi5wcm90b3R5cGU9YTtyZXR1cm4gYn12YXIgYj0xMCxkPU8oXCIkcm9vdFNjb3BlXCIpLGM9bnVsbCxlPW51bGw7dGhpcy5kaWdlc3RUdGw9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9YSk7cmV0dXJuIGJ9O3RoaXMuJGdldD1bXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJHBhcnNlXCIsXHJcblwiJGJyb3dzZXJcIixmdW5jdGlvbihmLGcsaCl7ZnVuY3Rpb24gayhhKXthLmN1cnJlbnRTY29wZS4kJGRlc3Ryb3llZD0hMH1mdW5jdGlvbiBsKGEpezk9PT16YSYmKGEuJCRjaGlsZEhlYWQmJmwoYS4kJGNoaWxkSGVhZCksYS4kJG5leHRTaWJsaW5nJiZsKGEuJCRuZXh0U2libGluZykpO2EuJHBhcmVudD1hLiQkbmV4dFNpYmxpbmc9YS4kJHByZXZTaWJsaW5nPWEuJCRjaGlsZEhlYWQ9YS4kJGNoaWxkVGFpbD1hLiRyb290PWEuJCR3YXRjaGVycz1udWxsfWZ1bmN0aW9uIG0oKXt0aGlzLiRpZD0rK3BiO3RoaXMuJCRwaGFzZT10aGlzLiRwYXJlbnQ9dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGw7dGhpcy4kcm9vdD10aGlzO3RoaXMuJCRkZXN0cm95ZWQ9ITE7dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbGlzdGVuZXJDb3VudD17fTt0aGlzLiQkd2F0Y2hlcnNDb3VudD1cclxuMDt0aGlzLiQkaXNvbGF0ZUJpbmRpbmdzPW51bGx9ZnVuY3Rpb24gbihhKXtpZih0LiQkcGhhc2UpdGhyb3cgZChcImlucHJvZ1wiLHQuJCRwaGFzZSk7dC4kJHBoYXNlPWF9ZnVuY3Rpb24geShhLGIpe2RvIGEuJCR3YXRjaGVyc0NvdW50Kz1iO3doaWxlKGE9YS4kcGFyZW50KX1mdW5jdGlvbiBCKGEsYixjKXtkbyBhLiQkbGlzdGVuZXJDb3VudFtjXS09YiwwPT09YS4kJGxpc3RlbmVyQ291bnRbY10mJmRlbGV0ZSBhLiQkbGlzdGVuZXJDb3VudFtjXTt3aGlsZShhPWEuJHBhcmVudCl9ZnVuY3Rpb24gcigpe31mdW5jdGlvbiB4KCl7Zm9yKDtNLmxlbmd0aDspdHJ5e00uc2hpZnQoKSgpfWNhdGNoKGEpe2YoYSl9ZT1udWxsfWZ1bmN0aW9uIHEoKXtudWxsPT09ZSYmKGU9aC5kZWZlcihmdW5jdGlvbigpe3QuJGFwcGx5KHgpfSkpfW0ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjptLCRuZXc6ZnVuY3Rpb24oYixjKXt2YXIgZDtjPWN8fHRoaXM7Yj8oZD1uZXcgbSxkLiRyb290PXRoaXMuJHJvb3QpOlxyXG4odGhpcy4kJENoaWxkU2NvcGV8fCh0aGlzLiQkQ2hpbGRTY29wZT1hKHRoaXMpKSxkPW5ldyB0aGlzLiQkQ2hpbGRTY29wZSk7ZC4kcGFyZW50PWM7ZC4kJHByZXZTaWJsaW5nPWMuJCRjaGlsZFRhaWw7Yy4kJGNoaWxkSGVhZD8oYy4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nPWQsYy4kJGNoaWxkVGFpbD1kKTpjLiQkY2hpbGRIZWFkPWMuJCRjaGlsZFRhaWw9ZDsoYnx8YyE9dGhpcykmJmQuJG9uKFwiJGRlc3Ryb3lcIixrKTtyZXR1cm4gZH0sJHdhdGNoOmZ1bmN0aW9uKGEsYixkLGUpe3ZhciBmPWcoYSk7aWYoZi4kJHdhdGNoRGVsZWdhdGUpcmV0dXJuIGYuJCR3YXRjaERlbGVnYXRlKHRoaXMsYixkLGYsYSk7dmFyIGg9dGhpcyxrPWguJCR3YXRjaGVycyxsPXtmbjpiLGxhc3Q6cixnZXQ6ZixleHA6ZXx8YSxlcTohIWR9O2M9bnVsbDtIKGIpfHwobC5mbj16KTtrfHwoaz1oLiQkd2F0Y2hlcnM9W10pO2sudW5zaGlmdChsKTt5KHRoaXMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7MDw9YWIoayxcclxubCkmJnkoaCwtMSk7Yz1udWxsfX0sJHdhdGNoR3JvdXA6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7aD0hMTtrPyhrPSExLGIoZSxlLGcpKTpiKGUsZCxnKX12YXIgZD1BcnJheShhLmxlbmd0aCksZT1BcnJheShhLmxlbmd0aCksZj1bXSxnPXRoaXMsaD0hMSxrPSEwO2lmKCFhLmxlbmd0aCl7dmFyIGw9ITA7Zy4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7bCYmYihlLGUsZyl9KTtyZXR1cm4gZnVuY3Rpb24oKXtsPSExfX1pZigxPT09YS5sZW5ndGgpcmV0dXJuIHRoaXMuJHdhdGNoKGFbMF0sZnVuY3Rpb24oYSxjLGYpe2VbMF09YTtkWzBdPWM7YihlLGE9PT1jP2U6ZCxmKX0pO3AoYSxmdW5jdGlvbihhLGIpe3ZhciBrPWcuJHdhdGNoKGEsZnVuY3Rpb24oYSxmKXtlW2JdPWE7ZFtiXT1mO2h8fChoPSEwLGcuJGV2YWxBc3luYyhjKSl9KTtmLnB1c2goayl9KTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IoO2YubGVuZ3RoOylmLnNoaWZ0KCkoKX19LCR3YXRjaENvbGxlY3Rpb246ZnVuY3Rpb24oYSxcclxuYil7ZnVuY3Rpb24gYyhhKXtlPWE7dmFyIGIsZCxnLGg7aWYoIXYoZSkpe2lmKEkoZSkpaWYoQ2EoZSkpZm9yKGYhPT1uJiYoZj1uLHU9Zi5sZW5ndGg9MCxsKyspLGE9ZS5sZW5ndGgsdSE9PWEmJihsKyssZi5sZW5ndGg9dT1hKSxiPTA7YjxhO2IrKyloPWZbYl0sZz1lW2JdLGQ9aCE9PWgmJmchPT1nLGR8fGg9PT1nfHwobCsrLGZbYl09Zyk7ZWxzZXtmIT09eSYmKGY9eT17fSx1PTAsbCsrKTthPTA7Zm9yKGIgaW4gZSlzYS5jYWxsKGUsYikmJihhKyssZz1lW2JdLGg9ZltiXSxiIGluIGY/KGQ9aCE9PWgmJmchPT1nLGR8fGg9PT1nfHwobCsrLGZbYl09ZykpOih1KyssZltiXT1nLGwrKykpO2lmKHU+YSlmb3IoYiBpbiBsKyssZilzYS5jYWxsKGUsYil8fCh1LS0sZGVsZXRlIGZbYl0pfWVsc2UgZiE9PWUmJihmPWUsbCsrKTtyZXR1cm4gbH19Yy4kc3RhdGVmdWw9ITA7dmFyIGQ9dGhpcyxlLGYsaCxrPTE8Yi5sZW5ndGgsbD0wLG09ZyhhLGMpLG49W10seT17fSxxPSEwLHU9MDtyZXR1cm4gdGhpcy4kd2F0Y2gobSxcclxuZnVuY3Rpb24oKXtxPyhxPSExLGIoZSxlLGQpKTpiKGUsaCxkKTtpZihrKWlmKEkoZSkpaWYoQ2EoZSkpe2g9QXJyYXkoZS5sZW5ndGgpO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKWhbYV09ZVthXX1lbHNlIGZvcihhIGluIGg9e30sZSlzYS5jYWxsKGUsYSkmJihoW2FdPWVbYV0pO2Vsc2UgaD1lfSl9LCRkaWdlc3Q6ZnVuY3Rpb24oKXt2YXIgYSxnLGssbCxtLHkscSxCLHA9YixNLHc9W10sQSx2O24oXCIkZGlnZXN0XCIpO2guJCRjaGVja1VybENoYW5nZSgpO3RoaXM9PT10JiZudWxsIT09ZSYmKGguZGVmZXIuY2FuY2VsKGUpLHgoKSk7Yz1udWxsO2Rve0I9ITE7Zm9yKE09dGhpczt1Lmxlbmd0aDspe3RyeXt2PXUuc2hpZnQoKSx2LnNjb3BlLiRldmFsKHYuZXhwcmVzc2lvbix2LmxvY2Fscyl9Y2F0Y2goeil7Zih6KX1jPW51bGx9YTpkb3tpZih5PU0uJCR3YXRjaGVycylmb3IocT15Lmxlbmd0aDtxLS07KXRyeXtpZihhPXlbcV0paWYobT1hLmdldCwoZz1tKE0pKSE9PShrPWEubGFzdCkmJlxyXG4hKGEuZXE/b2EoZyxrKTpcIm51bWJlclwiPT09dHlwZW9mIGcmJlwibnVtYmVyXCI9PT10eXBlb2YgayYmaXNOYU4oZykmJmlzTmFOKGspKSlCPSEwLGM9YSxhLmxhc3Q9YS5lcT9xYShnLG51bGwpOmcsbD1hLmZuLGwoZyxrPT09cj9nOmssTSksNT5wJiYoQT00LXAsd1tBXXx8KHdbQV09W10pLHdbQV0ucHVzaCh7bXNnOkgoYS5leHApP1wiZm46IFwiKyhhLmV4cC5uYW1lfHxhLmV4cC50b1N0cmluZygpKTphLmV4cCxuZXdWYWw6ZyxvbGRWYWw6a30pKTtlbHNlIGlmKGE9PT1jKXtCPSExO2JyZWFrIGF9fWNhdGNoKEcpe2YoRyl9aWYoISh5PU0uJCR3YXRjaGVyc0NvdW50JiZNLiQkY2hpbGRIZWFkfHxNIT09dGhpcyYmTS4kJG5leHRTaWJsaW5nKSlmb3IoO00hPT10aGlzJiYhKHk9TS4kJG5leHRTaWJsaW5nKTspTT1NLiRwYXJlbnR9d2hpbGUoTT15KTtpZigoQnx8dS5sZW5ndGgpJiYhcC0tKXRocm93IHQuJCRwaGFzZT1udWxsLGQoXCJpbmZkaWdcIixiLHcpO313aGlsZShCfHx1Lmxlbmd0aCk7XHJcbmZvcih0LiQkcGhhc2U9bnVsbDtzLmxlbmd0aDspdHJ5e3Muc2hpZnQoKSgpfWNhdGNoKEQpe2YoRCl9fSwkZGVzdHJveTpmdW5jdGlvbigpe2lmKCF0aGlzLiQkZGVzdHJveWVkKXt2YXIgYT10aGlzLiRwYXJlbnQ7dGhpcy4kYnJvYWRjYXN0KFwiJGRlc3Ryb3lcIik7dGhpcy4kJGRlc3Ryb3llZD0hMDt0aGlzPT09dCYmaC4kJGFwcGxpY2F0aW9uRGVzdHJveWVkKCk7eSh0aGlzLC10aGlzLiQkd2F0Y2hlcnNDb3VudCk7Zm9yKHZhciBiIGluIHRoaXMuJCRsaXN0ZW5lckNvdW50KUIodGhpcyx0aGlzLiQkbGlzdGVuZXJDb3VudFtiXSxiKTthJiZhLiQkY2hpbGRIZWFkPT10aGlzJiYoYS4kJGNoaWxkSGVhZD10aGlzLiQkbmV4dFNpYmxpbmcpO2EmJmEuJCRjaGlsZFRhaWw9PXRoaXMmJihhLiQkY2hpbGRUYWlsPXRoaXMuJCRwcmV2U2libGluZyk7dGhpcy4kJHByZXZTaWJsaW5nJiYodGhpcy4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmc9dGhpcy4kJG5leHRTaWJsaW5nKTt0aGlzLiQkbmV4dFNpYmxpbmcmJlxyXG4odGhpcy4kJG5leHRTaWJsaW5nLiQkcHJldlNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nKTt0aGlzLiRkZXN0cm95PXRoaXMuJGRpZ2VzdD10aGlzLiRhcHBseT10aGlzLiRldmFsQXN5bmM9dGhpcy4kYXBwbHlBc3luYz16O3RoaXMuJG9uPXRoaXMuJHdhdGNoPXRoaXMuJHdhdGNoR3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gen07dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbmV4dFNpYmxpbmc9bnVsbDtsKHRoaXMpfX0sJGV2YWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZyhhKSh0aGlzLGIpfSwkZXZhbEFzeW5jOmZ1bmN0aW9uKGEsYil7dC4kJHBoYXNlfHx1Lmxlbmd0aHx8aC5kZWZlcihmdW5jdGlvbigpe3UubGVuZ3RoJiZ0LiRkaWdlc3QoKX0pO3UucHVzaCh7c2NvcGU6dGhpcyxleHByZXNzaW9uOmcoYSksbG9jYWxzOmJ9KX0sJCRwb3N0RGlnZXN0OmZ1bmN0aW9uKGEpe3MucHVzaChhKX0sJGFwcGx5OmZ1bmN0aW9uKGEpe3RyeXtuKFwiJGFwcGx5XCIpO3RyeXtyZXR1cm4gdGhpcy4kZXZhbChhKX1maW5hbGx5e3QuJCRwaGFzZT1cclxubnVsbH19Y2F0Y2goYil7ZihiKX1maW5hbGx5e3RyeXt0LiRkaWdlc3QoKX1jYXRjaChjKXt0aHJvdyBmKGMpLGM7fX19LCRhcHBseUFzeW5jOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtjLiRldmFsKGEpfXZhciBjPXRoaXM7YSYmTS5wdXNoKGIpO2E9ZyhhKTtxKCl9LCRvbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJCRsaXN0ZW5lcnNbYV07Y3x8KHRoaXMuJCRsaXN0ZW5lcnNbYV09Yz1bXSk7Yy5wdXNoKGIpO3ZhciBkPXRoaXM7ZG8gZC4kJGxpc3RlbmVyQ291bnRbYV18fChkLiQkbGlzdGVuZXJDb3VudFthXT0wKSxkLiQkbGlzdGVuZXJDb3VudFthXSsrO3doaWxlKGQ9ZC4kcGFyZW50KTt2YXIgZT10aGlzO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuaW5kZXhPZihiKTstMSE9PWQmJihjW2RdPW51bGwsQihlLDEsYSkpfX0sJGVtaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkLGU9dGhpcyxnPSExLGg9e25hbWU6YSx0YXJnZXRTY29wZTplLHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe2c9XHJcbiEwfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2guZGVmYXVsdFByZXZlbnRlZD0hMH0sZGVmYXVsdFByZXZlbnRlZDohMX0saz1iYihbaF0sYXJndW1lbnRzLDEpLGwsbTtkb3tkPWUuJCRsaXN0ZW5lcnNbYV18fGM7aC5jdXJyZW50U2NvcGU9ZTtsPTA7Zm9yKG09ZC5sZW5ndGg7bDxtO2wrKylpZihkW2xdKXRyeXtkW2xdLmFwcGx5KG51bGwsayl9Y2F0Y2gobil7ZihuKX1lbHNlIGQuc3BsaWNlKGwsMSksbC0tLG0tLTtpZihnKXJldHVybiBoLmN1cnJlbnRTY29wZT1udWxsLGg7ZT1lLiRwYXJlbnR9d2hpbGUoZSk7aC5jdXJyZW50U2NvcGU9bnVsbDtyZXR1cm4gaH0sJGJyb2FkY2FzdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLGU9e25hbWU6YSx0YXJnZXRTY29wZTp0aGlzLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ZS5kZWZhdWx0UHJldmVudGVkPSEwfSxkZWZhdWx0UHJldmVudGVkOiExfTtpZighdGhpcy4kJGxpc3RlbmVyQ291bnRbYV0pcmV0dXJuIGU7XHJcbmZvcih2YXIgZz1iYihbZV0sYXJndW1lbnRzLDEpLGgsaztjPWQ7KXtlLmN1cnJlbnRTY29wZT1jO2Q9Yy4kJGxpc3RlbmVyc1thXXx8W107aD0wO2ZvcihrPWQubGVuZ3RoO2g8aztoKyspaWYoZFtoXSl0cnl7ZFtoXS5hcHBseShudWxsLGcpfWNhdGNoKGwpe2YobCl9ZWxzZSBkLnNwbGljZShoLDEpLGgtLSxrLS07aWYoIShkPWMuJCRsaXN0ZW5lckNvdW50W2FdJiZjLiQkY2hpbGRIZWFkfHxjIT09dGhpcyYmYy4kJG5leHRTaWJsaW5nKSlmb3IoO2MhPT10aGlzJiYhKGQ9Yy4kJG5leHRTaWJsaW5nKTspYz1jLiRwYXJlbnR9ZS5jdXJyZW50U2NvcGU9bnVsbDtyZXR1cm4gZX19O3ZhciB0PW5ldyBtLHU9dC4kJGFzeW5jUXVldWU9W10scz10LiQkcG9zdERpZ2VzdFF1ZXVlPVtdLE09dC4kJGFwcGx5QXN5bmNRdWV1ZT1bXTtyZXR1cm4gdH1dfWZ1bmN0aW9uIGplKCl7dmFyIGE9L15cXHMqKGh0dHBzP3xmdHB8bWFpbHRvfHRlbHxmaWxlKTovLGI9L15cXHMqKChodHRwcz98ZnRwfGZpbGV8YmxvYik6fGRhdGE6aW1hZ2VcXC8pLztcclxudGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4gQShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiBBKGEpPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGQsYyl7dmFyIGU9Yz9iOmEsZjtmPXdhKGQpLmhyZWY7cmV0dXJuXCJcIj09PWZ8fGYubWF0Y2goZSk/ZDpcInVuc2FmZTpcIitmfX19ZnVuY3Rpb24ga2coYSl7aWYoXCJzZWxmXCI9PT1hKXJldHVybiBhO2lmKEQoYSkpe2lmKC0xPGEuaW5kZXhPZihcIioqKlwiKSl0aHJvdyBCYShcIml3Y2FyZFwiLGEpO2E9c2QoYSkucmVwbGFjZShcIlxcXFwqXFxcXCpcIixcIi4qXCIpLnJlcGxhY2UoXCJcXFxcKlwiLFwiW146Ly4/JjtdKlwiKTtyZXR1cm4gbmV3IFJlZ0V4cChcIl5cIithK1wiJFwiKX1pZihZYShhKSlyZXR1cm4gbmV3IFJlZ0V4cChcIl5cIithLnNvdXJjZStcIiRcIik7dGhyb3cgQmEoXCJpbWF0Y2hlclwiKTt9ZnVuY3Rpb24gdGQoYSl7dmFyIGI9XHJcbltdO0EoYSkmJnAoYSxmdW5jdGlvbihhKXtiLnB1c2goa2coYSkpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gdWYoKXt0aGlzLlNDRV9DT05URVhUUz1mYTt2YXIgYT1bXCJzZWxmXCJdLGI9W107dGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdD1mdW5jdGlvbihiKXthcmd1bWVudHMubGVuZ3RoJiYoYT10ZChiKSk7cmV0dXJuIGF9O3RoaXMucmVzb3VyY2VVcmxCbGFja2xpc3Q9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9dGQoYSkpO3JldHVybiBifTt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYyhhLGIpe3JldHVyblwic2VsZlwiPT09YT9lZChiKTohIWEuZXhlYyhiLmhyZWYpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiBhfX07YSYmKGIucHJvdG90eXBlPW5ldyBhKTtiLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKX07XHJcbmIucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKS50b1N0cmluZygpfTtyZXR1cm4gYn12YXIgZj1mdW5jdGlvbihhKXt0aHJvdyBCYShcInVuc2FmZVwiKTt9O2QuaGFzKFwiJHNhbml0aXplXCIpJiYoZj1kLmdldChcIiRzYW5pdGl6ZVwiKSk7dmFyIGc9ZSgpLGg9e307aFtmYS5IVE1MXT1lKGcpO2hbZmEuQ1NTXT1lKGcpO2hbZmEuVVJMXT1lKGcpO2hbZmEuSlNdPWUoZyk7aFtmYS5SRVNPVVJDRV9VUkxdPWUoaFtmYS5VUkxdKTtyZXR1cm57dHJ1c3RBczpmdW5jdGlvbihhLGIpe3ZhciBjPWguaGFzT3duUHJvcGVydHkoYSk/aFthXTpudWxsO2lmKCFjKXRocm93IEJhKFwiaWNvbnRleHRcIixhLGIpO2lmKG51bGw9PT1ifHx2KGIpfHxcIlwiPT09YilyZXR1cm4gYjtpZihcInN0cmluZ1wiIT09dHlwZW9mIGIpdGhyb3cgQmEoXCJpdHlwZVwiLGEpO3JldHVybiBuZXcgYyhiKX0sZ2V0VHJ1c3RlZDpmdW5jdGlvbihkLGUpe2lmKG51bGw9PT1cclxuZXx8dihlKXx8XCJcIj09PWUpcmV0dXJuIGU7dmFyIGc9aC5oYXNPd25Qcm9wZXJ0eShkKT9oW2RdOm51bGw7aWYoZyYmZSBpbnN0YW5jZW9mIGcpcmV0dXJuIGUuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTtpZihkPT09ZmEuUkVTT1VSQ0VfVVJMKXt2YXIgZz13YShlLnRvU3RyaW5nKCkpLG4seSxCPSExO249MDtmb3IoeT1hLmxlbmd0aDtuPHk7bisrKWlmKGMoYVtuXSxnKSl7Qj0hMDticmVha31pZihCKWZvcihuPTAseT1iLmxlbmd0aDtuPHk7bisrKWlmKGMoYltuXSxnKSl7Qj0hMTticmVha31pZihCKXJldHVybiBlO3Rocm93IEJhKFwiaW5zZWN1cmxcIixlLnRvU3RyaW5nKCkpO31pZihkPT09ZmEuSFRNTClyZXR1cm4gZihlKTt0aHJvdyBCYShcInVuc2FmZVwiKTt9LHZhbHVlT2Y6ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBnP2EuJCR1bndyYXBUcnVzdGVkVmFsdWUoKTphfX19XX1mdW5jdGlvbiB0Zigpe3ZhciBhPSEwO3RoaXMuZW5hYmxlZD1mdW5jdGlvbihiKXthcmd1bWVudHMubGVuZ3RoJiZcclxuKGE9ISFiKTtyZXR1cm4gYX07dGhpcy4kZ2V0PVtcIiRwYXJzZVwiLFwiJHNjZURlbGVnYXRlXCIsZnVuY3Rpb24oYixkKXtpZihhJiY4PnphKXRocm93IEJhKFwiaWVxdWlya3NcIik7dmFyIGM9bWEoZmEpO2MuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGF9O2MudHJ1c3RBcz1kLnRydXN0QXM7Yy5nZXRUcnVzdGVkPWQuZ2V0VHJ1c3RlZDtjLnZhbHVlT2Y9ZC52YWx1ZU9mO2F8fChjLnRydXN0QXM9Yy5nZXRUcnVzdGVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9LGMudmFsdWVPZj1aYSk7Yy5wYXJzZUFzPWZ1bmN0aW9uKGEsZCl7dmFyIGU9YihkKTtyZXR1cm4gZS5saXRlcmFsJiZlLmNvbnN0YW50P2U6YihkLGZ1bmN0aW9uKGIpe3JldHVybiBjLmdldFRydXN0ZWQoYSxiKX0pfTt2YXIgZT1jLnBhcnNlQXMsZj1jLmdldFRydXN0ZWQsZz1jLnRydXN0QXM7cChmYSxmdW5jdGlvbihhLGIpe3ZhciBkPUUoYik7Y1tlYihcInBhcnNlX2FzX1wiK2QpXT1mdW5jdGlvbihiKXtyZXR1cm4gZShhLFxyXG5iKX07Y1tlYihcImdldF90cnVzdGVkX1wiK2QpXT1mdW5jdGlvbihiKXtyZXR1cm4gZihhLGIpfTtjW2ViKFwidHJ1c3RfYXNfXCIrZCldPWZ1bmN0aW9uKGIpe3JldHVybiBnKGEsYil9fSk7cmV0dXJuIGN9XX1mdW5jdGlvbiB2Zigpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkZG9jdW1lbnRcIixmdW5jdGlvbihhLGIpe3ZhciBkPXt9LGM9ZGEoKC9hbmRyb2lkIChcXGQrKS8uZXhlYyhFKChhLm5hdmlnYXRvcnx8e30pLnVzZXJBZ2VudCkpfHxbXSlbMV0pLGU9L0JveGVlL2kudGVzdCgoYS5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpLGY9YlswXXx8e30sZyxoPS9eKE1venx3ZWJraXR8bXMpKD89W0EtWl0pLyxrPWYuYm9keSYmZi5ib2R5LnN0eWxlLGw9ITEsbT0hMTtpZihrKXtmb3IodmFyIG4gaW4gaylpZihsPWguZXhlYyhuKSl7Zz1sWzBdO2c9Zy5zdWJzdHIoMCwxKS50b1VwcGVyQ2FzZSgpK2cuc3Vic3RyKDEpO2JyZWFrfWd8fChnPVwiV2Via2l0T3BhY2l0eVwiaW4gayYmXCJ3ZWJraXRcIik7XHJcbmw9ISEoXCJ0cmFuc2l0aW9uXCJpbiBrfHxnK1wiVHJhbnNpdGlvblwiaW4gayk7bT0hIShcImFuaW1hdGlvblwiaW4ga3x8ZytcIkFuaW1hdGlvblwiaW4gayk7IWN8fGwmJm18fChsPUQoay53ZWJraXRUcmFuc2l0aW9uKSxtPUQoay53ZWJraXRBbmltYXRpb24pKX1yZXR1cm57aGlzdG9yeTohKCFhLmhpc3Rvcnl8fCFhLmhpc3RvcnkucHVzaFN0YXRlfHw0PmN8fGUpLGhhc0V2ZW50OmZ1bmN0aW9uKGEpe2lmKFwiaW5wdXRcIj09PWEmJjExPj16YSlyZXR1cm4hMTtpZih2KGRbYV0pKXt2YXIgYj1mLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZFthXT1cIm9uXCIrYSBpbiBifXJldHVybiBkW2FdfSxjc3A6RWEoKSx2ZW5kb3JQcmVmaXg6Zyx0cmFuc2l0aW9uczpsLGFuaW1hdGlvbnM6bSxhbmRyb2lkOmN9fV19ZnVuY3Rpb24geGYoKXt2YXIgYTt0aGlzLmh0dHBPcHRpb25zPWZ1bmN0aW9uKGIpe3JldHVybiBiPyhhPWIsdGhpcyk6YX07dGhpcy4kZ2V0PVtcIiR0ZW1wbGF0ZUNhY2hlXCIsXCIkaHR0cFwiLFwiJHFcIixcclxuXCIkc2NlXCIsZnVuY3Rpb24oYixkLGMsZSl7ZnVuY3Rpb24gZihnLGgpe2YudG90YWxQZW5kaW5nUmVxdWVzdHMrKztEKGcpJiZiLmdldChnKXx8KGc9ZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwoZykpO3ZhciBrPWQuZGVmYXVsdHMmJmQuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2U7TChrKT9rPWsuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhIT09JGJ9KTprPT09JGImJihrPW51bGwpO3JldHVybiBkLmdldChnLFMoe2NhY2hlOmIsdHJhbnNmb3JtUmVzcG9uc2U6a30sYSkpW1wiZmluYWxseVwiXShmdW5jdGlvbigpe2YudG90YWxQZW5kaW5nUmVxdWVzdHMtLX0pLnRoZW4oZnVuY3Rpb24oYSl7Yi5wdXQoZyxhLmRhdGEpO3JldHVybiBhLmRhdGF9LGZ1bmN0aW9uKGEpe2lmKCFoKXRocm93IGxnKFwidHBsb2FkXCIsZyxhLnN0YXR1cyxhLnN0YXR1c1RleHQpO3JldHVybiBjLnJlamVjdChhKX0pfWYudG90YWxQZW5kaW5nUmVxdWVzdHM9MDtyZXR1cm4gZn1dfWZ1bmN0aW9uIHlmKCl7dGhpcy4kZ2V0PVxyXG5bXCIkcm9vdFNjb3BlXCIsXCIkYnJvd3NlclwiLFwiJGxvY2F0aW9uXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybntmaW5kQmluZGluZ3M6ZnVuY3Rpb24oYSxiLGQpe2E9YS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibmctYmluZGluZ1wiKTt2YXIgZz1bXTtwKGEsZnVuY3Rpb24oYSl7dmFyIGM9ZWEuZWxlbWVudChhKS5kYXRhKFwiJGJpbmRpbmdcIik7YyYmcChjLGZ1bmN0aW9uKGMpe2Q/KG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIitzZChiKStcIihcXFxcc3xcXFxcfHwkKVwiKSkudGVzdChjKSYmZy5wdXNoKGEpOi0xIT1jLmluZGV4T2YoYikmJmcucHVzaChhKX0pfSk7cmV0dXJuIGd9LGZpbmRNb2RlbHM6ZnVuY3Rpb24oYSxiLGQpe2Zvcih2YXIgZz1bXCJuZy1cIixcImRhdGEtbmctXCIsXCJuZ1xcXFw6XCJdLGg9MDtoPGcubGVuZ3RoOysraCl7dmFyIGs9YS5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiK2dbaF0rXCJtb2RlbFwiKyhkP1wiPVwiOlwiKj1cIikrJ1wiJytiKydcIl0nKTtpZihrLmxlbmd0aClyZXR1cm4ga319LGdldExvY2F0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGQudXJsKCl9LFxyXG5zZXRMb2NhdGlvbjpmdW5jdGlvbihiKXtiIT09ZC51cmwoKSYmKGQudXJsKGIpLGEuJGRpZ2VzdCgpKX0sd2hlblN0YWJsZTpmdW5jdGlvbihhKXtiLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoYSl9fX1dfWZ1bmN0aW9uIHpmKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiRicm93c2VyXCIsXCIkcVwiLFwiJCRxXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihmLGssbCl7SChmKXx8KGw9ayxrPWYsZj16KTt2YXIgbT15YS5jYWxsKGFyZ3VtZW50cywzKSxuPUEobCkmJiFsLHk9KG4/YzpkKS5kZWZlcigpLEI9eS5wcm9taXNlLHA7cD1iLmRlZmVyKGZ1bmN0aW9uKCl7dHJ5e3kucmVzb2x2ZShmLmFwcGx5KG51bGwsbSkpfWNhdGNoKGIpe3kucmVqZWN0KGIpLGUoYil9ZmluYWxseXtkZWxldGUgZ1tCLiQkdGltZW91dElkXX1ufHxhLiRhcHBseSgpfSxrKTtCLiQkdGltZW91dElkPXA7Z1twXT15O3JldHVybiBCfXZhciBnPXt9O1xyXG5mLmNhbmNlbD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmYS4kJHRpbWVvdXRJZCBpbiBnPyhnW2EuJCR0aW1lb3V0SWRdLnJlamVjdChcImNhbmNlbGVkXCIpLGRlbGV0ZSBnW2EuJCR0aW1lb3V0SWRdLGIuZGVmZXIuY2FuY2VsKGEuJCR0aW1lb3V0SWQpKTohMX07cmV0dXJuIGZ9XX1mdW5jdGlvbiB3YShhKXt6YSYmKGFhLnNldEF0dHJpYnV0ZShcImhyZWZcIixhKSxhPWFhLmhyZWYpO2FhLnNldEF0dHJpYnV0ZShcImhyZWZcIixhKTtyZXR1cm57aHJlZjphYS5ocmVmLHByb3RvY29sOmFhLnByb3RvY29sP2FhLnByb3RvY29sLnJlcGxhY2UoLzokLyxcIlwiKTpcIlwiLGhvc3Q6YWEuaG9zdCxzZWFyY2g6YWEuc2VhcmNoP2FhLnNlYXJjaC5yZXBsYWNlKC9eXFw/LyxcIlwiKTpcIlwiLGhhc2g6YWEuaGFzaD9hYS5oYXNoLnJlcGxhY2UoL14jLyxcIlwiKTpcIlwiLGhvc3RuYW1lOmFhLmhvc3RuYW1lLHBvcnQ6YWEucG9ydCxwYXRobmFtZTpcIi9cIj09PWFhLnBhdGhuYW1lLmNoYXJBdCgwKT9hYS5wYXRobmFtZTpcIi9cIitcclxuYWEucGF0aG5hbWV9fWZ1bmN0aW9uIGVkKGEpe2E9RChhKT93YShhKTphO3JldHVybiBhLnByb3RvY29sPT09dWQucHJvdG9jb2wmJmEuaG9zdD09PXVkLmhvc3R9ZnVuY3Rpb24gQWYoKXt0aGlzLiRnZXQ9aWEoTil9ZnVuY3Rpb24gdmQoYSl7ZnVuY3Rpb24gYihhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXtyZXR1cm4gYX19dmFyIGQ9YVswXXx8e30sYz17fSxlPVwiXCI7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGEsZyxoLGssbDthPWQuY29va2llfHxcIlwiO2lmKGEhPT1lKWZvcihlPWEsYT1lLnNwbGl0KFwiOyBcIiksYz17fSxoPTA7aDxhLmxlbmd0aDtoKyspZz1hW2hdLGs9Zy5pbmRleE9mKFwiPVwiKSwwPGsmJihsPWIoZy5zdWJzdHJpbmcoMCxrKSksdihjW2xdKSYmKGNbbF09YihnLnN1YnN0cmluZyhrKzEpKSkpO3JldHVybiBjfX1mdW5jdGlvbiBFZigpe3RoaXMuJGdldD12ZH1mdW5jdGlvbiBJYyhhKXtmdW5jdGlvbiBiKGQsYyl7aWYoSShkKSl7dmFyIGU9XHJcbnt9O3AoZCxmdW5jdGlvbihhLGMpe2VbY109YihjLGEpfSk7cmV0dXJuIGV9cmV0dXJuIGEuZmFjdG9yeShkK1wiRmlsdGVyXCIsYyl9dGhpcy5yZWdpc3Rlcj1iO3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuZ2V0KGIrXCJGaWx0ZXJcIil9fV07YihcImN1cnJlbmN5XCIsd2QpO2IoXCJkYXRlXCIseGQpO2IoXCJmaWx0ZXJcIixtZyk7YihcImpzb25cIixuZyk7YihcImxpbWl0VG9cIixvZyk7YihcImxvd2VyY2FzZVwiLHBnKTtiKFwibnVtYmVyXCIseWQpO2IoXCJvcmRlckJ5XCIsemQpO2IoXCJ1cHBlcmNhc2VcIixxZyl9ZnVuY3Rpb24gbWcoKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGQpe2lmKCFDYShhKSl7aWYobnVsbD09YSlyZXR1cm4gYTt0aHJvdyBPKFwiZmlsdGVyXCIpKFwibm90YXJyYXlcIixhKTt9dmFyIGM7c3dpdGNoKGhjKGIpKXtjYXNlIFwiZnVuY3Rpb25cIjpicmVhaztjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudWxsXCI6Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJzdHJpbmdcIjpjPVxyXG4hMDtjYXNlIFwib2JqZWN0XCI6Yj1yZyhiLGQsYyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gYX1yZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGEsYil9fWZ1bmN0aW9uIHJnKGEsYixkKXt2YXIgYz1JKGEpJiZcIiRcImluIGE7ITA9PT1iP2I9b2E6SChiKXx8KGI9ZnVuY3Rpb24oYSxiKXtpZih2KGEpKXJldHVybiExO2lmKG51bGw9PT1hfHxudWxsPT09YilyZXR1cm4gYT09PWI7aWYoSShiKXx8SShhKSYmIXFjKGEpKXJldHVybiExO2E9RShcIlwiK2EpO2I9RShcIlwiK2IpO3JldHVybi0xIT09YS5pbmRleE9mKGIpfSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBjJiYhSShlKT9LYShlLGEuJCxiLCExKTpLYShlLGEsYixkKX19ZnVuY3Rpb24gS2EoYSxiLGQsYyxlKXt2YXIgZj1oYyhhKSxnPWhjKGIpO2lmKFwic3RyaW5nXCI9PT1nJiZcIiFcIj09PWIuY2hhckF0KDApKXJldHVybiFLYShhLGIuc3Vic3RyaW5nKDEpLGQsYyk7aWYoTChhKSlyZXR1cm4gYS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBLYShhLFxyXG5iLGQsYyl9KTtzd2l0Y2goZil7Y2FzZSBcIm9iamVjdFwiOnZhciBoO2lmKGMpe2ZvcihoIGluIGEpaWYoXCIkXCIhPT1oLmNoYXJBdCgwKSYmS2EoYVtoXSxiLGQsITApKXJldHVybiEwO3JldHVybiBlPyExOkthKGEsYixkLCExKX1pZihcIm9iamVjdFwiPT09Zyl7Zm9yKGggaW4gYilpZihlPWJbaF0sIUgoZSkmJiF2KGUpJiYoZj1cIiRcIj09PWgsIUthKGY/YTphW2hdLGUsZCxmLGYpKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gZChhLGIpO2Nhc2UgXCJmdW5jdGlvblwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuIGQoYSxiKX19ZnVuY3Rpb24gaGMoYSl7cmV0dXJuIG51bGw9PT1hP1wibnVsbFwiOnR5cGVvZiBhfWZ1bmN0aW9uIHdkKGEpe3ZhciBiPWEuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGEsYyxlKXt2KGMpJiYoYz1iLkNVUlJFTkNZX1NZTSk7dihlKSYmKGU9Yi5QQVRURVJOU1sxXS5tYXhGcmFjKTtyZXR1cm4gbnVsbD09YT9hOkFkKGEsYi5QQVRURVJOU1sxXSxiLkdST1VQX1NFUCxcclxuYi5ERUNJTUFMX1NFUCxlKS5yZXBsYWNlKC9cXHUwMEE0L2csYyl9fWZ1bmN0aW9uIHlkKGEpe3ZhciBiPWEuTlVNQkVSX0ZPUk1BVFM7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7cmV0dXJuIG51bGw9PWE/YTpBZChhLGIuUEFUVEVSTlNbMF0sYi5HUk9VUF9TRVAsYi5ERUNJTUFMX1NFUCxjKX19ZnVuY3Rpb24gc2coYSl7dmFyIGI9MCxkLGMsZSxmLGc7LTE8KGM9YS5pbmRleE9mKEJkKSkmJihhPWEucmVwbGFjZShCZCxcIlwiKSk7MDwoZT1hLnNlYXJjaCgvZS9pKSk/KDA+YyYmKGM9ZSksYys9K2Euc2xpY2UoZSsxKSxhPWEuc3Vic3RyaW5nKDAsZSkpOjA+YyYmKGM9YS5sZW5ndGgpO2ZvcihlPTA7YS5jaGFyQXQoZSk9PWljO2UrKyk7aWYoZT09KGc9YS5sZW5ndGgpKWQ9WzBdLGM9MTtlbHNle2ZvcihnLS07YS5jaGFyQXQoZyk9PWljOylnLS07Yy09ZTtkPVtdO2ZvcihmPTA7ZTw9ZztlKyssZisrKWRbZl09K2EuY2hhckF0KGUpfWM+Q2QmJihkPWQuc3BsaWNlKDAsQ2QtMSksYj1jLTEsXHJcbmM9MSk7cmV0dXJue2Q6ZCxlOmIsaTpjfX1mdW5jdGlvbiB0ZyhhLGIsZCxjKXt2YXIgZT1hLmQsZj1lLmxlbmd0aC1hLmk7Yj12KGIpP01hdGgubWluKE1hdGgubWF4KGQsZiksYyk6K2I7ZD1iK2EuaTtjPWVbZF07aWYoMDxkKXtlLnNwbGljZShNYXRoLm1heChhLmksZCkpO2Zvcih2YXIgZz1kO2c8ZS5sZW5ndGg7ZysrKWVbZ109MH1lbHNlIGZvcihmPU1hdGgubWF4KDAsZiksYS5pPTEsZS5sZW5ndGg9TWF0aC5tYXgoMSxkPWIrMSksZVswXT0wLGc9MTtnPGQ7ZysrKWVbZ109MDtpZig1PD1jKWlmKDA+ZC0xKXtmb3IoYz0wO2M+ZDtjLS0pZS51bnNoaWZ0KDApLGEuaSsrO2UudW5zaGlmdCgxKTthLmkrK31lbHNlIGVbZC0xXSsrO2Zvcig7ZjxNYXRoLm1heCgwLGIpO2YrKyllLnB1c2goMCk7aWYoYj1lLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uKGEsYixjLGQpe2IrPWE7ZFtjXT1iJTEwO3JldHVybiBNYXRoLmZsb29yKGIvMTApfSwwKSllLnVuc2hpZnQoYiksYS5pKyt9ZnVuY3Rpb24gQWQoYSxcclxuYixkLGMsZSl7aWYoIUQoYSkmJiFXKGEpfHxpc05hTihhKSlyZXR1cm5cIlwiO3ZhciBmPSFpc0Zpbml0ZShhKSxnPSExLGg9TWF0aC5hYnMoYSkrXCJcIixrPVwiXCI7aWYoZilrPVwiXFx1MjIxZVwiO2Vsc2V7Zz1zZyhoKTt0ZyhnLGUsYi5taW5GcmFjLGIubWF4RnJhYyk7az1nLmQ7aD1nLmk7ZT1nLmU7Zj1bXTtmb3IoZz1rLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhJiYhYn0sITApOzA+aDspay51bnNoaWZ0KDApLGgrKzswPGg/Zj1rLnNwbGljZShoKTooZj1rLGs9WzBdKTtoPVtdO2ZvcihrLmxlbmd0aD5iLmxnU2l6ZSYmaC51bnNoaWZ0KGsuc3BsaWNlKC1iLmxnU2l6ZSkuam9pbihcIlwiKSk7ay5sZW5ndGg+Yi5nU2l6ZTspaC51bnNoaWZ0KGsuc3BsaWNlKC1iLmdTaXplKS5qb2luKFwiXCIpKTtrLmxlbmd0aCYmaC51bnNoaWZ0KGsuam9pbihcIlwiKSk7az1oLmpvaW4oZCk7Zi5sZW5ndGgmJihrKz1jK2Yuam9pbihcIlwiKSk7ZSYmKGsrPVwiZStcIitlKX1yZXR1cm4gMD5hJiYhZz9iLm5lZ1ByZStcclxuaytiLm5lZ1N1ZjpiLnBvc1ByZStrK2IucG9zU3VmfWZ1bmN0aW9uIEliKGEsYixkLGMpe3ZhciBlPVwiXCI7aWYoMD5hfHxjJiYwPj1hKWM/YT0tYSsxOihhPS1hLGU9XCItXCIpO2ZvcihhPVwiXCIrYTthLmxlbmd0aDxiOylhPWljK2E7ZCYmKGE9YS5zdWJzdHIoYS5sZW5ndGgtYikpO3JldHVybiBlK2F9ZnVuY3Rpb24gYmEoYSxiLGQsYyxlKXtkPWR8fDA7cmV0dXJuIGZ1bmN0aW9uKGYpe2Y9ZltcImdldFwiK2FdKCk7aWYoMDxkfHxmPi1kKWYrPWQ7MD09PWYmJi0xMj09ZCYmKGY9MTIpO3JldHVybiBJYihmLGIsYyxlKX19ZnVuY3Rpb24ga2IoYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUpe3ZhciBmPWNbXCJnZXRcIithXSgpLGc9dWIoKGQ/XCJTVEFOREFMT05FXCI6XCJcIikrKGI/XCJTSE9SVFwiOlwiXCIpK2EpO3JldHVybiBlW2ddW2ZdfX1mdW5jdGlvbiBEZChhKXt2YXIgYj0obmV3IERhdGUoYSwwLDEpKS5nZXREYXkoKTtyZXR1cm4gbmV3IERhdGUoYSwwLCg0Pj1iPzU6MTIpLWIpfWZ1bmN0aW9uIEVkKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZD1cclxuRGQoYi5nZXRGdWxsWWVhcigpKTtiPStuZXcgRGF0ZShiLmdldEZ1bGxZZWFyKCksYi5nZXRNb250aCgpLGIuZ2V0RGF0ZSgpKyg0LWIuZ2V0RGF5KCkpKS0rZDtiPTErTWF0aC5yb3VuZChiLzYwNDhFNSk7cmV0dXJuIEliKGIsYSl9fWZ1bmN0aW9uIGpjKGEsYil7cmV0dXJuIDA+PWEuZ2V0RnVsbFllYXIoKT9iLkVSQVNbMF06Yi5FUkFTWzFdfWZ1bmN0aW9uIHhkKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGI7aWYoYj1hLm1hdGNoKGQpKXthPW5ldyBEYXRlKDApO3ZhciBmPTAsZz0wLGg9Yls4XT9hLnNldFVUQ0Z1bGxZZWFyOmEuc2V0RnVsbFllYXIsaz1iWzhdP2Euc2V0VVRDSG91cnM6YS5zZXRIb3VycztiWzldJiYoZj1kYShiWzldK2JbMTBdKSxnPWRhKGJbOV0rYlsxMV0pKTtoLmNhbGwoYSxkYShiWzFdKSxkYShiWzJdKS0xLGRhKGJbM10pKTtmPWRhKGJbNF18fDApLWY7Zz1kYShiWzVdfHwwKS1nO2g9ZGEoYls2XXx8MCk7Yj1NYXRoLnJvdW5kKDFFMypwYXJzZUZsb2F0KFwiMC5cIitcclxuKGJbN118fDApKSk7ay5jYWxsKGEsZixnLGgsYil9cmV0dXJuIGF9dmFyIGQ9L14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpcXC4oXFxkKykpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyk/JC87cmV0dXJuIGZ1bmN0aW9uKGMsZCxmKXt2YXIgZz1cIlwiLGg9W10sayxsO2Q9ZHx8XCJtZWRpdW1EYXRlXCI7ZD1hLkRBVEVUSU1FX0ZPUk1BVFNbZF18fGQ7RChjKSYmKGM9dWcudGVzdChjKT9kYShjKTpiKGMpKTtXKGMpJiYoYz1uZXcgRGF0ZShjKSk7aWYoIWdhKGMpfHwhaXNGaW5pdGUoYy5nZXRUaW1lKCkpKXJldHVybiBjO2Zvcig7ZDspKGw9dmcuZXhlYyhkKSk/KGg9YmIoaCxsLDEpLGQ9aC5wb3AoKSk6KGgucHVzaChkKSxkPW51bGwpO3ZhciBtPWMuZ2V0VGltZXpvbmVPZmZzZXQoKTtmJiYobT11YyhmLG0pLGM9UWIoYyxmLCEwKSk7cChoLGZ1bmN0aW9uKGIpe2s9d2dbYl07Zys9az9rKGMsYS5EQVRFVElNRV9GT1JNQVRTLFxyXG5tKTpcIicnXCI9PT1iP1wiJ1wiOmIucmVwbGFjZSgvKF4nfCckKS9nLFwiXCIpLnJlcGxhY2UoLycnL2csXCInXCIpfSk7cmV0dXJuIGd9fWZ1bmN0aW9uIG5nKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7dihiKSYmKGI9Mik7cmV0dXJuIGNiKGEsYil9fWZ1bmN0aW9uIG9nKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixkKXtiPUluZmluaXR5PT09TWF0aC5hYnMoTnVtYmVyKGIpKT9OdW1iZXIoYik6ZGEoYik7aWYoaXNOYU4oYikpcmV0dXJuIGE7VyhhKSYmKGE9YS50b1N0cmluZygpKTtpZighTChhKSYmIUQoYSkpcmV0dXJuIGE7ZD0hZHx8aXNOYU4oZCk/MDpkYShkKTtkPTA+ZD9NYXRoLm1heCgwLGEubGVuZ3RoK2QpOmQ7cmV0dXJuIDA8PWI/YS5zbGljZShkLGQrYik6MD09PWQ/YS5zbGljZShiLGEubGVuZ3RoKTphLnNsaWNlKE1hdGgubWF4KDAsZCtiKSxkKX19ZnVuY3Rpb24gemQoYSl7ZnVuY3Rpb24gYihiLGQpe2Q9ZD8tMToxO3JldHVybiBiLm1hcChmdW5jdGlvbihiKXt2YXIgYz0xLGg9WmE7XHJcbmlmKEgoYikpaD1iO2Vsc2UgaWYoRChiKSl7aWYoXCIrXCI9PWIuY2hhckF0KDApfHxcIi1cIj09Yi5jaGFyQXQoMCkpYz1cIi1cIj09Yi5jaGFyQXQoMCk/LTE6MSxiPWIuc3Vic3RyaW5nKDEpO2lmKFwiXCIhPT1iJiYoaD1hKGIpLGguY29uc3RhbnQpKXZhciBrPWgoKSxoPWZ1bmN0aW9uKGEpe3JldHVybiBhW2tdfX1yZXR1cm57Z2V0OmgsZGVzY2VuZGluZzpjKmR9fSl9ZnVuY3Rpb24gZChhKXtzd2l0Y2godHlwZW9mIGEpe2Nhc2UgXCJudW1iZXJcIjpjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJzdHJpbmdcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1yZXR1cm4gZnVuY3Rpb24oYSxlLGYpe2lmKG51bGw9PWEpcmV0dXJuIGE7aWYoIUNhKGEpKXRocm93IE8oXCJvcmRlckJ5XCIpKFwibm90YXJyYXlcIixhKTtMKGUpfHwoZT1bZV0pOzA9PT1lLmxlbmd0aCYmKGU9W1wiK1wiXSk7dmFyIGc9YihlLGYpO2cucHVzaCh7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue319LGRlc2NlbmRpbmc6Zj8tMToxfSk7YT1BcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYSxcclxuZnVuY3Rpb24oYSxiKXtyZXR1cm57dmFsdWU6YSxwcmVkaWNhdGVWYWx1ZXM6Zy5tYXAoZnVuY3Rpb24oYyl7dmFyIGU9Yy5nZXQoYSk7Yz10eXBlb2YgZTtpZihudWxsPT09ZSljPVwic3RyaW5nXCIsZT1cIm51bGxcIjtlbHNlIGlmKFwic3RyaW5nXCI9PT1jKWU9ZS50b0xvd2VyQ2FzZSgpO2Vsc2UgaWYoXCJvYmplY3RcIj09PWMpYTp7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGUudmFsdWVPZiYmKGU9ZS52YWx1ZU9mKCksZChlKSkpYnJlYWsgYTtpZihxYyhlKSYmKGU9ZS50b1N0cmluZygpLGQoZSkpKWJyZWFrIGE7ZT1ifXJldHVybnt2YWx1ZTplLHR5cGU6Y319KX19KTthLnNvcnQoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPTAsZT1nLmxlbmd0aDtkPGU7KytkKXt2YXIgYz1hLnByZWRpY2F0ZVZhbHVlc1tkXSxmPWIucHJlZGljYXRlVmFsdWVzW2RdLHA9MDtjLnR5cGU9PT1mLnR5cGU/Yy52YWx1ZSE9PWYudmFsdWUmJihwPWMudmFsdWU8Zi52YWx1ZT8tMToxKTpwPWMudHlwZTxmLnR5cGU/XHJcbi0xOjE7aWYoYz1wKmdbZF0uZGVzY2VuZGluZylicmVha31yZXR1cm4gY30pO3JldHVybiBhPWEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSl9fWZ1bmN0aW9uIExhKGEpe0goYSkmJihhPXtsaW5rOmF9KTthLnJlc3RyaWN0PWEucmVzdHJpY3R8fFwiQUNcIjtyZXR1cm4gaWEoYSl9ZnVuY3Rpb24gRmQoYSxiLGQsYyxlKXt2YXIgZj10aGlzLGc9W107Zi4kZXJyb3I9e307Zi4kJHN1Y2Nlc3M9e307Zi4kcGVuZGluZz13O2YuJG5hbWU9ZShiLm5hbWV8fGIubmdGb3JtfHxcIlwiKShkKTtmLiRkaXJ0eT0hMTtmLiRwcmlzdGluZT0hMDtmLiR2YWxpZD0hMDtmLiRpbnZhbGlkPSExO2YuJHN1Ym1pdHRlZD0hMTtmLiQkcGFyZW50Rm9ybT1KYjtmLiRyb2xsYmFja1ZpZXdWYWx1ZT1mdW5jdGlvbigpe3AoZyxmdW5jdGlvbihhKXthLiRyb2xsYmFja1ZpZXdWYWx1ZSgpfSl9O2YuJGNvbW1pdFZpZXdWYWx1ZT1mdW5jdGlvbigpe3AoZyxmdW5jdGlvbihhKXthLiRjb21taXRWaWV3VmFsdWUoKX0pfTtcclxuZi4kYWRkQ29udHJvbD1mdW5jdGlvbihhKXtSYShhLiRuYW1lLFwiaW5wdXRcIik7Zy5wdXNoKGEpO2EuJG5hbWUmJihmW2EuJG5hbWVdPWEpO2EuJCRwYXJlbnRGb3JtPWZ9O2YuJCRyZW5hbWVDb250cm9sPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS4kbmFtZTtmW2NdPT09YSYmZGVsZXRlIGZbY107ZltiXT1hO2EuJG5hbWU9Yn07Zi4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbihhKXthLiRuYW1lJiZmW2EuJG5hbWVdPT09YSYmZGVsZXRlIGZbYS4kbmFtZV07cChmLiRwZW5kaW5nLGZ1bmN0aW9uKGIsYyl7Zi4kc2V0VmFsaWRpdHkoYyxudWxsLGEpfSk7cChmLiRlcnJvcixmdW5jdGlvbihiLGMpe2YuJHNldFZhbGlkaXR5KGMsbnVsbCxhKX0pO3AoZi4kJHN1Y2Nlc3MsZnVuY3Rpb24oYixjKXtmLiRzZXRWYWxpZGl0eShjLG51bGwsYSl9KTthYihnLGEpO2EuJCRwYXJlbnRGb3JtPUpifTtHZCh7Y3RybDp0aGlzLCRlbGVtZW50OmEsc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hW2JdO2Q/XHJcbi0xPT09ZC5pbmRleE9mKGMpJiZkLnB1c2goYyk6YVtiXT1bY119LHVuc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hW2JdO2QmJihhYihkLGMpLDA9PT1kLmxlbmd0aCYmZGVsZXRlIGFbYl0pfSwkYW5pbWF0ZTpjfSk7Zi4kc2V0RGlydHk9ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKGEsV2EpO2MuYWRkQ2xhc3MoYSxLYik7Zi4kZGlydHk9ITA7Zi4kcHJpc3RpbmU9ITE7Zi4kJHBhcmVudEZvcm0uJHNldERpcnR5KCl9O2YuJHNldFByaXN0aW5lPWZ1bmN0aW9uKCl7Yy5zZXRDbGFzcyhhLFdhLEtiK1wiIG5nLXN1Ym1pdHRlZFwiKTtmLiRkaXJ0eT0hMTtmLiRwcmlzdGluZT0hMDtmLiRzdWJtaXR0ZWQ9ITE7cChnLGZ1bmN0aW9uKGEpe2EuJHNldFByaXN0aW5lKCl9KX07Zi4kc2V0VW50b3VjaGVkPWZ1bmN0aW9uKCl7cChnLGZ1bmN0aW9uKGEpe2EuJHNldFVudG91Y2hlZCgpfSl9O2YuJHNldFN1Ym1pdHRlZD1mdW5jdGlvbigpe2MuYWRkQ2xhc3MoYSxcIm5nLXN1Ym1pdHRlZFwiKTtcclxuZi4kc3VibWl0dGVkPSEwO2YuJCRwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKX19ZnVuY3Rpb24ga2MoYSl7YS4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGIpe3JldHVybiBhLiRpc0VtcHR5KGIpP2I6Yi50b1N0cmluZygpfSl9ZnVuY3Rpb24gbGIoYSxiLGQsYyxlLGYpe3ZhciBnPUUoYlswXS50eXBlKTtpZighZS5hbmRyb2lkKXt2YXIgaD0hMTtiLm9uKFwiY29tcG9zaXRpb25zdGFydFwiLGZ1bmN0aW9uKCl7aD0hMH0pO2Iub24oXCJjb21wb3NpdGlvbmVuZFwiLGZ1bmN0aW9uKCl7aD0hMTtsKCl9KX12YXIgayxsPWZ1bmN0aW9uKGEpe2smJihmLmRlZmVyLmNhbmNlbChrKSxrPW51bGwpO2lmKCFoKXt2YXIgZT1iLnZhbCgpO2E9YSYmYS50eXBlO1wicGFzc3dvcmRcIj09PWd8fGQubmdUcmltJiZcImZhbHNlXCI9PT1kLm5nVHJpbXx8KGU9WihlKSk7KGMuJHZpZXdWYWx1ZSE9PWV8fFwiXCI9PT1lJiZjLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykmJmMuJHNldFZpZXdWYWx1ZShlLGEpfX07aWYoZS5oYXNFdmVudChcImlucHV0XCIpKWIub24oXCJpbnB1dFwiLFxyXG5sKTtlbHNle3ZhciBtPWZ1bmN0aW9uKGEsYixjKXtrfHwoaz1mLmRlZmVyKGZ1bmN0aW9uKCl7az1udWxsO2ImJmIudmFsdWU9PT1jfHxsKGEpfSkpfTtiLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEua2V5Q29kZTs5MT09PWJ8fDE1PGImJjE5PmJ8fDM3PD1iJiY0MD49Ynx8bShhLHRoaXMsdGhpcy52YWx1ZSl9KTtpZihlLmhhc0V2ZW50KFwicGFzdGVcIikpYi5vbihcInBhc3RlIGN1dFwiLG0pfWIub24oXCJjaGFuZ2VcIixsKTtpZihIZFtnXSYmYy4kJGhhc05hdGl2ZVZhbGlkYXRvcnMmJmc9PT1kLnR5cGUpYi5vbihcImtleWRvd24gd2hlZWwgbW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7aWYoIWspe3ZhciBiPXRoaXMudmFsaWRpdHksYz1iLmJhZElucHV0LGQ9Yi50eXBlTWlzbWF0Y2g7az1mLmRlZmVyKGZ1bmN0aW9uKCl7az1udWxsO2IuYmFkSW5wdXQ9PT1jJiZiLnR5cGVNaXNtYXRjaD09PWR8fGwoYSl9KX19KTtjLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYT1jLiRpc0VtcHR5KGMuJHZpZXdWYWx1ZSk/XHJcblwiXCI6Yy4kdmlld1ZhbHVlO2IudmFsKCkhPT1hJiZiLnZhbChhKX19ZnVuY3Rpb24gTGIoYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjKXt2YXIgZSxmO2lmKGdhKGQpKXJldHVybiBkO2lmKEQoZCkpeydcIic9PWQuY2hhckF0KDApJiYnXCInPT1kLmNoYXJBdChkLmxlbmd0aC0xKSYmKGQ9ZC5zdWJzdHJpbmcoMSxkLmxlbmd0aC0xKSk7aWYoeGcudGVzdChkKSlyZXR1cm4gbmV3IERhdGUoZCk7YS5sYXN0SW5kZXg9MDtpZihlPWEuZXhlYyhkKSlyZXR1cm4gZS5zaGlmdCgpLGY9Yz97eXl5eTpjLmdldEZ1bGxZZWFyKCksTU06Yy5nZXRNb250aCgpKzEsZGQ6Yy5nZXREYXRlKCksSEg6Yy5nZXRIb3VycygpLG1tOmMuZ2V0TWludXRlcygpLHNzOmMuZ2V0U2Vjb25kcygpLHNzczpjLmdldE1pbGxpc2Vjb25kcygpLzFFM306e3l5eXk6MTk3MCxNTToxLGRkOjEsSEg6MCxtbTowLHNzOjAsc3NzOjB9LHAoZSxmdW5jdGlvbihhLGMpe2M8Yi5sZW5ndGgmJihmW2JbY11dPSthKX0pLG5ldyBEYXRlKGYueXl5eSxcclxuZi5NTS0xLGYuZGQsZi5ISCxmLm1tLGYuc3N8fDAsMUUzKmYuc3NzfHwwKX1yZXR1cm4gTmFOfX1mdW5jdGlvbiBtYihhLGIsZCxjKXtyZXR1cm4gZnVuY3Rpb24oZSxmLGcsaCxrLGwsbSl7ZnVuY3Rpb24gbihhKXtyZXR1cm4gYSYmIShhLmdldFRpbWUmJmEuZ2V0VGltZSgpIT09YS5nZXRUaW1lKCkpfWZ1bmN0aW9uIHkoYSl7cmV0dXJuIEEoYSkmJiFnYShhKT9kKGEpfHx3OmF9SWQoZSxmLGcsaCk7bGIoZSxmLGcsaCxrLGwpO3ZhciBwPWgmJmguJG9wdGlvbnMmJmguJG9wdGlvbnMudGltZXpvbmUscjtoLiQkcGFyc2VyTmFtZT1hO2guJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gaC4kaXNFbXB0eShhKT9udWxsOmIudGVzdChhKT8oYT1kKGEscikscCYmKGE9UWIoYSxwKSksYSk6d30pO2guJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtpZihhJiYhZ2EoYSkpdGhyb3cgbmIoXCJkYXRlZm10XCIsYSk7aWYobihhKSlyZXR1cm4ocj1hKSYmcCYmKHI9UWIocixwLCEwKSksXHJcbm0oXCJkYXRlXCIpKGEsYyxwKTtyPW51bGw7cmV0dXJuXCJcIn0pO2lmKEEoZy5taW4pfHxnLm5nTWluKXt2YXIgeDtoLiR2YWxpZGF0b3JzLm1pbj1mdW5jdGlvbihhKXtyZXR1cm4hbihhKXx8dih4KXx8ZChhKT49eH07Zy4kb2JzZXJ2ZShcIm1pblwiLGZ1bmN0aW9uKGEpe3g9eShhKTtoLiR2YWxpZGF0ZSgpfSl9aWYoQShnLm1heCl8fGcubmdNYXgpe3ZhciBxO2guJHZhbGlkYXRvcnMubWF4PWZ1bmN0aW9uKGEpe3JldHVybiFuKGEpfHx2KHEpfHxkKGEpPD1xfTtnLiRvYnNlcnZlKFwibWF4XCIsZnVuY3Rpb24oYSl7cT15KGEpO2guJHZhbGlkYXRlKCl9KX19fWZ1bmN0aW9uIElkKGEsYixkLGMpeyhjLiQkaGFzTmF0aXZlVmFsaWRhdG9ycz1JKGJbMF0udmFsaWRpdHkpKSYmYy4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe3ZhciBjPWIucHJvcChcInZhbGlkaXR5XCIpfHx7fTtyZXR1cm4gYy5iYWRJbnB1dHx8Yy50eXBlTWlzbWF0Y2g/dzphfSl9ZnVuY3Rpb24gSmQoYSxiLGQsYyxlKXtpZihBKGMpKXthPVxyXG5hKGMpO2lmKCFhLmNvbnN0YW50KXRocm93IG5iKFwiY29uc3RleHByXCIsZCxjKTtyZXR1cm4gYShiKX1yZXR1cm4gZX1mdW5jdGlvbiBsYyhhLGIpe2E9XCJuZ0NsYXNzXCIrYTtyZXR1cm5bXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoYSxiKXt2YXIgYz1bXSxkPTA7YTpmb3IoO2Q8YS5sZW5ndGg7ZCsrKXtmb3IodmFyIGU9YVtkXSxtPTA7bTxiLmxlbmd0aDttKyspaWYoZT09YlttXSljb250aW51ZSBhO2MucHVzaChlKX1yZXR1cm4gY31mdW5jdGlvbiBlKGEpe3ZhciBiPVtdO3JldHVybiBMKGEpPyhwKGEsZnVuY3Rpb24oYSl7Yj1iLmNvbmNhdChlKGEpKX0pLGIpOkQoYSk/YS5zcGxpdChcIiBcIik6SShhKT8ocChhLGZ1bmN0aW9uKGEsYyl7YSYmKGI9Yi5jb25jYXQoYy5zcGxpdChcIiBcIikpKX0pLGIpOmF9cmV0dXJue3Jlc3RyaWN0OlwiQUNcIixsaW5rOmZ1bmN0aW9uKGYsZyxoKXtmdW5jdGlvbiBrKGEsYil7dmFyIGM9Zy5kYXRhKFwiJGNsYXNzQ291bnRzXCIpfHxYKCksZD1cclxuW107cChhLGZ1bmN0aW9uKGEpe2lmKDA8Ynx8Y1thXSljW2FdPShjW2FdfHwwKStiLGNbYV09PT0rKDA8YikmJmQucHVzaChhKX0pO2cuZGF0YShcIiRjbGFzc0NvdW50c1wiLGMpO3JldHVybiBkLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIGwoYSl7aWYoITA9PT1ifHxmLiRpbmRleCUyPT09Yil7dmFyIGw9ZShhfHxbXSk7aWYoIW0pe3ZhciBwPWsobCwxKTtoLiRhZGRDbGFzcyhwKX1lbHNlIGlmKCFvYShhLG0pKXt2YXIgcj1lKG0pLHA9YyhsLHIpLGw9YyhyLGwpLHA9ayhwLDEpLGw9ayhsLC0xKTtwJiZwLmxlbmd0aCYmZC5hZGRDbGFzcyhnLHApO2wmJmwubGVuZ3RoJiZkLnJlbW92ZUNsYXNzKGcsbCl9fW09bWEoYSl9dmFyIG07Zi4kd2F0Y2goaFthXSxsLCEwKTtoLiRvYnNlcnZlKFwiY2xhc3NcIixmdW5jdGlvbihiKXtsKGYuJGV2YWwoaFthXSkpfSk7XCJuZ0NsYXNzXCIhPT1hJiZmLiR3YXRjaChcIiRpbmRleFwiLGZ1bmN0aW9uKGMsZCl7dmFyIGc9YyYxO2lmKGchPT0oZCYxKSl7dmFyIGw9ZShmLiRldmFsKGhbYV0pKTtcclxuZz09PWI/KGc9ayhsLDEpLGguJGFkZENsYXNzKGcpKTooZz1rKGwsLTEpLGguJHJlbW92ZUNsYXNzKGcpKX19KX19fV19ZnVuY3Rpb24gR2QoYSl7ZnVuY3Rpb24gYihhLGIpe2ImJiFmW2FdPyhrLmFkZENsYXNzKGUsYSksZlthXT0hMCk6IWImJmZbYV0mJihrLnJlbW92ZUNsYXNzKGUsYSksZlthXT0hMSl9ZnVuY3Rpb24gZChhLGMpe2E9YT9cIi1cIit5YyhhLFwiLVwiKTpcIlwiO2Iob2IrYSwhMD09PWMpO2IoS2QrYSwhMT09PWMpfXZhciBjPWEuY3RybCxlPWEuJGVsZW1lbnQsZj17fSxnPWEuc2V0LGg9YS51bnNldCxrPWEuJGFuaW1hdGU7ZltLZF09IShmW29iXT1lLmhhc0NsYXNzKG9iKSk7Yy4kc2V0VmFsaWRpdHk9ZnVuY3Rpb24oYSxlLGYpe3YoZSk/KGMuJHBlbmRpbmd8fChjLiRwZW5kaW5nPXt9KSxnKGMuJHBlbmRpbmcsYSxmKSk6KGMuJHBlbmRpbmcmJmgoYy4kcGVuZGluZyxhLGYpLExkKGMuJHBlbmRpbmcpJiYoYy4kcGVuZGluZz13KSk7TWEoZSk/ZT8oaChjLiRlcnJvcixhLFxyXG5mKSxnKGMuJCRzdWNjZXNzLGEsZikpOihnKGMuJGVycm9yLGEsZiksaChjLiQkc3VjY2VzcyxhLGYpKTooaChjLiRlcnJvcixhLGYpLGgoYy4kJHN1Y2Nlc3MsYSxmKSk7Yy4kcGVuZGluZz8oYihNZCwhMCksYy4kdmFsaWQ9Yy4kaW52YWxpZD13LGQoXCJcIixudWxsKSk6KGIoTWQsITEpLGMuJHZhbGlkPUxkKGMuJGVycm9yKSxjLiRpbnZhbGlkPSFjLiR2YWxpZCxkKFwiXCIsYy4kdmFsaWQpKTtlPWMuJHBlbmRpbmcmJmMuJHBlbmRpbmdbYV0/dzpjLiRlcnJvclthXT8hMTpjLiQkc3VjY2Vzc1thXT8hMDpudWxsO2QoYSxlKTtjLiQkcGFyZW50Rm9ybS4kc2V0VmFsaWRpdHkoYSxlLGMpfX1mdW5jdGlvbiBMZChhKXtpZihhKWZvcih2YXIgYiBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuITE7cmV0dXJuITB9dmFyIHlnPS9eXFwvKC4rKVxcLyhbYS16XSopJC8sc2E9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxFPWZ1bmN0aW9uKGEpe3JldHVybiBEKGEpP2EudG9Mb3dlckNhc2UoKTpcclxuYX0sdWI9ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSk/YS50b1VwcGVyQ2FzZSgpOmF9LHphLEcscmEseWE9W10uc2xpY2UsWWY9W10uc3BsaWNlLHpnPVtdLnB1c2gsaGE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxyYz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsRGE9TyhcIm5nXCIpLGVhPU4uYW5ndWxhcnx8KE4uYW5ndWxhcj17fSksU2IscGI9MDt6YT1RLmRvY3VtZW50TW9kZTt6LiRpbmplY3Q9W107WmEuJGluamVjdD1bXTt2YXIgTD1BcnJheS5pc0FycmF5LFhkPS9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XFxdJC8sWj1mdW5jdGlvbihhKXtyZXR1cm4gRChhKT9hLnRyaW0oKTphfSxzZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZyxcIlxcXFwkMVwiKS5yZXBsYWNlKC9cXHgwOC9nLFwiXFxcXHgwOFwiKX0sRWE9ZnVuY3Rpb24oKXtpZighQShFYS5ydWxlcykpe3ZhciBhPVxyXG5RLnF1ZXJ5U2VsZWN0b3IoXCJbbmctY3NwXVwiKXx8US5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtbmctY3NwXVwiKTtpZihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShcIm5nLWNzcFwiKXx8YS5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5nLWNzcFwiKTtFYS5ydWxlcz17bm9VbnNhZmVFdmFsOiFifHwtMSE9PWIuaW5kZXhPZihcIm5vLXVuc2FmZS1ldmFsXCIpLG5vSW5saW5lU3R5bGU6IWJ8fC0xIT09Yi5pbmRleE9mKFwibm8taW5saW5lLXN0eWxlXCIpfX1lbHNle2E9RWE7dHJ5e25ldyBGdW5jdGlvbihcIlwiKSxiPSExfWNhdGNoKGQpe2I9ITB9YS5ydWxlcz17bm9VbnNhZmVFdmFsOmIsbm9JbmxpbmVTdHlsZTohMX19fXJldHVybiBFYS5ydWxlc30scmI9ZnVuY3Rpb24oKXtpZihBKHJiLm5hbWVfKSlyZXR1cm4gcmIubmFtZV87dmFyIGEsYixkPU9hLmxlbmd0aCxjLGU7Zm9yKGI9MDtiPGQ7KytiKWlmKGM9T2FbYl0sYT1RLnF1ZXJ5U2VsZWN0b3IoXCJbXCIrYy5yZXBsYWNlKFwiOlwiLFwiXFxcXDpcIikrXCJqcV1cIikpe2U9XHJcbmEuZ2V0QXR0cmlidXRlKGMrXCJqcVwiKTticmVha31yZXR1cm4gcmIubmFtZV89ZX0sJGQ9LzovZyxPYT1bXCJuZy1cIixcImRhdGEtbmctXCIsXCJuZzpcIixcIngtbmctXCJdLGVlPS9bQS1aXS9nLHpjPSExLE5hPTMsaWU9e2Z1bGw6XCIxLjUuMlwiLG1ham9yOjEsbWlub3I6NSxkb3Q6Mixjb2RlTmFtZTpcImRpZmZlcmVudGlhbC1yZWNvdmVyeVwifTtZLmV4cGFuZG89XCJuZzMzOVwiO3ZhciBnYj1ZLmNhY2hlPXt9LEtmPTE7WS5fZGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fX07dmFyIEZmPS8oW1xcOlxcLVxcX10rKC4pKS9nLEdmPS9ebW96KFtBLVpdKS8seWI9e21vdXNlbGVhdmU6XCJtb3VzZW91dFwiLG1vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIn0sVWI9TyhcImpxTGl0ZVwiKSxKZj0vXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sVGI9Lzx8JiM/XFx3KzsvLEhmPS88KFtcXHc6LV0rKS8sSWY9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzotXSspW14+XSopXFwvPi9naSxcclxua2E9e29wdGlvbjpbMSwnPHNlbGVjdCBtdWx0aXBsZT1cIm11bHRpcGxlXCI+JyxcIjwvc2VsZWN0PlwiXSx0aGVhZDpbMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGNvbDpbMixcIjx0YWJsZT48Y29sZ3JvdXA+XCIsXCI8L2NvbGdyb3VwPjwvdGFibGU+XCJdLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxfZGVmYXVsdDpbMCxcIlwiLFwiXCJdfTtrYS5vcHRncm91cD1rYS5vcHRpb247a2EudGJvZHk9a2EudGZvb3Q9a2EuY29sZ3JvdXA9a2EuY2FwdGlvbj1rYS50aGVhZDtrYS50aD1rYS50ZDt2YXIgUGY9Tm9kZS5wcm90b3R5cGUuY29udGFpbnN8fGZ1bmN0aW9uKGEpe3JldHVybiEhKHRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkmMTYpfSxQYT1ZLnByb3RvdHlwZT17cmVhZHk6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2R8fChkPSEwLGEoKSl9dmFyIGQ9ITE7XCJjb21wbGV0ZVwiPT09XHJcblEucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KGIpOih0aGlzLm9uKFwiRE9NQ29udGVudExvYWRlZFwiLGIpLFkoTikub24oXCJsb2FkXCIsYikpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPVtdO3AodGhpcyxmdW5jdGlvbihiKXthLnB1c2goXCJcIitiKX0pO3JldHVyblwiW1wiK2Euam9pbihcIiwgXCIpK1wiXVwifSxlcTpmdW5jdGlvbihhKXtyZXR1cm4gMDw9YT9HKHRoaXNbYV0pOkcodGhpc1t0aGlzLmxlbmd0aCthXSl9LGxlbmd0aDowLHB1c2g6emcsc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2V9LERiPXt9O3AoXCJtdWx0aXBsZSBzZWxlY3RlZCBjaGVja2VkIGRpc2FibGVkIHJlYWRPbmx5IHJlcXVpcmVkIG9wZW5cIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7RGJbRShhKV09YX0pO3ZhciBSYz17fTtwKFwiaW5wdXQgc2VsZWN0IG9wdGlvbiB0ZXh0YXJlYSBidXR0b24gZm9ybSBkZXRhaWxzXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe1JjW2FdPSEwfSk7dmFyIFljPXtuZ01pbmxlbmd0aDpcIm1pbmxlbmd0aFwiLFxyXG5uZ01heGxlbmd0aDpcIm1heGxlbmd0aFwiLG5nTWluOlwibWluXCIsbmdNYXg6XCJtYXhcIixuZ1BhdHRlcm46XCJwYXR0ZXJuXCJ9O3Aoe2RhdGE6V2IscmVtb3ZlRGF0YTpmYixoYXNEYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBnYlthLm5nMzM5XSlyZXR1cm4hMDtyZXR1cm4hMX0sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGQ9YS5sZW5ndGg7YjxkO2IrKylmYihhW2JdKX19LGZ1bmN0aW9uKGEsYil7WVtiXT1hfSk7cCh7ZGF0YTpXYixpbmhlcml0ZWREYXRhOkNiLHNjb3BlOmZ1bmN0aW9uKGEpe3JldHVybiBHLmRhdGEoYSxcIiRzY29wZVwiKXx8Q2IoYS5wYXJlbnROb2RlfHxhLFtcIiRpc29sYXRlU2NvcGVcIixcIiRzY29wZVwiXSl9LGlzb2xhdGVTY29wZTpmdW5jdGlvbihhKXtyZXR1cm4gRy5kYXRhKGEsXCIkaXNvbGF0ZVNjb3BlXCIpfHxHLmRhdGEoYSxcIiRpc29sYXRlU2NvcGVOb1RlbXBsYXRlXCIpfSxjb250cm9sbGVyOk9jLGluamVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBDYihhLFxyXG5cIiRpbmplY3RvclwiKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe2EucmVtb3ZlQXR0cmlidXRlKGIpfSxoYXNDbGFzczp6Yixjc3M6ZnVuY3Rpb24oYSxiLGQpe2I9ZWIoYik7aWYoQShkKSlhLnN0eWxlW2JdPWQ7ZWxzZSByZXR1cm4gYS5zdHlsZVtiXX0sYXR0cjpmdW5jdGlvbihhLGIsZCl7dmFyIGM9YS5ub2RlVHlwZTtpZihjIT09TmEmJjIhPT1jJiY4IT09YylpZihjPUUoYiksRGJbY10paWYoQShkKSlkPyhhW2JdPSEwLGEuc2V0QXR0cmlidXRlKGIsYykpOihhW2JdPSExLGEucmVtb3ZlQXR0cmlidXRlKGMpKTtlbHNlIHJldHVybiBhW2JdfHwoYS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShiKXx8eikuc3BlY2lmaWVkP2M6dztlbHNlIGlmKEEoZCkpYS5zZXRBdHRyaWJ1dGUoYixkKTtlbHNlIGlmKGEuZ2V0QXR0cmlidXRlKXJldHVybiBhPWEuZ2V0QXR0cmlidXRlKGIsMiksbnVsbD09PWE/dzphfSxwcm9wOmZ1bmN0aW9uKGEsYixkKXtpZihBKGQpKWFbYl09ZDtlbHNlIHJldHVybiBhW2JdfSxcclxudGV4dDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxkKXtpZih2KGQpKXt2YXIgYz1hLm5vZGVUeXBlO3JldHVybiAxPT09Y3x8Yz09PU5hP2EudGV4dENvbnRlbnQ6XCJcIn1hLnRleHRDb250ZW50PWR9YS4kZHY9XCJcIjtyZXR1cm4gYX0oKSx2YWw6ZnVuY3Rpb24oYSxiKXtpZih2KGIpKXtpZihhLm11bHRpcGxlJiZcInNlbGVjdFwiPT09cGEoYSkpe3ZhciBkPVtdO3AoYS5vcHRpb25zLGZ1bmN0aW9uKGEpe2Euc2VsZWN0ZWQmJmQucHVzaChhLnZhbHVlfHxhLnRleHQpfSk7cmV0dXJuIDA9PT1kLmxlbmd0aD9udWxsOmR9cmV0dXJuIGEudmFsdWV9YS52YWx1ZT1ifSxodG1sOmZ1bmN0aW9uKGEsYil7aWYodihiKSlyZXR1cm4gYS5pbm5lckhUTUw7d2IoYSwhMCk7YS5pbm5lckhUTUw9Yn0sZW1wdHk6UGN9LGZ1bmN0aW9uKGEsYil7WS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oYixjKXt2YXIgZSxmLGc9dGhpcy5sZW5ndGg7aWYoYSE9PVBjJiZ2KDI9PWEubGVuZ3RoJiZhIT09emImJmEhPT1PYz9cclxuYjpjKSl7aWYoSShiKSl7Zm9yKGU9MDtlPGc7ZSsrKWlmKGE9PT1XYilhKHRoaXNbZV0sYik7ZWxzZSBmb3IoZiBpbiBiKWEodGhpc1tlXSxmLGJbZl0pO3JldHVybiB0aGlzfWU9YS4kZHY7Zz12KGUpP01hdGgubWluKGcsMSk6Zztmb3IoZj0wO2Y8ZztmKyspe3ZhciBoPWEodGhpc1tmXSxiLGMpO2U9ZT9lK2g6aH1yZXR1cm4gZX1mb3IoZT0wO2U8ZztlKyspYSh0aGlzW2VdLGIsYyk7cmV0dXJuIHRoaXN9fSk7cCh7cmVtb3ZlRGF0YTpmYixvbjpmdW5jdGlvbihhLGIsZCxjKXtpZihBKGMpKXRocm93IFViKFwib25hcmdzXCIpO2lmKEpjKGEpKXtjPXhiKGEsITApO3ZhciBlPWMuZXZlbnRzLGY9Yy5oYW5kbGU7Znx8KGY9Yy5oYW5kbGU9TWYoYSxlKSk7Yz0wPD1iLmluZGV4T2YoXCIgXCIpP2Iuc3BsaXQoXCIgXCIpOltiXTtmb3IodmFyIGc9Yy5sZW5ndGgsaD1mdW5jdGlvbihiLGMsZyl7dmFyIGg9ZVtiXTtofHwoaD1lW2JdPVtdLGguc3BlY2lhbEhhbmRsZXJXcmFwcGVyPWMsXCIkZGVzdHJveVwiPT09XHJcbmJ8fGd8fGEuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpKTtoLnB1c2goZCl9O2ctLTspYj1jW2ddLHliW2JdPyhoKHliW2JdLE9mKSxoKGIsdywhMCkpOmgoYil9fSxvZmY6TmMsb25lOmZ1bmN0aW9uKGEsYixkKXthPUcoYSk7YS5vbihiLGZ1bmN0aW9uIGUoKXthLm9mZihiLGQpO2Eub2ZmKGIsZSl9KTthLm9uKGIsZCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGEsYil7dmFyIGQsYz1hLnBhcmVudE5vZGU7d2IoYSk7cChuZXcgWShiKSxmdW5jdGlvbihiKXtkP2MuaW5zZXJ0QmVmb3JlKGIsZC5uZXh0U2libGluZyk6Yy5yZXBsYWNlQ2hpbGQoYixhKTtkPWJ9KX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7dmFyIGI9W107cChhLmNoaWxkTm9kZXMsZnVuY3Rpb24oYSl7MT09PWEubm9kZVR5cGUmJmIucHVzaChhKX0pO3JldHVybiBifSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250ZW50RG9jdW1lbnR8fGEuY2hpbGROb2Rlc3x8W119LGFwcGVuZDpmdW5jdGlvbihhLGIpe3ZhciBkPVxyXG5hLm5vZGVUeXBlO2lmKDE9PT1kfHwxMT09PWQpe2I9bmV3IFkoYik7Zm9yKHZhciBkPTAsYz1iLmxlbmd0aDtkPGM7ZCsrKWEuYXBwZW5kQ2hpbGQoYltkXSl9fSxwcmVwZW5kOmZ1bmN0aW9uKGEsYil7aWYoMT09PWEubm9kZVR5cGUpe3ZhciBkPWEuZmlyc3RDaGlsZDtwKG5ldyBZKGIpLGZ1bmN0aW9uKGIpe2EuaW5zZXJ0QmVmb3JlKGIsZCl9KX19LHdyYXA6ZnVuY3Rpb24oYSxiKXtMYyhhLEcoYikuZXEoMCkuY2xvbmUoKVswXSl9LHJlbW92ZTpYYixkZXRhY2g6ZnVuY3Rpb24oYSl7WGIoYSwhMCl9LGFmdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGQ9YSxjPWEucGFyZW50Tm9kZTtiPW5ldyBZKGIpO2Zvcih2YXIgZT0wLGY9Yi5sZW5ndGg7ZTxmO2UrKyl7dmFyIGc9YltlXTtjLmluc2VydEJlZm9yZShnLGQubmV4dFNpYmxpbmcpO2Q9Z319LGFkZENsYXNzOkJiLHJlbW92ZUNsYXNzOkFiLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYixkKXtiJiZwKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIpe3ZhciBlPVxyXG5kO3YoZSkmJihlPSF6YihhLGIpKTsoZT9CYjpBYikoYSxiKX0pfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5wYXJlbnROb2RlKSYmMTEhPT1hLm5vZGVUeXBlP2E6bnVsbH0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5uZXh0RWxlbWVudFNpYmxpbmd9LGZpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGIpOltdfSxjbG9uZTpWYix0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIsZCl7dmFyIGMsZSxmPWIudHlwZXx8YixnPXhiKGEpO2lmKGc9KGc9ZyYmZy5ldmVudHMpJiZnW2ZdKWM9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMuZGVmYXVsdFByZXZlbnRlZH0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9XHJcbiEwfSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDpmdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWR9LHN0b3BQcm9wYWdhdGlvbjp6LHR5cGU6Zix0YXJnZXQ6YX0sYi50eXBlJiYoYz1TKGMsYikpLGI9bWEoZyksZT1kP1tjXS5jb25jYXQoZCk6W2NdLHAoYixmdW5jdGlvbihiKXtjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCl8fGIuYXBwbHkoYSxlKX0pfX0sZnVuY3Rpb24oYSxiKXtZLnByb3RvdHlwZVtiXT1mdW5jdGlvbihiLGMsZSl7Zm9yKHZhciBmLGc9MCxoPXRoaXMubGVuZ3RoO2c8aDtnKyspdihmKT8oZj1hKHRoaXNbZ10sYixjLGUpLEEoZikmJihmPUcoZikpKTpNYyhmLGEodGhpc1tnXSxiLGMsZSkpO3JldHVybiBBKGYpP2Y6dGhpc307WS5wcm90b3R5cGUuYmluZD1ZLnByb3RvdHlwZS5vbjtZLnByb3RvdHlwZS51bmJpbmQ9WS5wcm90b3R5cGUub2ZmfSk7U2EucHJvdG90eXBlPXtwdXQ6ZnVuY3Rpb24oYSxcclxuYil7dGhpc1tGYShhLHRoaXMubmV4dFVpZCldPWJ9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1tGYShhLHRoaXMubmV4dFVpZCldfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1thPUZhKGEsdGhpcy5uZXh0VWlkKV07ZGVsZXRlIHRoaXNbYV07cmV0dXJuIGJ9fTt2YXIgRGY9W2Z1bmN0aW9uKCl7dGhpcy4kZ2V0PVtmdW5jdGlvbigpe3JldHVybiBTYX1dfV0sUmY9L14oW15cXChdKz8pPT4vLFNmPS9eW15cXChdKlxcKFxccyooW15cXCldKilcXCkvbSxBZz0vLC8sQmc9L15cXHMqKF8/KShcXFMrPylcXDFcXHMqJC8sUWY9LygoXFwvXFwvLiokKXwoXFwvXFwqW1xcc1xcU10qP1xcKlxcLykpL21nLEdhPU8oXCIkaW5qZWN0b3JcIik7ZGIuJCRhbm5vdGF0ZT1mdW5jdGlvbihhLGIsZCl7dmFyIGM7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpe2lmKCEoYz1hLiRpbmplY3QpKXtjPVtdO2lmKGEubGVuZ3RoKXtpZihiKXRocm93IEQoZCkmJmR8fChkPWEubmFtZXx8VGYoYSkpLEdhKFwic3RyaWN0ZGlcIixkKTtcclxuYj1TYyhhKTtwKGJbMV0uc3BsaXQoQWcpLGZ1bmN0aW9uKGEpe2EucmVwbGFjZShCZyxmdW5jdGlvbihhLGIsZCl7Yy5wdXNoKGQpfSl9KX1hLiRpbmplY3Q9Y319ZWxzZSBMKGEpPyhiPWEubGVuZ3RoLTEsUWEoYVtiXSxcImZuXCIpLGM9YS5zbGljZSgwLGIpKTpRYShhLFwiZm5cIiwhMCk7cmV0dXJuIGN9O3ZhciBOZD1PKFwiJGFuaW1hdGVcIiksV2U9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9en0sWGU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgU2EsYj1bXTt0aGlzLiRnZXQ9W1wiJCRBbmltYXRlUnVubmVyXCIsXCIkcm9vdFNjb3BlXCIsZnVuY3Rpb24oZCxjKXtmdW5jdGlvbiBlKGEsYixjKXt2YXIgZD0hMTtiJiYoYj1EKGIpP2Iuc3BsaXQoXCIgXCIpOkwoYik/YjpbXSxwKGIsZnVuY3Rpb24oYil7YiYmKGQ9ITAsYVtiXT1jKX0pKTtyZXR1cm4gZH1mdW5jdGlvbiBmKCl7cChiLGZ1bmN0aW9uKGIpe3ZhciBjPWEuZ2V0KGIpO2lmKGMpe3ZhciBkPVVmKGIuYXR0cihcImNsYXNzXCIpKSxlPVwiXCIsZj1cIlwiO3AoYyxcclxuZnVuY3Rpb24oYSxiKXthIT09ISFkW2JdJiYoYT9lKz0oZS5sZW5ndGg/XCIgXCI6XCJcIikrYjpmKz0oZi5sZW5ndGg/XCIgXCI6XCJcIikrYil9KTtwKGIsZnVuY3Rpb24oYSl7ZSYmQmIoYSxlKTtmJiZBYihhLGYpfSk7YS5yZW1vdmUoYil9fSk7Yi5sZW5ndGg9MH1yZXR1cm57ZW5hYmxlZDp6LG9uOnosb2ZmOnoscGluOnoscHVzaDpmdW5jdGlvbihnLGgsayxsKXtsJiZsKCk7az1rfHx7fTtrLmZyb20mJmcuY3NzKGsuZnJvbSk7ay50byYmZy5jc3Moay50byk7aWYoay5hZGRDbGFzc3x8ay5yZW1vdmVDbGFzcylpZihoPWsuYWRkQ2xhc3MsbD1rLnJlbW92ZUNsYXNzLGs9YS5nZXQoZyl8fHt9LGg9ZShrLGgsITApLGw9ZShrLGwsITEpLGh8fGwpYS5wdXQoZyxrKSxiLnB1c2goZyksMT09PWIubGVuZ3RoJiZjLiQkcG9zdERpZ2VzdChmKTtnPW5ldyBkO2cuY29tcGxldGUoKTtyZXR1cm4gZ319fV19LFVlPVtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7dmFyIGI9dGhpczt0aGlzLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnM9XHJcbk9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5yZWdpc3Rlcj1mdW5jdGlvbihkLGMpe2lmKGQmJlwiLlwiIT09ZC5jaGFyQXQoMCkpdGhyb3cgTmQoXCJub3Rjc2VsXCIsZCk7dmFyIGU9ZCtcIi1hbmltYXRpb25cIjtiLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbZC5zdWJzdHIoMSldPWU7YS5mYWN0b3J5KGUsYyl9O3RoaXMuY2xhc3NOYW1lRmlsdGVyPWZ1bmN0aW9uKGEpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYodGhpcy4kJGNsYXNzTmFtZUZpbHRlcj1hIGluc3RhbmNlb2YgUmVnRXhwP2E6bnVsbCkmJi8oXFxzK3xcXC8pbmctYW5pbWF0ZShcXHMrfFxcLykvLnRlc3QodGhpcy4kJGNsYXNzTmFtZUZpbHRlci50b1N0cmluZygpKSl0aHJvdyBOZChcIm5vbmdjbHNcIixcIm5nLWFuaW1hdGVcIik7cmV0dXJuIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXJ9O3RoaXMuJGdldD1bXCIkJGFuaW1hdGVRdWV1ZVwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxjLGQpe2lmKGQpe3ZhciBoO2E6e2ZvcihoPTA7aDxkLmxlbmd0aDtoKyspe3ZhciBrPVxyXG5kW2hdO2lmKDE9PT1rLm5vZGVUeXBlKXtoPWs7YnJlYWsgYX19aD12b2lkIDB9IWh8fGgucGFyZW50Tm9kZXx8aC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nfHwoZD1udWxsKX1kP2QuYWZ0ZXIoYSk6Yy5wcmVwZW5kKGEpfXJldHVybntvbjphLm9uLG9mZjphLm9mZixwaW46YS5waW4sZW5hYmxlZDphLmVuYWJsZWQsY2FuY2VsOmZ1bmN0aW9uKGEpe2EuZW5kJiZhLmVuZCgpfSxlbnRlcjpmdW5jdGlvbihlLGYsZyxoKXtmPWYmJkcoZik7Zz1nJiZHKGcpO2Y9Znx8Zy5wYXJlbnQoKTtiKGUsZixnKTtyZXR1cm4gYS5wdXNoKGUsXCJlbnRlclwiLEhhKGgpKX0sbW92ZTpmdW5jdGlvbihlLGYsZyxoKXtmPWYmJkcoZik7Zz1nJiZHKGcpO2Y9Znx8Zy5wYXJlbnQoKTtiKGUsZixnKTtyZXR1cm4gYS5wdXNoKGUsXCJtb3ZlXCIsSGEoaCkpfSxsZWF2ZTpmdW5jdGlvbihiLGMpe3JldHVybiBhLnB1c2goYixcImxlYXZlXCIsSGEoYyksZnVuY3Rpb24oKXtiLnJlbW92ZSgpfSl9LGFkZENsYXNzOmZ1bmN0aW9uKGIsXHJcbmMsZyl7Zz1IYShnKTtnLmFkZENsYXNzPWhiKGcuYWRkY2xhc3MsYyk7cmV0dXJuIGEucHVzaChiLFwiYWRkQ2xhc3NcIixnKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYixjLGcpe2c9SGEoZyk7Zy5yZW1vdmVDbGFzcz1oYihnLnJlbW92ZUNsYXNzLGMpO3JldHVybiBhLnB1c2goYixcInJlbW92ZUNsYXNzXCIsZyl9LHNldENsYXNzOmZ1bmN0aW9uKGIsYyxnLGgpe2g9SGEoaCk7aC5hZGRDbGFzcz1oYihoLmFkZENsYXNzLGMpO2gucmVtb3ZlQ2xhc3M9aGIoaC5yZW1vdmVDbGFzcyxnKTtyZXR1cm4gYS5wdXNoKGIsXCJzZXRDbGFzc1wiLGgpfSxhbmltYXRlOmZ1bmN0aW9uKGIsYyxnLGgsayl7az1IYShrKTtrLmZyb209ay5mcm9tP1Moay5mcm9tLGMpOmM7ay50bz1rLnRvP1Moay50byxnKTpnO2sudGVtcENsYXNzZXM9aGIoay50ZW1wQ2xhc3NlcyxofHxcIm5nLWlubGluZS1hbmltYXRlXCIpO3JldHVybiBhLnB1c2goYixcImFuaW1hdGVcIixrKX19fV19XSxaZT1mdW5jdGlvbigpe3RoaXMuJGdldD1cclxuW1wiJCRyQUZcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe2QucHVzaChiKTsxPGQubGVuZ3RofHxhKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZFthXSgpO2Q9W119KX12YXIgZD1bXTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT0hMTtiKGZ1bmN0aW9uKCl7YT0hMH0pO3JldHVybiBmdW5jdGlvbihkKXthP2QoKTpiKGQpfX19XX0sWWU9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9W1wiJHFcIixcIiRzbmlmZmVyXCIsXCIkJGFuaW1hdGVBc3luY1J1blwiLFwiJGRvY3VtZW50XCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihhKXt0aGlzLnNldEhvc3QoYSk7dmFyIGI9ZCgpO3RoaXMuX2RvbmVDYWxsYmFja3M9W107dGhpcy5fdGljaz1mdW5jdGlvbihhKXt2YXIgZD1jWzBdO2QmJmQuaGlkZGVuP2UoYSwwLCExKTpiKGEpfTt0aGlzLl9zdGF0ZT0wfWYuY2hhaW49ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7aWYoZD09PWEubGVuZ3RoKWIoITApO1xyXG5lbHNlIGFbZF0oZnVuY3Rpb24oYSl7ITE9PT1hP2IoITEpOihkKyssYygpKX0pfXZhciBkPTA7YygpfTtmLmFsbD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoZil7ZT1lJiZmOysrZD09PWEubGVuZ3RoJiZiKGUpfXZhciBkPTAsZT0hMDtwKGEsZnVuY3Rpb24oYSl7YS5kb25lKGMpfSl9O2YucHJvdG90eXBlPXtzZXRIb3N0OmZ1bmN0aW9uKGEpe3RoaXMuaG9zdD1hfHx7fX0sZG9uZTpmdW5jdGlvbihhKXsyPT09dGhpcy5fc3RhdGU/YSgpOnRoaXMuX2RvbmVDYWxsYmFja3MucHVzaChhKX0scHJvZ3Jlc3M6eixnZXRQcm9taXNlOmZ1bmN0aW9uKCl7aWYoIXRoaXMucHJvbWlzZSl7dmFyIGI9dGhpczt0aGlzLnByb21pc2U9YShmdW5jdGlvbihhLGMpe2IuZG9uZShmdW5jdGlvbihiKXshMT09PWI/YygpOmEoKX0pfSl9cmV0dXJuIHRoaXMucHJvbWlzZX0sdGhlbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldFByb21pc2UoKS50aGVuKGEsYil9LFwiY2F0Y2hcIjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRQcm9taXNlKClbXCJjYXRjaFwiXShhKX0sXHJcblwiZmluYWxseVwiOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFByb21pc2UoKVtcImZpbmFsbHlcIl0oYSl9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnBhdXNlJiZ0aGlzLmhvc3QucGF1c2UoKX0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LnJlc3VtZSYmdGhpcy5ob3N0LnJlc3VtZSgpfSxlbmQ6ZnVuY3Rpb24oKXt0aGlzLmhvc3QuZW5kJiZ0aGlzLmhvc3QuZW5kKCk7dGhpcy5fcmVzb2x2ZSghMCl9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaG9zdC5jYW5jZWwmJnRoaXMuaG9zdC5jYW5jZWwoKTt0aGlzLl9yZXNvbHZlKCExKX0sY29tcGxldGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczswPT09Yi5fc3RhdGUmJihiLl9zdGF0ZT0xLGIuX3RpY2soZnVuY3Rpb24oKXtiLl9yZXNvbHZlKGEpfSkpfSxfcmVzb2x2ZTpmdW5jdGlvbihhKXsyIT09dGhpcy5fc3RhdGUmJihwKHRoaXMuX2RvbmVDYWxsYmFja3MsZnVuY3Rpb24oYil7YihhKX0pLHRoaXMuX2RvbmVDYWxsYmFja3MubGVuZ3RoPVxyXG4wLHRoaXMuX3N0YXRlPTIpfX07cmV0dXJuIGZ9XX0sVmU9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9W1wiJCRyQUZcIixcIiRxXCIsXCIkJEFuaW1hdGVSdW5uZXJcIixmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7ZnVuY3Rpb24gZigpe2EoZnVuY3Rpb24oKXtnLmFkZENsYXNzJiYoYi5hZGRDbGFzcyhnLmFkZENsYXNzKSxnLmFkZENsYXNzPW51bGwpO2cucmVtb3ZlQ2xhc3MmJihiLnJlbW92ZUNsYXNzKGcucmVtb3ZlQ2xhc3MpLGcucmVtb3ZlQ2xhc3M9bnVsbCk7Zy50byYmKGIuY3NzKGcudG8pLGcudG89bnVsbCk7aHx8ay5jb21wbGV0ZSgpO2g9ITB9KTtyZXR1cm4ga312YXIgZz1lfHx7fTtnLiQkcHJlcGFyZWR8fChnPXFhKGcpKTtnLmNsZWFudXBTdHlsZXMmJihnLmZyb209Zy50bz1udWxsKTtnLmZyb20mJihiLmNzcyhnLmZyb20pLGcuZnJvbT1udWxsKTt2YXIgaCxrPW5ldyBkO3JldHVybntzdGFydDpmLGVuZDpmfX19XX0sbGE9TyhcIiRjb21waWxlXCIpO0JjLiRpbmplY3Q9XHJcbltcIiRwcm92aWRlXCIsXCIkJHNhbml0aXplVXJpUHJvdmlkZXJcIl07dmFyIFVjPS9eKCg/Onh8ZGF0YSlbXFw6XFwtX10pL2ksWmY9TyhcIiRjb250cm9sbGVyXCIpLFpjPS9eKFxcUyspKFxccythc1xccysoW1xcdyRdKykpPyQvLGVmPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPyFiLm5vZGVUeXBlJiZiIGluc3RhbmNlb2YgRyYmKGI9YlswXSk6Yj1hWzBdLmJvZHk7cmV0dXJuIGIub2Zmc2V0V2lkdGgrMX19XX0sJGM9XCJhcHBsaWNhdGlvbi9qc29uXCIsYWM9e1wiQ29udGVudC1UeXBlXCI6JGMrXCI7Y2hhcnNldD11dGYtOFwifSxhZz0vXlxcW3xeXFx7KD8hXFx7KS8sYmc9e1wiW1wiOi9dJC8sXCJ7XCI6L30kL30sJGY9L15cXClcXF1cXH0nLD9cXG4vLENnPU8oXCIkaHR0cFwiKSxkZD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt0aHJvdyBDZyhcImxlZ2FjeVwiLGEpO319LEphPWVhLiRpbnRlcnBvbGF0ZU1pbkVycj1PKFwiJGludGVycG9sYXRlXCIpO1xyXG5KYS50aHJvd05vY29uY2F0PWZ1bmN0aW9uKGEpe3Rocm93IEphKFwibm9jb25jYXRcIixhKTt9O0phLmludGVycj1mdW5jdGlvbihhLGIpe3JldHVybiBKYShcImludGVyclwiLGEsYi50b1N0cmluZygpKX07dmFyIERnPS9eKFteXFw/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvLGRnPXtodHRwOjgwLGh0dHBzOjQ0MyxmdHA6MjF9LEViPU8oXCIkbG9jYXRpb25cIiksRWc9eyQkaHRtbDU6ITEsJCRyZXBsYWNlOiExLGFic1VybDpGYihcIiQkYWJzVXJsXCIpLHVybDpmdW5jdGlvbihhKXtpZih2KGEpKXJldHVybiB0aGlzLiQkdXJsO3ZhciBiPURnLmV4ZWMoYSk7KGJbMV18fFwiXCI9PT1hKSYmdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChiWzFdKSk7KGJbMl18fGJbMV18fFwiXCI9PT1hKSYmdGhpcy5zZWFyY2goYlszXXx8XCJcIik7dGhpcy5oYXNoKGJbNV18fFwiXCIpO3JldHVybiB0aGlzfSxwcm90b2NvbDpGYihcIiQkcHJvdG9jb2xcIiksaG9zdDpGYihcIiQkaG9zdFwiKSxwb3J0OkZiKFwiJCRwb3J0XCIpLFxyXG5wYXRoOmlkKFwiJCRwYXRoXCIsZnVuY3Rpb24oYSl7YT1udWxsIT09YT9hLnRvU3RyaW5nKCk6XCJcIjtyZXR1cm5cIi9cIj09YS5jaGFyQXQoMCk/YTpcIi9cIithfSksc2VhcmNoOmZ1bmN0aW9uKGEsYil7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdGhpcy4kJHNlYXJjaDtjYXNlIDE6aWYoRChhKXx8VyhhKSlhPWEudG9TdHJpbmcoKSx0aGlzLiQkc2VhcmNoPXdjKGEpO2Vsc2UgaWYoSShhKSlhPXFhKGEse30pLHAoYSxmdW5jdGlvbihiLGMpe251bGw9PWImJmRlbGV0ZSBhW2NdfSksdGhpcy4kJHNlYXJjaD1hO2Vsc2UgdGhyb3cgRWIoXCJpc3JjaGFyZ1wiKTticmVhaztkZWZhdWx0OnYoYil8fG51bGw9PT1iP2RlbGV0ZSB0aGlzLiQkc2VhcmNoW2FdOnRoaXMuJCRzZWFyY2hbYV09Yn10aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfSxoYXNoOmlkKFwiJCRoYXNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hP2EudG9TdHJpbmcoKTpcIlwifSkscmVwbGFjZTpmdW5jdGlvbigpe3RoaXMuJCRyZXBsYWNlPVxyXG4hMDtyZXR1cm4gdGhpc319O3AoW2hkLGRjLGNjXSxmdW5jdGlvbihhKXthLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKEVnKTthLnByb3RvdHlwZS5zdGF0ZT1mdW5jdGlvbihiKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy4kJHN0YXRlO2lmKGEhPT1jY3x8IXRoaXMuJCRodG1sNSl0aHJvdyBFYihcIm5vc3RhdGVcIik7dGhpcy4kJHN0YXRlPXYoYik/bnVsbDpiO3JldHVybiB0aGlzfX0pO3ZhciBVPU8oXCIkcGFyc2VcIiksZmc9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsZ2c9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LGhnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLE1iPVgoKTtwKFwiKyAtICogLyAlID09PSAhPT0gPT0gIT0gPCA+IDw9ID49ICYmIHx8ICEgPSB8XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe01iW2FdPSEwfSk7dmFyIEZnPXtuOlwiXFxuXCIsZjpcIlxcZlwiLHI6XCJcXHJcIix0OlwiXFx0XCIsdjpcIlxcdlwiLFwiJ1wiOlwiJ1wiLCdcIic6J1wiJ30sZmM9ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zPVxyXG5hfTtmYy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmZjLGxleDpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLmluZGV4PTA7Zm9yKHRoaXMudG9rZW5zPVtdO3RoaXMuaW5kZXg8dGhpcy50ZXh0Lmxlbmd0aDspaWYoYT10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLCdcIic9PT1hfHxcIidcIj09PWEpdGhpcy5yZWFkU3RyaW5nKGEpO2Vsc2UgaWYodGhpcy5pc051bWJlcihhKXx8XCIuXCI9PT1hJiZ0aGlzLmlzTnVtYmVyKHRoaXMucGVlaygpKSl0aGlzLnJlYWROdW1iZXIoKTtlbHNlIGlmKHRoaXMuaXNJZGVudChhKSl0aGlzLnJlYWRJZGVudCgpO2Vsc2UgaWYodGhpcy5pcyhhLFwiKCl7fVtdLiw7Oj9cIikpdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmF9KSx0aGlzLmluZGV4Kys7ZWxzZSBpZih0aGlzLmlzV2hpdGVzcGFjZShhKSl0aGlzLmluZGV4Kys7ZWxzZXt2YXIgYj1hK3RoaXMucGVlaygpLGQ9Yit0aGlzLnBlZWsoMiksYz1NYltiXSxlPU1iW2RdO1xyXG5NYlthXXx8Y3x8ZT8oYT1lP2Q6Yz9iOmEsdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmEsb3BlcmF0b3I6ITB9KSx0aGlzLmluZGV4Kz1hLmxlbmd0aCk6dGhpcy50aHJvd0Vycm9yKFwiVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciBcIix0aGlzLmluZGV4LHRoaXMuaW5kZXgrMSl9cmV0dXJuIHRoaXMudG9rZW5zfSxpczpmdW5jdGlvbihhLGIpe3JldHVybi0xIT09Yi5pbmRleE9mKGEpfSxwZWVrOmZ1bmN0aW9uKGEpe2E9YXx8MTtyZXR1cm4gdGhpcy5pbmRleCthPHRoaXMudGV4dC5sZW5ndGg/dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4K2EpOiExfSxpc051bWJlcjpmdW5jdGlvbihhKXtyZXR1cm5cIjBcIjw9YSYmXCI5XCI+PWEmJlwic3RyaW5nXCI9PT10eXBlb2YgYX0saXNXaGl0ZXNwYWNlOmZ1bmN0aW9uKGEpe3JldHVyblwiIFwiPT09YXx8XCJcXHJcIj09PWF8fFwiXFx0XCI9PT1hfHxcIlxcblwiPT09YXx8XCJcXHZcIj09PWF8fFwiXFx1MDBhMFwiPT09YX0saXNJZGVudDpmdW5jdGlvbihhKXtyZXR1cm5cImFcIjw9XHJcbmEmJlwielwiPj1hfHxcIkFcIjw9YSYmXCJaXCI+PWF8fFwiX1wiPT09YXx8XCIkXCI9PT1hfSxpc0V4cE9wZXJhdG9yOmZ1bmN0aW9uKGEpe3JldHVyblwiLVwiPT09YXx8XCIrXCI9PT1hfHx0aGlzLmlzTnVtYmVyKGEpfSx0aHJvd0Vycm9yOmZ1bmN0aW9uKGEsYixkKXtkPWR8fHRoaXMuaW5kZXg7Yj1BKGIpP1wicyBcIitiK1wiLVwiK3RoaXMuaW5kZXgrXCIgW1wiK3RoaXMudGV4dC5zdWJzdHJpbmcoYixkKStcIl1cIjpcIiBcIitkO3Rocm93IFUoXCJsZXhlcnJcIixhLGIsdGhpcy50ZXh0KTt9LHJlYWROdW1iZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJcIixiPXRoaXMuaW5kZXg7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGQ9RSh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtpZihcIi5cIj09ZHx8dGhpcy5pc051bWJlcihkKSlhKz1kO2Vsc2V7dmFyIGM9dGhpcy5wZWVrKCk7aWYoXCJlXCI9PWQmJnRoaXMuaXNFeHBPcGVyYXRvcihjKSlhKz1kO2Vsc2UgaWYodGhpcy5pc0V4cE9wZXJhdG9yKGQpJiZjJiZcclxudGhpcy5pc051bWJlcihjKSYmXCJlXCI9PWEuY2hhckF0KGEubGVuZ3RoLTEpKWErPWQ7ZWxzZSBpZighdGhpcy5pc0V4cE9wZXJhdG9yKGQpfHxjJiZ0aGlzLmlzTnVtYmVyKGMpfHxcImVcIiE9YS5jaGFyQXQoYS5sZW5ndGgtMSkpYnJlYWs7ZWxzZSB0aGlzLnRocm93RXJyb3IoXCJJbnZhbGlkIGV4cG9uZW50XCIpfXRoaXMuaW5kZXgrK310aGlzLnRva2Vucy5wdXNoKHtpbmRleDpiLHRleHQ6YSxjb25zdGFudDohMCx2YWx1ZTpOdW1iZXIoYSl9KX0scmVhZElkZW50OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuaW5kZXg7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGI9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtpZighdGhpcy5pc0lkZW50KGIpJiYhdGhpcy5pc051bWJlcihiKSlicmVhazt0aGlzLmluZGV4Kyt9dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6YSx0ZXh0OnRoaXMudGV4dC5zbGljZShhLHRoaXMuaW5kZXgpLGlkZW50aWZpZXI6ITB9KX0scmVhZFN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj1cclxudGhpcy5pbmRleDt0aGlzLmluZGV4Kys7Zm9yKHZhciBkPVwiXCIsYz1hLGU9ITE7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGY9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSxjPWMrZjtpZihlKVwidVwiPT09Zj8oZT10aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXgrMSx0aGlzLmluZGV4KzUpLGUubWF0Y2goL1tcXGRhLWZdezR9L2kpfHx0aGlzLnRocm93RXJyb3IoXCJJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdVwiK2UrXCJdXCIpLHRoaXMuaW5kZXgrPTQsZCs9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlLDE2KSkpOmQrPUZnW2ZdfHxmLGU9ITE7ZWxzZSBpZihcIlxcXFxcIj09PWYpZT0hMDtlbHNle2lmKGY9PT1hKXt0aGlzLmluZGV4Kys7dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6Yix0ZXh0OmMsY29uc3RhbnQ6ITAsdmFsdWU6ZH0pO3JldHVybn1kKz1mfXRoaXMuaW5kZXgrK310aGlzLnRocm93RXJyb3IoXCJVbnRlcm1pbmF0ZWQgcXVvdGVcIixiKX19O3ZhciByPVxyXG5mdW5jdGlvbihhLGIpe3RoaXMubGV4ZXI9YTt0aGlzLm9wdGlvbnM9Yn07ci5Qcm9ncmFtPVwiUHJvZ3JhbVwiO3IuRXhwcmVzc2lvblN0YXRlbWVudD1cIkV4cHJlc3Npb25TdGF0ZW1lbnRcIjtyLkFzc2lnbm1lbnRFeHByZXNzaW9uPVwiQXNzaWdubWVudEV4cHJlc3Npb25cIjtyLkNvbmRpdGlvbmFsRXhwcmVzc2lvbj1cIkNvbmRpdGlvbmFsRXhwcmVzc2lvblwiO3IuTG9naWNhbEV4cHJlc3Npb249XCJMb2dpY2FsRXhwcmVzc2lvblwiO3IuQmluYXJ5RXhwcmVzc2lvbj1cIkJpbmFyeUV4cHJlc3Npb25cIjtyLlVuYXJ5RXhwcmVzc2lvbj1cIlVuYXJ5RXhwcmVzc2lvblwiO3IuQ2FsbEV4cHJlc3Npb249XCJDYWxsRXhwcmVzc2lvblwiO3IuTWVtYmVyRXhwcmVzc2lvbj1cIk1lbWJlckV4cHJlc3Npb25cIjtyLklkZW50aWZpZXI9XCJJZGVudGlmaWVyXCI7ci5MaXRlcmFsPVwiTGl0ZXJhbFwiO3IuQXJyYXlFeHByZXNzaW9uPVwiQXJyYXlFeHByZXNzaW9uXCI7ci5Qcm9wZXJ0eT1cIlByb3BlcnR5XCI7ci5PYmplY3RFeHByZXNzaW9uPVxyXG5cIk9iamVjdEV4cHJlc3Npb25cIjtyLlRoaXNFeHByZXNzaW9uPVwiVGhpc0V4cHJlc3Npb25cIjtyLkxvY2Fsc0V4cHJlc3Npb249XCJMb2NhbHNFeHByZXNzaW9uXCI7ci5OR1ZhbHVlUGFyYW1ldGVyPVwiTkdWYWx1ZVBhcmFtZXRlclwiO3IucHJvdG90eXBlPXthc3Q6ZnVuY3Rpb24oYSl7dGhpcy50ZXh0PWE7dGhpcy50b2tlbnM9dGhpcy5sZXhlci5sZXgoYSk7YT10aGlzLnByb2dyYW0oKTswIT09dGhpcy50b2tlbnMubGVuZ3RoJiZ0aGlzLnRocm93RXJyb3IoXCJpcyBhbiB1bmV4cGVjdGVkIHRva2VuXCIsdGhpcy50b2tlbnNbMF0pO3JldHVybiBhfSxwcm9ncmFtOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdOzspaWYoMDx0aGlzLnRva2Vucy5sZW5ndGgmJiF0aGlzLnBlZWsoXCJ9XCIsXCIpXCIsXCI7XCIsXCJdXCIpJiZhLnB1c2godGhpcy5leHByZXNzaW9uU3RhdGVtZW50KCkpLCF0aGlzLmV4cGVjdChcIjtcIikpcmV0dXJue3R5cGU6ci5Qcm9ncmFtLGJvZHk6YX19LGV4cHJlc3Npb25TdGF0ZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpyLkV4cHJlc3Npb25TdGF0ZW1lbnQsXHJcbmV4cHJlc3Npb246dGhpcy5maWx0ZXJDaGFpbigpfX0sZmlsdGVyQ2hhaW46ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5leHByZXNzaW9uKCk7dGhpcy5leHBlY3QoXCJ8XCIpOylhPXRoaXMuZmlsdGVyKGEpO3JldHVybiBhfSxleHByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWdubWVudCgpfSxhc3NpZ25tZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50ZXJuYXJ5KCk7dGhpcy5leHBlY3QoXCI9XCIpJiYoYT17dHlwZTpyLkFzc2lnbm1lbnRFeHByZXNzaW9uLGxlZnQ6YSxyaWdodDp0aGlzLmFzc2lnbm1lbnQoKSxvcGVyYXRvcjpcIj1cIn0pO3JldHVybiBhfSx0ZXJuYXJ5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sb2dpY2FsT1IoKSxiLGQ7cmV0dXJuIHRoaXMuZXhwZWN0KFwiP1wiKSYmKGI9dGhpcy5leHByZXNzaW9uKCksdGhpcy5jb25zdW1lKFwiOlwiKSk/KGQ9dGhpcy5leHByZXNzaW9uKCkse3R5cGU6ci5Db25kaXRpb25hbEV4cHJlc3Npb24sdGVzdDphLGFsdGVybmF0ZTpiLFxyXG5jb25zZXF1ZW50OmR9KTphfSxsb2dpY2FsT1I6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sb2dpY2FsQU5EKCk7dGhpcy5leHBlY3QoXCJ8fFwiKTspYT17dHlwZTpyLkxvZ2ljYWxFeHByZXNzaW9uLG9wZXJhdG9yOlwifHxcIixsZWZ0OmEscmlnaHQ6dGhpcy5sb2dpY2FsQU5EKCl9O3JldHVybiBhfSxsb2dpY2FsQU5EOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZXF1YWxpdHkoKTt0aGlzLmV4cGVjdChcIiYmXCIpOylhPXt0eXBlOnIuTG9naWNhbEV4cHJlc3Npb24sb3BlcmF0b3I6XCImJlwiLGxlZnQ6YSxyaWdodDp0aGlzLmVxdWFsaXR5KCl9O3JldHVybiBhfSxlcXVhbGl0eTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnJlbGF0aW9uYWwoKSxiO2I9dGhpcy5leHBlY3QoXCI9PVwiLFwiIT1cIixcIj09PVwiLFwiIT09XCIpOylhPXt0eXBlOnIuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMucmVsYXRpb25hbCgpfTtyZXR1cm4gYX0scmVsYXRpb25hbDpmdW5jdGlvbigpe2Zvcih2YXIgYT1cclxudGhpcy5hZGRpdGl2ZSgpLGI7Yj10aGlzLmV4cGVjdChcIjxcIixcIj5cIixcIjw9XCIsXCI+PVwiKTspYT17dHlwZTpyLkJpbmFyeUV4cHJlc3Npb24sb3BlcmF0b3I6Yi50ZXh0LGxlZnQ6YSxyaWdodDp0aGlzLmFkZGl0aXZlKCl9O3JldHVybiBhfSxhZGRpdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLm11bHRpcGxpY2F0aXZlKCksYjtiPXRoaXMuZXhwZWN0KFwiK1wiLFwiLVwiKTspYT17dHlwZTpyLkJpbmFyeUV4cHJlc3Npb24sb3BlcmF0b3I6Yi50ZXh0LGxlZnQ6YSxyaWdodDp0aGlzLm11bHRpcGxpY2F0aXZlKCl9O3JldHVybiBhfSxtdWx0aXBsaWNhdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnVuYXJ5KCksYjtiPXRoaXMuZXhwZWN0KFwiKlwiLFwiL1wiLFwiJVwiKTspYT17dHlwZTpyLkJpbmFyeUV4cHJlc3Npb24sb3BlcmF0b3I6Yi50ZXh0LGxlZnQ6YSxyaWdodDp0aGlzLnVuYXJ5KCl9O3JldHVybiBhfSx1bmFyeTpmdW5jdGlvbigpe3ZhciBhO3JldHVybihhPXRoaXMuZXhwZWN0KFwiK1wiLFxyXG5cIi1cIixcIiFcIikpP3t0eXBlOnIuVW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmEudGV4dCxwcmVmaXg6ITAsYXJndW1lbnQ6dGhpcy51bmFyeSgpfTp0aGlzLnByaW1hcnkoKX0scHJpbWFyeTpmdW5jdGlvbigpe3ZhciBhO3RoaXMuZXhwZWN0KFwiKFwiKT8oYT10aGlzLmZpbHRlckNoYWluKCksdGhpcy5jb25zdW1lKFwiKVwiKSk6dGhpcy5leHBlY3QoXCJbXCIpP2E9dGhpcy5hcnJheURlY2xhcmF0aW9uKCk6dGhpcy5leHBlY3QoXCJ7XCIpP2E9dGhpcy5vYmplY3QoKTp0aGlzLnNlbGZSZWZlcmVudGlhbC5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KT9hPXFhKHRoaXMuc2VsZlJlZmVyZW50aWFsW3RoaXMuY29uc3VtZSgpLnRleHRdKTp0aGlzLm9wdGlvbnMubGl0ZXJhbHMuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCk/YT17dHlwZTpyLkxpdGVyYWwsdmFsdWU6dGhpcy5vcHRpb25zLmxpdGVyYWxzW3RoaXMuY29uc3VtZSgpLnRleHRdfTp0aGlzLnBlZWsoKS5pZGVudGlmaWVyP1xyXG5hPXRoaXMuaWRlbnRpZmllcigpOnRoaXMucGVlaygpLmNvbnN0YW50P2E9dGhpcy5jb25zdGFudCgpOnRoaXMudGhyb3dFcnJvcihcIm5vdCBhIHByaW1hcnkgZXhwcmVzc2lvblwiLHRoaXMucGVlaygpKTtmb3IodmFyIGI7Yj10aGlzLmV4cGVjdChcIihcIixcIltcIixcIi5cIik7KVwiKFwiPT09Yi50ZXh0PyhhPXt0eXBlOnIuQ2FsbEV4cHJlc3Npb24sY2FsbGVlOmEsYXJndW1lbnRzOnRoaXMucGFyc2VBcmd1bWVudHMoKX0sdGhpcy5jb25zdW1lKFwiKVwiKSk6XCJbXCI9PT1iLnRleHQ/KGE9e3R5cGU6ci5NZW1iZXJFeHByZXNzaW9uLG9iamVjdDphLHByb3BlcnR5OnRoaXMuZXhwcmVzc2lvbigpLGNvbXB1dGVkOiEwfSx0aGlzLmNvbnN1bWUoXCJdXCIpKTpcIi5cIj09PWIudGV4dD9hPXt0eXBlOnIuTWVtYmVyRXhwcmVzc2lvbixvYmplY3Q6YSxwcm9wZXJ0eTp0aGlzLmlkZW50aWZpZXIoKSxjb21wdXRlZDohMX06dGhpcy50aHJvd0Vycm9yKFwiSU1QT1NTSUJMRVwiKTtyZXR1cm4gYX0sZmlsdGVyOmZ1bmN0aW9uKGEpe2E9XHJcblthXTtmb3IodmFyIGI9e3R5cGU6ci5DYWxsRXhwcmVzc2lvbixjYWxsZWU6dGhpcy5pZGVudGlmaWVyKCksYXJndW1lbnRzOmEsZmlsdGVyOiEwfTt0aGlzLmV4cGVjdChcIjpcIik7KWEucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7cmV0dXJuIGJ9LHBhcnNlQXJndW1lbnRzOmZ1bmN0aW9uKCl7dmFyIGE9W107aWYoXCIpXCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpe2RvIGEucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7d2hpbGUodGhpcy5leHBlY3QoXCIsXCIpKX1yZXR1cm4gYX0saWRlbnRpZmllcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uc3VtZSgpO2EuaWRlbnRpZmllcnx8dGhpcy50aHJvd0Vycm9yKFwiaXMgbm90IGEgdmFsaWQgaWRlbnRpZmllclwiLGEpO3JldHVybnt0eXBlOnIuSWRlbnRpZmllcixuYW1lOmEudGV4dH19LGNvbnN0YW50OmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6ci5MaXRlcmFsLHZhbHVlOnRoaXMuY29uc3VtZSgpLnZhbHVlfX0sYXJyYXlEZWNsYXJhdGlvbjpmdW5jdGlvbigpe3ZhciBhPVxyXG5bXTtpZihcIl1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKFwiXVwiKSlicmVhazthLnB1c2godGhpcy5leHByZXNzaW9uKCkpfXdoaWxlKHRoaXMuZXhwZWN0KFwiLFwiKSl9dGhpcy5jb25zdW1lKFwiXVwiKTtyZXR1cm57dHlwZTpyLkFycmF5RXhwcmVzc2lvbixlbGVtZW50czphfX0sb2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9W10sYjtpZihcIn1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKFwifVwiKSlicmVhaztiPXt0eXBlOnIuUHJvcGVydHksa2luZDpcImluaXRcIn07dGhpcy5wZWVrKCkuY29uc3RhbnQ/Yi5rZXk9dGhpcy5jb25zdGFudCgpOnRoaXMucGVlaygpLmlkZW50aWZpZXI/Yi5rZXk9dGhpcy5pZGVudGlmaWVyKCk6dGhpcy50aHJvd0Vycm9yKFwiaW52YWxpZCBrZXlcIix0aGlzLnBlZWsoKSk7dGhpcy5jb25zdW1lKFwiOlwiKTtiLnZhbHVlPXRoaXMuZXhwcmVzc2lvbigpO2EucHVzaChiKX13aGlsZSh0aGlzLmV4cGVjdChcIixcIikpXHJcbn10aGlzLmNvbnN1bWUoXCJ9XCIpO3JldHVybnt0eXBlOnIuT2JqZWN0RXhwcmVzc2lvbixwcm9wZXJ0aWVzOmF9fSx0aHJvd0Vycm9yOmZ1bmN0aW9uKGEsYil7dGhyb3cgVShcInN5bnRheFwiLGIudGV4dCxhLGIuaW5kZXgrMSx0aGlzLnRleHQsdGhpcy50ZXh0LnN1YnN0cmluZyhiLmluZGV4KSk7fSxjb25zdW1lOmZ1bmN0aW9uKGEpe2lmKDA9PT10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgVShcInVlb2VcIix0aGlzLnRleHQpO3ZhciBiPXRoaXMuZXhwZWN0KGEpO2J8fHRoaXMudGhyb3dFcnJvcihcImlzIHVuZXhwZWN0ZWQsIGV4cGVjdGluZyBbXCIrYStcIl1cIix0aGlzLnBlZWsoKSk7cmV0dXJuIGJ9LHBlZWtUb2tlbjpmdW5jdGlvbigpe2lmKDA9PT10aGlzLnRva2Vucy5sZW5ndGgpdGhyb3cgVShcInVlb2VcIix0aGlzLnRleHQpO3JldHVybiB0aGlzLnRva2Vuc1swXX0scGVlazpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCxhLGIsZCxjKX0scGVla0FoZWFkOmZ1bmN0aW9uKGEsXHJcbmIsZCxjLGUpe2lmKHRoaXMudG9rZW5zLmxlbmd0aD5hKXthPXRoaXMudG9rZW5zW2FdO3ZhciBmPWEudGV4dDtpZihmPT09Ynx8Zj09PWR8fGY9PT1jfHxmPT09ZXx8IShifHxkfHxjfHxlKSlyZXR1cm4gYX1yZXR1cm4hMX0sZXhwZWN0OmZ1bmN0aW9uKGEsYixkLGMpe3JldHVybihhPXRoaXMucGVlayhhLGIsZCxjKSk/KHRoaXMudG9rZW5zLnNoaWZ0KCksYSk6ITF9LHNlbGZSZWZlcmVudGlhbDp7XCJ0aGlzXCI6e3R5cGU6ci5UaGlzRXhwcmVzc2lvbn0sJGxvY2Fsczp7dHlwZTpyLkxvY2Fsc0V4cHJlc3Npb259fX07cGQucHJvdG90eXBlPXtjb21waWxlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxjPXRoaXMuYXN0QnVpbGRlci5hc3QoYSk7dGhpcy5zdGF0ZT17bmV4dElkOjAsZmlsdGVyczp7fSxleHBlbnNpdmVDaGVja3M6Yixmbjp7dmFyczpbXSxib2R5OltdLG93bjp7fX0sYXNzaWduOnt2YXJzOltdLGJvZHk6W10sb3duOnt9fSxpbnB1dHM6W119O1YoYyxkLiRmaWx0ZXIpO1xyXG52YXIgZT1cIlwiLGY7dGhpcy5zdGFnZT1cImFzc2lnblwiO2lmKGY9bmQoYykpdGhpcy5zdGF0ZS5jb21wdXRpbmc9XCJhc3NpZ25cIixlPXRoaXMubmV4dElkKCksdGhpcy5yZWN1cnNlKGYsZSksdGhpcy5yZXR1cm5fKGUpLGU9XCJmbi5hc3NpZ249XCIrdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKFwiYXNzaWduXCIsXCJzLHYsbFwiKTtmPWxkKGMuYm9keSk7ZC5zdGFnZT1cImlucHV0c1wiO3AoZixmdW5jdGlvbihhLGIpe3ZhciBjPVwiZm5cIitiO2Quc3RhdGVbY109e3ZhcnM6W10sYm9keTpbXSxvd246e319O2Quc3RhdGUuY29tcHV0aW5nPWM7dmFyIGU9ZC5uZXh0SWQoKTtkLnJlY3Vyc2UoYSxlKTtkLnJldHVybl8oZSk7ZC5zdGF0ZS5pbnB1dHMucHVzaChjKTthLndhdGNoSWQ9Yn0pO3RoaXMuc3RhdGUuY29tcHV0aW5nPVwiZm5cIjt0aGlzLnN0YWdlPVwibWFpblwiO3RoaXMucmVjdXJzZShjKTtlPSdcIicrdGhpcy5VU0UrXCIgXCIrdGhpcy5TVFJJQ1QrJ1wiO1xcbicrdGhpcy5maWx0ZXJQcmVmaXgoKStcInZhciBmbj1cIitcclxudGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKFwiZm5cIixcInMsbCxhLGlcIikrZSt0aGlzLndhdGNoRm5zKCkrXCJyZXR1cm4gZm47XCI7ZT0obmV3IEZ1bmN0aW9uKFwiJGZpbHRlclwiLFwiZW5zdXJlU2FmZU1lbWJlck5hbWVcIixcImVuc3VyZVNhZmVPYmplY3RcIixcImVuc3VyZVNhZmVGdW5jdGlvblwiLFwiZ2V0U3RyaW5nVmFsdWVcIixcImVuc3VyZVNhZmVBc3NpZ25Db250ZXh0XCIsXCJpZkRlZmluZWRcIixcInBsdXNcIixcInRleHRcIixlKSkodGhpcy4kZmlsdGVyLFZhLHhhLGpkLGVnLEdiLGlnLGtkLGEpO3RoaXMuc3RhdGU9dGhpcy5zdGFnZT13O2UubGl0ZXJhbD1vZChjKTtlLmNvbnN0YW50PWMuY29uc3RhbnQ7cmV0dXJuIGV9LFVTRTpcInVzZVwiLFNUUklDVDpcInN0cmljdFwiLHdhdGNoRm5zOmZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLnN0YXRlLmlucHV0cyxkPXRoaXM7cChiLGZ1bmN0aW9uKGIpe2EucHVzaChcInZhciBcIitiK1wiPVwiK2QuZ2VuZXJhdGVGdW5jdGlvbihiLFwic1wiKSl9KTtiLmxlbmd0aCYmYS5wdXNoKFwiZm4uaW5wdXRzPVtcIitcclxuYi5qb2luKFwiLFwiKStcIl07XCIpO3JldHVybiBhLmpvaW4oXCJcIil9LGdlbmVyYXRlRnVuY3Rpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImZ1bmN0aW9uKFwiK2IrXCIpe1wiK3RoaXMudmFyc1ByZWZpeChhKSt0aGlzLmJvZHkoYSkrXCJ9O1wifSxmaWx0ZXJQcmVmaXg6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXM7cCh0aGlzLnN0YXRlLmZpbHRlcnMsZnVuY3Rpb24oZCxjKXthLnB1c2goZCtcIj0kZmlsdGVyKFwiK2IuZXNjYXBlKGMpK1wiKVwiKX0pO3JldHVybiBhLmxlbmd0aD9cInZhciBcIithLmpvaW4oXCIsXCIpK1wiO1wiOlwiXCJ9LHZhcnNQcmVmaXg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhdGVbYV0udmFycy5sZW5ndGg/XCJ2YXIgXCIrdGhpcy5zdGF0ZVthXS52YXJzLmpvaW4oXCIsXCIpK1wiO1wiOlwiXCJ9LGJvZHk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RhdGVbYV0uYm9keS5qb2luKFwiXCIpfSxyZWN1cnNlOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXt2YXIgZyxoLGs9dGhpcyxsLG07Yz1jfHx6O2lmKCFmJiZcclxuQShhLndhdGNoSWQpKWI9Ynx8dGhpcy5uZXh0SWQoKSx0aGlzLmlmXyhcImlcIix0aGlzLmxhenlBc3NpZ24oYix0aGlzLmNvbXB1dGVkTWVtYmVyKFwiaVwiLGEud2F0Y2hJZCkpLHRoaXMubGF6eVJlY3Vyc2UoYSxiLGQsYyxlLCEwKSk7ZWxzZSBzd2l0Y2goYS50eXBlKXtjYXNlIHIuUHJvZ3JhbTpwKGEuYm9keSxmdW5jdGlvbihiLGMpe2sucmVjdXJzZShiLmV4cHJlc3Npb24sdyx3LGZ1bmN0aW9uKGEpe2g9YX0pO2MhPT1hLmJvZHkubGVuZ3RoLTE/ay5jdXJyZW50KCkuYm9keS5wdXNoKGgsXCI7XCIpOmsucmV0dXJuXyhoKX0pO2JyZWFrO2Nhc2Ugci5MaXRlcmFsOm09dGhpcy5lc2NhcGUoYS52YWx1ZSk7dGhpcy5hc3NpZ24oYixtKTtjKG0pO2JyZWFrO2Nhc2Ugci5VbmFyeUV4cHJlc3Npb246dGhpcy5yZWN1cnNlKGEuYXJndW1lbnQsdyx3LGZ1bmN0aW9uKGEpe2g9YX0pO209YS5vcGVyYXRvcitcIihcIit0aGlzLmlmRGVmaW5lZChoLDApK1wiKVwiO3RoaXMuYXNzaWduKGIsbSk7YyhtKTtcclxuYnJlYWs7Y2FzZSByLkJpbmFyeUV4cHJlc3Npb246dGhpcy5yZWN1cnNlKGEubGVmdCx3LHcsZnVuY3Rpb24oYSl7Zz1hfSk7dGhpcy5yZWN1cnNlKGEucmlnaHQsdyx3LGZ1bmN0aW9uKGEpe2g9YX0pO209XCIrXCI9PT1hLm9wZXJhdG9yP3RoaXMucGx1cyhnLGgpOlwiLVwiPT09YS5vcGVyYXRvcj90aGlzLmlmRGVmaW5lZChnLDApK2Eub3BlcmF0b3IrdGhpcy5pZkRlZmluZWQoaCwwKTpcIihcIitnK1wiKVwiK2Eub3BlcmF0b3IrXCIoXCIraCtcIilcIjt0aGlzLmFzc2lnbihiLG0pO2MobSk7YnJlYWs7Y2FzZSByLkxvZ2ljYWxFeHByZXNzaW9uOmI9Ynx8dGhpcy5uZXh0SWQoKTtrLnJlY3Vyc2UoYS5sZWZ0LGIpO2suaWZfKFwiJiZcIj09PWEub3BlcmF0b3I/YjprLm5vdChiKSxrLmxhenlSZWN1cnNlKGEucmlnaHQsYikpO2MoYik7YnJlYWs7Y2FzZSByLkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpiPWJ8fHRoaXMubmV4dElkKCk7ay5yZWN1cnNlKGEudGVzdCxiKTtrLmlmXyhiLGsubGF6eVJlY3Vyc2UoYS5hbHRlcm5hdGUsXHJcbmIpLGsubGF6eVJlY3Vyc2UoYS5jb25zZXF1ZW50LGIpKTtjKGIpO2JyZWFrO2Nhc2Ugci5JZGVudGlmaWVyOmI9Ynx8dGhpcy5uZXh0SWQoKTtkJiYoZC5jb250ZXh0PVwiaW5wdXRzXCI9PT1rLnN0YWdlP1wic1wiOnRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksdGhpcy5nZXRIYXNPd25Qcm9wZXJ0eShcImxcIixhLm5hbWUpK1wiP2w6c1wiKSxkLmNvbXB1dGVkPSExLGQubmFtZT1hLm5hbWUpO1ZhKGEubmFtZSk7ay5pZl8oXCJpbnB1dHNcIj09PWsuc3RhZ2V8fGsubm90KGsuZ2V0SGFzT3duUHJvcGVydHkoXCJsXCIsYS5uYW1lKSksZnVuY3Rpb24oKXtrLmlmXyhcImlucHV0c1wiPT09ay5zdGFnZXx8XCJzXCIsZnVuY3Rpb24oKXtlJiYxIT09ZSYmay5pZl8oay5ub3Qoay5ub25Db21wdXRlZE1lbWJlcihcInNcIixhLm5hbWUpKSxrLmxhenlBc3NpZ24oay5ub25Db21wdXRlZE1lbWJlcihcInNcIixhLm5hbWUpLFwie31cIikpO2suYXNzaWduKGIsay5ub25Db21wdXRlZE1lbWJlcihcInNcIixhLm5hbWUpKX0pfSxiJiZcclxuay5sYXp5QXNzaWduKGIsay5ub25Db21wdXRlZE1lbWJlcihcImxcIixhLm5hbWUpKSk7KGsuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzfHxIYihhLm5hbWUpKSYmay5hZGRFbnN1cmVTYWZlT2JqZWN0KGIpO2MoYik7YnJlYWs7Y2FzZSByLk1lbWJlckV4cHJlc3Npb246Zz1kJiYoZC5jb250ZXh0PXRoaXMubmV4dElkKCkpfHx0aGlzLm5leHRJZCgpO2I9Ynx8dGhpcy5uZXh0SWQoKTtrLnJlY3Vyc2UoYS5vYmplY3QsZyx3LGZ1bmN0aW9uKCl7ay5pZl8oay5ub3ROdWxsKGcpLGZ1bmN0aW9uKCl7ZSYmMSE9PWUmJmsuYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoZyk7aWYoYS5jb21wdXRlZCloPWsubmV4dElkKCksay5yZWN1cnNlKGEucHJvcGVydHksaCksay5nZXRTdHJpbmdWYWx1ZShoKSxrLmFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lKGgpLGUmJjEhPT1lJiZrLmlmXyhrLm5vdChrLmNvbXB1dGVkTWVtYmVyKGcsaCkpLGsubGF6eUFzc2lnbihrLmNvbXB1dGVkTWVtYmVyKGcsaCksXCJ7fVwiKSksXHJcbm09ay5lbnN1cmVTYWZlT2JqZWN0KGsuY29tcHV0ZWRNZW1iZXIoZyxoKSksay5hc3NpZ24oYixtKSxkJiYoZC5jb21wdXRlZD0hMCxkLm5hbWU9aCk7ZWxzZXtWYShhLnByb3BlcnR5Lm5hbWUpO2UmJjEhPT1lJiZrLmlmXyhrLm5vdChrLm5vbkNvbXB1dGVkTWVtYmVyKGcsYS5wcm9wZXJ0eS5uYW1lKSksay5sYXp5QXNzaWduKGsubm9uQ29tcHV0ZWRNZW1iZXIoZyxhLnByb3BlcnR5Lm5hbWUpLFwie31cIikpO209ay5ub25Db21wdXRlZE1lbWJlcihnLGEucHJvcGVydHkubmFtZSk7aWYoay5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fEhiKGEucHJvcGVydHkubmFtZSkpbT1rLmVuc3VyZVNhZmVPYmplY3QobSk7ay5hc3NpZ24oYixtKTtkJiYoZC5jb21wdXRlZD0hMSxkLm5hbWU9YS5wcm9wZXJ0eS5uYW1lKX19LGZ1bmN0aW9uKCl7ay5hc3NpZ24oYixcInVuZGVmaW5lZFwiKX0pO2MoYil9LCEhZSk7YnJlYWs7Y2FzZSByLkNhbGxFeHByZXNzaW9uOmI9Ynx8dGhpcy5uZXh0SWQoKTthLmZpbHRlcj9cclxuKGg9ay5maWx0ZXIoYS5jYWxsZWUubmFtZSksbD1bXSxwKGEuYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3ZhciBiPWsubmV4dElkKCk7ay5yZWN1cnNlKGEsYik7bC5wdXNoKGIpfSksbT1oK1wiKFwiK2wuam9pbihcIixcIikrXCIpXCIsay5hc3NpZ24oYixtKSxjKGIpKTooaD1rLm5leHRJZCgpLGc9e30sbD1bXSxrLnJlY3Vyc2UoYS5jYWxsZWUsaCxnLGZ1bmN0aW9uKCl7ay5pZl8oay5ub3ROdWxsKGgpLGZ1bmN0aW9uKCl7ay5hZGRFbnN1cmVTYWZlRnVuY3Rpb24oaCk7cChhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXtrLnJlY3Vyc2UoYSxrLm5leHRJZCgpLHcsZnVuY3Rpb24oYSl7bC5wdXNoKGsuZW5zdXJlU2FmZU9iamVjdChhKSl9KX0pO2cubmFtZT8oay5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fGsuYWRkRW5zdXJlU2FmZU9iamVjdChnLmNvbnRleHQpLG09ay5tZW1iZXIoZy5jb250ZXh0LGcubmFtZSxnLmNvbXB1dGVkKStcIihcIitsLmpvaW4oXCIsXCIpK1wiKVwiKTptPWgrXCIoXCIrbC5qb2luKFwiLFwiKStcclxuXCIpXCI7bT1rLmVuc3VyZVNhZmVPYmplY3QobSk7ay5hc3NpZ24oYixtKX0sZnVuY3Rpb24oKXtrLmFzc2lnbihiLFwidW5kZWZpbmVkXCIpfSk7YyhiKX0pKTticmVhaztjYXNlIHIuQXNzaWdubWVudEV4cHJlc3Npb246aD10aGlzLm5leHRJZCgpO2c9e307aWYoIW1kKGEubGVmdCkpdGhyb3cgVShcImx2YWxcIik7dGhpcy5yZWN1cnNlKGEubGVmdCx3LGcsZnVuY3Rpb24oKXtrLmlmXyhrLm5vdE51bGwoZy5jb250ZXh0KSxmdW5jdGlvbigpe2sucmVjdXJzZShhLnJpZ2h0LGgpO2suYWRkRW5zdXJlU2FmZU9iamVjdChrLm1lbWJlcihnLmNvbnRleHQsZy5uYW1lLGcuY29tcHV0ZWQpKTtrLmFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGcuY29udGV4dCk7bT1rLm1lbWJlcihnLmNvbnRleHQsZy5uYW1lLGcuY29tcHV0ZWQpK2Eub3BlcmF0b3IraDtrLmFzc2lnbihiLG0pO2MoYnx8bSl9KX0sMSk7YnJlYWs7Y2FzZSByLkFycmF5RXhwcmVzc2lvbjpsPVtdO3AoYS5lbGVtZW50cyxmdW5jdGlvbihhKXtrLnJlY3Vyc2UoYSxcclxuay5uZXh0SWQoKSx3LGZ1bmN0aW9uKGEpe2wucHVzaChhKX0pfSk7bT1cIltcIitsLmpvaW4oXCIsXCIpK1wiXVwiO3RoaXMuYXNzaWduKGIsbSk7YyhtKTticmVhaztjYXNlIHIuT2JqZWN0RXhwcmVzc2lvbjpsPVtdO3AoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe2sucmVjdXJzZShhLnZhbHVlLGsubmV4dElkKCksdyxmdW5jdGlvbihiKXtsLnB1c2goay5lc2NhcGUoYS5rZXkudHlwZT09PXIuSWRlbnRpZmllcj9hLmtleS5uYW1lOlwiXCIrYS5rZXkudmFsdWUpK1wiOlwiK2IpfSl9KTttPVwie1wiK2wuam9pbihcIixcIikrXCJ9XCI7dGhpcy5hc3NpZ24oYixtKTtjKG0pO2JyZWFrO2Nhc2Ugci5UaGlzRXhwcmVzc2lvbjp0aGlzLmFzc2lnbihiLFwic1wiKTtjKFwic1wiKTticmVhaztjYXNlIHIuTG9jYWxzRXhwcmVzc2lvbjp0aGlzLmFzc2lnbihiLFwibFwiKTtjKFwibFwiKTticmVhaztjYXNlIHIuTkdWYWx1ZVBhcmFtZXRlcjp0aGlzLmFzc2lnbihiLFwidlwiKSxjKFwidlwiKX19LGdldEhhc093blByb3BlcnR5OmZ1bmN0aW9uKGEsXHJcbmIpe3ZhciBkPWErXCIuXCIrYixjPXRoaXMuY3VycmVudCgpLm93bjtjLmhhc093blByb3BlcnR5KGQpfHwoY1tkXT10aGlzLm5leHRJZCghMSxhK1wiJiYoXCIrdGhpcy5lc2NhcGUoYikrXCIgaW4gXCIrYStcIilcIikpO3JldHVybiBjW2RdfSxhc3NpZ246ZnVuY3Rpb24oYSxiKXtpZihhKXJldHVybiB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goYSxcIj1cIixiLFwiO1wiKSxhfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5maWx0ZXJzLmhhc093blByb3BlcnR5KGEpfHwodGhpcy5zdGF0ZS5maWx0ZXJzW2FdPXRoaXMubmV4dElkKCEwKSk7cmV0dXJuIHRoaXMuc3RhdGUuZmlsdGVyc1thXX0saWZEZWZpbmVkOmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJpZkRlZmluZWQoXCIrYStcIixcIit0aGlzLmVzY2FwZShiKStcIilcIn0scGx1czpmdW5jdGlvbihhLGIpe3JldHVyblwicGx1cyhcIithK1wiLFwiK2IrXCIpXCJ9LHJldHVybl86ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKFwicmV0dXJuIFwiLFxyXG5hLFwiO1wiKX0saWZfOmZ1bmN0aW9uKGEsYixkKXtpZighMD09PWEpYigpO2Vsc2V7dmFyIGM9dGhpcy5jdXJyZW50KCkuYm9keTtjLnB1c2goXCJpZihcIixhLFwiKXtcIik7YigpO2MucHVzaChcIn1cIik7ZCYmKGMucHVzaChcImVsc2V7XCIpLGQoKSxjLnB1c2goXCJ9XCIpKX19LG5vdDpmdW5jdGlvbihhKXtyZXR1cm5cIiEoXCIrYStcIilcIn0sbm90TnVsbDpmdW5jdGlvbihhKXtyZXR1cm4gYStcIiE9bnVsbFwifSxub25Db21wdXRlZE1lbWJlcjpmdW5jdGlvbihhLGIpe3JldHVybiBhK1wiLlwiK2J9LGNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGErXCJbXCIrYitcIl1cIn0sbWVtYmVyOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZD90aGlzLmNvbXB1dGVkTWVtYmVyKGEsYik6dGhpcy5ub25Db21wdXRlZE1lbWJlcihhLGIpfSxhZGRFbnN1cmVTYWZlT2JqZWN0OmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVPYmplY3QoYSksXCI7XCIpfSxhZGRFbnN1cmVTYWZlTWVtYmVyTmFtZTpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlTWVtYmVyTmFtZShhKSxcclxuXCI7XCIpfSxhZGRFbnN1cmVTYWZlRnVuY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUZ1bmN0aW9uKGEpLFwiO1wiKX0sYWRkRW5zdXJlU2FmZUFzc2lnbkNvbnRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoYSksXCI7XCIpfSxlbnN1cmVTYWZlT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZU9iamVjdChcIithK1wiLHRleHQpXCJ9LGVuc3VyZVNhZmVNZW1iZXJOYW1lOmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZU1lbWJlck5hbWUoXCIrYStcIix0ZXh0KVwifSxlbnN1cmVTYWZlRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuXCJlbnN1cmVTYWZlRnVuY3Rpb24oXCIrYStcIix0ZXh0KVwifSxnZXRTdHJpbmdWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLmFzc2lnbihhLFwiZ2V0U3RyaW5nVmFsdWUoXCIrYStcIilcIil9LGVuc3VyZVNhZmVBc3NpZ25Db250ZXh0OmZ1bmN0aW9uKGEpe3JldHVyblwiZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQoXCIrXHJcbmErXCIsdGV4dClcIn0sbGF6eVJlY3Vyc2U6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe3ZhciBnPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7Zy5yZWN1cnNlKGEsYixkLGMsZSxmKX19LGxhenlBc3NpZ246ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzO3JldHVybiBmdW5jdGlvbigpe2QuYXNzaWduKGEsYil9fSxzdHJpbmdFc2NhcGVSZWdleDovW14gYS16QS1aMC05XS9nLHN0cmluZ0VzY2FwZUZuOmZ1bmN0aW9uKGEpe3JldHVyblwiXFxcXHVcIisoXCIwMDAwXCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSxlc2NhcGU6ZnVuY3Rpb24oYSl7aWYoRChhKSlyZXR1cm5cIidcIithLnJlcGxhY2UodGhpcy5zdHJpbmdFc2NhcGVSZWdleCx0aGlzLnN0cmluZ0VzY2FwZUZuKStcIidcIjtpZihXKGEpKXJldHVybiBhLnRvU3RyaW5nKCk7aWYoITA9PT1hKXJldHVyblwidHJ1ZVwiO2lmKCExPT09YSlyZXR1cm5cImZhbHNlXCI7aWYobnVsbD09PWEpcmV0dXJuXCJudWxsXCI7aWYoXCJ1bmRlZmluZWRcIj09PVxyXG50eXBlb2YgYSlyZXR1cm5cInVuZGVmaW5lZFwiO3Rocm93IFUoXCJlc2NcIik7fSxuZXh0SWQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1cInZcIit0aGlzLnN0YXRlLm5leHRJZCsrO2F8fHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChkKyhiP1wiPVwiK2I6XCJcIikpO3JldHVybiBkfSxjdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5zdGF0ZS5jb21wdXRpbmddfX07cWQucHJvdG90eXBlPXtjb21waWxlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxjPXRoaXMuYXN0QnVpbGRlci5hc3QoYSk7dGhpcy5leHByZXNzaW9uPWE7dGhpcy5leHBlbnNpdmVDaGVja3M9YjtWKGMsZC4kZmlsdGVyKTt2YXIgZSxmO2lmKGU9bmQoYykpZj10aGlzLnJlY3Vyc2UoZSk7ZT1sZChjLmJvZHkpO3ZhciBnO2UmJihnPVtdLHAoZSxmdW5jdGlvbihhLGIpe3ZhciBjPWQucmVjdXJzZShhKTthLmlucHV0PWM7Zy5wdXNoKGMpO2Eud2F0Y2hJZD1ifSkpO3ZhciBoPVtdO3AoYy5ib2R5LGZ1bmN0aW9uKGEpe2gucHVzaChkLnJlY3Vyc2UoYS5leHByZXNzaW9uKSl9KTtcclxuZT0wPT09Yy5ib2R5Lmxlbmd0aD96OjE9PT1jLmJvZHkubGVuZ3RoP2hbMF06ZnVuY3Rpb24oYSxiKXt2YXIgYztwKGgsZnVuY3Rpb24oZCl7Yz1kKGEsYil9KTtyZXR1cm4gY307ZiYmKGUuYXNzaWduPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZihhLGMsYil9KTtnJiYoZS5pbnB1dHM9Zyk7ZS5saXRlcmFsPW9kKGMpO2UuY29uc3RhbnQ9Yy5jb25zdGFudDtyZXR1cm4gZX0scmVjdXJzZTpmdW5jdGlvbihhLGIsZCl7dmFyIGMsZSxmPXRoaXMsZztpZihhLmlucHV0KXJldHVybiB0aGlzLmlucHV0cyhhLmlucHV0LGEud2F0Y2hJZCk7c3dpdGNoKGEudHlwZSl7Y2FzZSByLkxpdGVyYWw6cmV0dXJuIHRoaXMudmFsdWUoYS52YWx1ZSxiKTtjYXNlIHIuVW5hcnlFeHByZXNzaW9uOnJldHVybiBlPXRoaXMucmVjdXJzZShhLmFyZ3VtZW50KSx0aGlzW1widW5hcnlcIithLm9wZXJhdG9yXShlLGIpO2Nhc2Ugci5CaW5hcnlFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLmxlZnQpLFxyXG5lPXRoaXMucmVjdXJzZShhLnJpZ2h0KSx0aGlzW1wiYmluYXJ5XCIrYS5vcGVyYXRvcl0oYyxlLGIpO2Nhc2Ugci5Mb2dpY2FsRXhwcmVzc2lvbjpyZXR1cm4gYz10aGlzLnJlY3Vyc2UoYS5sZWZ0KSxlPXRoaXMucmVjdXJzZShhLnJpZ2h0KSx0aGlzW1wiYmluYXJ5XCIrYS5vcGVyYXRvcl0oYyxlLGIpO2Nhc2Ugci5Db25kaXRpb25hbEV4cHJlc3Npb246cmV0dXJuIHRoaXNbXCJ0ZXJuYXJ5PzpcIl0odGhpcy5yZWN1cnNlKGEudGVzdCksdGhpcy5yZWN1cnNlKGEuYWx0ZXJuYXRlKSx0aGlzLnJlY3Vyc2UoYS5jb25zZXF1ZW50KSxiKTtjYXNlIHIuSWRlbnRpZmllcjpyZXR1cm4gVmEoYS5uYW1lLGYuZXhwcmVzc2lvbiksZi5pZGVudGlmaWVyKGEubmFtZSxmLmV4cGVuc2l2ZUNoZWNrc3x8SGIoYS5uYW1lKSxiLGQsZi5leHByZXNzaW9uKTtjYXNlIHIuTWVtYmVyRXhwcmVzc2lvbjpyZXR1cm4gYz10aGlzLnJlY3Vyc2UoYS5vYmplY3QsITEsISFkKSxhLmNvbXB1dGVkfHwoVmEoYS5wcm9wZXJ0eS5uYW1lLFxyXG5mLmV4cHJlc3Npb24pLGU9YS5wcm9wZXJ0eS5uYW1lKSxhLmNvbXB1dGVkJiYoZT10aGlzLnJlY3Vyc2UoYS5wcm9wZXJ0eSkpLGEuY29tcHV0ZWQ/dGhpcy5jb21wdXRlZE1lbWJlcihjLGUsYixkLGYuZXhwcmVzc2lvbik6dGhpcy5ub25Db21wdXRlZE1lbWJlcihjLGUsZi5leHBlbnNpdmVDaGVja3MsYixkLGYuZXhwcmVzc2lvbik7Y2FzZSByLkNhbGxFeHByZXNzaW9uOnJldHVybiBnPVtdLHAoYS5hcmd1bWVudHMsZnVuY3Rpb24oYSl7Zy5wdXNoKGYucmVjdXJzZShhKSl9KSxhLmZpbHRlciYmKGU9dGhpcy4kZmlsdGVyKGEuY2FsbGVlLm5hbWUpKSxhLmZpbHRlcnx8KGU9dGhpcy5yZWN1cnNlKGEuY2FsbGVlLCEwKSksYS5maWx0ZXI/ZnVuY3Rpb24oYSxjLGQsZil7Zm9yKHZhciBuPVtdLHA9MDtwPGcubGVuZ3RoOysrcCluLnB1c2goZ1twXShhLGMsZCxmKSk7YT1lLmFwcGx5KHcsbixmKTtyZXR1cm4gYj97Y29udGV4dDp3LG5hbWU6dyx2YWx1ZTphfTphfTpmdW5jdGlvbihhLFxyXG5jLGQsbSl7dmFyIG49ZShhLGMsZCxtKSxwO2lmKG51bGwhPW4udmFsdWUpe3hhKG4uY29udGV4dCxmLmV4cHJlc3Npb24pO2pkKG4udmFsdWUsZi5leHByZXNzaW9uKTtwPVtdO2Zvcih2YXIgcj0wO3I8Zy5sZW5ndGg7KytyKXAucHVzaCh4YShnW3JdKGEsYyxkLG0pLGYuZXhwcmVzc2lvbikpO3A9eGEobi52YWx1ZS5hcHBseShuLmNvbnRleHQscCksZi5leHByZXNzaW9uKX1yZXR1cm4gYj97dmFsdWU6cH06cH07Y2FzZSByLkFzc2lnbm1lbnRFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLmxlZnQsITAsMSksZT10aGlzLnJlY3Vyc2UoYS5yaWdodCksZnVuY3Rpb24oYSxkLGcsbSl7dmFyIG49YyhhLGQsZyxtKTthPWUoYSxkLGcsbSk7eGEobi52YWx1ZSxmLmV4cHJlc3Npb24pO0diKG4uY29udGV4dCk7bi5jb250ZXh0W24ubmFtZV09YTtyZXR1cm4gYj97dmFsdWU6YX06YX07Y2FzZSByLkFycmF5RXhwcmVzc2lvbjpyZXR1cm4gZz1bXSxwKGEuZWxlbWVudHMsZnVuY3Rpb24oYSl7Zy5wdXNoKGYucmVjdXJzZShhKSl9KSxcclxuZnVuY3Rpb24oYSxjLGQsZSl7Zm9yKHZhciBmPVtdLHA9MDtwPGcubGVuZ3RoOysrcClmLnB1c2goZ1twXShhLGMsZCxlKSk7cmV0dXJuIGI/e3ZhbHVlOmZ9OmZ9O2Nhc2Ugci5PYmplY3RFeHByZXNzaW9uOnJldHVybiBnPVtdLHAoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe2cucHVzaCh7a2V5OmEua2V5LnR5cGU9PT1yLklkZW50aWZpZXI/YS5rZXkubmFtZTpcIlwiK2Eua2V5LnZhbHVlLHZhbHVlOmYucmVjdXJzZShhLnZhbHVlKX0pfSksZnVuY3Rpb24oYSxjLGQsZSl7Zm9yKHZhciBmPXt9LHA9MDtwPGcubGVuZ3RoOysrcClmW2dbcF0ua2V5XT1nW3BdLnZhbHVlKGEsYyxkLGUpO3JldHVybiBiP3t2YWx1ZTpmfTpmfTtjYXNlIHIuVGhpc0V4cHJlc3Npb246cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBiP3t2YWx1ZTphfTphfTtjYXNlIHIuTG9jYWxzRXhwcmVzc2lvbjpyZXR1cm4gZnVuY3Rpb24oYSxjKXtyZXR1cm4gYj97dmFsdWU6Y306Y307Y2FzZSByLk5HVmFsdWVQYXJhbWV0ZXI6cmV0dXJuIGZ1bmN0aW9uKGEsXHJcbmMsZCl7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fX0sXCJ1bmFyeStcIjpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMsZSxmKXtkPWEoZCxjLGUsZik7ZD1BKGQpPytkOjA7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fSxcInVuYXJ5LVwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe2Q9YShkLGMsZSxmKTtkPUEoZCk/LWQ6MDtyZXR1cm4gYj97dmFsdWU6ZH06ZH19LFwidW5hcnkhXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsZil7ZD0hYShkLGMsZSxmKTtyZXR1cm4gYj97dmFsdWU6ZH06ZH19LFwiYmluYXJ5K1wiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7dmFyIGg9YShjLGUsZixnKTtjPWIoYyxlLGYsZyk7aD1rZChoLGMpO3JldHVybiBkP3t2YWx1ZTpofTpofX0sXCJiaW5hcnktXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXt2YXIgaD1hKGMsZSxmLGcpO2M9YihjLGUsZixnKTtcclxuaD0oQShoKT9oOjApLShBKGMpP2M6MCk7cmV0dXJuIGQ/e3ZhbHVlOmh9Omh9fSxcImJpbmFyeSpcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSpiKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnkvXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZykvYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5JVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpJWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeT09PVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5IT09XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxcclxuZSxmLGcpIT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5IT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSE9YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PFwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPGIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeT5cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT5iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk8PVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLFxyXG5nKTw9YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5Pj1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT49YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5JiZcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSYmYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5fHxcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKXx8YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwidGVybmFyeT86XCI6ZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuIGZ1bmN0aW9uKGUsZixnLGgpe2U9YShlLGYsZyxoKT9iKGUsZixnLGgpOmQoZSxmLGcsaCk7cmV0dXJuIGM/e3ZhbHVlOmV9OmV9fSx2YWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiP3tjb250ZXh0OncsXHJcbm5hbWU6dyx2YWx1ZTphfTphfX0saWRlbnRpZmllcjpmdW5jdGlvbihhLGIsZCxjLGUpe3JldHVybiBmdW5jdGlvbihmLGcsaCxrKXtmPWcmJmEgaW4gZz9nOmY7YyYmMSE9PWMmJmYmJiFmW2FdJiYoZlthXT17fSk7Zz1mP2ZbYV06dztiJiZ4YShnLGUpO3JldHVybiBkP3tjb250ZXh0OmYsbmFtZTphLHZhbHVlOmd9Omd9fSxjb21wdXRlZE1lbWJlcjpmdW5jdGlvbihhLGIsZCxjLGUpe3JldHVybiBmdW5jdGlvbihmLGcsaCxrKXt2YXIgbD1hKGYsZyxoLGspLG0sbjtudWxsIT1sJiYobT1iKGYsZyxoLGspLG0rPVwiXCIsVmEobSxlKSxjJiYxIT09YyYmKEdiKGwpLGwmJiFsW21dJiYobFttXT17fSkpLG49bFttXSx4YShuLGUpKTtyZXR1cm4gZD97Y29udGV4dDpsLG5hbWU6bSx2YWx1ZTpufTpufX0sbm9uQ29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe3JldHVybiBmdW5jdGlvbihnLGgsayxsKXtnPWEoZyxoLGssbCk7ZSYmMSE9PWUmJihHYihnKSxnJiYhZ1tiXSYmXHJcbihnW2JdPXt9KSk7aD1udWxsIT1nP2dbYl06dzsoZHx8SGIoYikpJiZ4YShoLGYpO3JldHVybiBjP3tjb250ZXh0OmcsbmFtZTpiLHZhbHVlOmh9Omh9fSxpbnB1dHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsZil7cmV0dXJuIGY/ZltiXTphKGQsYyxlKX19fTt2YXIgZ2M9ZnVuY3Rpb24oYSxiLGQpe3RoaXMubGV4ZXI9YTt0aGlzLiRmaWx0ZXI9Yjt0aGlzLm9wdGlvbnM9ZDt0aGlzLmFzdD1uZXcgcihhLGQpO3RoaXMuYXN0Q29tcGlsZXI9ZC5jc3A/bmV3IHFkKHRoaXMuYXN0LGIpOm5ldyBwZCh0aGlzLmFzdCxiKX07Z2MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpnYyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hc3RDb21waWxlci5jb21waWxlKGEsdGhpcy5vcHRpb25zLmV4cGVuc2l2ZUNoZWNrcyl9fTt2YXIgamc9T2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mLEJhPU8oXCIkc2NlXCIpLGZhPXtIVE1MOlwiaHRtbFwiLENTUzpcImNzc1wiLFVSTDpcInVybFwiLFxyXG5SRVNPVVJDRV9VUkw6XCJyZXNvdXJjZVVybFwiLEpTOlwianNcIn0sbGc9TyhcIiRjb21waWxlXCIpLGFhPVEuY3JlYXRlRWxlbWVudChcImFcIiksdWQ9d2EoTi5sb2NhdGlvbi5ocmVmKTt2ZC4kaW5qZWN0PVtcIiRkb2N1bWVudFwiXTtJYy4kaW5qZWN0PVtcIiRwcm92aWRlXCJdO3ZhciBDZD0yMixCZD1cIi5cIixpYz1cIjBcIjt3ZC4kaW5qZWN0PVtcIiRsb2NhbGVcIl07eWQuJGluamVjdD1bXCIkbG9jYWxlXCJdO3ZhciB3Zz17eXl5eTpiYShcIkZ1bGxZZWFyXCIsNCwwLCExLCEwKSx5eTpiYShcIkZ1bGxZZWFyXCIsMiwwLCEwLCEwKSx5OmJhKFwiRnVsbFllYXJcIiwxLDAsITEsITApLE1NTU06a2IoXCJNb250aFwiKSxNTU06a2IoXCJNb250aFwiLCEwKSxNTTpiYShcIk1vbnRoXCIsMiwxKSxNOmJhKFwiTW9udGhcIiwxLDEpLExMTEw6a2IoXCJNb250aFwiLCExLCEwKSxkZDpiYShcIkRhdGVcIiwyKSxkOmJhKFwiRGF0ZVwiLDEpLEhIOmJhKFwiSG91cnNcIiwyKSxIOmJhKFwiSG91cnNcIiwxKSxoaDpiYShcIkhvdXJzXCIsMiwtMTIpLGg6YmEoXCJIb3Vyc1wiLFxyXG4xLC0xMiksbW06YmEoXCJNaW51dGVzXCIsMiksbTpiYShcIk1pbnV0ZXNcIiwxKSxzczpiYShcIlNlY29uZHNcIiwyKSxzOmJhKFwiU2Vjb25kc1wiLDEpLHNzczpiYShcIk1pbGxpc2Vjb25kc1wiLDMpLEVFRUU6a2IoXCJEYXlcIiksRUVFOmtiKFwiRGF5XCIsITApLGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMTI+YS5nZXRIb3VycygpP2IuQU1QTVNbMF06Yi5BTVBNU1sxXX0sWjpmdW5jdGlvbihhLGIsZCl7YT0tMSpkO3JldHVybiBhPSgwPD1hP1wiK1wiOlwiXCIpKyhJYihNYXRoWzA8YT9cImZsb29yXCI6XCJjZWlsXCJdKGEvNjApLDIpK0liKE1hdGguYWJzKGElNjApLDIpKX0sd3c6RWQoMiksdzpFZCgxKSxHOmpjLEdHOmpjLEdHRzpqYyxHR0dHOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDA+PWEuZ2V0RnVsbFllYXIoKT9iLkVSQU5BTUVTWzBdOmIuRVJBTkFNRVNbMV19fSx2Zz0vKCg/OlteeU1MZEhobXNhWkV3RyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfEwrfGQrfEgrfGgrfG0rfHMrfGF8WnxHK3x3KykpKC4qKS8sXHJcbnVnPS9eXFwtP1xcZCskLzt4ZC4kaW5qZWN0PVtcIiRsb2NhbGVcIl07dmFyIHBnPWlhKEUpLHFnPWlhKHViKTt6ZC4kaW5qZWN0PVtcIiRwYXJzZVwiXTt2YXIga2U9aWEoe3Jlc3RyaWN0OlwiRVwiLGNvbXBpbGU6ZnVuY3Rpb24oYSxiKXtpZighYi5ocmVmJiYhYi54bGlua0hyZWYpcmV0dXJuIGZ1bmN0aW9uKGEsYil7aWYoXCJhXCI9PT1iWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBlPVwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PWhhLmNhbGwoYi5wcm9wKFwiaHJlZlwiKSk/XCJ4bGluazpocmVmXCI6XCJocmVmXCI7Yi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7Yi5hdHRyKGUpfHxhLnByZXZlbnREZWZhdWx0KCl9KX19fX0pLHZiPXt9O3AoRGIsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEsZCxlKXthLiR3YXRjaChlW2NdLGZ1bmN0aW9uKGEpe2UuJHNldChiLCEhYSl9KX1pZihcIm11bHRpcGxlXCIhPWEpe3ZhciBjPXVhKFwibmctXCIrYiksZT1kO1wiY2hlY2tlZFwiPT09YSYmKGU9ZnVuY3Rpb24oYSxcclxuYixlKXtlLm5nTW9kZWwhPT1lW2NdJiZkKGEsYixlKX0pO3ZiW2NdPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHByaW9yaXR5OjEwMCxsaW5rOmV9fX19KTtwKFljLGZ1bmN0aW9uKGEsYil7dmJbYl09ZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6MTAwLGxpbms6ZnVuY3Rpb24oYSxjLGUpe2lmKFwibmdQYXR0ZXJuXCI9PT1iJiZcIi9cIj09ZS5uZ1BhdHRlcm4uY2hhckF0KDApJiYoYz1lLm5nUGF0dGVybi5tYXRjaCh5ZykpKXtlLiRzZXQoXCJuZ1BhdHRlcm5cIixuZXcgUmVnRXhwKGNbMV0sY1syXSkpO3JldHVybn1hLiR3YXRjaChlW2JdLGZ1bmN0aW9uKGEpe2UuJHNldChiLGEpfSl9fX19KTtwKFtcInNyY1wiLFwic3Jjc2V0XCIsXCJocmVmXCJdLGZ1bmN0aW9uKGEpe3ZhciBiPXVhKFwibmctXCIrYSk7dmJbYl09ZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6OTksbGluazpmdW5jdGlvbihkLGMsZSl7dmFyIGY9YSxnPWE7XCJocmVmXCI9PT1hJiZcIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1cclxuaGEuY2FsbChjLnByb3AoXCJocmVmXCIpKSYmKGc9XCJ4bGlua0hyZWZcIixlLiRhdHRyW2ddPVwieGxpbms6aHJlZlwiLGY9bnVsbCk7ZS4kb2JzZXJ2ZShiLGZ1bmN0aW9uKGIpe2I/KGUuJHNldChnLGIpLHphJiZmJiZjLnByb3AoZixlW2ddKSk6XCJocmVmXCI9PT1hJiZlLiRzZXQoZyxudWxsKX0pfX19fSk7dmFyIEpiPXskYWRkQ29udHJvbDp6LCQkcmVuYW1lQ29udHJvbDpmdW5jdGlvbihhLGIpe2EuJG5hbWU9Yn0sJHJlbW92ZUNvbnRyb2w6eiwkc2V0VmFsaWRpdHk6eiwkc2V0RGlydHk6eiwkc2V0UHJpc3RpbmU6eiwkc2V0U3VibWl0dGVkOnp9O0ZkLiRpbmplY3Q9W1wiJGVsZW1lbnRcIixcIiRhdHRyc1wiLFwiJHNjb3BlXCIsXCIkYW5pbWF0ZVwiLFwiJGludGVycG9sYXRlXCJdO3ZhciBPZD1mdW5jdGlvbihhKXtyZXR1cm5bXCIkdGltZW91dFwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBjKGEpe3JldHVyblwiXCI9PT1hP2QoJ3RoaXNbXCJcIl0nKS5hc3NpZ246ZChhKS5hc3NpZ258fHp9cmV0dXJue25hbWU6XCJmb3JtXCIsXHJcbnJlc3RyaWN0OmE/XCJFQUNcIjpcIkVcIixyZXF1aXJlOltcImZvcm1cIixcIl5eP2Zvcm1cIl0sY29udHJvbGxlcjpGZCxjb21waWxlOmZ1bmN0aW9uKGQsZil7ZC5hZGRDbGFzcyhXYSkuYWRkQ2xhc3Mob2IpO3ZhciBnPWYubmFtZT9cIm5hbWVcIjphJiZmLm5nRm9ybT9cIm5nRm9ybVwiOiExO3JldHVybntwcmU6ZnVuY3Rpb24oYSxkLGUsZil7dmFyIG49ZlswXTtpZighKFwiYWN0aW9uXCJpbiBlKSl7dmFyIHA9ZnVuY3Rpb24oYil7YS4kYXBwbHkoZnVuY3Rpb24oKXtuLiRjb21taXRWaWV3VmFsdWUoKTtuLiRzZXRTdWJtaXR0ZWQoKX0pO2IucHJldmVudERlZmF1bHQoKX07ZFswXS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIscCwhMSk7ZC5vbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtiKGZ1bmN0aW9uKCl7ZFswXS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIscCwhMSl9LDAsITEpfSl9KGZbMV18fG4uJCRwYXJlbnRGb3JtKS4kYWRkQ29udHJvbChuKTt2YXIgcj1nP2Mobi4kbmFtZSk6ejtnJiZcclxuKHIoYSxuKSxlLiRvYnNlcnZlKGcsZnVuY3Rpb24oYil7bi4kbmFtZSE9PWImJihyKGEsdyksbi4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKG4sYikscj1jKG4uJG5hbWUpLHIoYSxuKSl9KSk7ZC5vbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtuLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChuKTtyKGEsdyk7UyhuLEpiKX0pfX19fX1dfSxsZT1PZCgpLHllPU9kKCEwKSx4Zz0vXlxcZHs0LH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZFxcLlxcZCsoPzpbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikkLyxHZz0vXlthLXpdW2EtelxcZC4rLV0qOlxcLyooPzpbXjpAXSsoPzo6W15AXSspP0ApPyg/OlteXFxzOi8/I10rfFxcW1thLWZcXGQ6XStcXF0pKD86OlxcZCspPyg/OlxcL1tePyNdKik/KD86XFw/W14jXSopPyg/OiMuKik/JC9pLEhnPS9eW2EtejAtOSEjJCUmJyorXFwvPT9eX2B7fH1+Li1dK0BbYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPyhcXC5bYS16MC05XShbYS16MC05LV0qW2EtejAtOV0pPykqJC9pLFxyXG5JZz0vXlxccyooXFwtfFxcKyk/KFxcZCt8KFxcZCooXFwuXFxkKikpKShbZUVdWystXT9cXGQrKT9cXHMqJC8sUGQ9L14oXFxkezQsfSktKFxcZHsyfSktKFxcZHsyfSkkLyxRZD0vXihcXGR7NCx9KS0oXFxkXFxkKS0oXFxkXFxkKVQoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLyxtYz0vXihcXGR7NCx9KS1XKFxcZFxcZCkkLyxSZD0vXihcXGR7NCx9KS0oXFxkXFxkKSQvLFNkPS9eKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC8sSGQ9WCgpO3AoW1wiZGF0ZVwiLFwiZGF0ZXRpbWUtbG9jYWxcIixcIm1vbnRoXCIsXCJ0aW1lXCIsXCJ3ZWVrXCJdLGZ1bmN0aW9uKGEpe0hkW2FdPSEwfSk7dmFyIFRkPXt0ZXh0OmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtsYihhLGIsZCxjLGUsZik7a2MoYyl9LGRhdGU6bWIoXCJkYXRlXCIsUGQsTGIoUGQsW1wieXl5eVwiLFwiTU1cIixcImRkXCJdKSxcInl5eXktTU0tZGRcIiksXCJkYXRldGltZS1sb2NhbFwiOm1iKFwiZGF0ZXRpbWVsb2NhbFwiLFFkLExiKFFkLFwieXl5eSBNTSBkZCBISCBtbSBzcyBzc3NcIi5zcGxpdChcIiBcIikpLFxyXG5cInl5eXktTU0tZGRUSEg6bW06c3Muc3NzXCIpLHRpbWU6bWIoXCJ0aW1lXCIsU2QsTGIoU2QsW1wiSEhcIixcIm1tXCIsXCJzc1wiLFwic3NzXCJdKSxcIkhIOm1tOnNzLnNzc1wiKSx3ZWVrOm1iKFwid2Vla1wiLG1jLGZ1bmN0aW9uKGEsYil7aWYoZ2EoYSkpcmV0dXJuIGE7aWYoRChhKSl7bWMubGFzdEluZGV4PTA7dmFyIGQ9bWMuZXhlYyhhKTtpZihkKXt2YXIgYz0rZFsxXSxlPStkWzJdLGY9ZD0wLGc9MCxoPTAsaz1EZChjKSxlPTcqKGUtMSk7YiYmKGQ9Yi5nZXRIb3VycygpLGY9Yi5nZXRNaW51dGVzKCksZz1iLmdldFNlY29uZHMoKSxoPWIuZ2V0TWlsbGlzZWNvbmRzKCkpO3JldHVybiBuZXcgRGF0ZShjLDAsay5nZXREYXRlKCkrZSxkLGYsZyxoKX19cmV0dXJuIE5hTn0sXCJ5eXl5LVd3d1wiKSxtb250aDptYihcIm1vbnRoXCIsUmQsTGIoUmQsW1wieXl5eVwiLFwiTU1cIl0pLFwieXl5eS1NTVwiKSxudW1iZXI6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe0lkKGEsYixkLGMpO2xiKGEsYixkLGMsZSxmKTtjLiQkcGFyc2VyTmFtZT1cclxuXCJudW1iZXJcIjtjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGMuJGlzRW1wdHkoYSk/bnVsbDpJZy50ZXN0KGEpP3BhcnNlRmxvYXQoYSk6d30pO2MuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtpZighYy4kaXNFbXB0eShhKSl7aWYoIVcoYSkpdGhyb3cgbmIoXCJudW1mbXRcIixhKTthPWEudG9TdHJpbmcoKX1yZXR1cm4gYX0pO2lmKEEoZC5taW4pfHxkLm5nTWluKXt2YXIgZztjLiR2YWxpZGF0b3JzLm1pbj1mdW5jdGlvbihhKXtyZXR1cm4gYy4kaXNFbXB0eShhKXx8dihnKXx8YT49Z307ZC4kb2JzZXJ2ZShcIm1pblwiLGZ1bmN0aW9uKGEpe0EoYSkmJiFXKGEpJiYoYT1wYXJzZUZsb2F0KGEsMTApKTtnPVcoYSkmJiFpc05hTihhKT9hOnc7Yy4kdmFsaWRhdGUoKX0pfWlmKEEoZC5tYXgpfHxkLm5nTWF4KXt2YXIgaDtjLiR2YWxpZGF0b3JzLm1heD1mdW5jdGlvbihhKXtyZXR1cm4gYy4kaXNFbXB0eShhKXx8dihoKXx8YTw9aH07ZC4kb2JzZXJ2ZShcIm1heFwiLGZ1bmN0aW9uKGEpe0EoYSkmJlxyXG4hVyhhKSYmKGE9cGFyc2VGbG9hdChhLDEwKSk7aD1XKGEpJiYhaXNOYU4oYSk/YTp3O2MuJHZhbGlkYXRlKCl9KX19LHVybDpmdW5jdGlvbihhLGIsZCxjLGUsZil7bGIoYSxiLGQsYyxlLGYpO2tjKGMpO2MuJCRwYXJzZXJOYW1lPVwidXJsXCI7Yy4kdmFsaWRhdG9ycy51cmw9ZnVuY3Rpb24oYSxiKXt2YXIgZD1hfHxiO3JldHVybiBjLiRpc0VtcHR5KGQpfHxHZy50ZXN0KGQpfX0sZW1haWw6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe2xiKGEsYixkLGMsZSxmKTtrYyhjKTtjLiQkcGFyc2VyTmFtZT1cImVtYWlsXCI7Yy4kdmFsaWRhdG9ycy5lbWFpbD1mdW5jdGlvbihhLGIpe3ZhciBkPWF8fGI7cmV0dXJuIGMuJGlzRW1wdHkoZCl8fEhnLnRlc3QoZCl9fSxyYWRpbzpmdW5jdGlvbihhLGIsZCxjKXt2KGQubmFtZSkmJmIuYXR0cihcIm5hbWVcIiwrK3BiKTtiLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtiWzBdLmNoZWNrZWQmJmMuJHNldFZpZXdWYWx1ZShkLnZhbHVlLGEmJmEudHlwZSl9KTtjLiRyZW5kZXI9XHJcbmZ1bmN0aW9uKCl7YlswXS5jaGVja2VkPWQudmFsdWU9PWMuJHZpZXdWYWx1ZX07ZC4kb2JzZXJ2ZShcInZhbHVlXCIsYy4kcmVuZGVyKX0sY2hlY2tib3g6ZnVuY3Rpb24oYSxiLGQsYyxlLGYsZyxoKXt2YXIgaz1KZChoLGEsXCJuZ1RydWVWYWx1ZVwiLGQubmdUcnVlVmFsdWUsITApLGw9SmQoaCxhLFwibmdGYWxzZVZhbHVlXCIsZC5uZ0ZhbHNlVmFsdWUsITEpO2Iub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2MuJHNldFZpZXdWYWx1ZShiWzBdLmNoZWNrZWQsYSYmYS50eXBlKX0pO2MuJHJlbmRlcj1mdW5jdGlvbigpe2JbMF0uY2hlY2tlZD1jLiR2aWV3VmFsdWV9O2MuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuITE9PT1hfTtjLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIG9hKGEsayl9KTtjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGE/azpsfSl9LGhpZGRlbjp6LGJ1dHRvbjp6LHN1Ym1pdDp6LHJlc2V0OnosZmlsZTp6fSxDYz1bXCIkYnJvd3NlclwiLFxyXG5cIiRzbmlmZmVyXCIsXCIkZmlsdGVyXCIsXCIkcGFyc2VcIixmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCI/bmdNb2RlbFwiXSxsaW5rOntwcmU6ZnVuY3Rpb24oZSxmLGcsaCl7aFswXSYmKFRkW0UoZy50eXBlKV18fFRkLnRleHQpKGUsZixnLGhbMF0sYixhLGQsYyl9fX19XSxKZz0vXih0cnVlfGZhbHNlfFxcZCspJC8sUWU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSmcudGVzdChiLm5nVmFsdWUpP2Z1bmN0aW9uKGEsYixlKXtlLiRzZXQoXCJ2YWx1ZVwiLGEuJGV2YWwoZS5uZ1ZhbHVlKSl9OmZ1bmN0aW9uKGEsYixlKXthLiR3YXRjaChlLm5nVmFsdWUsZnVuY3Rpb24oYSl7ZS4kc2V0KFwidmFsdWVcIixhKX0pfX19fSxxZT1bXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkFDXCIsY29tcGlsZTpmdW5jdGlvbihiKXthLiQkYWRkQmluZGluZ0NsYXNzKGIpO1xyXG5yZXR1cm4gZnVuY3Rpb24oYixjLGUpe2EuJCRhZGRCaW5kaW5nSW5mbyhjLGUubmdCaW5kKTtjPWNbMF07Yi4kd2F0Y2goZS5uZ0JpbmQsZnVuY3Rpb24oYSl7Yy50ZXh0Q29udGVudD12KGEpP1wiXCI6YX0pfX19fV0sc2U9W1wiJGludGVycG9sYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJue2NvbXBpbGU6ZnVuY3Rpb24oZCl7Yi4kJGFkZEJpbmRpbmdDbGFzcyhkKTtyZXR1cm4gZnVuY3Rpb24oYyxkLGYpe2M9YShkLmF0dHIoZi4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO2IuJCRhZGRCaW5kaW5nSW5mbyhkLGMuZXhwcmVzc2lvbnMpO2Q9ZFswXTtmLiRvYnNlcnZlKFwibmdCaW5kVGVtcGxhdGVcIixmdW5jdGlvbihhKXtkLnRleHRDb250ZW50PXYoYSk/XCJcIjphfSl9fX19XSxyZT1bXCIkc2NlXCIsXCIkcGFyc2VcIixcIiRjb21waWxlXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybntyZXN0cmljdDpcIkFcIixjb21waWxlOmZ1bmN0aW9uKGMsZSl7dmFyIGY9YihlLm5nQmluZEh0bWwpLGc9XHJcbmIoZS5uZ0JpbmRIdG1sLGZ1bmN0aW9uKGEpe3JldHVybihhfHxcIlwiKS50b1N0cmluZygpfSk7ZC4kJGFkZEJpbmRpbmdDbGFzcyhjKTtyZXR1cm4gZnVuY3Rpb24oYixjLGUpe2QuJCRhZGRCaW5kaW5nSW5mbyhjLGUubmdCaW5kSHRtbCk7Yi4kd2F0Y2goZyxmdW5jdGlvbigpe2MuaHRtbChhLmdldFRydXN0ZWRIdG1sKGYoYikpfHxcIlwiKX0pfX19fV0sUGU9aWEoe3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCJuZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtjLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKXthLiRldmFsKGQubmdDaGFuZ2UpfSl9fSksdGU9bGMoXCJcIiwhMCksdmU9bGMoXCJPZGRcIiwwKSx1ZT1sYyhcIkV2ZW5cIiwxKSx3ZT1MYSh7Y29tcGlsZTpmdW5jdGlvbihhLGIpe2IuJHNldChcIm5nQ2xvYWtcIix3KTthLnJlbW92ZUNsYXNzKFwibmctY2xvYWtcIil9fSkseGU9W2Z1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOiEwLGNvbnRyb2xsZXI6XCJAXCIsXHJcbnByaW9yaXR5OjUwMH19XSxIYz17fSxLZz17Ymx1cjohMCxmb2N1czohMH07cChcImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGVcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7dmFyIGI9dWEoXCJuZy1cIithKTtIY1tiXT1bXCIkcGFyc2VcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihkLGMpe3JldHVybntyZXN0cmljdDpcIkFcIixjb21waWxlOmZ1bmN0aW9uKGUsZil7dmFyIGc9ZChmW2JdLG51bGwsITApO3JldHVybiBmdW5jdGlvbihiLGQpe2Qub24oYSxmdW5jdGlvbihkKXt2YXIgZT1mdW5jdGlvbigpe2coYix7JGV2ZW50OmR9KX07S2dbYV0mJmMuJCRwaGFzZT9iLiRldmFsQXN5bmMoZSk6Yi4kYXBwbHkoZSl9KX19fX1dfSk7dmFyIEFlPVtcIiRhbmltYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsXHJcbmIpe3JldHVybnttdWx0aUVsZW1lbnQ6ITAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixwcmlvcml0eTo2MDAsdGVybWluYWw6ITAscmVzdHJpY3Q6XCJBXCIsJCR0bGI6ITAsbGluazpmdW5jdGlvbihkLGMsZSxmLGcpe3ZhciBoLGssbDtkLiR3YXRjaChlLm5nSWYsZnVuY3Rpb24oZCl7ZD9rfHxnKGZ1bmN0aW9uKGQsZil7az1mO2RbZC5sZW5ndGgrK109Yi4kJGNyZWF0ZUNvbW1lbnQoXCJlbmQgbmdJZlwiLGUubmdJZik7aD17Y2xvbmU6ZH07YS5lbnRlcihkLGMucGFyZW50KCksYyl9KToobCYmKGwucmVtb3ZlKCksbD1udWxsKSxrJiYoay4kZGVzdHJveSgpLGs9bnVsbCksaCYmKGw9dGIoaC5jbG9uZSksYS5sZWF2ZShsKS50aGVuKGZ1bmN0aW9uKCl7bD1udWxsfSksaD1udWxsKSl9KX19fV0sQmU9W1wiJHRlbXBsYXRlUmVxdWVzdFwiLFwiJGFuY2hvclNjcm9sbFwiLFwiJGFuaW1hdGVcIixmdW5jdGlvbihhLGIsZCl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6NDAwLHRlcm1pbmFsOiEwLFxyXG50cmFuc2NsdWRlOlwiZWxlbWVudFwiLGNvbnRyb2xsZXI6ZWEubm9vcCxjb21waWxlOmZ1bmN0aW9uKGMsZSl7dmFyIGY9ZS5uZ0luY2x1ZGV8fGUuc3JjLGc9ZS5vbmxvYWR8fFwiXCIsaD1lLmF1dG9zY3JvbGw7cmV0dXJuIGZ1bmN0aW9uKGMsZSxtLG4scCl7dmFyIHI9MCx3LHgscSx0PWZ1bmN0aW9uKCl7eCYmKHgucmVtb3ZlKCkseD1udWxsKTt3JiYody4kZGVzdHJveSgpLHc9bnVsbCk7cSYmKGQubGVhdmUocSkudGhlbihmdW5jdGlvbigpe3g9bnVsbH0pLHg9cSxxPW51bGwpfTtjLiR3YXRjaChmLGZ1bmN0aW9uKGYpe3ZhciBtPWZ1bmN0aW9uKCl7IUEoaCl8fGgmJiFjLiRldmFsKGgpfHxiKCl9LHg9KytyO2Y/KGEoZiwhMCkudGhlbihmdW5jdGlvbihhKXtpZighYy4kJGRlc3Ryb3llZCYmeD09PXIpe3ZhciBiPWMuJG5ldygpO24udGVtcGxhdGU9YTthPXAoYixmdW5jdGlvbihhKXt0KCk7ZC5lbnRlcihhLG51bGwsZSkudGhlbihtKX0pO3c9YjtxPWE7dy4kZW1pdChcIiRpbmNsdWRlQ29udGVudExvYWRlZFwiLFxyXG5mKTtjLiRldmFsKGcpfX0sZnVuY3Rpb24oKXtjLiQkZGVzdHJveWVkfHx4IT09cnx8KHQoKSxjLiRlbWl0KFwiJGluY2x1ZGVDb250ZW50RXJyb3JcIixmKSl9KSxjLiRlbWl0KFwiJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkXCIsZikpOih0KCksbi50ZW1wbGF0ZT1udWxsKX0pfX19fV0sU2U9W1wiJGNvbXBpbGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJFQ0FcIixwcmlvcml0eTotNDAwLHJlcXVpcmU6XCJuZ0luY2x1ZGVcIixsaW5rOmZ1bmN0aW9uKGIsZCxjLGUpe2hhLmNhbGwoZFswXSkubWF0Y2goL1NWRy8pPyhkLmVtcHR5KCksYShLYyhlLnRlbXBsYXRlLFEpLmNoaWxkTm9kZXMpKGIsZnVuY3Rpb24oYSl7ZC5hcHBlbmQoYSl9LHtmdXR1cmVQYXJlbnRFbGVtZW50OmR9KSk6KGQuaHRtbChlLnRlbXBsYXRlKSxhKGQuY29udGVudHMoKSkoYikpfX19XSxDZT1MYSh7cHJpb3JpdHk6NDUwLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKGEsYixkKXthLiRldmFsKGQubmdJbml0KX19fX0pLFxyXG5PZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAscmVxdWlyZTpcIm5nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPWIuYXR0cihkLiRhdHRyLm5nTGlzdCl8fFwiLCBcIixmPVwiZmFsc2VcIiE9PWQubmdUcmltLGc9Zj9aKGUpOmU7Yy4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKCF2KGEpKXt2YXIgYj1bXTthJiZwKGEuc3BsaXQoZyksZnVuY3Rpb24oYSl7YSYmYi5wdXNoKGY/WihhKTphKX0pO3JldHVybiBifX0pO2MuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gTChhKT9hLmpvaW4oZSk6d30pO2MuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fCFhLmxlbmd0aH19fX0sb2I9XCJuZy12YWxpZFwiLEtkPVwibmctaW52YWxpZFwiLFdhPVwibmctcHJpc3RpbmVcIixLYj1cIm5nLWRpcnR5XCIsTWQ9XCJuZy1wZW5kaW5nXCIsbmI9TyhcIm5nTW9kZWxcIiksTGc9W1wiJHNjb3BlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJGF0dHJzXCIsXHJcblwiJGVsZW1lbnRcIixcIiRwYXJzZVwiLFwiJGFuaW1hdGVcIixcIiR0aW1lb3V0XCIsXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJGludGVycG9sYXRlXCIsZnVuY3Rpb24oYSxiLGQsYyxlLGYsZyxoLGssbCl7dGhpcy4kbW9kZWxWYWx1ZT10aGlzLiR2aWV3VmFsdWU9TnVtYmVyLk5hTjt0aGlzLiQkcmF3TW9kZWxWYWx1ZT13O3RoaXMuJHZhbGlkYXRvcnM9e307dGhpcy4kYXN5bmNWYWxpZGF0b3JzPXt9O3RoaXMuJHBhcnNlcnM9W107dGhpcy4kZm9ybWF0dGVycz1bXTt0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzPVtdO3RoaXMuJHVudG91Y2hlZD0hMDt0aGlzLiR0b3VjaGVkPSExO3RoaXMuJHByaXN0aW5lPSEwO3RoaXMuJGRpcnR5PSExO3RoaXMuJHZhbGlkPSEwO3RoaXMuJGludmFsaWQ9ITE7dGhpcy4kZXJyb3I9e307dGhpcy4kJHN1Y2Nlc3M9e307dGhpcy4kcGVuZGluZz13O3RoaXMuJG5hbWU9bChkLm5hbWV8fFwiXCIsITEpKGEpO3RoaXMuJCRwYXJlbnRGb3JtPUpiO3ZhciBtPWUoZC5uZ01vZGVsKSxcclxubj1tLmFzc2lnbixyPW0sQj1uLEs9bnVsbCx4LHE9dGhpczt0aGlzLiQkc2V0T3B0aW9ucz1mdW5jdGlvbihhKXtpZigocS4kb3B0aW9ucz1hKSYmYS5nZXR0ZXJTZXR0ZXIpe3ZhciBiPWUoZC5uZ01vZGVsK1wiKClcIiksZj1lKGQubmdNb2RlbCtcIigkJCRwKVwiKTtyPWZ1bmN0aW9uKGEpe3ZhciBjPW0oYSk7SChjKSYmKGM9YihhKSk7cmV0dXJuIGN9O0I9ZnVuY3Rpb24oYSxiKXtIKG0oYSkpP2YoYSx7JCQkcDpifSk6bihhLGIpfX1lbHNlIGlmKCFtLmFzc2lnbil0aHJvdyBuYihcIm5vbmFzc2lnblwiLGQubmdNb2RlbCx0YShjKSk7fTt0aGlzLiRyZW5kZXI9ejt0aGlzLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiB2KGEpfHxcIlwiPT09YXx8bnVsbD09PWF8fGEhPT1hfTt0aGlzLiQkdXBkYXRlRW1wdHlDbGFzc2VzPWZ1bmN0aW9uKGEpe3EuJGlzRW1wdHkoYSk/KGYucmVtb3ZlQ2xhc3MoYyxcIm5nLW5vdC1lbXB0eVwiKSxmLmFkZENsYXNzKGMsXCJuZy1lbXB0eVwiKSk6KGYucmVtb3ZlQ2xhc3MoYyxcclxuXCJuZy1lbXB0eVwiKSxmLmFkZENsYXNzKGMsXCJuZy1ub3QtZW1wdHlcIikpfTt2YXIgdD0wO0dkKHtjdHJsOnRoaXMsJGVsZW1lbnQ6YyxzZXQ6ZnVuY3Rpb24oYSxiKXthW2JdPSEwfSx1bnNldDpmdW5jdGlvbihhLGIpe2RlbGV0ZSBhW2JdfSwkYW5pbWF0ZTpmfSk7dGhpcy4kc2V0UHJpc3RpbmU9ZnVuY3Rpb24oKXtxLiRkaXJ0eT0hMTtxLiRwcmlzdGluZT0hMDtmLnJlbW92ZUNsYXNzKGMsS2IpO2YuYWRkQ2xhc3MoYyxXYSl9O3RoaXMuJHNldERpcnR5PWZ1bmN0aW9uKCl7cS4kZGlydHk9ITA7cS4kcHJpc3RpbmU9ITE7Zi5yZW1vdmVDbGFzcyhjLFdhKTtmLmFkZENsYXNzKGMsS2IpO3EuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpfTt0aGlzLiRzZXRVbnRvdWNoZWQ9ZnVuY3Rpb24oKXtxLiR0b3VjaGVkPSExO3EuJHVudG91Y2hlZD0hMDtmLnNldENsYXNzKGMsXCJuZy11bnRvdWNoZWRcIixcIm5nLXRvdWNoZWRcIil9O3RoaXMuJHNldFRvdWNoZWQ9ZnVuY3Rpb24oKXtxLiR0b3VjaGVkPVxyXG4hMDtxLiR1bnRvdWNoZWQ9ITE7Zi5zZXRDbGFzcyhjLFwibmctdG91Y2hlZFwiLFwibmctdW50b3VjaGVkXCIpfTt0aGlzLiRyb2xsYmFja1ZpZXdWYWx1ZT1mdW5jdGlvbigpe2cuY2FuY2VsKEspO3EuJHZpZXdWYWx1ZT1xLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtxLiRyZW5kZXIoKX07dGhpcy4kdmFsaWRhdGU9ZnVuY3Rpb24oKXtpZighVyhxLiRtb2RlbFZhbHVlKXx8IWlzTmFOKHEuJG1vZGVsVmFsdWUpKXt2YXIgYT1xLiQkcmF3TW9kZWxWYWx1ZSxiPXEuJHZhbGlkLGM9cS4kbW9kZWxWYWx1ZSxkPXEuJG9wdGlvbnMmJnEuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO3EuJCRydW5WYWxpZGF0b3JzKGEscS4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUsZnVuY3Rpb24oZSl7ZHx8Yj09PWV8fChxLiRtb2RlbFZhbHVlPWU/YTp3LHEuJG1vZGVsVmFsdWUhPT1jJiZxLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSl9KX19O3RoaXMuJCRydW5WYWxpZGF0b3JzPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7dmFyIGM9XHJcbiEwO3AocS4kdmFsaWRhdG9ycyxmdW5jdGlvbihkLGUpe3ZhciBnPWQoYSxiKTtjPWMmJmc7ZihlLGcpfSk7cmV0dXJuIGM/ITA6KHAocS4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKGEsYil7ZihiLG51bGwpfSksITEpfWZ1bmN0aW9uIGUoKXt2YXIgYz1bXSxkPSEwO3AocS4kYXN5bmNWYWxpZGF0b3JzLGZ1bmN0aW9uKGUsZyl7dmFyIGg9ZShhLGIpO2lmKCFofHwhSChoLnRoZW4pKXRocm93IG5iKFwibm9wcm9taXNlXCIsaCk7ZihnLHcpO2MucHVzaChoLnRoZW4oZnVuY3Rpb24oKXtmKGcsITApfSxmdW5jdGlvbigpe2Q9ITE7ZihnLCExKX0pKX0pO2MubGVuZ3RoP2suYWxsKGMpLnRoZW4oZnVuY3Rpb24oKXtnKGQpfSx6KTpnKCEwKX1mdW5jdGlvbiBmKGEsYil7aD09PXQmJnEuJHNldFZhbGlkaXR5KGEsYil9ZnVuY3Rpb24gZyhhKXtoPT09dCYmYyhhKX10Kys7dmFyIGg9dDsoZnVuY3Rpb24oKXt2YXIgYT1xLiQkcGFyc2VyTmFtZXx8XCJwYXJzZVwiO2lmKHYoeCkpZihhLG51bGwpO1xyXG5lbHNlIHJldHVybiB4fHwocChxLiR2YWxpZGF0b3JzLGZ1bmN0aW9uKGEsYil7ZihiLG51bGwpfSkscChxLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24oYSxiKXtmKGIsbnVsbCl9KSksZihhLHgpLHg7cmV0dXJuITB9KSgpP2QoKT9lKCk6ZyghMSk6ZyghMSl9O3RoaXMuJGNvbW1pdFZpZXdWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPXEuJHZpZXdWYWx1ZTtnLmNhbmNlbChLKTtpZihxLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSE9PWF8fFwiXCI9PT1hJiZxLiQkaGFzTmF0aXZlVmFsaWRhdG9ycylxLiQkdXBkYXRlRW1wdHlDbGFzc2VzKGEpLHEuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlPWEscS4kcHJpc3RpbmUmJnRoaXMuJHNldERpcnR5KCksdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKX07dGhpcy4kJHBhcnNlQW5kVmFsaWRhdGU9ZnVuY3Rpb24oKXt2YXIgYj1xLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtpZih4PXYoYik/dzohMClmb3IodmFyIGM9MDtjPHEuJHBhcnNlcnMubGVuZ3RoO2MrKylpZihiPVxyXG5xLiRwYXJzZXJzW2NdKGIpLHYoYikpe3g9ITE7YnJlYWt9VyhxLiRtb2RlbFZhbHVlKSYmaXNOYU4ocS4kbW9kZWxWYWx1ZSkmJihxLiRtb2RlbFZhbHVlPXIoYSkpO3ZhciBkPXEuJG1vZGVsVmFsdWUsZT1xLiRvcHRpb25zJiZxLiRvcHRpb25zLmFsbG93SW52YWxpZDtxLiQkcmF3TW9kZWxWYWx1ZT1iO2UmJihxLiRtb2RlbFZhbHVlPWIscS4kbW9kZWxWYWx1ZSE9PWQmJnEuJCR3cml0ZU1vZGVsVG9TY29wZSgpKTtxLiQkcnVuVmFsaWRhdG9ycyhiLHEuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLGZ1bmN0aW9uKGEpe2V8fChxLiRtb2RlbFZhbHVlPWE/Yjp3LHEuJG1vZGVsVmFsdWUhPT1kJiZxLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSl9KX07dGhpcy4kJHdyaXRlTW9kZWxUb1Njb3BlPWZ1bmN0aW9uKCl7QihhLHEuJG1vZGVsVmFsdWUpO3AocS4kdmlld0NoYW5nZUxpc3RlbmVycyxmdW5jdGlvbihhKXt0cnl7YSgpfWNhdGNoKGMpe2IoYyl9fSl9O3RoaXMuJHNldFZpZXdWYWx1ZT1cclxuZnVuY3Rpb24oYSxiKXtxLiR2aWV3VmFsdWU9YTtxLiRvcHRpb25zJiYhcS4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHR8fHEuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdChiKX07dGhpcy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0PWZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1xLiRvcHRpb25zO2QmJkEoZC5kZWJvdW5jZSkmJihkPWQuZGVib3VuY2UsVyhkKT9jPWQ6VyhkW2JdKT9jPWRbYl06VyhkW1wiZGVmYXVsdFwiXSkmJihjPWRbXCJkZWZhdWx0XCJdKSk7Zy5jYW5jZWwoSyk7Yz9LPWcoZnVuY3Rpb24oKXtxLiRjb21taXRWaWV3VmFsdWUoKX0sYyk6aC4kJHBoYXNlP3EuJGNvbW1pdFZpZXdWYWx1ZSgpOmEuJGFwcGx5KGZ1bmN0aW9uKCl7cS4kY29tbWl0Vmlld1ZhbHVlKCl9KX07YS4kd2F0Y2goZnVuY3Rpb24oKXt2YXIgYj1yKGEpO2lmKGIhPT1xLiRtb2RlbFZhbHVlJiYocS4kbW9kZWxWYWx1ZT09PXEuJG1vZGVsVmFsdWV8fGI9PT1iKSl7cS4kbW9kZWxWYWx1ZT1xLiQkcmF3TW9kZWxWYWx1ZT1cclxuYjt4PXc7Zm9yKHZhciBjPXEuJGZvcm1hdHRlcnMsZD1jLmxlbmd0aCxlPWI7ZC0tOyllPWNbZF0oZSk7cS4kdmlld1ZhbHVlIT09ZSYmKHEuJCR1cGRhdGVFbXB0eUNsYXNzZXMoZSkscS4kdmlld1ZhbHVlPXEuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlPWUscS4kcmVuZGVyKCkscS4kJHJ1blZhbGlkYXRvcnMoYixlLHopKX1yZXR1cm4gYn0pfV0sTmU9W1wiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIm5nTW9kZWxcIixcIl4/Zm9ybVwiLFwiXj9uZ01vZGVsT3B0aW9uc1wiXSxjb250cm9sbGVyOkxnLHByaW9yaXR5OjEsY29tcGlsZTpmdW5jdGlvbihiKXtiLmFkZENsYXNzKFdhKS5hZGRDbGFzcyhcIm5nLXVudG91Y2hlZFwiKS5hZGRDbGFzcyhvYik7cmV0dXJue3ByZTpmdW5jdGlvbihhLGIsZSxmKXt2YXIgZz1mWzBdO2I9ZlsxXXx8Zy4kJHBhcmVudEZvcm07Zy4kJHNldE9wdGlvbnMoZlsyXSYmZlsyXS4kb3B0aW9ucyk7Yi4kYWRkQ29udHJvbChnKTtcclxuZS4kb2JzZXJ2ZShcIm5hbWVcIixmdW5jdGlvbihhKXtnLiRuYW1lIT09YSYmZy4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKGcsYSl9KTthLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtnLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChnKX0pfSxwb3N0OmZ1bmN0aW9uKGIsYyxlLGYpe3ZhciBnPWZbMF07aWYoZy4kb3B0aW9ucyYmZy4kb3B0aW9ucy51cGRhdGVPbiljLm9uKGcuJG9wdGlvbnMudXBkYXRlT24sZnVuY3Rpb24oYSl7Zy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGEmJmEudHlwZSl9KTtjLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7Zy4kdG91Y2hlZHx8KGEuJCRwaGFzZT9iLiRldmFsQXN5bmMoZy4kc2V0VG91Y2hlZCk6Yi4kYXBwbHkoZy4kc2V0VG91Y2hlZCkpfSl9fX19fV0sTWc9LyhcXHMrfF4pZGVmYXVsdChcXHMrfCQpLyxSZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixjb250cm9sbGVyOltcIiRzY29wZVwiLFwiJGF0dHJzXCIsZnVuY3Rpb24oYSxcclxuYil7dmFyIGQ9dGhpczt0aGlzLiRvcHRpb25zPXFhKGEuJGV2YWwoYi5uZ01vZGVsT3B0aW9ucykpO0EodGhpcy4kb3B0aW9ucy51cGRhdGVPbik/KHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0PSExLHRoaXMuJG9wdGlvbnMudXBkYXRlT249Wih0aGlzLiRvcHRpb25zLnVwZGF0ZU9uLnJlcGxhY2UoTWcsZnVuY3Rpb24oKXtkLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMDtyZXR1cm5cIiBcIn0pKSk6dGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITB9XX19LERlPUxhKHt0ZXJtaW5hbDohMCxwcmlvcml0eToxRTN9KSxOZz1PKFwibmdPcHRpb25zXCIpLE9nPS9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccytncm91cFxccytieVxccysoW1xcc1xcU10rPykpPyg/OlxccytkaXNhYmxlXFxzK3doZW5cXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHddKil8KD86XFwoXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqLFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvLFxyXG5MZT1bXCIkY29tcGlsZVwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGEsYyxkKXtmdW5jdGlvbiBlKGEsYixjLGQsZil7dGhpcy5zZWxlY3RWYWx1ZT1hO3RoaXMudmlld1ZhbHVlPWI7dGhpcy5sYWJlbD1jO3RoaXMuZ3JvdXA9ZDt0aGlzLmRpc2FibGVkPWZ9ZnVuY3Rpb24gbChhKXt2YXIgYjtpZighcCYmQ2EoYSkpYj1hO2Vsc2V7Yj1bXTtmb3IodmFyIGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZcIiRcIiE9PWMuY2hhckF0KDApJiZiLnB1c2goYyl9cmV0dXJuIGJ9dmFyIG09YS5tYXRjaChPZyk7aWYoIW0pdGhyb3cgTmcoXCJpZXhwXCIsYSx0YShjKSk7dmFyIG49bVs1XXx8bVs3XSxwPW1bNl07YT0vIGFzIC8udGVzdChtWzBdKSYmbVsxXTt2YXIgcj1tWzldO2M9YihtWzJdP21bMV06bik7dmFyIHc9YSYmYihhKXx8Yyx4PXImJmIocikscT1yP2Z1bmN0aW9uKGEsYil7cmV0dXJuIHgoZCxiKX06ZnVuY3Rpb24oYSl7cmV0dXJuIEZhKGEpfSx0PWZ1bmN0aW9uKGEsXHJcbmIpe3JldHVybiBxKGEseihhLGIpKX0sdT1iKG1bMl18fG1bMV0pLHM9YihtWzNdfHxcIlwiKSxBPWIobVs0XXx8XCJcIiksQz1iKG1bOF0pLHY9e30sej1wP2Z1bmN0aW9uKGEsYil7dltwXT1iO3Zbbl09YTtyZXR1cm4gdn06ZnVuY3Rpb24oYSl7dltuXT1hO3JldHVybiB2fTtyZXR1cm57dHJhY2tCeTpyLGdldFRyYWNrQnlWYWx1ZTp0LGdldFdhdGNoYWJsZXM6YihDLGZ1bmN0aW9uKGEpe3ZhciBiPVtdO2E9YXx8W107Zm9yKHZhciBjPWwoYSksZT1jLmxlbmd0aCxmPTA7ZjxlO2YrKyl7dmFyIGc9YT09PWM/ZjpjW2ZdLGs9YVtnXSxnPXooayxnKSxrPXEoayxnKTtiLnB1c2goayk7aWYobVsyXXx8bVsxXSlrPXUoZCxnKSxiLnB1c2goayk7bVs0XSYmKGc9QShkLGcpLGIucHVzaChnKSl9cmV0dXJuIGJ9KSxnZXRPcHRpb25zOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9e30sYz1DKGQpfHxbXSxmPWwoYyksZz1mLmxlbmd0aCxtPTA7bTxnO20rKyl7dmFyIG49Yz09PWY/bTpmW21dLHA9XHJcbnooY1tuXSxuKSx5PXcoZCxwKSxuPXEoeSxwKSx4PXUoZCxwKSx2PXMoZCxwKSxwPUEoZCxwKSx5PW5ldyBlKG4seSx4LHYscCk7YS5wdXNoKHkpO2Jbbl09eX1yZXR1cm57aXRlbXM6YSxzZWxlY3RWYWx1ZU1hcDpiLGdldE9wdGlvbkZyb21WaWV3VmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGJbdChhKV19LGdldFZpZXdWYWx1ZUZyb21PcHRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIHI/ZWEuY29weShhLnZpZXdWYWx1ZSk6YS52aWV3VmFsdWV9fX19fXZhciBjPVEuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxlPVEuY3JlYXRlRWxlbWVudChcIm9wdGdyb3VwXCIpO3JldHVybntyZXN0cmljdDpcIkFcIix0ZXJtaW5hbDohMCxyZXF1aXJlOltcInNlbGVjdFwiLFwibmdNb2RlbFwiXSxsaW5rOntwcmU6ZnVuY3Rpb24oYSxiLGMsZCl7ZFswXS5yZWdpc3Rlck9wdGlvbj16fSxwb3N0OmZ1bmN0aW9uKGIsZyxoLGspe2Z1bmN0aW9uIGwoYSxiKXthLmVsZW1lbnQ9YjtiLmRpc2FibGVkPWEuZGlzYWJsZWQ7XHJcbmEubGFiZWwhPT1iLmxhYmVsJiYoYi5sYWJlbD1hLmxhYmVsLGIudGV4dENvbnRlbnQ9YS5sYWJlbCk7YS52YWx1ZSE9PWIudmFsdWUmJihiLnZhbHVlPWEuc2VsZWN0VmFsdWUpfWZ1bmN0aW9uIG0oYSxiLGMsZCl7YiYmRShiLm5vZGVOYW1lKT09PWM/Yz1iOihjPWQuY2xvbmVOb2RlKCExKSxiP2EuaW5zZXJ0QmVmb3JlKGMsYik6YS5hcHBlbmRDaGlsZChjKSk7cmV0dXJuIGN9ZnVuY3Rpb24gbihhKXtmb3IodmFyIGI7YTspYj1hLm5leHRTaWJsaW5nLFhiKGEpLGE9Yn1mdW5jdGlvbiByKGEpe3ZhciBiPXQmJnRbMF0sYz1DJiZDWzBdO2lmKGJ8fGMpZm9yKDthJiYoYT09PWJ8fGE9PT1jfHw4PT09YS5ub2RlVHlwZXx8XCJvcHRpb25cIj09PXBhKGEpJiZcIlwiPT09YS52YWx1ZSk7KWE9YS5uZXh0U2libGluZztyZXR1cm4gYX1mdW5jdGlvbiB3KCl7dmFyIGE9SiYmdi5yZWFkVmFsdWUoKTtKPUQuZ2V0T3B0aW9ucygpO3ZhciBiPXt9LGQ9Z1swXS5maXJzdENoaWxkO3omJmcucHJlcGVuZCh0KTtcclxuZD1yKGQpO0ouaXRlbXMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgZixoO0EoYS5ncm91cCk/KGY9YlthLmdyb3VwXSxmfHwoZj1tKGdbMF0sZCxcIm9wdGdyb3VwXCIsZSksZD1mLm5leHRTaWJsaW5nLGYubGFiZWw9YS5ncm91cCxmPWJbYS5ncm91cF09e2dyb3VwRWxlbWVudDpmLGN1cnJlbnRPcHRpb25FbGVtZW50OmYuZmlyc3RDaGlsZH0pLGg9bShmLmdyb3VwRWxlbWVudCxmLmN1cnJlbnRPcHRpb25FbGVtZW50LFwib3B0aW9uXCIsYyksbChhLGgpLGYuY3VycmVudE9wdGlvbkVsZW1lbnQ9aC5uZXh0U2libGluZyk6KGg9bShnWzBdLGQsXCJvcHRpb25cIixjKSxsKGEsaCksZD1oLm5leHRTaWJsaW5nKX0pO09iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYSl7bihiW2FdLmN1cnJlbnRPcHRpb25FbGVtZW50KX0pO24oZCk7eC4kcmVuZGVyKCk7aWYoIXguJGlzRW1wdHkoYSkpe3ZhciBmPXYucmVhZFZhbHVlKCk7KEQudHJhY2tCeXx8cT9vYShhLGYpOmE9PT1mKXx8KHguJHNldFZpZXdWYWx1ZShmKSxcclxueC4kcmVuZGVyKCkpfX12YXIgdj1rWzBdLHg9a1sxXSxxPWgubXVsdGlwbGUsdDtrPTA7Zm9yKHZhciB1PWcuY2hpbGRyZW4oKSxzPXUubGVuZ3RoO2s8cztrKyspaWYoXCJcIj09PXVba10udmFsdWUpe3Q9dS5lcShrKTticmVha312YXIgej0hIXQsQz1HKGMuY2xvbmVOb2RlKCExKSk7Qy52YWwoXCI/XCIpO3ZhciBKLEQ9ZChoLm5nT3B0aW9ucyxnLGIpO3E/KHguJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fDA9PT1hLmxlbmd0aH0sdi53cml0ZVZhbHVlPWZ1bmN0aW9uKGEpe0ouaXRlbXMuZm9yRWFjaChmdW5jdGlvbihhKXthLmVsZW1lbnQuc2VsZWN0ZWQ9ITF9KTthJiZhLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9Si5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKGEpKSYmIWEuZGlzYWJsZWQmJihhLmVsZW1lbnQuc2VsZWN0ZWQ9ITApfSl9LHYucmVhZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9Zy52YWwoKXx8W10sYj1bXTtwKGEsZnVuY3Rpb24oYSl7KGE9Si5zZWxlY3RWYWx1ZU1hcFthXSkmJlxyXG4hYS5kaXNhYmxlZCYmYi5wdXNoKEouZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihhKSl9KTtyZXR1cm4gYn0sRC50cmFja0J5JiZiLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKXtpZihMKHguJHZpZXdWYWx1ZSkpcmV0dXJuIHguJHZpZXdWYWx1ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIEQuZ2V0VHJhY2tCeVZhbHVlKGEpfSl9LGZ1bmN0aW9uKCl7eC4kcmVuZGVyKCl9KSk6KHYud3JpdGVWYWx1ZT1mdW5jdGlvbihhKXt2YXIgYj1KLmdldE9wdGlvbkZyb21WaWV3VmFsdWUoYSk7YiYmIWIuZGlzYWJsZWQ/KGdbMF0udmFsdWUhPT1iLnNlbGVjdFZhbHVlJiYoQy5yZW1vdmUoKSx6fHx0LnJlbW92ZSgpLGdbMF0udmFsdWU9Yi5zZWxlY3RWYWx1ZSxiLmVsZW1lbnQuc2VsZWN0ZWQ9ITApLGIuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiLFwic2VsZWN0ZWRcIikpOm51bGw9PT1hfHx6PyhDLnJlbW92ZSgpLHp8fGcucHJlcGVuZCh0KSxnLnZhbChcIlwiKSx0LnByb3AoXCJzZWxlY3RlZFwiLFxyXG4hMCksdC5hdHRyKFwic2VsZWN0ZWRcIiwhMCkpOih6fHx0LnJlbW92ZSgpLGcucHJlcGVuZChDKSxnLnZhbChcIj9cIiksQy5wcm9wKFwic2VsZWN0ZWRcIiwhMCksQy5hdHRyKFwic2VsZWN0ZWRcIiwhMCkpfSx2LnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPUouc2VsZWN0VmFsdWVNYXBbZy52YWwoKV07cmV0dXJuIGEmJiFhLmRpc2FibGVkPyh6fHx0LnJlbW92ZSgpLEMucmVtb3ZlKCksSi5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKGEpKTpudWxsfSxELnRyYWNrQnkmJmIuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIEQuZ2V0VHJhY2tCeVZhbHVlKHguJHZpZXdWYWx1ZSl9LGZ1bmN0aW9uKCl7eC4kcmVuZGVyKCl9KSk7ej8odC5yZW1vdmUoKSxhKHQpKGIpLHQucmVtb3ZlQ2xhc3MoXCJuZy1zY29wZVwiKSk6dD1HKGMuY2xvbmVOb2RlKCExKSk7dygpO2IuJHdhdGNoQ29sbGVjdGlvbihELmdldFdhdGNoYWJsZXMsdyl9fX19XSxFZT1bXCIkbG9jYWxlXCIsXCIkaW50ZXJwb2xhdGVcIixcIiRsb2dcIixmdW5jdGlvbihhLFxyXG5iLGQpe3ZhciBjPS97fS9nLGU9L153aGVuKE1pbnVzKT8oLispJC87cmV0dXJue2xpbms6ZnVuY3Rpb24oZixnLGgpe2Z1bmN0aW9uIGsoYSl7Zy50ZXh0KGF8fFwiXCIpfXZhciBsPWguY291bnQsbT1oLiRhdHRyLndoZW4mJmcuYXR0cihoLiRhdHRyLndoZW4pLG49aC5vZmZzZXR8fDAscj1mLiRldmFsKG0pfHx7fSx3PXt9LEE9Yi5zdGFydFN5bWJvbCgpLHg9Yi5lbmRTeW1ib2woKSxxPUErbCtcIi1cIituK3gsdD1lYS5ub29wLHU7cChoLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZS5leGVjKGIpO2MmJihjPShjWzFdP1wiLVwiOlwiXCIpK0UoY1syXSkscltjXT1nLmF0dHIoaC4kYXR0cltiXSkpfSk7cChyLGZ1bmN0aW9uKGEsZCl7d1tkXT1iKGEucmVwbGFjZShjLHEpKX0pO2YuJHdhdGNoKGwsZnVuY3Rpb24oYil7dmFyIGM9cGFyc2VGbG9hdChiKSxlPWlzTmFOKGMpO2V8fGMgaW4gcnx8KGM9YS5wbHVyYWxDYXQoYy1uKSk7Yz09PXV8fGUmJlcodSkmJmlzTmFOKHUpfHwodCgpLGU9d1tjXSx2KGUpP1xyXG4obnVsbCE9YiYmZC5kZWJ1ZyhcIm5nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yICdcIitjK1wiJyBpbiBcIittKSx0PXosaygpKTp0PWYuJHdhdGNoKGUsayksdT1jKX0pfX19XSxGZT1bXCIkcGFyc2VcIixcIiRhbmltYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYixkKXt2YXIgYz1PKFwibmdSZXBlYXRcIiksZT1mdW5jdGlvbihhLGIsYyxkLGUsbSxuKXthW2NdPWQ7ZSYmKGFbZV09bSk7YS4kaW5kZXg9YjthLiRmaXJzdD0wPT09YjthLiRsYXN0PWI9PT1uLTE7YS4kbWlkZGxlPSEoYS4kZmlyc3R8fGEuJGxhc3QpO2EuJG9kZD0hKGEuJGV2ZW49MD09PShiJjEpKX07cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjFFMyx0ZXJtaW5hbDohMCwkJHRsYjohMCxjb21waWxlOmZ1bmN0aW9uKGYsZyl7dmFyIGg9Zy5uZ1JlcGVhdCxrPWQuJCRjcmVhdGVDb21tZW50KFwiZW5kIG5nUmVwZWF0XCIsaCksbD1oLm1hdGNoKC9eXFxzKihbXFxzXFxTXSs/KVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT9cXHMqJC8pO1xyXG5pZighbCl0aHJvdyBjKFwiaWV4cFwiLGgpO3ZhciBtPWxbMV0sbj1sWzJdLHI9bFszXSx2PWxbNF0sbD1tLm1hdGNoKC9eKD86KFxccypbXFwkXFx3XSspfFxcKFxccyooW1xcJFxcd10rKVxccyosXFxzKihbXFwkXFx3XSspXFxzKlxcKSkkLyk7aWYoIWwpdGhyb3cgYyhcImlpZGV4cFwiLG0pO3ZhciBBPWxbM118fGxbMV0seD1sWzJdO2lmKHImJighL15bJGEtekEtWl9dWyRhLXpBLVowLTlfXSokLy50ZXN0KHIpfHwvXihudWxsfHVuZGVmaW5lZHx0aGlzfFxcJGluZGV4fFxcJGZpcnN0fFxcJG1pZGRsZXxcXCRsYXN0fFxcJGV2ZW58XFwkb2RkfFxcJHBhcmVudHxcXCRyb290fFxcJGlkKSQvLnRlc3QocikpKXRocm93IGMoXCJiYWRpZGVudFwiLHIpO3ZhciBxLHQsdSxzLHo9eyRpZDpGYX07dj9xPWEodik6KHU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRmEoYil9LHM9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtyZXR1cm4gZnVuY3Rpb24oYSxkLGYsZyxsKXtxJiYodD1mdW5jdGlvbihiLGMsZCl7eCYmKHpbeF09Yik7eltBXT1jO3ouJGluZGV4PVxyXG5kO3JldHVybiBxKGEseil9KTt2YXIgbT1YKCk7YS4kd2F0Y2hDb2xsZWN0aW9uKG4sZnVuY3Rpb24oZil7dmFyIGcsbixxPWRbMF0sdixCPVgoKSx6LEQsRyxGLEgsRSxJO3ImJihhW3JdPWYpO2lmKENhKGYpKUg9ZixuPXR8fHU7ZWxzZSBmb3IoSSBpbiBuPXR8fHMsSD1bXSxmKXNhLmNhbGwoZixJKSYmXCIkXCIhPT1JLmNoYXJBdCgwKSYmSC5wdXNoKEkpO3o9SC5sZW5ndGg7ST1BcnJheSh6KTtmb3IoZz0wO2c8ejtnKyspaWYoRD1mPT09SD9nOkhbZ10sRz1mW0RdLEY9bihELEcsZyksbVtGXSlFPW1bRl0sZGVsZXRlIG1bRl0sQltGXT1FLElbZ109RTtlbHNle2lmKEJbRl0pdGhyb3cgcChJLGZ1bmN0aW9uKGEpe2EmJmEuc2NvcGUmJihtW2EuaWRdPWEpfSksYyhcImR1cGVzXCIsaCxGLEcpO0lbZ109e2lkOkYsc2NvcGU6dyxjbG9uZTp3fTtCW0ZdPSEwfWZvcih2IGluIG0pe0U9bVt2XTtGPXRiKEUuY2xvbmUpO2IubGVhdmUoRik7aWYoRlswXS5wYXJlbnROb2RlKWZvcihnPTAsbj1GLmxlbmd0aDtnPFxyXG5uO2crKylGW2ddLiQkTkdfUkVNT1ZFRD0hMDtFLnNjb3BlLiRkZXN0cm95KCl9Zm9yKGc9MDtnPHo7ZysrKWlmKEQ9Zj09PUg/ZzpIW2ddLEc9ZltEXSxFPUlbZ10sRS5zY29wZSl7dj1xO2RvIHY9di5uZXh0U2libGluZzt3aGlsZSh2JiZ2LiQkTkdfUkVNT1ZFRCk7RS5jbG9uZVswXSE9diYmYi5tb3ZlKHRiKEUuY2xvbmUpLG51bGwscSk7cT1FLmNsb25lW0UuY2xvbmUubGVuZ3RoLTFdO2UoRS5zY29wZSxnLEEsRyx4LEQseil9ZWxzZSBsKGZ1bmN0aW9uKGEsYyl7RS5zY29wZT1jO3ZhciBkPWsuY2xvbmVOb2RlKCExKTthW2EubGVuZ3RoKytdPWQ7Yi5lbnRlcihhLG51bGwscSk7cT1kO0UuY2xvbmU9YTtCW0UuaWRdPUU7ZShFLnNjb3BlLGcsQSxHLHgsRCx6KX0pO209Qn0pfX19fV0sR2U9W1wiJGFuaW1hdGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYixkLGMpe2IuJHdhdGNoKGMubmdTaG93LGZ1bmN0aW9uKGIpe2FbYj9cclxuXCJyZW1vdmVDbGFzc1wiOlwiYWRkQ2xhc3NcIl0oZCxcIm5nLWhpZGVcIix7dGVtcENsYXNzZXM6XCJuZy1oaWRlLWFuaW1hdGVcIn0pfSl9fX1dLHplPVtcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGIsZCxjKXtiLiR3YXRjaChjLm5nSGlkZSxmdW5jdGlvbihiKXthW2I/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oZCxcIm5nLWhpZGVcIix7dGVtcENsYXNzZXM6XCJuZy1oaWRlLWFuaW1hdGVcIn0pfSl9fX1dLEhlPUxhKGZ1bmN0aW9uKGEsYixkKXthLiR3YXRjaChkLm5nU3R5bGUsZnVuY3Rpb24oYSxkKXtkJiZhIT09ZCYmcChkLGZ1bmN0aW9uKGEsYyl7Yi5jc3MoYyxcIlwiKX0pO2EmJmIuY3NzKGEpfSwhMCl9KSxJZT1bXCIkYW5pbWF0ZVwiLFwiJGNvbXBpbGVcIixmdW5jdGlvbihhLGIpe3JldHVybntyZXF1aXJlOlwibmdTd2l0Y2hcIixjb250cm9sbGVyOltcIiRzY29wZVwiLGZ1bmN0aW9uKCl7dGhpcy5jYXNlcz17fX1dLFxyXG5saW5rOmZ1bmN0aW9uKGQsYyxlLGYpe3ZhciBnPVtdLGg9W10saz1bXSxsPVtdLG09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXthLnNwbGljZShiLDEpfX07ZC4kd2F0Y2goZS5uZ1N3aXRjaHx8ZS5vbixmdW5jdGlvbihjKXt2YXIgZCxlO2Q9MDtmb3IoZT1rLmxlbmd0aDtkPGU7KytkKWEuY2FuY2VsKGtbZF0pO2Q9ay5sZW5ndGg9MDtmb3IoZT1sLmxlbmd0aDtkPGU7KytkKXt2YXIgcj10YihoW2RdLmNsb25lKTtsW2RdLiRkZXN0cm95KCk7KGtbZF09YS5sZWF2ZShyKSkudGhlbihtKGssZCkpfWgubGVuZ3RoPTA7bC5sZW5ndGg9MDsoZz1mLmNhc2VzW1wiIVwiK2NdfHxmLmNhc2VzW1wiP1wiXSkmJnAoZyxmdW5jdGlvbihjKXtjLnRyYW5zY2x1ZGUoZnVuY3Rpb24oZCxlKXtsLnB1c2goZSk7dmFyIGY9Yy5lbGVtZW50O2RbZC5sZW5ndGgrK109Yi4kJGNyZWF0ZUNvbW1lbnQoXCJlbmQgbmdTd2l0Y2hXaGVuXCIpO2gucHVzaCh7Y2xvbmU6ZH0pO2EuZW50ZXIoZCxmLnBhcmVudCgpLFxyXG5mKX0pfSl9KX19fV0sSmU9TGEoe3RyYW5zY2x1ZGU6XCJlbGVtZW50XCIscHJpb3JpdHk6MTIwMCxyZXF1aXJlOlwiXm5nU3dpdGNoXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyxlKXtjLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXT1jLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXXx8W107Yy5jYXNlc1tcIiFcIitkLm5nU3dpdGNoV2hlbl0ucHVzaCh7dHJhbnNjbHVkZTplLGVsZW1lbnQ6Yn0pfX0pLEtlPUxhKHt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjEyMDAscmVxdWlyZTpcIl5uZ1N3aXRjaFwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGEsYixkLGMsZSl7Yy5jYXNlc1tcIj9cIl09Yy5jYXNlc1tcIj9cIl18fFtdO2MuY2FzZXNbXCI/XCJdLnB1c2goe3RyYW5zY2x1ZGU6ZSxlbGVtZW50OmJ9KX19KSxQZz1PKFwibmdUcmFuc2NsdWRlXCIpLE1lPUxhKHtyZXN0cmljdDpcIkVBQ1wiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyxlKXtkLm5nVHJhbnNjbHVkZT09PVxyXG5kLiRhdHRyLm5nVHJhbnNjbHVkZSYmKGQubmdUcmFuc2NsdWRlPVwiXCIpO2lmKCFlKXRocm93IFBnKFwib3JwaGFuXCIsdGEoYikpO2UoZnVuY3Rpb24oYSl7YS5sZW5ndGgmJihiLmVtcHR5KCksYi5hcHBlbmQoYSkpfSxudWxsLGQubmdUcmFuc2NsdWRlfHxkLm5nVHJhbnNjbHVkZVNsb3QpfX0pLG1lPVtcIiR0ZW1wbGF0ZUNhY2hlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHRlcm1pbmFsOiEwLGNvbXBpbGU6ZnVuY3Rpb24oYixkKXtcInRleHQvbmctdGVtcGxhdGVcIj09ZC50eXBlJiZhLnB1dChkLmlkLGJbMF0udGV4dCl9fX1dLFFnPXskc2V0Vmlld1ZhbHVlOnosJHJlbmRlcjp6fSxSZz1bXCIkZWxlbWVudFwiLFwiJHNjb3BlXCIsZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGM9bmV3IFNhO2QubmdNb2RlbEN0cmw9UWc7ZC51bmtub3duT3B0aW9uPUcoUS5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTtkLnJlbmRlclVua25vd25PcHRpb249ZnVuY3Rpb24oYil7Yj1cIj8gXCIrRmEoYikrXHJcblwiID9cIjtkLnVua25vd25PcHRpb24udmFsKGIpO2EucHJlcGVuZChkLnVua25vd25PcHRpb24pO2EudmFsKGIpfTtiLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtkLnJlbmRlclVua25vd25PcHRpb249en0pO2QucmVtb3ZlVW5rbm93bk9wdGlvbj1mdW5jdGlvbigpe2QudW5rbm93bk9wdGlvbi5wYXJlbnQoKSYmZC51bmtub3duT3B0aW9uLnJlbW92ZSgpfTtkLnJlYWRWYWx1ZT1mdW5jdGlvbigpe2QucmVtb3ZlVW5rbm93bk9wdGlvbigpO3JldHVybiBhLnZhbCgpfTtkLndyaXRlVmFsdWU9ZnVuY3Rpb24oYil7ZC5oYXNPcHRpb24oYik/KGQucmVtb3ZlVW5rbm93bk9wdGlvbigpLGEudmFsKGIpLFwiXCI9PT1iJiZkLmVtcHR5T3B0aW9uLnByb3AoXCJzZWxlY3RlZFwiLCEwKSk6bnVsbD09YiYmZC5lbXB0eU9wdGlvbj8oZC5yZW1vdmVVbmtub3duT3B0aW9uKCksYS52YWwoXCJcIikpOmQucmVuZGVyVW5rbm93bk9wdGlvbihiKX07ZC5hZGRPcHRpb249ZnVuY3Rpb24oYSxiKXtpZig4IT09XHJcbmJbMF0ubm9kZVR5cGUpe1JhKGEsJ1wib3B0aW9uIHZhbHVlXCInKTtcIlwiPT09YSYmKGQuZW1wdHlPcHRpb249Yik7dmFyIGc9Yy5nZXQoYSl8fDA7Yy5wdXQoYSxnKzEpO2QubmdNb2RlbEN0cmwuJHJlbmRlcigpO2JbMF0uaGFzQXR0cmlidXRlKFwic2VsZWN0ZWRcIikmJihiWzBdLnNlbGVjdGVkPSEwKX19O2QucmVtb3ZlT3B0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPWMuZ2V0KGEpO2ImJigxPT09Yj8oYy5yZW1vdmUoYSksXCJcIj09PWEmJihkLmVtcHR5T3B0aW9uPXcpKTpjLnB1dChhLGItMSkpfTtkLmhhc09wdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4hIWMuZ2V0KGEpfTtkLnJlZ2lzdGVyT3B0aW9uPWZ1bmN0aW9uKGEsYixjLGgsayl7aWYoaCl7dmFyIGw7Yy4kb2JzZXJ2ZShcInZhbHVlXCIsZnVuY3Rpb24oYSl7QShsKSYmZC5yZW1vdmVPcHRpb24obCk7bD1hO2QuYWRkT3B0aW9uKGEsYil9KX1lbHNlIGs/YS4kd2F0Y2goayxmdW5jdGlvbihhLGUpe2MuJHNldChcInZhbHVlXCIsYSk7ZSE9PVxyXG5hJiZkLnJlbW92ZU9wdGlvbihlKTtkLmFkZE9wdGlvbihhLGIpfSk6ZC5hZGRPcHRpb24oYy52YWx1ZSxiKTtiLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2QucmVtb3ZlT3B0aW9uKGMudmFsdWUpO2QubmdNb2RlbEN0cmwuJHJlbmRlcigpfSl9fV0sbmU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpbXCJzZWxlY3RcIixcIj9uZ01vZGVsXCJdLGNvbnRyb2xsZXI6UmcscHJpb3JpdHk6MSxsaW5rOntwcmU6ZnVuY3Rpb24oYSxiLGQsYyl7dmFyIGU9Y1sxXTtpZihlKXt2YXIgZj1jWzBdO2YubmdNb2RlbEN0cmw9ZTtiLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXthLiRhcHBseShmdW5jdGlvbigpe2UuJHNldFZpZXdWYWx1ZShmLnJlYWRWYWx1ZSgpKX0pfSk7aWYoZC5tdWx0aXBsZSl7Zi5yZWFkVmFsdWU9ZnVuY3Rpb24oKXt2YXIgYT1bXTtwKGIuZmluZChcIm9wdGlvblwiKSxmdW5jdGlvbihiKXtiLnNlbGVjdGVkJiZhLnB1c2goYi52YWx1ZSl9KTtyZXR1cm4gYX07XHJcbmYud3JpdGVWYWx1ZT1mdW5jdGlvbihhKXt2YXIgYz1uZXcgU2EoYSk7cChiLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oYSl7YS5zZWxlY3RlZD1BKGMuZ2V0KGEudmFsdWUpKX0pfTt2YXIgZyxoPU5hTjthLiR3YXRjaChmdW5jdGlvbigpe2ghPT1lLiR2aWV3VmFsdWV8fG9hKGcsZS4kdmlld1ZhbHVlKXx8KGc9bWEoZS4kdmlld1ZhbHVlKSxlLiRyZW5kZXIoKSk7aD1lLiR2aWV3VmFsdWV9KTtlLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHwwPT09YS5sZW5ndGh9fX19LHBvc3Q6ZnVuY3Rpb24oYSxiLGQsYyl7dmFyIGU9Y1sxXTtpZihlKXt2YXIgZj1jWzBdO2UuJHJlbmRlcj1mdW5jdGlvbigpe2Yud3JpdGVWYWx1ZShlLiR2aWV3VmFsdWUpfX19fX19LHBlPVtcIiRpbnRlcnBvbGF0ZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkVcIixwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbihiLGQpe2lmKEEoZC52YWx1ZSkpdmFyIGM9YShkLnZhbHVlLCEwKTtlbHNle3ZhciBlPVxyXG5hKGIudGV4dCgpLCEwKTtlfHxkLiRzZXQoXCJ2YWx1ZVwiLGIudGV4dCgpKX1yZXR1cm4gZnVuY3Rpb24oYSxiLGQpe3ZhciBrPWIucGFyZW50KCk7KGs9ay5kYXRhKFwiJHNlbGVjdENvbnRyb2xsZXJcIil8fGsucGFyZW50KCkuZGF0YShcIiRzZWxlY3RDb250cm9sbGVyXCIpKSYmay5yZWdpc3Rlck9wdGlvbihhLGIsZCxjLGUpfX19fV0sb2U9aWEoe3Jlc3RyaWN0OlwiRVwiLHRlcm1pbmFsOiExfSksRWM9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtjJiYoZC5yZXF1aXJlZD0hMCxjLiR2YWxpZGF0b3JzLnJlcXVpcmVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWQucmVxdWlyZWR8fCFjLiRpc0VtcHR5KGIpfSxkLiRvYnNlcnZlKFwicmVxdWlyZWRcIixmdW5jdGlvbigpe2MuJHZhbGlkYXRlKCl9KSl9fX0sRGM9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLFxyXG5iLGQsYyl7aWYoYyl7dmFyIGUsZj1kLm5nUGF0dGVybnx8ZC5wYXR0ZXJuO2QuJG9ic2VydmUoXCJwYXR0ZXJuXCIsZnVuY3Rpb24oYSl7RChhKSYmMDxhLmxlbmd0aCYmKGE9bmV3IFJlZ0V4cChcIl5cIithK1wiJFwiKSk7aWYoYSYmIWEudGVzdCl0aHJvdyBPKFwibmdQYXR0ZXJuXCIpKFwibm9yZWdleHBcIixmLGEsdGEoYikpO2U9YXx8dztjLiR2YWxpZGF0ZSgpfSk7Yy4kdmFsaWRhdG9ycy5wYXR0ZXJuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGMuJGlzRW1wdHkoYil8fHYoZSl8fGUudGVzdChiKX19fX19LEdjPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7aWYoYyl7dmFyIGU9LTE7ZC4kb2JzZXJ2ZShcIm1heGxlbmd0aFwiLGZ1bmN0aW9uKGEpe2E9ZGEoYSk7ZT1pc05hTihhKT8tMTphO2MuJHZhbGlkYXRlKCl9KTtjLiR2YWxpZGF0b3JzLm1heGxlbmd0aD1mdW5jdGlvbihhLGIpe3JldHVybiAwPmV8fGMuJGlzRW1wdHkoYil8fFxyXG5iLmxlbmd0aDw9ZX19fX19LEZjPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7aWYoYyl7dmFyIGU9MDtkLiRvYnNlcnZlKFwibWlubGVuZ3RoXCIsZnVuY3Rpb24oYSl7ZT1kYShhKXx8MDtjLiR2YWxpZGF0ZSgpfSk7Yy4kdmFsaWRhdG9ycy5taW5sZW5ndGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy4kaXNFbXB0eShiKXx8Yi5sZW5ndGg+PWV9fX19fTtOLmFuZ3VsYXIuYm9vdHN0cmFwP04uY29uc29sZSYmY29uc29sZS5sb2coXCJXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuXCIpOihmZSgpLGhlKGVhKSxlYS5tb2R1bGUoXCJuZ0xvY2FsZVwiLFtdLFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthKz1cIlwiO3ZhciBiPWEuaW5kZXhPZihcIi5cIik7cmV0dXJuLTE9PWI/MDphLmxlbmd0aC1iLTF9YS52YWx1ZShcIiRsb2NhbGVcIix7REFURVRJTUVfRk9STUFUUzp7QU1QTVM6W1wiQU1cIixcclxuXCJQTVwiXSxEQVk6XCJTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheVwiLnNwbGl0KFwiIFwiKSxFUkFOQU1FUzpbXCJCZWZvcmUgQ2hyaXN0XCIsXCJBbm5vIERvbWluaVwiXSxFUkFTOltcIkJDXCIsXCJBRFwiXSxGSVJTVERBWU9GV0VFSzo2LE1PTlRIOlwiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlclwiLnNwbGl0KFwiIFwiKSxTSE9SVERBWTpcIlN1biBNb24gVHVlIFdlZCBUaHUgRnJpIFNhdFwiLnNwbGl0KFwiIFwiKSxTSE9SVE1PTlRIOlwiSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWNcIi5zcGxpdChcIiBcIiksU1RBTkRBTE9ORU1PTlRIOlwiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlclwiLnNwbGl0KFwiIFwiKSxXRUVLRU5EUkFOR0U6WzUsXHJcbjZdLGZ1bGxEYXRlOlwiRUVFRSwgTU1NTSBkLCB5XCIsbG9uZ0RhdGU6XCJNTU1NIGQsIHlcIixtZWRpdW06XCJNTU0gZCwgeSBoOm1tOnNzIGFcIixtZWRpdW1EYXRlOlwiTU1NIGQsIHlcIixtZWRpdW1UaW1lOlwiaDptbTpzcyBhXCIsXCJzaG9ydFwiOlwiTS9kL3l5IGg6bW0gYVwiLHNob3J0RGF0ZTpcIk0vZC95eVwiLHNob3J0VGltZTpcImg6bW0gYVwifSxOVU1CRVJfRk9STUFUUzp7Q1VSUkVOQ1lfU1lNOlwiJFwiLERFQ0lNQUxfU0VQOlwiLlwiLEdST1VQX1NFUDpcIixcIixQQVRURVJOUzpbe2dTaXplOjMsbGdTaXplOjMsbWF4RnJhYzozLG1pbkZyYWM6MCxtaW5JbnQ6MSxuZWdQcmU6XCItXCIsbmVnU3VmOlwiXCIscG9zUHJlOlwiXCIscG9zU3VmOlwiXCJ9LHtnU2l6ZTozLGxnU2l6ZTozLG1heEZyYWM6MixtaW5GcmFjOjIsbWluSW50OjEsbmVnUHJlOlwiLVxcdTAwYTRcIixuZWdTdWY6XCJcIixwb3NQcmU6XCJcXHUwMGE0XCIscG9zU3VmOlwiXCJ9XX0saWQ6XCJlbi11c1wiLGxvY2FsZUlEOlwiZW5fVVNcIixwbHVyYWxDYXQ6ZnVuY3Rpb24oYSxcclxuYyl7dmFyIGU9YXwwLGY9Yzt3PT09ZiYmKGY9TWF0aC5taW4oYihhKSwzKSk7TWF0aC5wb3coMTAsZik7cmV0dXJuIDE9PWUmJjA9PWY/XCJvbmVcIjpcIm90aGVyXCJ9fSl9XSksRyhRKS5yZWFkeShmdW5jdGlvbigpe2JlKFEseGMpfSkpfSkod2luZG93LGRvY3VtZW50KTshd2luZG93LmFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlJiZ3aW5kb3cuYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmhlYWQpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5AY2hhcnNldCBcIlVURi04XCI7W25nXFxcXDpjbG9ha10sW25nLWNsb2FrXSxbZGF0YS1uZy1jbG9ha10sW3gtbmctY2xvYWtdLC5uZy1jbG9haywueC1uZy1jbG9haywubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSl7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fW5nXFxcXDpmb3Jte2Rpc3BsYXk6YmxvY2s7fS5uZy1hbmltYXRlLXNoaW17dmlzaWJpbGl0eTpoaWRkZW47fS5uZy1hbmNob3J7cG9zaXRpb246YWJzb2x1dGU7fTwvc3R5bGU+Jyk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXIubWluLmpzLm1hcFxyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vcHVibGljL2pzL2xpYnMvYW5ndWxhci5taW4uanNcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ21vdmllcycsWyd1aS5ib290c3RyYXAnXSk7XHJcbndpbmRvdy5jdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vcHVibGljL2pzL21vZHVsZXMvYXBwLmpzXG4gKiogbW9kdWxlIGlkID0gMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiYW5ndWxhci5tb2R1bGUoJ21vdmllcycsIFsndWkuYm9vdHN0cmFwJ10pXHJcbiAgLmRpcmVjdGl2ZSgnbW92aWUnLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9tb3ZpZS5odG1sJyxcclxuICAgICAgY29udHJvbGxlckFzOiAnbW92aWUnLFxyXG4gICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWwnLCBmdW5jdGlvbigkc2NvcGUsICR1aWJNb2RhbCkge1xyXG4gICAgICAgICRzY29wZS5jdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtb3ZpZXMnKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgJHNjb3BlLm1vdmllcyA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdtb3ZpZXMnKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAkc2NvcGUubW92aWVzID0gW3tcclxuICAgICAgICAgICAgdGl0bGU6IFwiRGVhZHBvb2xcIixcclxuICAgICAgICAgICAgeWVhcjogMjAxNixcclxuICAgICAgICAgICAgZ2VucmVzOiBbXCJBY3Rpb25cIiwgXCJBZHZlbnR1cmVcIiwgXCJDb21lZHlcIl0sXHJcbiAgICAgICAgICAgIHJhdGluZzogOC4zLFxyXG4gICAgICAgICAgICBhY3RvcnM6IFtcIlJ5YW4gUmV5bm9sZHNcIiwgXCJNb3JlbmEgQmFjY2FyaW5cIiwgXCJULkouIE1pbGxlclwiXVxyXG4gICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB0aXRsZTogXCJEZWFkcG9vbCAyXCIsXHJcbiAgICAgICAgICAgIHllYXI6IDIwMTUsXHJcbiAgICAgICAgICAgIGdlbnJlczogW1wiQWN0aW9uXCIsIFwiQWR2ZW50dXJlXCIsIFwiQ29tZWR5XCJdLFxyXG4gICAgICAgICAgICByYXRpbmc6IDIuMyxcclxuICAgICAgICAgICAgYWN0b3JzOiBbXCJSeWFuIFJleW5vbGRzXCIsIFwiSmFjayBEYW5pZWxzXCIsIFwiVC5KLiBNaWxsZXJcIl1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIkRlYWRwb29sIDNcIixcclxuICAgICAgICAgICAgeWVhcjogMjAxNCxcclxuICAgICAgICAgICAgZ2VucmVzOiBbXCJUaHJpbGxlclwiLCBcIkFkdmVudHVyZVwiLCBcIlJvbWFuY2VcIl0sXHJcbiAgICAgICAgICAgIHJhdGluZzogMi4zLFxyXG4gICAgICAgICAgICBhY3RvcnM6IFtcIlJ5YW4gUmV5bm9sZHNcIiwgXCJKYWNrIERhbmllbHNcIiwgXCJULkouIE1pbGxlclwiXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLm1vdmllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgJHNjb3BlLm1vdmllc1tpXS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbihuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibW92aWVzXCIsIEpTT04uc3RyaW5naWZ5KCRzY29wZS5tb3ZpZXMpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdzZWFyY2gnLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09IFwiXCIgfHwgbmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5tb3ZpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAkc2NvcGUubW92aWVzW2ldLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5tb3ZpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICB2YXIgaXRlbSA9ICRzY29wZS5tb3ZpZXNbaV07XHJcbiAgICAgICAgICAgICAgdmFyIHNlYXJjaCA9IG5ld1ZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgaWYgKGl0ZW0udGl0bGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaCkgPj0gMCB8fCBpdGVtLnllYXIudG9TdHJpbmcoKS5pbmRleE9mKHNlYXJjaCkgPj0gMCB8fCBpdGVtLmFjdG9ycy5qb2luKCcsJykudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaCkgPj0gMCB8fCBpdGVtLmdlbnJlcy5qb2luKCcsJykudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaCkgPj0gMCB8fCBpdGVtLnJhdGluZy50b1N0cmluZygpLmluZGV4T2Yoc2VhcmNoKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubW92aWVzW2ldLnZpc2libGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vdmllc1tpXS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICAkc2NvcGUuZWRpdG1vdmllID0gZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgdmFyIG5vbmJvdW5kID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogaXRlbS5tb3ZpZS50aXRsZSxcclxuICAgICAgICAgICAgeWVhcjogaXRlbS5tb3ZpZS55ZWFyLFxyXG4gICAgICAgICAgICByYXRpbmc6IGl0ZW0ubW92aWUucmF0aW5nLFxyXG4gICAgICAgICAgICBhY3RvcnM6IGl0ZW0ubW92aWUuYWN0b3JzLmpvaW4oJywnKSxcclxuICAgICAgICAgICAgZ2VucmVzOiBpdGVtLm1vdmllLmdlbnJlcy5qb2luKCcsJyksXHJcbiAgICAgICAgICAgICRpbmRleDogaXRlbS4kaW5kZXhcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICRzY29wZS5vcGVubW9kYWwobm9uYm91bmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkc2NvcGUuZGVzdHJveW1vdmllID0gZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7XHJcbiAgICAgICAgICB2YXIgYXJlWW91U3VyZSA9IGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgbW92aWU/XCIpO1xyXG4gICAgICAgICAgaWYgKGFyZVlvdVN1cmUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1vdmllcy5zcGxpY2UoaXRlbS4kaW5kZXgsIDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLm9wZW5tb2RhbCA9IGZ1bmN0aW9uKGlzTmV3KSB7XHJcbiAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgYW5pbWF0aW9uOiBmYWxzZSxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL21vdmllbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgd2luZG93Lm1vZGFsc2NvcGUgPSAkc2NvcGU7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChpc05ldyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcGxhY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdtb3ZpZSA9IHtcclxuICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgIHllYXI6IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSxcclxuICAgICAgICAgICAgICAgICAgZ2VucmVzOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICByYXRpbmc6IDAsXHJcbiAgICAgICAgICAgICAgICAgIGFjdG9yczogXCJcIlxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXBsYWNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdtb3ZpZSA9IGlzTmV3O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdG9yID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoJHNjb3BlLm5ld21vdmllLnRpdGxlLmxlbmd0aCA+IDApP3RydWU6ZmFsc2U7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmKCRzY29wZS52YWxpZGF0b3IoKSl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk9LQVlcIik7XHJcbiAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLmNsb3NlKHtcclxuICAgICAgICAgICAgICAgICAgbXNnOiBcIk9LXCIsXHJcbiAgICAgICAgICAgICAgICAgIG1vdmllOiAkc2NvcGUubmV3bW92aWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIlBsZWFzZSBwcm92aWRlIGEgdGl0bGUuXCIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UuY2xvc2UoXCJDQU5DRUxcIik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICBpZiAocmVzLm1zZyA9PT0gXCJPS1wiKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLm1vdmllKTtcclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlcy5tb3ZpZS4kaW5kZXggPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVhJU1RJTkcgTU9WSUVcIilcclxuICAgICAgICAgICAgICAgIHZhciBtb3ZpZSA9ICRzY29wZS5tb3ZpZXNbcmVzLm1vdmllLiRpbmRleF07XHJcbiAgICAgICAgICAgICAgICBtb3ZpZS50aXRsZSA9IHJlcy5tb3ZpZS50aXRsZTtcclxuICAgICAgICAgICAgICAgIG1vdmllLnllYXIgPSByZXMubW92aWUueWVhcjtcclxuICAgICAgICAgICAgICAgIG1vdmllLnJhdGluZyA9IHJlcy5tb3ZpZS5yYXRpbmc7XHJcbiAgICAgICAgICAgICAgICBtb3ZpZS5hY3RvcnMgPSByZXMubW92aWUuYWN0b3JzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBtb3ZpZS5nZW5yZXMgPSByZXMubW92aWUuZ2VucmVzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcy5tb3ZpZS5hY3RvcnMgPSByZXMubW92aWUuYWN0b3JzLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICByZXMubW92aWUuZ2VucmVzID0gcmVzLm1vdmllLmdlbnJlcy5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vdmllcy5wdXNoKHJlcy5tb3ZpZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfTtcclxuICAgICAgICAkc2NvcGUuYWRkbW92aWUgPSBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAkc2NvcGUub3Blbm1vZGFsKHRydWUpO1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgICAgIHdpbmRvdy5tYXN0ZXIgPSAkc2NvcGU7XHJcbiAgICAgIH1dLFxyXG4gICAgICBjb21waWxlOiBmdW5jdGlvbih0RWxlbSwgdEF0dHJzKSB7XHJcbiAgICAgICAgLy9jb21waWxlIGJlZm9yZSByZW5kZXJpbmcgdGhlIGdvb2RpZXNcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMsIGN0cmwpIHtcclxuXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcG9zdDogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHJzLCBjdHJsKSB7XHJcbiAgICAgICAgICAgIC8vZ2VuZXJhbGx5IGF0dGFjaCB5b3VyIHN0dWZmIGhlcmVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vcHVibGljL2pzL2RpcmVjdGl2ZXMvbW92aWUuanNcbiAqKiBtb2R1bGUgaWQgPSA0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxuICogYW5ndWxhci11aS1ib290c3RyYXBcbiAqIGh0dHA6Ly9hbmd1bGFyLXVpLmdpdGh1Yi5pby9ib290c3RyYXAvXG5cbiAqIFZlcnNpb246IDEuMy4xIC0gMjAxNi0wNC0wNVxuICogTGljZW5zZTogTUlUXG4gKi9hbmd1bGFyLm1vZHVsZShcInVpLmJvb3RzdHJhcFwiLCBbXCJ1aS5ib290c3RyYXAudHBsc1wiLCBcInVpLmJvb3RzdHJhcC5jb2xsYXBzZVwiLFwidWkuYm9vdHN0cmFwLmFjY29yZGlvblwiLFwidWkuYm9vdHN0cmFwLmFsZXJ0XCIsXCJ1aS5ib290c3RyYXAuYnV0dG9uc1wiLFwidWkuYm9vdHN0cmFwLmNhcm91c2VsXCIsXCJ1aS5ib290c3RyYXAuZGF0ZXBhcnNlclwiLFwidWkuYm9vdHN0cmFwLmlzQ2xhc3NcIixcInVpLmJvb3RzdHJhcC5kYXRlcGlja2VyXCIsXCJ1aS5ib290c3RyYXAucG9zaXRpb25cIixcInVpLmJvb3RzdHJhcC5kYXRlcGlja2VyUG9wdXBcIixcInVpLmJvb3RzdHJhcC5kZWJvdW5jZVwiLFwidWkuYm9vdHN0cmFwLmRyb3Bkb3duXCIsXCJ1aS5ib290c3RyYXAuc3RhY2tlZE1hcFwiLFwidWkuYm9vdHN0cmFwLm1vZGFsXCIsXCJ1aS5ib290c3RyYXAucGFnaW5nXCIsXCJ1aS5ib290c3RyYXAucGFnZXJcIixcInVpLmJvb3RzdHJhcC5wYWdpbmF0aW9uXCIsXCJ1aS5ib290c3RyYXAudG9vbHRpcFwiLFwidWkuYm9vdHN0cmFwLnBvcG92ZXJcIixcInVpLmJvb3RzdHJhcC5wcm9ncmVzc2JhclwiLFwidWkuYm9vdHN0cmFwLnJhdGluZ1wiLFwidWkuYm9vdHN0cmFwLnRhYnNcIixcInVpLmJvb3RzdHJhcC50aW1lcGlja2VyXCIsXCJ1aS5ib290c3RyYXAudHlwZWFoZWFkXCJdKTtcbmFuZ3VsYXIubW9kdWxlKFwidWkuYm9vdHN0cmFwLnRwbHNcIiwgW1widWliL3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbFwiLFwidWliL3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLFwidWliL3RlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIixcInVpYi90ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXCJ1aWIvdGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbFwiLFwidWliL3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXCJ1aWIvdGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLFwidWliL3RlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbFwiLFwidWliL3RlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXCJ1aWIvdGVtcGxhdGUvZGF0ZXBpY2tlclBvcHVwL3BvcHVwLmh0bWxcIixcInVpYi90ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXCJ1aWIvdGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIixcInVpYi90ZW1wbGF0ZS9wYWdlci9wYWdlci5odG1sXCIsXCJ1aWIvdGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIixcInVpYi90ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsXCJ1aWIvdGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXBvcHVwLmh0bWxcIixcInVpYi90ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbFwiLFwidWliL3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci1odG1sLmh0bWxcIixcInVpYi90ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbFwiLFwidWliL3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXCJ1aWIvdGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIixcInVpYi90ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsXCJ1aWIvdGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFwidWliL3RlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFwidWliL3RlbXBsYXRlL3RhYnMvdGFiLmh0bWxcIixcInVpYi90ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXCJ1aWIvdGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIixcInVpYi90ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWxcIixcInVpYi90ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIl0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZScsIFtdKVxuXG4gIC5kaXJlY3RpdmUoJ3VpYkNvbGxhcHNlJywgWyckYW5pbWF0ZScsICckcScsICckcGFyc2UnLCAnJGluamVjdG9yJywgZnVuY3Rpb24oJGFuaW1hdGUsICRxLCAkcGFyc2UsICRpbmplY3Rvcikge1xuICAgIHZhciAkYW5pbWF0ZUNzcyA9ICRpbmplY3Rvci5oYXMoJyRhbmltYXRlQ3NzJykgPyAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpIDogbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHZhciBleHBhbmRpbmdFeHByID0gJHBhcnNlKGF0dHJzLmV4cGFuZGluZyksXG4gICAgICAgICAgICBleHBhbmRlZEV4cHIgPSAkcGFyc2UoYXR0cnMuZXhwYW5kZWQpLFxuICAgICAgICAgICAgY29sbGFwc2luZ0V4cHIgPSAkcGFyc2UoYXR0cnMuY29sbGFwc2luZyksXG4gICAgICAgICAgICBjb2xsYXBzZWRFeHByID0gJHBhcnNlKGF0dHJzLmNvbGxhcHNlZCk7XG5cbiAgICAgICAgaWYgKCFzY29wZS4kZXZhbChhdHRycy51aWJDb2xsYXBzZSkpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbicpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKVxuICAgICAgICAgICAgLmNzcyh7aGVpZ2h0OiAnYXV0byd9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV4cGFuZCgpIHtcbiAgICAgICAgICBpZiAoZWxlbWVudC5oYXNDbGFzcygnY29sbGFwc2UnKSAmJiBlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJHEucmVzb2x2ZShleHBhbmRpbmdFeHByKHNjb3BlKSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICAgIGFkZENsYXNzOiAnaW4nLFxuICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZScsXG4gICAgICAgICAgICAgICAgICB0bzogeyBoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4JyB9XG4gICAgICAgICAgICAgICAgfSkuc3RhcnQoKVsnZmluYWxseSddKGV4cGFuZERvbmUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdpbicsIHtcbiAgICAgICAgICAgICAgICAgIHRvOiB7IGhlaWdodDogZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyAncHgnIH1cbiAgICAgICAgICAgICAgICB9KS50aGVuKGV4cGFuZERvbmUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV4cGFuZERvbmUoKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAgIC5jc3Moe2hlaWdodDogJ2F1dG8nfSk7XG4gICAgICAgICAgZXhwYW5kZWRFeHByKHNjb3BlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxhcHNlKCkge1xuICAgICAgICAgIGlmICghZWxlbWVudC5oYXNDbGFzcygnY29sbGFwc2UnKSAmJiAhZWxlbWVudC5oYXNDbGFzcygnaW4nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxhcHNlRG9uZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRxLnJlc29sdmUoY29sbGFwc2luZ0V4cHIoc2NvcGUpKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBJTVBPUlRBTlQ6IFRoZSBoZWlnaHQgbXVzdCBiZSBzZXQgYmVmb3JlIGFkZGluZyBcImNvbGxhcHNpbmdcIiBjbGFzcy5cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIHRoZSBicm93c2VyIGF0dGVtcHRzIHRvIGFuaW1hdGUgZnJvbSBoZWlnaHQgMCAoaW5cbiAgICAgICAgICAgICAgICAvLyBjb2xsYXBzaW5nIGNsYXNzKSB0byB0aGUgZ2l2ZW4gaGVpZ2h0IGhlcmUuXG4gICAgICAgICAgICAgICAgLmNzcyh7aGVpZ2h0OiBlbGVtZW50WzBdLnNjcm9sbEhlaWdodCArICdweCd9KVxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxseSBhbGwgcGFuZWwgY29sbGFwc2UgaGF2ZSB0aGUgY29sbGFwc2UgY2xhc3MsIHRoaXMgcmVtb3ZhbFxuICAgICAgICAgICAgICAgIC8vIHByZXZlbnRzIHRoZSBhbmltYXRpb24gZnJvbSBqdW1waW5nIHRvIGNvbGxhcHNlZCBzdGF0ZVxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTtcblxuICAgICAgICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogJ2luJyxcbiAgICAgICAgICAgICAgICAgIHRvOiB7aGVpZ2h0OiAnMCd9XG4gICAgICAgICAgICAgICAgfSkuc3RhcnQoKVsnZmluYWxseSddKGNvbGxhcHNlRG9uZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgJ2luJywge1xuICAgICAgICAgICAgICAgICAgdG86IHtoZWlnaHQ6ICcwJ31cbiAgICAgICAgICAgICAgICB9KS50aGVuKGNvbGxhcHNlRG9uZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2VEb25lKCkge1xuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICcwJ30pOyAvLyBSZXF1aXJlZCBzbyB0aGF0IGNvbGxhcHNlIHdvcmtzIHdoZW4gYW5pbWF0aW9uIGlzIGRpc2FibGVkXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlJyk7XG4gICAgICAgICAgY29sbGFwc2VkRXhwcihzY29wZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMudWliQ29sbGFwc2UsIGZ1bmN0aW9uKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgaWYgKHNob3VsZENvbGxhcHNlKSB7XG4gICAgICAgICAgICBjb2xsYXBzZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHBhbmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5hY2NvcmRpb24nLCBbJ3VpLmJvb3RzdHJhcC5jb2xsYXBzZSddKVxuXG4uY29uc3RhbnQoJ3VpYkFjY29yZGlvbkNvbmZpZycsIHtcbiAgY2xvc2VPdGhlcnM6IHRydWVcbn0pXG5cbi5jb250cm9sbGVyKCdVaWJBY2NvcmRpb25Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ3VpYkFjY29yZGlvbkNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCBhY2NvcmRpb25Db25maWcpIHtcbiAgLy8gVGhpcyBhcnJheSBrZWVwcyB0cmFjayBvZiB0aGUgYWNjb3JkaW9uIGdyb3Vwc1xuICB0aGlzLmdyb3VwcyA9IFtdO1xuXG4gIC8vIEVuc3VyZSB0aGF0IGFsbCB0aGUgZ3JvdXBzIGluIHRoaXMgYWNjb3JkaW9uIGFyZSBjbG9zZWQsIHVubGVzcyBjbG9zZS1vdGhlcnMgZXhwbGljaXRseSBzYXlzIG5vdCB0b1xuICB0aGlzLmNsb3NlT3RoZXJzID0gZnVuY3Rpb24ob3Blbkdyb3VwKSB7XG4gICAgdmFyIGNsb3NlT3RoZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmNsb3NlT3RoZXJzKSA/XG4gICAgICAkc2NvcGUuJGV2YWwoJGF0dHJzLmNsb3NlT3RoZXJzKSA6IGFjY29yZGlvbkNvbmZpZy5jbG9zZU90aGVycztcbiAgICBpZiAoY2xvc2VPdGhlcnMpIHtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzLmdyb3VwcywgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGdyb3VwICE9PSBvcGVuR3JvdXApIHtcbiAgICAgICAgICBncm91cC5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFRoaXMgaXMgY2FsbGVkIGZyb20gdGhlIGFjY29yZGlvbi1ncm91cCBkaXJlY3RpdmUgdG8gYWRkIGl0c2VsZiB0byB0aGUgYWNjb3JkaW9uXG4gIHRoaXMuYWRkR3JvdXAgPSBmdW5jdGlvbihncm91cFNjb3BlKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMuZ3JvdXBzLnB1c2goZ3JvdXBTY29wZSk7XG5cbiAgICBncm91cFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdGhhdC5yZW1vdmVHcm91cChncm91cFNjb3BlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHdoZW4gdG8gcmVtb3ZlIGl0c2VsZlxuICB0aGlzLnJlbW92ZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmdyb3Vwcy5pbmRleE9mKGdyb3VwKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLmdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4vLyBUaGUgYWNjb3JkaW9uIGRpcmVjdGl2ZSBzaW1wbHkgc2V0cyB1cCB0aGUgZGlyZWN0aXZlIGNvbnRyb2xsZXJcbi8vIGFuZCBhZGRzIGFuIGFjY29yZGlvbiBDU1MgY2xhc3MgdG8gaXRzZWxmIGVsZW1lbnQuXG4uZGlyZWN0aXZlKCd1aWJBY2NvcmRpb24nLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiAnVWliQWNjb3JkaW9uQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYWNjb3JkaW9uJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd1aWIvdGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sJztcbiAgICB9XG4gIH07XG59KVxuXG4vLyBUaGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSBpbmRpY2F0ZXMgYSBibG9jayBvZiBodG1sIHRoYXQgd2lsbCBleHBhbmQgYW5kIGNvbGxhcHNlIGluIGFuIGFjY29yZGlvblxuLmRpcmVjdGl2ZSgndWliQWNjb3JkaW9uR3JvdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXnVpYkFjY29yZGlvbicsICAgICAgICAgLy8gV2UgbmVlZCB0aGlzIGRpcmVjdGl2ZSB0byBiZSBpbnNpZGUgYW4gYWNjb3JkaW9uXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSwgICAgICAgICAgICAgIC8vIEl0IHRyYW5zY2x1ZGVzIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlIGludG8gdGhlIHRlbXBsYXRlXG4gICAgcmVwbGFjZTogdHJ1ZSwgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgZGlyZWN0aXZlIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgdGVtcGxhdGVcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndWliL3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24tZ3JvdXAuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgaGVhZGluZzogJ0AnLCAgICAgICAgICAgICAgIC8vIEludGVycG9sYXRlIHRoZSBoZWFkaW5nIGF0dHJpYnV0ZSBvbnRvIHRoaXMgc2NvcGVcbiAgICAgIHBhbmVsQ2xhc3M6ICdAPycsICAgICAgICAgICAvLyBEaXR0byB3aXRoIHBhbmVsQ2xhc3NcbiAgICAgIGlzT3BlbjogJz0/JyxcbiAgICAgIGlzRGlzYWJsZWQ6ICc9PydcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXRIZWFkaW5nID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB0aGlzLmhlYWRpbmcgPSBlbGVtZW50O1xuICAgICAgfTtcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgYWNjb3JkaW9uQ3RybCkge1xuICAgICAgYWNjb3JkaW9uQ3RybC5hZGRHcm91cChzY29wZSk7XG5cbiAgICAgIHNjb3BlLm9wZW5DbGFzcyA9IGF0dHJzLm9wZW5DbGFzcyB8fCAncGFuZWwtb3Blbic7XG4gICAgICBzY29wZS5wYW5lbENsYXNzID0gYXR0cnMucGFuZWxDbGFzcyB8fCAncGFuZWwtZGVmYXVsdCc7XG4gICAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3Moc2NvcGUub3BlbkNsYXNzLCAhIXZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgYWNjb3JkaW9uQ3RybC5jbG9zZU90aGVycyhzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS50b2dnbGVPcGVuID0gZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgIGlmICghc2NvcGUuaXNEaXNhYmxlZCkge1xuICAgICAgICAgIGlmICghJGV2ZW50IHx8ICRldmVudC53aGljaCA9PT0gMzIpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9ICFzY29wZS5pc09wZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgaWQgPSAnYWNjb3JkaW9uZ3JvdXAtJyArIHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgICAgIHNjb3BlLmhlYWRpbmdJZCA9IGlkICsgJy10YWInO1xuICAgICAgc2NvcGUucGFuZWxJZCA9IGlkICsgJy1wYW5lbCc7XG4gICAgfVxuICB9O1xufSlcblxuLy8gVXNlIGFjY29yZGlvbi1oZWFkaW5nIGJlbG93IGFuIGFjY29yZGlvbi1ncm91cCB0byBwcm92aWRlIGEgaGVhZGluZyBjb250YWluaW5nIEhUTUxcbi5kaXJlY3RpdmUoJ3VpYkFjY29yZGlvbkhlYWRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2NsdWRlOiB0cnVlLCAgIC8vIEdyYWIgdGhlIGNvbnRlbnRzIHRvIGJlIHVzZWQgYXMgdGhlIGhlYWRpbmdcbiAgICB0ZW1wbGF0ZTogJycsICAgICAgIC8vIEluIGVmZmVjdCByZW1vdmUgdGhpcyBlbGVtZW50IVxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgcmVxdWlyZTogJ151aWJBY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBhY2NvcmRpb25Hcm91cEN0cmwsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIC8vIFBhc3MgdGhlIGhlYWRpbmcgdG8gdGhlIGFjY29yZGlvbi1ncm91cCBjb250cm9sbGVyXG4gICAgICAvLyBzbyB0aGF0IGl0IGNhbiBiZSB0cmFuc2NsdWRlZCBpbnRvIHRoZSByaWdodCBwbGFjZSBpbiB0aGUgdGVtcGxhdGVcbiAgICAgIC8vIFtUaGUgc2Vjb25kIHBhcmFtZXRlciB0byB0cmFuc2NsdWRlIGNhdXNlcyB0aGUgZWxlbWVudHMgdG8gYmUgY2xvbmVkIHNvIHRoYXQgdGhleSB3b3JrIGluIG5nLXJlcGVhdF1cbiAgICAgIGFjY29yZGlvbkdyb3VwQ3RybC5zZXRIZWFkaW5nKHRyYW5zY2x1ZGUoc2NvcGUsIGFuZ3VsYXIubm9vcCkpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBpbiB0aGUgYWNjb3JkaW9uLWdyb3VwIHRlbXBsYXRlIHRvIGluZGljYXRlIHdoZXJlIHlvdSB3YW50IHRoZSBoZWFkaW5nIHRvIGJlIHRyYW5zY2x1ZGVkXG4vLyBZb3UgbXVzdCBwcm92aWRlIHRoZSBwcm9wZXJ0eSBvbiB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXIgdGhhdCB3aWxsIGhvbGQgdGhlIHRyYW5zY2x1ZGVkIGVsZW1lbnRcbi5kaXJlY3RpdmUoJ3VpYkFjY29yZGlvblRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXnVpYkFjY29yZGlvbkdyb3VwJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRyb2xsZXJbYXR0cnMudWliQWNjb3JkaW9uVHJhbnNjbHVkZV07IH0sIGZ1bmN0aW9uKGhlYWRpbmcpIHtcbiAgICAgICAgaWYgKGhlYWRpbmcpIHtcbiAgICAgICAgICB2YXIgZWxlbSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ1t1aWItYWNjb3JkaW9uLWhlYWRlcl0nKSk7XG4gICAgICAgICAgZWxlbS5odG1sKCcnKTtcbiAgICAgICAgICBlbGVtLmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWxlcnQnLCBbXSlcblxuLmNvbnRyb2xsZXIoJ1VpYkFsZXJ0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckaW50ZXJwb2xhdGUnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJGludGVycG9sYXRlLCAkdGltZW91dCkge1xuICAkc2NvcGUuY2xvc2VhYmxlID0gISEkYXR0cnMuY2xvc2U7XG5cbiAgdmFyIGRpc21pc3NPblRpbWVvdXQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuZGlzbWlzc09uVGltZW91dCkgP1xuICAgICRpbnRlcnBvbGF0ZSgkYXR0cnMuZGlzbWlzc09uVGltZW91dCkoJHNjb3BlLiRwYXJlbnQpIDogbnVsbDtcblxuICBpZiAoZGlzbWlzc09uVGltZW91dCkge1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLmNsb3NlKCk7XG4gICAgfSwgcGFyc2VJbnQoZGlzbWlzc09uVGltZW91dCwgMTApKTtcbiAgfVxufV0pXG5cbi5kaXJlY3RpdmUoJ3VpYkFsZXJ0JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgY29udHJvbGxlcjogJ1VpYkFsZXJ0Q29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYWxlcnQnLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd1aWIvdGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbCc7XG4gICAgfSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIHR5cGU6ICdAJyxcbiAgICAgIGNsb3NlOiAnJidcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5idXR0b25zJywgW10pXG5cbi5jb25zdGFudCgndWliQnV0dG9uQ29uZmlnJywge1xuICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXG4gIHRvZ2dsZUV2ZW50OiAnY2xpY2snXG59KVxuXG4uY29udHJvbGxlcignVWliQnV0dG9uc0NvbnRyb2xsZXInLCBbJ3VpYkJ1dHRvbkNvbmZpZycsIGZ1bmN0aW9uKGJ1dHRvbkNvbmZpZykge1xuICB0aGlzLmFjdGl2ZUNsYXNzID0gYnV0dG9uQ29uZmlnLmFjdGl2ZUNsYXNzIHx8ICdhY3RpdmUnO1xuICB0aGlzLnRvZ2dsZUV2ZW50ID0gYnV0dG9uQ29uZmlnLnRvZ2dsZUV2ZW50IHx8ICdjbGljayc7XG59XSlcblxuLmRpcmVjdGl2ZSgndWliQnRuUmFkaW8nLCBbJyRwYXJzZScsIGZ1bmN0aW9uKCRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6IFsndWliQnRuUmFkaW8nLCAnbmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdVaWJCdXR0b25zQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYnV0dG9ucycsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG4gICAgICB2YXIgdW5jaGVja2FibGVFeHByID0gJHBhcnNlKGF0dHJzLnVpYlVuY2hlY2thYmxlKTtcblxuICAgICAgZWxlbWVudC5maW5kKCdpbnB1dCcpLmNzcyh7ZGlzcGxheTogJ25vbmUnfSk7XG5cbiAgICAgIC8vbW9kZWwgLT4gVUlcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC50b2dnbGVDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcywgYW5ndWxhci5lcXVhbHMobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUsIHNjb3BlLiRldmFsKGF0dHJzLnVpYkJ0blJhZGlvKSkpO1xuICAgICAgfTtcblxuICAgICAgLy91aS0+bW9kZWxcbiAgICAgIGVsZW1lbnQub24oYnV0dG9uc0N0cmwudG9nZ2xlRXZlbnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNBY3RpdmUgPSBlbGVtZW50Lmhhc0NsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzKTtcblxuICAgICAgICBpZiAoIWlzQWN0aXZlIHx8IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnVuY2hlY2thYmxlKSkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoaXNBY3RpdmUgPyBudWxsIDogc2NvcGUuJGV2YWwoYXR0cnMudWliQnRuUmFkaW8pKTtcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChhdHRycy51aWJVbmNoZWNrYWJsZSkge1xuICAgICAgICBzY29wZS4kd2F0Y2godW5jaGVja2FibGVFeHByLCBmdW5jdGlvbih1bmNoZWNrYWJsZSkge1xuICAgICAgICAgIGF0dHJzLiRzZXQoJ3VuY2hlY2thYmxlJywgdW5jaGVja2FibGUgPyAnJyA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd1aWJCdG5DaGVja2JveCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6IFsndWliQnRuQ2hlY2tib3gnLCAnbmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdVaWJCdXR0b25zQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYnV0dG9uJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgYnV0dG9uc0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZWxlbWVudC5maW5kKCdpbnB1dCcpLmNzcyh7ZGlzcGxheTogJ25vbmUnfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFRydWVWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hUcnVlLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0RmFsc2VWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGdldENoZWNrYm94VmFsdWUoYXR0cnMuYnRuQ2hlY2tib3hGYWxzZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGF0dHJpYnV0ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChhdHRyaWJ1dGUpID8gc2NvcGUuJGV2YWwoYXR0cmlidXRlKSA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgLy9tb2RlbCAtPiBVSVxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLCBhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSwgZ2V0VHJ1ZVZhbHVlKCkpKTtcbiAgICAgIH07XG5cbiAgICAgIC8vdWktPm1vZGVsXG4gICAgICBlbGVtZW50Lm9uKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcykgPyBnZXRGYWxzZVZhbHVlKCkgOiBnZXRUcnVlVmFsdWUoKSk7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmNhcm91c2VsJywgW10pXG5cbi5jb250cm9sbGVyKCdVaWJDYXJvdXNlbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckZWxlbWVudCcsICckaW50ZXJ2YWwnLCAnJHRpbWVvdXQnLCAnJGFuaW1hdGUnLCBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkaW50ZXJ2YWwsICR0aW1lb3V0LCAkYW5pbWF0ZSkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgc2xpZGVzID0gc2VsZi5zbGlkZXMgPSAkc2NvcGUuc2xpZGVzID0gW10sXG4gICAgU0xJREVfRElSRUNUSU9OID0gJ3VpYi1zbGlkZURpcmVjdGlvbicsXG4gICAgY3VycmVudEluZGV4ID0gJHNjb3BlLmFjdGl2ZSxcbiAgICBjdXJyZW50SW50ZXJ2YWwsIGlzUGxheWluZywgYnVmZmVyZWRUcmFuc2l0aW9ucyA9IFtdO1xuXG4gIHZhciBkZXN0cm95ZWQgPSBmYWxzZTtcblxuICBzZWxmLmFkZFNsaWRlID0gZnVuY3Rpb24oc2xpZGUsIGVsZW1lbnQpIHtcbiAgICBzbGlkZXMucHVzaCh7XG4gICAgICBzbGlkZTogc2xpZGUsXG4gICAgICBlbGVtZW50OiBlbGVtZW50XG4gICAgfSk7XG4gICAgc2xpZGVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuICthLnNsaWRlLmluZGV4IC0gK2Iuc2xpZGUuaW5kZXg7XG4gICAgfSk7XG4gICAgLy9pZiB0aGlzIGlzIHRoZSBmaXJzdCBzbGlkZSBvciB0aGUgc2xpZGUgaXMgc2V0IHRvIGFjdGl2ZSwgc2VsZWN0IGl0XG4gICAgaWYgKHNsaWRlLmluZGV4ID09PSAkc2NvcGUuYWN0aXZlIHx8IHNsaWRlcy5sZW5ndGggPT09IDEgJiYgIWFuZ3VsYXIuaXNOdW1iZXIoJHNjb3BlLmFjdGl2ZSkpIHtcbiAgICAgIGlmICgkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uKSB7XG4gICAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBjdXJyZW50SW5kZXggPSBzbGlkZS5pbmRleDtcbiAgICAgICRzY29wZS5hY3RpdmUgPSBzbGlkZS5pbmRleDtcbiAgICAgIHNldEFjdGl2ZShjdXJyZW50SW5kZXgpO1xuICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW2ZpbmRTbGlkZUluZGV4KHNsaWRlKV0pO1xuICAgICAgaWYgKHNsaWRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgJHNjb3BlLnBsYXkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgc2VsZi5nZXRDdXJyZW50SW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNsaWRlc1tpXS5zbGlkZS5pbmRleCA9PT0gY3VycmVudEluZGV4KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBzZWxmLm5leHQgPSAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdJbmRleCA9IChzZWxmLmdldEN1cnJlbnRJbmRleCgpICsgMSkgJSBzbGlkZXMubGVuZ3RoO1xuXG4gICAgaWYgKG5ld0luZGV4ID09PSAwICYmICRzY29wZS5ub1dyYXAoKSkge1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc2VsZWN0KHNsaWRlc1tuZXdJbmRleF0sICduZXh0Jyk7XG4gIH07XG5cbiAgc2VsZi5wcmV2ID0gJHNjb3BlLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3SW5kZXggPSBzZWxmLmdldEN1cnJlbnRJbmRleCgpIC0gMSA8IDAgPyBzbGlkZXMubGVuZ3RoIC0gMSA6IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgLSAxO1xuXG4gICAgaWYgKCRzY29wZS5ub1dyYXAoKSAmJiBuZXdJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNlbGVjdChzbGlkZXNbbmV3SW5kZXhdLCAncHJldicpO1xuICB9O1xuXG4gIHNlbGYucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgIHZhciBpbmRleCA9IGZpbmRTbGlkZUluZGV4KHNsaWRlKTtcblxuICAgIHZhciBidWZmZXJlZEluZGV4ID0gYnVmZmVyZWRUcmFuc2l0aW9ucy5pbmRleE9mKHNsaWRlc1tpbmRleF0pO1xuICAgIGlmIChidWZmZXJlZEluZGV4ICE9PSAtMSkge1xuICAgICAgYnVmZmVyZWRUcmFuc2l0aW9ucy5zcGxpY2UoYnVmZmVyZWRJbmRleCwgMSk7XG4gICAgfVxuXG4gICAgLy9nZXQgdGhlIGluZGV4IG9mIHRoZSBzbGlkZSBpbnNpZGUgdGhlIGNhcm91c2VsXG4gICAgc2xpZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgaWYgKHNsaWRlcy5sZW5ndGggPiAwICYmIGN1cnJlbnRJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA+PSBzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCA9IHNsaWRlcy5sZW5ndGggLSAxO1xuICAgICAgICAkc2NvcGUuYWN0aXZlID0gY3VycmVudEluZGV4O1xuICAgICAgICBzZXRBY3RpdmUoY3VycmVudEluZGV4KTtcbiAgICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW3NsaWRlcy5sZW5ndGggLSAxXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgJHNjb3BlLmFjdGl2ZSA9IGN1cnJlbnRJbmRleDtcbiAgICAgICAgc2V0QWN0aXZlKGN1cnJlbnRJbmRleCk7XG4gICAgICAgIHNlbGYuc2VsZWN0KHNsaWRlc1tpbmRleF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY3VycmVudEluZGV4ID4gaW5kZXgpIHtcbiAgICAgIGN1cnJlbnRJbmRleC0tO1xuICAgICAgJHNjb3BlLmFjdGl2ZSA9IGN1cnJlbnRJbmRleDtcbiAgICB9XG5cbiAgICAvL2NsZWFuIHRoZSBhY3RpdmUgdmFsdWUgd2hlbiBubyBtb3JlIHNsaWRlXG4gICAgaWYgKHNsaWRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAkc2NvcGUuYWN0aXZlID0gbnVsbDtcbiAgICAgIGNsZWFyQnVmZmVyZWRUcmFuc2l0aW9ucygpO1xuICAgIH1cbiAgfTtcblxuICAvKiBkaXJlY3Rpb246IFwicHJldlwiIG9yIFwibmV4dFwiICovXG4gIHNlbGYuc2VsZWN0ID0gJHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKG5leHRTbGlkZSwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IGZpbmRTbGlkZUluZGV4KG5leHRTbGlkZS5zbGlkZSk7XG4gICAgLy9EZWNpZGUgZGlyZWN0aW9uIGlmIGl0J3Mgbm90IGdpdmVuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkaXJlY3Rpb24gPSBuZXh0SW5kZXggPiBzZWxmLmdldEN1cnJlbnRJbmRleCgpID8gJ25leHQnIDogJ3ByZXYnO1xuICAgIH1cbiAgICAvL1ByZXZlbnQgdGhpcyB1c2VyLXRyaWdnZXJlZCB0cmFuc2l0aW9uIGZyb20gb2NjdXJyaW5nIGlmIHRoZXJlIGlzIGFscmVhZHkgb25lIGluIHByb2dyZXNzXG4gICAgaWYgKG5leHRTbGlkZS5zbGlkZS5pbmRleCAhPT0gY3VycmVudEluZGV4ICYmXG4gICAgICAhJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbikge1xuICAgICAgZ29OZXh0KG5leHRTbGlkZS5zbGlkZSwgbmV4dEluZGV4LCBkaXJlY3Rpb24pO1xuICAgIH0gZWxzZSBpZiAobmV4dFNsaWRlICYmIG5leHRTbGlkZS5zbGlkZS5pbmRleCAhPT0gY3VycmVudEluZGV4ICYmICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHtcbiAgICAgIGJ1ZmZlcmVkVHJhbnNpdGlvbnMucHVzaChzbGlkZXNbbmV4dEluZGV4XSk7XG4gICAgfVxuICB9O1xuXG4gIC8qIEFsbG93IG91dHNpZGUgcGVvcGxlIHRvIGNhbGwgaW5kZXhPZiBvbiBzbGlkZXMgYXJyYXkgKi9cbiAgJHNjb3BlLmluZGV4T2ZTbGlkZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgcmV0dXJuICtzbGlkZS5zbGlkZS5pbmRleDtcbiAgfTtcblxuICAkc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgIHJldHVybiAkc2NvcGUuYWN0aXZlID09PSBzbGlkZS5zbGlkZS5pbmRleDtcbiAgfTtcblxuICAkc2NvcGUuaXNQcmV2RGlzYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLmFjdGl2ZSA9PT0gMCAmJiAkc2NvcGUubm9XcmFwKCk7XG4gIH07XG5cbiAgJHNjb3BlLmlzTmV4dERpc2FibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRzY29wZS5hY3RpdmUgPT09IHNsaWRlcy5sZW5ndGggLSAxICYmICRzY29wZS5ub1dyYXAoKTtcbiAgfTtcblxuICAkc2NvcGUucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub1BhdXNlKSB7XG4gICAgICBpc1BsYXlpbmcgPSBmYWxzZTtcbiAgICAgIHJlc2V0VGltZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnBsYXkgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWlzUGxheWluZykge1xuICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgIHJlc3RhcnRUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gICAgcmVzZXRUaW1lcigpO1xuICB9KTtcblxuICAkc2NvcGUuJHdhdGNoKCdub1RyYW5zaXRpb24nLCBmdW5jdGlvbihub1RyYW5zaXRpb24pIHtcbiAgICAkYW5pbWF0ZS5lbmFibGVkKCRlbGVtZW50LCAhbm9UcmFuc2l0aW9uKTtcbiAgfSk7XG5cbiAgJHNjb3BlLiR3YXRjaCgnaW50ZXJ2YWwnLCByZXN0YXJ0VGltZXIpO1xuXG4gICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCdzbGlkZXMnLCByZXNldFRyYW5zaXRpb24pO1xuXG4gICRzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIoaW5kZXgpICYmIGN1cnJlbnRJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzbGlkZXNbaV0uc2xpZGUuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzbGlkZSA9IHNsaWRlc1tpbmRleF07XG4gICAgICBpZiAoc2xpZGUpIHtcbiAgICAgICAgc2V0QWN0aXZlKGluZGV4KTtcbiAgICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW2luZGV4XSk7XG4gICAgICAgIGN1cnJlbnRJbmRleCA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2xlYXJCdWZmZXJlZFRyYW5zaXRpb25zKCkge1xuICAgIHdoaWxlIChidWZmZXJlZFRyYW5zaXRpb25zLmxlbmd0aCkge1xuICAgICAgYnVmZmVyZWRUcmFuc2l0aW9ucy5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNsaWRlQnlJbmRleChpbmRleCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gc2xpZGVzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgaWYgKHNsaWRlc1tpXS5pbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHNsaWRlc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBY3RpdmUoaW5kZXgpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgc2xpZGVzW2ldLnNsaWRlLmFjdGl2ZSA9IGkgPT09IGluZGV4O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdvTmV4dChzbGlkZSwgaW5kZXgsIGRpcmVjdGlvbikge1xuICAgIGlmIChkZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhbmd1bGFyLmV4dGVuZChzbGlkZSwge2RpcmVjdGlvbjogZGlyZWN0aW9ufSk7XG4gICAgYW5ndWxhci5leHRlbmQoc2xpZGVzW2N1cnJlbnRJbmRleF0uc2xpZGUgfHwge30sIHtkaXJlY3Rpb246IGRpcmVjdGlvbn0pO1xuICAgIGlmICgkYW5pbWF0ZS5lbmFibGVkKCRlbGVtZW50KSAmJiAhJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiAmJlxuICAgICAgc2xpZGVzW2luZGV4XS5lbGVtZW50ICYmIHNlbGYuc2xpZGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHNsaWRlc1tpbmRleF0uZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTiwgc2xpZGUuZGlyZWN0aW9uKTtcbiAgICAgIHZhciBjdXJyZW50SWR4ID0gc2VsZi5nZXRDdXJyZW50SW5kZXgoKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIoY3VycmVudElkeCkgJiYgc2xpZGVzW2N1cnJlbnRJZHhdLmVsZW1lbnQpIHtcbiAgICAgICAgc2xpZGVzW2N1cnJlbnRJZHhdLmVsZW1lbnQuZGF0YShTTElERV9ESVJFQ1RJT04sIHNsaWRlLmRpcmVjdGlvbik7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gPSB0cnVlO1xuICAgICAgJGFuaW1hdGUub24oJ2FkZENsYXNzJywgc2xpZGVzW2luZGV4XS5lbGVtZW50LCBmdW5jdGlvbihlbGVtZW50LCBwaGFzZSkge1xuICAgICAgICBpZiAocGhhc2UgPT09ICdjbG9zZScpIHtcbiAgICAgICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gbnVsbDtcbiAgICAgICAgICAkYW5pbWF0ZS5vZmYoJ2FkZENsYXNzJywgZWxlbWVudCk7XG4gICAgICAgICAgaWYgKGJ1ZmZlcmVkVHJhbnNpdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbmV4dFNsaWRlID0gYnVmZmVyZWRUcmFuc2l0aW9ucy5wb3AoKS5zbGlkZTtcbiAgICAgICAgICAgIHZhciBuZXh0SW5kZXggPSBuZXh0U2xpZGUuaW5kZXg7XG4gICAgICAgICAgICB2YXIgbmV4dERpcmVjdGlvbiA9IG5leHRJbmRleCA+IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgPyAnbmV4dCcgOiAncHJldic7XG4gICAgICAgICAgICBjbGVhckJ1ZmZlcmVkVHJhbnNpdGlvbnMoKTtcblxuICAgICAgICAgICAgZ29OZXh0KG5leHRTbGlkZSwgbmV4dEluZGV4LCBuZXh0RGlyZWN0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5hY3RpdmUgPSBzbGlkZS5pbmRleDtcbiAgICBjdXJyZW50SW5kZXggPSBzbGlkZS5pbmRleDtcbiAgICBzZXRBY3RpdmUoaW5kZXgpO1xuXG4gICAgLy9ldmVyeSB0aW1lIHlvdSBjaGFuZ2Ugc2xpZGVzLCByZXNldCB0aGUgdGltZXJcbiAgICByZXN0YXJ0VGltZXIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRTbGlkZUluZGV4KHNsaWRlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzbGlkZXNbaV0uc2xpZGUgPT09IHNsaWRlKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VGltZXIoKSB7XG4gICAgaWYgKGN1cnJlbnRJbnRlcnZhbCkge1xuICAgICAgJGludGVydmFsLmNhbmNlbChjdXJyZW50SW50ZXJ2YWwpO1xuICAgICAgY3VycmVudEludGVydmFsID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyYW5zaXRpb24oc2xpZGVzKSB7XG4gICAgaWYgKCFzbGlkZXMubGVuZ3RoKSB7XG4gICAgICAkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uID0gbnVsbDtcbiAgICAgIGNsZWFyQnVmZmVyZWRUcmFuc2l0aW9ucygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc3RhcnRUaW1lcigpIHtcbiAgICByZXNldFRpbWVyKCk7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbCA+IDApIHtcbiAgICAgIGN1cnJlbnRJbnRlcnZhbCA9ICRpbnRlcnZhbCh0aW1lckZuLCBpbnRlcnZhbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJGbigpIHtcbiAgICB2YXIgaW50ZXJ2YWwgPSArJHNjb3BlLmludGVydmFsO1xuICAgIGlmIChpc1BsYXlpbmcgJiYgIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbCA+IDAgJiYgc2xpZGVzLmxlbmd0aCkge1xuICAgICAgJHNjb3BlLm5leHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLnBhdXNlKCk7XG4gICAgfVxuICB9XG59XSlcblxuLmRpcmVjdGl2ZSgndWliQ2Fyb3VzZWwnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1VpYkNhcm91c2VsQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnY2Fyb3VzZWwnLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd1aWIvdGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgYWN0aXZlOiAnPScsXG4gICAgICBpbnRlcnZhbDogJz0nLFxuICAgICAgbm9UcmFuc2l0aW9uOiAnPScsXG4gICAgICBub1BhdXNlOiAnPScsXG4gICAgICBub1dyYXA6ICcmJ1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3VpYlNsaWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ151aWJDYXJvdXNlbCcsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd1aWIvdGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgYWN0dWFsOiAnPT8nLFxuICAgICAgaW5kZXg6ICc9PydcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNhcm91c2VsQ3RybCkge1xuICAgICAgY2Fyb3VzZWxDdHJsLmFkZFNsaWRlKHNjb3BlLCBlbGVtZW50KTtcbiAgICAgIC8vd2hlbiB0aGUgc2NvcGUgaXMgZGVzdHJveWVkIHRoZW4gcmVtb3ZlIHRoZSBzbGlkZSBmcm9tIHRoZSBjdXJyZW50IHNsaWRlcyBhcnJheVxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjYXJvdXNlbEN0cmwucmVtb3ZlU2xpZGUoc2NvcGUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmFuaW1hdGlvbignLml0ZW0nLCBbJyRhbmltYXRlQ3NzJyxcbmZ1bmN0aW9uKCRhbmltYXRlQ3NzKSB7XG4gIHZhciBTTElERV9ESVJFQ1RJT04gPSAndWliLXNsaWRlRGlyZWN0aW9uJztcblxuICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUsIGNhbGxiYWNrKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGJlZm9yZUFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcbiAgICAgIGlmIChjbGFzc05hbWUgPT09ICdhY3RpdmUnKSB7XG4gICAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbkNsYXNzID0gZGlyZWN0aW9uID09PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgICB2YXIgcmVtb3ZlQ2xhc3NGbiA9IHJlbW92ZUNsYXNzLmJpbmQodGhpcywgZWxlbWVudCxcbiAgICAgICAgICBkaXJlY3Rpb25DbGFzcyArICcgJyArIGRpcmVjdGlvbiwgZG9uZSk7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoZGlyZWN0aW9uKTtcblxuICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7YWRkQ2xhc3M6IGRpcmVjdGlvbkNsYXNzfSlcbiAgICAgICAgICAuc3RhcnQoKVxuICAgICAgICAgIC5kb25lKHJlbW92ZUNsYXNzRm4pO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9LFxuICAgIGJlZm9yZVJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICBpZiAoY2xhc3NOYW1lID09PSAnYWN0aXZlJykge1xuICAgICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTik7XG4gICAgICAgIHZhciBkaXJlY3Rpb25DbGFzcyA9IGRpcmVjdGlvbiA9PT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgdmFyIHJlbW92ZUNsYXNzRm4gPSByZW1vdmVDbGFzcy5iaW5kKHRoaXMsIGVsZW1lbnQsIGRpcmVjdGlvbkNsYXNzLCBkb25lKTtcblxuICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7YWRkQ2xhc3M6IGRpcmVjdGlvbkNsYXNzfSlcbiAgICAgICAgICAuc3RhcnQoKVxuICAgICAgICAgIC5kb25lKHJlbW92ZUNsYXNzRm4pO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH07XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsIFtdKVxuXG4uc2VydmljZSgndWliRGF0ZVBhcnNlcicsIFsnJGxvZycsICckbG9jYWxlJywgJ2RhdGVGaWx0ZXInLCAnb3JkZXJCeUZpbHRlcicsIGZ1bmN0aW9uKCRsb2csICRsb2NhbGUsIGRhdGVGaWx0ZXIsIG9yZGVyQnlGaWx0ZXIpIHtcbiAgLy8gUHVsbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21ib3N0b2NrL2QzL2Jsb2IvbWFzdGVyL3NyYy9mb3JtYXQvcmVxdW90ZS5qc1xuICB2YXIgU1BFQ0lBTF9DSEFSQUNURVJTX1JFR0VYUCA9IC9bXFxcXFxcXlxcJFxcKlxcK1xcP1xcfFxcW1xcXVxcKFxcKVxcLlxce1xcfV0vZztcblxuICB2YXIgbG9jYWxlSWQ7XG4gIHZhciBmb3JtYXRDb2RlVG9SZWdleDtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICBsb2NhbGVJZCA9ICRsb2NhbGUuaWQ7XG5cbiAgICB0aGlzLnBhcnNlcnMgPSB7fTtcbiAgICB0aGlzLmZvcm1hdHRlcnMgPSB7fTtcblxuICAgIGZvcm1hdENvZGVUb1JlZ2V4ID0gW1xuICAgICAge1xuICAgICAgICBrZXk6ICd5eXl5JyxcbiAgICAgICAgcmVnZXg6ICdcXFxcZHs0fScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnllYXIgPSArdmFsdWU7IH0sXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgIHZhciBfZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgX2RhdGUuc2V0RnVsbFllYXIoTWF0aC5hYnMoZGF0ZS5nZXRGdWxsWWVhcigpKSk7XG4gICAgICAgICAgcmV0dXJuIGRhdGVGaWx0ZXIoX2RhdGUsICd5eXl5Jyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ3l5JyxcbiAgICAgICAgcmVnZXg6ICdcXFxcZHsyfScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB2YWx1ZSA9ICt2YWx1ZTsgdGhpcy55ZWFyID0gdmFsdWUgPCA2OSA/IHZhbHVlICsgMjAwMCA6IHZhbHVlICsgMTkwMDsgfSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgdmFyIF9kYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICBfZGF0ZS5zZXRGdWxsWWVhcihNYXRoLmFicyhkYXRlLmdldEZ1bGxZZWFyKCkpKTtcbiAgICAgICAgICByZXR1cm4gZGF0ZUZpbHRlcihfZGF0ZSwgJ3l5Jyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ3knLFxuICAgICAgICByZWdleDogJ1xcXFxkezEsNH0nLFxuICAgICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlOyB9LFxuICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICB2YXIgX2RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIF9kYXRlLnNldEZ1bGxZZWFyKE1hdGguYWJzKGRhdGUuZ2V0RnVsbFllYXIoKSkpO1xuICAgICAgICAgIHJldHVybiBkYXRlRmlsdGVyKF9kYXRlLCAneScpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdNIScsXG4gICAgICAgIHJlZ2V4OiAnMD9bMS05XXwxWzAtMl0nLFxuICAgICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gZGF0ZS5nZXRNb250aCgpO1xuICAgICAgICAgIGlmICgvXlswLTldJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdNTScpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdNJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ01NTU0nLFxuICAgICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmpvaW4oJ3wnKSxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubW9udGggPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuTU9OVEguaW5kZXhPZih2YWx1ZSk7IH0sXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkgeyByZXR1cm4gZGF0ZUZpbHRlcihkYXRlLCAnTU1NTScpOyB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdNTU0nLFxuICAgICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguam9pbignfCcpLFxuICAgICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmluZGV4T2YodmFsdWUpOyB9LFxuICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGRhdGUpIHsgcmV0dXJuIGRhdGVGaWx0ZXIoZGF0ZSwgJ01NTScpOyB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdNTScsXG4gICAgICAgIHJlZ2V4OiAnMFsxLTldfDFbMC0yXScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9LFxuICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGRhdGUpIHsgcmV0dXJuIGRhdGVGaWx0ZXIoZGF0ZSwgJ01NJyk7IH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ00nLFxuICAgICAgICByZWdleDogJ1sxLTldfDFbMC0yXScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gdmFsdWUgLSAxOyB9LFxuICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGRhdGUpIHsgcmV0dXJuIGRhdGVGaWx0ZXIoZGF0ZSwgJ00nKTsgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiAnZCEnLFxuICAgICAgICByZWdleDogJ1swLTJdP1swLTldezF9fDNbMC0xXXsxfScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH0sXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICAgIGlmICgvXlsxLTldJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdkZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdkJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ2RkJyxcbiAgICAgICAgcmVnZXg6ICdbMC0yXVswLTldezF9fDNbMC0xXXsxfScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH0sXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkgeyByZXR1cm4gZGF0ZUZpbHRlcihkYXRlLCAnZGQnKTsgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiAnZCcsXG4gICAgICAgIHJlZ2V4OiAnWzEtMl0/WzAtOV17MX18M1swLTFdezF9JyxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuZGF0ZSA9ICt2YWx1ZTsgfSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdkJyk7IH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ0VFRUUnLFxuICAgICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkRBWS5qb2luKCd8JyksXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkgeyByZXR1cm4gZGF0ZUZpbHRlcihkYXRlLCAnRUVFRScpOyB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdFRUUnLFxuICAgICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUREFZLmpvaW4oJ3wnKSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdFRUUnKTsgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiAnSEgnLFxuICAgICAgICByZWdleDogJyg/OjB8MSlbMC05XXwyWzAtM10nLFxuICAgICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdISCcpOyB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdoaCcsXG4gICAgICAgIHJlZ2V4OiAnMFswLTldfDFbMC0yXScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9LFxuICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGRhdGUpIHsgcmV0dXJuIGRhdGVGaWx0ZXIoZGF0ZSwgJ2hoJyk7IH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ0gnLFxuICAgICAgICByZWdleDogJzE/WzAtOV18MlswLTNdJyxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH0sXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkgeyByZXR1cm4gZGF0ZUZpbHRlcihkYXRlLCAnSCcpOyB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdoJyxcbiAgICAgICAgcmVnZXg6ICdbMC05XXwxWzAtMl0nLFxuICAgICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdoJyk7IH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ21tJyxcbiAgICAgICAgcmVnZXg6ICdbMC01XVswLTldJyxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWludXRlcyA9ICt2YWx1ZTsgfSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdtbScpOyB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdtJyxcbiAgICAgICAgcmVnZXg6ICdbMC05XXxbMS01XVswLTldJyxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWludXRlcyA9ICt2YWx1ZTsgfSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdtJyk7IH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ3NzcycsXG4gICAgICAgIHJlZ2V4OiAnWzAtOV1bMC05XVswLTldJyxcbiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWlsbGlzZWNvbmRzID0gK3ZhbHVlOyB9LFxuICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGRhdGUpIHsgcmV0dXJuIGRhdGVGaWx0ZXIoZGF0ZSwgJ3NzcycpOyB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdzcycsXG4gICAgICAgIHJlZ2V4OiAnWzAtNV1bMC05XScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnNlY29uZHMgPSArdmFsdWU7IH0sXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkgeyByZXR1cm4gZGF0ZUZpbHRlcihkYXRlLCAnc3MnKTsgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiAncycsXG4gICAgICAgIHJlZ2V4OiAnWzAtOV18WzEtNV1bMC05XScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLnNlY29uZHMgPSArdmFsdWU7IH0sXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkgeyByZXR1cm4gZGF0ZUZpbHRlcihkYXRlLCAncycpOyB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdhJyxcbiAgICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5BTVBNUy5qb2luKCd8JyksXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICh0aGlzLmhvdXJzID09PSAxMikge1xuICAgICAgICAgICAgdGhpcy5ob3VycyA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSAnUE0nKSB7XG4gICAgICAgICAgICB0aGlzLmhvdXJzICs9IDEyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdhJyk7IH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ1onLFxuICAgICAgICByZWdleDogJ1srLV1cXFxcZHs0fScsXG4gICAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHZhciBtYXRjaGVzID0gdmFsdWUubWF0Y2goLyhbKy1dKShcXGR7Mn0pKFxcZHsyfSkvKSxcbiAgICAgICAgICAgIHNpZ24gPSBtYXRjaGVzWzFdLFxuICAgICAgICAgICAgaG91cnMgPSBtYXRjaGVzWzJdLFxuICAgICAgICAgICAgbWludXRlcyA9IG1hdGNoZXNbM107XG4gICAgICAgICAgdGhpcy5ob3VycyArPSB0b0ludChzaWduICsgaG91cnMpO1xuICAgICAgICAgIHRoaXMubWludXRlcyArPSB0b0ludChzaWduICsgbWludXRlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgIHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdaJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ3d3JyxcbiAgICAgICAgcmVnZXg6ICdbMC00XVswLTldfDVbMC0zXScsXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkgeyByZXR1cm4gZGF0ZUZpbHRlcihkYXRlLCAnd3cnKTsgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiAndycsXG4gICAgICAgIHJlZ2V4OiAnWzAtOV18WzEtNF1bMC05XXw1WzAtM10nLFxuICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uKGRhdGUpIHsgcmV0dXJuIGRhdGVGaWx0ZXIoZGF0ZSwgJ3cnKTsgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5OiAnR0dHRycsXG4gICAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuRVJBTkFNRVMuam9pbignfCcpLnJlcGxhY2UoL1xccy9nLCAnXFxcXHMnKSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdHR0dHJyk7IH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ0dHRycsXG4gICAgICAgIHJlZ2V4OiAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFMuRVJBUy5qb2luKCd8JyksXG4gICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24oZGF0ZSkgeyByZXR1cm4gZGF0ZUZpbHRlcihkYXRlLCAnR0dHJyk7IH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleTogJ0dHJyxcbiAgICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5FUkFTLmpvaW4oJ3wnKSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdHRycpOyB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXk6ICdHJyxcbiAgICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5FUkFTLmpvaW4oJ3wnKSxcbiAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbihkYXRlKSB7IHJldHVybiBkYXRlRmlsdGVyKGRhdGUsICdHJyk7IH1cbiAgICAgIH1cbiAgICBdO1xuICB9O1xuXG4gIHRoaXMuaW5pdCgpO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihmb3JtYXQsIGZ1bmMpIHtcbiAgICB2YXIgbWFwID0gW10sIHJlZ2V4ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgIC8vIGNoZWNrIGZvciBsaXRlcmFsIHZhbHVlc1xuICAgIHZhciBxdW90ZUluZGV4ID0gZm9ybWF0LmluZGV4T2YoJ1xcJycpO1xuICAgIGlmIChxdW90ZUluZGV4ID4gLTEpIHtcbiAgICAgIHZhciBpbkxpdGVyYWwgPSBmYWxzZTtcbiAgICAgIGZvcm1hdCA9IGZvcm1hdC5zcGxpdCgnJyk7XG4gICAgICBmb3IgKHZhciBpID0gcXVvdGVJbmRleDsgaSA8IGZvcm1hdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaW5MaXRlcmFsKSB7XG4gICAgICAgICAgaWYgKGZvcm1hdFtpXSA9PT0gJ1xcJycpIHtcbiAgICAgICAgICAgIGlmIChpICsgMSA8IGZvcm1hdC5sZW5ndGggJiYgZm9ybWF0W2krMV0gPT09ICdcXCcnKSB7IC8vIGVzY2FwZWQgc2luZ2xlIHF1b3RlXG4gICAgICAgICAgICAgIGZvcm1hdFtpKzFdID0gJyQnO1xuICAgICAgICAgICAgICByZWdleFtpKzFdID0gJyc7XG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBlbmQgb2YgbGl0ZXJhbFxuICAgICAgICAgICAgICByZWdleFtpXSA9ICcnO1xuICAgICAgICAgICAgICBpbkxpdGVyYWwgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9ybWF0W2ldID0gJyQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmb3JtYXRbaV0gPT09ICdcXCcnKSB7IC8vIHN0YXJ0IG9mIGxpdGVyYWxcbiAgICAgICAgICAgIGZvcm1hdFtpXSA9ICckJztcbiAgICAgICAgICAgIHJlZ2V4W2ldID0gJyc7XG4gICAgICAgICAgICBpbkxpdGVyYWwgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3JtYXQgPSBmb3JtYXQuam9pbignJyk7XG4gICAgfVxuXG4gICAgYW5ndWxhci5mb3JFYWNoKGZvcm1hdENvZGVUb1JlZ2V4LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICB2YXIgaW5kZXggPSBmb3JtYXQuaW5kZXhPZihkYXRhLmtleSk7XG5cbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5zcGxpdCgnJyk7XG5cbiAgICAgICAgcmVnZXhbaW5kZXhdID0gJygnICsgZGF0YS5yZWdleCArICcpJztcbiAgICAgICAgZm9ybWF0W2luZGV4XSA9ICckJzsgLy8gQ3VzdG9tIHN5bWJvbCB0byBkZWZpbmUgY29uc3VtZWQgcGFydCBvZiBmb3JtYXRcbiAgICAgICAgZm9yICh2YXIgaSA9IGluZGV4ICsgMSwgbiA9IGluZGV4ICsgZGF0YS5rZXkubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcmVnZXhbaV0gPSAnJztcbiAgICAgICAgICBmb3JtYXRbaV0gPSAnJCc7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LmpvaW4oJycpO1xuXG4gICAgICAgIG1hcC5wdXNoKHtcbiAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAga2V5OiBkYXRhLmtleSxcbiAgICAgICAgICBhcHBseTogZGF0YVtmdW5jXSxcbiAgICAgICAgICBtYXRjaGVyOiBkYXRhLnJlZ2V4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZ2V4OiBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4LmpvaW4oJycpICsgJyQnKSxcbiAgICAgIG1hcDogb3JkZXJCeUZpbHRlcihtYXAsICdpbmRleCcpXG4gICAgfTtcbiAgfVxuXG4gIHRoaXMuZmlsdGVyID0gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0KSB7XG4gICAgaWYgKCFhbmd1bGFyLmlzRGF0ZShkYXRlKSB8fCBpc05hTihkYXRlKSB8fCAhZm9ybWF0KSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF0gfHwgZm9ybWF0O1xuXG4gICAgaWYgKCRsb2NhbGUuaWQgIT09IGxvY2FsZUlkKSB7XG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuZm9ybWF0dGVyc1tmb3JtYXRdKSB7XG4gICAgICB0aGlzLmZvcm1hdHRlcnNbZm9ybWF0XSA9IGNyZWF0ZVBhcnNlcihmb3JtYXQsICdmb3JtYXR0ZXInKTtcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VyID0gdGhpcy5mb3JtYXR0ZXJzW2Zvcm1hdF0sXG4gICAgICBtYXAgPSBwYXJzZXIubWFwO1xuXG4gICAgdmFyIF9mb3JtYXQgPSBmb3JtYXQ7XG5cbiAgICByZXR1cm4gbWFwLnJlZHVjZShmdW5jdGlvbihzdHIsIG1hcHBlciwgaSkge1xuICAgICAgdmFyIG1hdGNoID0gX2Zvcm1hdC5tYXRjaChuZXcgUmVnRXhwKCcoLiopJyArIG1hcHBlci5rZXkpKTtcbiAgICAgIGlmIChtYXRjaCAmJiBhbmd1bGFyLmlzU3RyaW5nKG1hdGNoWzFdKSkge1xuICAgICAgICBzdHIgKz0gbWF0Y2hbMV07XG4gICAgICAgIF9mb3JtYXQgPSBfZm9ybWF0LnJlcGxhY2UobWF0Y2hbMV0gKyBtYXBwZXIua2V5LCAnJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbmRTdHIgPSBpID09PSBtYXAubGVuZ3RoIC0gMSA/IF9mb3JtYXQgOiAnJztcblxuICAgICAgaWYgKG1hcHBlci5hcHBseSkge1xuICAgICAgICByZXR1cm4gc3RyICsgbWFwcGVyLmFwcGx5LmNhbGwobnVsbCwgZGF0ZSkgKyBlbmRTdHI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHIgKyBlbmRTdHI7XG4gICAgfSwgJycpO1xuICB9O1xuXG4gIHRoaXMucGFyc2UgPSBmdW5jdGlvbihpbnB1dCwgZm9ybWF0LCBiYXNlRGF0ZSkge1xuICAgIGlmICghYW5ndWxhci5pc1N0cmluZyhpbnB1dCkgfHwgIWZvcm1hdCkge1xuICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIGZvcm1hdCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdIHx8IGZvcm1hdDtcbiAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZShTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQLCAnXFxcXCQmJyk7XG5cbiAgICBpZiAoJGxvY2FsZS5pZCAhPT0gbG9jYWxlSWQpIHtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wYXJzZXJzW2Zvcm1hdF0pIHtcbiAgICAgIHRoaXMucGFyc2Vyc1tmb3JtYXRdID0gY3JlYXRlUGFyc2VyKGZvcm1hdCwgJ2FwcGx5Jyk7XG4gICAgfVxuXG4gICAgdmFyIHBhcnNlciA9IHRoaXMucGFyc2Vyc1tmb3JtYXRdLFxuICAgICAgICByZWdleCA9IHBhcnNlci5yZWdleCxcbiAgICAgICAgbWFwID0gcGFyc2VyLm1hcCxcbiAgICAgICAgcmVzdWx0cyA9IGlucHV0Lm1hdGNoKHJlZ2V4KSxcbiAgICAgICAgdHpPZmZzZXQgPSBmYWxzZTtcbiAgICBpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCkge1xuICAgICAgdmFyIGZpZWxkcywgZHQ7XG4gICAgICBpZiAoYW5ndWxhci5pc0RhdGUoYmFzZURhdGUpICYmICFpc05hTihiYXNlRGF0ZS5nZXRUaW1lKCkpKSB7XG4gICAgICAgIGZpZWxkcyA9IHtcbiAgICAgICAgICB5ZWFyOiBiYXNlRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgIG1vbnRoOiBiYXNlRGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgIGRhdGU6IGJhc2VEYXRlLmdldERhdGUoKSxcbiAgICAgICAgICBob3VyczogYmFzZURhdGUuZ2V0SG91cnMoKSxcbiAgICAgICAgICBtaW51dGVzOiBiYXNlRGF0ZS5nZXRNaW51dGVzKCksXG4gICAgICAgICAgc2Vjb25kczogYmFzZURhdGUuZ2V0U2Vjb25kcygpLFxuICAgICAgICAgIG1pbGxpc2Vjb25kczogYmFzZURhdGUuZ2V0TWlsbGlzZWNvbmRzKClcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChiYXNlRGF0ZSkge1xuICAgICAgICAgICRsb2cud2FybignZGF0ZXBhcnNlcjonLCAnYmFzZURhdGUgaXMgbm90IGEgdmFsaWQgZGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGZpZWxkcyA9IHsgeWVhcjogMTkwMCwgbW9udGg6IDAsIGRhdGU6IDEsIGhvdXJzOiAwLCBtaW51dGVzOiAwLCBzZWNvbmRzOiAwLCBtaWxsaXNlY29uZHM6IDAgfTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDEsIG4gPSByZXN1bHRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICB2YXIgbWFwcGVyID0gbWFwW2kgLSAxXTtcbiAgICAgICAgaWYgKG1hcHBlci5tYXRjaGVyID09PSAnWicpIHtcbiAgICAgICAgICB0ek9mZnNldCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFwcGVyLmFwcGx5KSB7XG4gICAgICAgICAgbWFwcGVyLmFwcGx5LmNhbGwoZmllbGRzLCByZXN1bHRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZGF0ZXNldHRlciA9IHR6T2Zmc2V0ID8gRGF0ZS5wcm90b3R5cGUuc2V0VVRDRnVsbFllYXIgOlxuICAgICAgICBEYXRlLnByb3RvdHlwZS5zZXRGdWxsWWVhcjtcbiAgICAgIHZhciB0aW1lc2V0dGVyID0gdHpPZmZzZXQgPyBEYXRlLnByb3RvdHlwZS5zZXRVVENIb3VycyA6XG4gICAgICAgIERhdGUucHJvdG90eXBlLnNldEhvdXJzO1xuXG4gICAgICBpZiAoaXNWYWxpZChmaWVsZHMueWVhciwgZmllbGRzLm1vbnRoLCBmaWVsZHMuZGF0ZSkpIHtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEYXRlKGJhc2VEYXRlKSAmJiAhaXNOYU4oYmFzZURhdGUuZ2V0VGltZSgpKSAmJiAhdHpPZmZzZXQpIHtcbiAgICAgICAgICBkdCA9IG5ldyBEYXRlKGJhc2VEYXRlKTtcbiAgICAgICAgICBkYXRlc2V0dGVyLmNhbGwoZHQsIGZpZWxkcy55ZWFyLCBmaWVsZHMubW9udGgsIGZpZWxkcy5kYXRlKTtcbiAgICAgICAgICB0aW1lc2V0dGVyLmNhbGwoZHQsIGZpZWxkcy5ob3VycywgZmllbGRzLm1pbnV0ZXMsXG4gICAgICAgICAgICBmaWVsZHMuc2Vjb25kcywgZmllbGRzLm1pbGxpc2Vjb25kcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZHQgPSBuZXcgRGF0ZSgwKTtcbiAgICAgICAgICBkYXRlc2V0dGVyLmNhbGwoZHQsIGZpZWxkcy55ZWFyLCBmaWVsZHMubW9udGgsIGZpZWxkcy5kYXRlKTtcbiAgICAgICAgICB0aW1lc2V0dGVyLmNhbGwoZHQsIGZpZWxkcy5ob3VycyB8fCAwLCBmaWVsZHMubWludXRlcyB8fCAwLFxuICAgICAgICAgICAgZmllbGRzLnNlY29uZHMgfHwgMCwgZmllbGRzLm1pbGxpc2Vjb25kcyB8fCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZHQ7XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIGlmIGRhdGUgaXMgdmFsaWQgZm9yIHNwZWNpZmljIG1vbnRoIChhbmQgeWVhciBmb3IgRmVicnVhcnkpLlxuICAvLyBNb250aDogMCA9IEphbiwgMSA9IEZlYiwgZXRjXG4gIGZ1bmN0aW9uIGlzVmFsaWQoeWVhciwgbW9udGgsIGRhdGUpIHtcbiAgICBpZiAoZGF0ZSA8IDEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAobW9udGggPT09IDEgJiYgZGF0ZSA+IDI4KSB7XG4gICAgICByZXR1cm4gZGF0ZSA9PT0gMjkgJiYgKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG4gICAgfVxuXG4gICAgaWYgKG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkge1xuICAgICAgcmV0dXJuIGRhdGUgPCAzMTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvSW50KHN0cikge1xuICAgIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcbiAgfVxuXG4gIHRoaXMudG9UaW1lem9uZSA9IHRvVGltZXpvbmU7XG4gIHRoaXMuZnJvbVRpbWV6b25lID0gZnJvbVRpbWV6b25lO1xuICB0aGlzLnRpbWV6b25lVG9PZmZzZXQgPSB0aW1lem9uZVRvT2Zmc2V0O1xuICB0aGlzLmFkZERhdGVNaW51dGVzID0gYWRkRGF0ZU1pbnV0ZXM7XG4gIHRoaXMuY29udmVydFRpbWV6b25lVG9Mb2NhbCA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWw7XG5cbiAgZnVuY3Rpb24gdG9UaW1lem9uZShkYXRlLCB0aW1lem9uZSkge1xuICAgIHJldHVybiBkYXRlICYmIHRpbWV6b25lID8gY29udmVydFRpbWV6b25lVG9Mb2NhbChkYXRlLCB0aW1lem9uZSkgOiBkYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gZnJvbVRpbWV6b25lKGRhdGUsIHRpbWV6b25lKSB7XG4gICAgcmV0dXJuIGRhdGUgJiYgdGltZXpvbmUgPyBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKGRhdGUsIHRpbWV6b25lLCB0cnVlKSA6IGRhdGU7XG4gIH1cblxuICAvL2h0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvYmxvYi80ZGFhZmQzZGJlNmE4MGQ1NzhmNWEzMWRmMWJiOTljNzc1NTk1NDNlL3NyYy9Bbmd1bGFyLmpzI0wxMjA3XG4gIGZ1bmN0aW9uIHRpbWV6b25lVG9PZmZzZXQodGltZXpvbmUsIGZhbGxiYWNrKSB7XG4gICAgdmFyIHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0ID0gRGF0ZS5wYXJzZSgnSmFuIDAxLCAxOTcwIDAwOjAwOjAwICcgKyB0aW1lem9uZSkgLyA2MDAwMDtcbiAgICByZXR1cm4gaXNOYU4ocmVxdWVzdGVkVGltZXpvbmVPZmZzZXQpID8gZmFsbGJhY2sgOiByZXF1ZXN0ZWRUaW1lem9uZU9mZnNldDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZERhdGVNaW51dGVzKGRhdGUsIG1pbnV0ZXMpIHtcbiAgICBkYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgIGRhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIG1pbnV0ZXMpO1xuICAgIHJldHVybiBkYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udmVydFRpbWV6b25lVG9Mb2NhbChkYXRlLCB0aW1lem9uZSwgcmV2ZXJzZSkge1xuICAgIHJldmVyc2UgPSByZXZlcnNlID8gLTEgOiAxO1xuICAgIHZhciB0aW1lem9uZU9mZnNldCA9IHRpbWV6b25lVG9PZmZzZXQodGltZXpvbmUsIGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSk7XG4gICAgcmV0dXJuIGFkZERhdGVNaW51dGVzKGRhdGUsIHJldmVyc2UgKiAodGltZXpvbmVPZmZzZXQgLSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpKTtcbiAgfVxufV0pO1xuXG4vLyBBdm9pZGluZyB1c2Ugb2YgbmctY2xhc3MgYXMgaXQgY3JlYXRlcyBhIGxvdCBvZiB3YXRjaGVycyB3aGVuIGEgY2xhc3MgaXMgdG8gYmUgYXBwbGllZCB0b1xuLy8gYXQgbW9zdCBvbmUgZWxlbWVudC5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuaXNDbGFzcycsIFtdKVxuLmRpcmVjdGl2ZSgndWliSXNDbGFzcycsIFtcbiAgICAgICAgICckYW5pbWF0ZScsXG5mdW5jdGlvbiAoJGFuaW1hdGUpIHtcbiAgLy8gICAgICAgICAgICAgICAgICAgIDExMTExMTExICAgICAgICAgIDIyMjIyMjIyXG4gIHZhciBPTl9SRUdFWFAgPSAvXlxccyooW1xcc1xcU10rPylcXHMrb25cXHMrKFtcXHNcXFNdKz8pXFxzKiQvO1xuICAvLyAgICAgICAgICAgICAgICAgICAgMTExMTExMTEgICAgICAgICAgIDIyMjIyMjIyXG4gIHZhciBJU19SRUdFWFAgPSAvXlxccyooW1xcc1xcU10rPylcXHMrZm9yXFxzKyhbXFxzXFxTXSs/KVxccyokLztcblxuICB2YXIgZGF0YVBlclRyYWNrZWQgPSB7fTtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgIHZhciBsaW5rZWRTY29wZXMgPSBbXTtcbiAgICAgIHZhciBpbnN0YW5jZXMgPSBbXTtcbiAgICAgIHZhciBleHBUb0RhdGEgPSB7fTtcbiAgICAgIHZhciBsYXN0QWN0aXZhdGVkID0gbnVsbDtcbiAgICAgIHZhciBvbkV4cE1hdGNoZXMgPSB0QXR0cnMudWliSXNDbGFzcy5tYXRjaChPTl9SRUdFWFApO1xuICAgICAgdmFyIG9uRXhwID0gb25FeHBNYXRjaGVzWzJdO1xuICAgICAgdmFyIGV4cHNTdHIgPSBvbkV4cE1hdGNoZXNbMV07XG4gICAgICB2YXIgZXhwcyA9IGV4cHNTdHIuc3BsaXQoJywnKTtcblxuICAgICAgcmV0dXJuIGxpbmtGbjtcblxuICAgICAgZnVuY3Rpb24gbGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBsaW5rZWRTY29wZXMucHVzaChzY29wZSk7XG4gICAgICAgIGluc3RhbmNlcy5wdXNoKHtcbiAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgZWxlbWVudDogZWxlbWVudFxuICAgICAgICB9KTtcblxuICAgICAgICBleHBzLmZvckVhY2goZnVuY3Rpb24gKGV4cCwgaykge1xuICAgICAgICAgIGFkZEZvckV4cChleHAsIHNjb3BlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHJlbW92ZVNjb3BlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYWRkRm9yRXhwKGV4cCwgc2NvcGUpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBleHAubWF0Y2goSVNfUkVHRVhQKTtcbiAgICAgICAgdmFyIGNsYXp6ID0gc2NvcGUuJGV2YWwobWF0Y2hlc1sxXSk7XG4gICAgICAgIHZhciBjb21wYXJlV2l0aEV4cCA9IG1hdGNoZXNbMl07XG4gICAgICAgIHZhciBkYXRhID0gZXhwVG9EYXRhW2V4cF07XG4gICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgIHZhciB3YXRjaEZuID0gZnVuY3Rpb24gKGNvbXBhcmVXaXRoVmFsKSB7XG4gICAgICAgICAgICB2YXIgbmV3QWN0aXZhdGVkID0gbnVsbDtcbiAgICAgICAgICAgIGluc3RhbmNlcy5zb21lKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgICB2YXIgdGhpc1ZhbCA9IGluc3RhbmNlLnNjb3BlLiRldmFsKG9uRXhwKTtcbiAgICAgICAgICAgICAgaWYgKHRoaXNWYWwgPT09IGNvbXBhcmVXaXRoVmFsKSB7XG4gICAgICAgICAgICAgICAgbmV3QWN0aXZhdGVkID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGRhdGEubGFzdEFjdGl2YXRlZCAhPT0gbmV3QWN0aXZhdGVkKSB7XG4gICAgICAgICAgICAgIGlmIChkYXRhLmxhc3RBY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhkYXRhLmxhc3RBY3RpdmF0ZWQuZWxlbWVudCwgY2xhenopO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChuZXdBY3RpdmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhuZXdBY3RpdmF0ZWQuZWxlbWVudCwgY2xhenopO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRhdGEubGFzdEFjdGl2YXRlZCA9IG5ld0FjdGl2YXRlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGV4cFRvRGF0YVtleHBdID0gZGF0YSA9IHtcbiAgICAgICAgICAgIGxhc3RBY3RpdmF0ZWQ6IG51bGwsXG4gICAgICAgICAgICBzY29wZTogc2NvcGUsXG4gICAgICAgICAgICB3YXRjaEZuOiB3YXRjaEZuLFxuICAgICAgICAgICAgY29tcGFyZVdpdGhFeHA6IGNvbXBhcmVXaXRoRXhwLFxuICAgICAgICAgICAgd2F0Y2hlcjogc2NvcGUuJHdhdGNoKGNvbXBhcmVXaXRoRXhwLCB3YXRjaEZuKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS53YXRjaEZuKHNjb3BlLiRldmFsKGNvbXBhcmVXaXRoRXhwKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVNjb3BlKGUpIHtcbiAgICAgICAgdmFyIHJlbW92ZWRTY29wZSA9IGUudGFyZ2V0U2NvcGU7XG4gICAgICAgIHZhciBpbmRleCA9IGxpbmtlZFNjb3Blcy5pbmRleE9mKHJlbW92ZWRTY29wZSk7XG4gICAgICAgIGxpbmtlZFNjb3Blcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaWYgKGxpbmtlZFNjb3Blcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgbmV3V2F0Y2hTY29wZSA9IGxpbmtlZFNjb3Blc1swXTtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZXhwVG9EYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEuc2NvcGUgPT09IHJlbW92ZWRTY29wZSkge1xuICAgICAgICAgICAgICBkYXRhLndhdGNoZXIgPSBuZXdXYXRjaFNjb3BlLiR3YXRjaChkYXRhLmNvbXBhcmVXaXRoRXhwLCBkYXRhLndhdGNoRm4pO1xuICAgICAgICAgICAgICBkYXRhLnNjb3BlID0gbmV3V2F0Y2hTY29wZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBleHBUb0RhdGEgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBpY2tlcicsIFsndWkuYm9vdHN0cmFwLmRhdGVwYXJzZXInLCAndWkuYm9vdHN0cmFwLmlzQ2xhc3MnXSlcblxuLnZhbHVlKCckZGF0ZXBpY2tlclN1cHByZXNzRXJyb3InLCBmYWxzZSlcblxuLnZhbHVlKCckZGF0ZXBpY2tlckxpdGVyYWxXYXJuaW5nJywgdHJ1ZSlcblxuLmNvbnN0YW50KCd1aWJEYXRlcGlja2VyQ29uZmlnJywge1xuICBkYXRlcGlja2VyTW9kZTogJ2RheScsXG4gIGZvcm1hdERheTogJ2RkJyxcbiAgZm9ybWF0TW9udGg6ICdNTU1NJyxcbiAgZm9ybWF0WWVhcjogJ3l5eXknLFxuICBmb3JtYXREYXlIZWFkZXI6ICdFRUUnLFxuICBmb3JtYXREYXlUaXRsZTogJ01NTU0geXl5eScsXG4gIGZvcm1hdE1vbnRoVGl0bGU6ICd5eXl5JyxcbiAgbWF4RGF0ZTogbnVsbCxcbiAgbWF4TW9kZTogJ3llYXInLFxuICBtaW5EYXRlOiBudWxsLFxuICBtaW5Nb2RlOiAnZGF5JyxcbiAgbmdNb2RlbE9wdGlvbnM6IHt9LFxuICBzaG9ydGN1dFByb3BhZ2F0aW9uOiBmYWxzZSxcbiAgc2hvd1dlZWtzOiB0cnVlLFxuICB5ZWFyQ29sdW1uczogNSxcbiAgeWVhclJvd3M6IDRcbn0pXG5cbi5jb250cm9sbGVyKCdVaWJEYXRlcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGludGVycG9sYXRlJywgJyRsb2NhbGUnLCAnJGxvZycsICdkYXRlRmlsdGVyJywgJ3VpYkRhdGVwaWNrZXJDb25maWcnLCAnJGRhdGVwaWNrZXJMaXRlcmFsV2FybmluZycsICckZGF0ZXBpY2tlclN1cHByZXNzRXJyb3InLCAndWliRGF0ZVBhcnNlcicsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRpbnRlcnBvbGF0ZSwgJGxvY2FsZSwgJGxvZywgZGF0ZUZpbHRlciwgZGF0ZXBpY2tlckNvbmZpZywgJGRhdGVwaWNrZXJMaXRlcmFsV2FybmluZywgJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yLCBkYXRlUGFyc2VyKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfSwgLy8gbnVsbE1vZGVsQ3RybDtcbiAgICAgIG5nTW9kZWxPcHRpb25zID0ge30sXG4gICAgICB3YXRjaExpc3RlbmVycyA9IFtdLFxuICAgICAgb3B0aW9uc1VzZWQgPSAhISRhdHRycy5kYXRlcGlja2VyT3B0aW9ucztcblxuICBpZiAoISRzY29wZS5kYXRlcGlja2VyT3B0aW9ucykge1xuICAgICRzY29wZS5kYXRlcGlja2VyT3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgLy8gTW9kZXMgY2hhaW5cbiAgdGhpcy5tb2RlcyA9IFsnZGF5JywgJ21vbnRoJywgJ3llYXInXTtcblxuICBbXG4gICAgJ2N1c3RvbUNsYXNzJyxcbiAgICAnZGF0ZURpc2FibGVkJyxcbiAgICAnZGF0ZXBpY2tlck1vZGUnLFxuICAgICdmb3JtYXREYXknLFxuICAgICdmb3JtYXREYXlIZWFkZXInLFxuICAgICdmb3JtYXREYXlUaXRsZScsXG4gICAgJ2Zvcm1hdE1vbnRoJyxcbiAgICAnZm9ybWF0TW9udGhUaXRsZScsXG4gICAgJ2Zvcm1hdFllYXInLFxuICAgICdtYXhEYXRlJyxcbiAgICAnbWF4TW9kZScsXG4gICAgJ21pbkRhdGUnLFxuICAgICdtaW5Nb2RlJyxcbiAgICAnc2hvd1dlZWtzJyxcbiAgICAnc2hvcnRjdXRQcm9wYWdhdGlvbicsXG4gICAgJ3N0YXJ0aW5nRGF5JyxcbiAgICAneWVhckNvbHVtbnMnLFxuICAgICd5ZWFyUm93cydcbiAgXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlICdjdXN0b21DbGFzcyc6XG4gICAgICBjYXNlICdkYXRlRGlzYWJsZWQnOlxuICAgICAgICAkc2NvcGVba2V5XSA9ICRzY29wZS5kYXRlcGlja2VyT3B0aW9uc1trZXldIHx8IGFuZ3VsYXIubm9vcDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkYXRlcGlja2VyTW9kZSc6XG4gICAgICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRzY29wZS5kYXRlcGlja2VyT3B0aW9ucy5kYXRlcGlja2VyTW9kZSkgP1xuICAgICAgICAgICRzY29wZS5kYXRlcGlja2VyT3B0aW9ucy5kYXRlcGlja2VyTW9kZSA6IGRhdGVwaWNrZXJDb25maWcuZGF0ZXBpY2tlck1vZGU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZm9ybWF0RGF5JzpcbiAgICAgIGNhc2UgJ2Zvcm1hdERheUhlYWRlcic6XG4gICAgICBjYXNlICdmb3JtYXREYXlUaXRsZSc6XG4gICAgICBjYXNlICdmb3JtYXRNb250aCc6XG4gICAgICBjYXNlICdmb3JtYXRNb250aFRpdGxlJzpcbiAgICAgIGNhc2UgJ2Zvcm1hdFllYXInOlxuICAgICAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCgkc2NvcGUuZGF0ZXBpY2tlck9wdGlvbnNba2V5XSkgP1xuICAgICAgICAgICRpbnRlcnBvbGF0ZSgkc2NvcGUuZGF0ZXBpY2tlck9wdGlvbnNba2V5XSkoJHNjb3BlLiRwYXJlbnQpIDpcbiAgICAgICAgICBkYXRlcGlja2VyQ29uZmlnW2tleV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2hvd1dlZWtzJzpcbiAgICAgIGNhc2UgJ3Nob3J0Y3V0UHJvcGFnYXRpb24nOlxuICAgICAgY2FzZSAneWVhckNvbHVtbnMnOlxuICAgICAgY2FzZSAneWVhclJvd3MnOlxuICAgICAgICBzZWxmW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCgkc2NvcGUuZGF0ZXBpY2tlck9wdGlvbnNba2V5XSkgP1xuICAgICAgICAgICRzY29wZS5kYXRlcGlja2VyT3B0aW9uc1trZXldIDogZGF0ZXBpY2tlckNvbmZpZ1trZXldO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0YXJ0aW5nRGF5JzpcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKCRzY29wZS5kYXRlcGlja2VyT3B0aW9ucy5zdGFydGluZ0RheSkpIHtcbiAgICAgICAgICBzZWxmLnN0YXJ0aW5nRGF5ID0gJHNjb3BlLmRhdGVwaWNrZXJPcHRpb25zLnN0YXJ0aW5nRGF5O1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNOdW1iZXIoZGF0ZXBpY2tlckNvbmZpZy5zdGFydGluZ0RheSkpIHtcbiAgICAgICAgICBzZWxmLnN0YXJ0aW5nRGF5ID0gZGF0ZXBpY2tlckNvbmZpZy5zdGFydGluZ0RheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnN0YXJ0aW5nRGF5ID0gKCRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5GSVJTVERBWU9GV0VFSyArIDgpICUgNztcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWF4RGF0ZSc6XG4gICAgICBjYXNlICdtaW5EYXRlJzpcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnZGF0ZXBpY2tlck9wdGlvbnMuJyArIGtleSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgc2VsZltrZXldID0gZGF0ZVBhcnNlci5mcm9tVGltZXpvbmUobmV3IERhdGUodmFsdWUpLCBuZ01vZGVsT3B0aW9ucy50aW1lem9uZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoJGRhdGVwaWNrZXJMaXRlcmFsV2FybmluZykge1xuICAgICAgICAgICAgICAgICRsb2cud2FybignTGl0ZXJhbCBkYXRlIHN1cHBvcnQgaGFzIGJlZW4gZGVwcmVjYXRlZCwgcGxlYXNlIHN3aXRjaCB0byBkYXRlIG9iamVjdCB1c2FnZScpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2VsZltrZXldID0gbmV3IERhdGUoZGF0ZUZpbHRlcih2YWx1ZSwgJ21lZGl1bScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZltrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldID9cbiAgICAgICAgICAgICAgZGF0ZVBhcnNlci5mcm9tVGltZXpvbmUobmV3IERhdGUoZGF0ZXBpY2tlckNvbmZpZ1trZXldKSwgbmdNb2RlbE9wdGlvbnMudGltZXpvbmUpIDpcbiAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbWF4TW9kZSc6XG4gICAgICBjYXNlICdtaW5Nb2RlJzpcbiAgICAgICAgaWYgKCRzY29wZS5kYXRlcGlja2VyT3B0aW9uc1trZXldKSB7XG4gICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuICRzY29wZS5kYXRlcGlja2VyT3B0aW9uc1trZXldOyB9LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgc2VsZltrZXldID0gJHNjb3BlW2tleV0gPSBhbmd1bGFyLmlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IGRhdGVwaWNrZXJPcHRpb25zW2tleV07XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnbWluTW9kZScgJiYgc2VsZi5tb2Rlcy5pbmRleE9mKCRzY29wZS5kYXRlcGlja2VyT3B0aW9ucy5kYXRlcGlja2VyTW9kZSkgPCBzZWxmLm1vZGVzLmluZGV4T2Yoc2VsZltrZXldKSB8fFxuICAgICAgICAgICAgICBrZXkgPT09ICdtYXhNb2RlJyAmJiBzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJPcHRpb25zLmRhdGVwaWNrZXJNb2RlKSA+IHNlbGYubW9kZXMuaW5kZXhPZihzZWxmW2tleV0pKSB7XG4gICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGZba2V5XTtcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrZXJPcHRpb25zLmRhdGVwaWNrZXJNb2RlID0gc2VsZltrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGZba2V5XSA9ICRzY29wZVtrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldIHx8IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xuXG4gICRzY29wZS51bmlxdWVJZCA9ICdkYXRlcGlja2VyLScgKyAkc2NvcGUuJGlkICsgJy0nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuXG4gICRzY29wZS5kaXNhYmxlZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5kaXNhYmxlZCkgfHwgZmFsc2U7XG4gIGlmIChhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubmdEaXNhYmxlZCkpIHtcbiAgICB3YXRjaExpc3RlbmVycy5wdXNoKCRzY29wZS4kcGFyZW50LiR3YXRjaCgkYXR0cnMubmdEaXNhYmxlZCwgZnVuY3Rpb24oZGlzYWJsZWQpIHtcbiAgICAgICRzY29wZS5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgIH0pKTtcbiAgfVxuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKGRhdGVPYmplY3QpIHtcbiAgICBpZiAoc2VsZi5jb21wYXJlKGRhdGVPYmplY3QuZGF0ZSwgc2VsZi5hY3RpdmVEYXRlKSA9PT0gMCkge1xuICAgICAgJHNjb3BlLmFjdGl2ZURhdGVJZCA9IGRhdGVPYmplY3QudWlkO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8pIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcbiAgICBuZ01vZGVsT3B0aW9ucyA9IG5nTW9kZWxDdHJsXy4kb3B0aW9ucyB8fCBkYXRlcGlja2VyQ29uZmlnLm5nTW9kZWxPcHRpb25zO1xuICAgIGlmICgkc2NvcGUuZGF0ZXBpY2tlck9wdGlvbnMuaW5pdERhdGUpIHtcbiAgICAgIHNlbGYuYWN0aXZlRGF0ZSA9IGRhdGVQYXJzZXIuZnJvbVRpbWV6b25lKCRzY29wZS5kYXRlcGlja2VyT3B0aW9ucy5pbml0RGF0ZSwgbmdNb2RlbE9wdGlvbnMudGltZXpvbmUpIHx8IG5ldyBEYXRlKCk7XG4gICAgICAkc2NvcGUuJHdhdGNoKCdkYXRlcGlja2VyT3B0aW9ucy5pbml0RGF0ZScsIGZ1bmN0aW9uKGluaXREYXRlKSB7XG4gICAgICAgIGlmIChpbml0RGF0ZSAmJiAobmdNb2RlbEN0cmwuJGlzRW1wdHkobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpIHx8IG5nTW9kZWxDdHJsLiRpbnZhbGlkKSkge1xuICAgICAgICAgIHNlbGYuYWN0aXZlRGF0ZSA9IGRhdGVQYXJzZXIuZnJvbVRpbWV6b25lKGluaXREYXRlLCBuZ01vZGVsT3B0aW9ucy50aW1lem9uZSk7XG4gICAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5hY3RpdmVEYXRlID0gbmV3IERhdGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2ZURhdGUgPSBuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSA/XG4gICAgICBkYXRlUGFyc2VyLmZyb21UaW1lem9uZShuZXcgRGF0ZShuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSksIG5nTW9kZWxPcHRpb25zLnRpbWV6b25lKSA6XG4gICAgICBkYXRlUGFyc2VyLmZyb21UaW1lem9uZShuZXcgRGF0ZSgpLCBuZ01vZGVsT3B0aW9ucy50aW1lem9uZSk7XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlbmRlcigpO1xuICAgIH07XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkge1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSxcbiAgICAgICAgICBpc1ZhbGlkID0gIWlzTmFOKGRhdGUpO1xuXG4gICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICB0aGlzLmFjdGl2ZURhdGUgPSBkYXRlUGFyc2VyLmZyb21UaW1lem9uZShkYXRlLCBuZ01vZGVsT3B0aW9ucy50aW1lem9uZSk7XG4gICAgICB9IGVsc2UgaWYgKCEkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IpIHtcbiAgICAgICAgJGxvZy5lcnJvcignRGF0ZXBpY2tlciBkaXJlY3RpdmU6IFwibmctbW9kZWxcIiB2YWx1ZSBtdXN0IGJlIGEgRGF0ZSBvYmplY3QnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5yZWZyZXNoVmlldygpO1xuICB9O1xuXG4gIHRoaXMucmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAkc2NvcGUuc2VsZWN0ZWREdCA9IG51bGw7XG4gICAgICB0aGlzLl9yZWZyZXNoVmlldygpO1xuICAgICAgaWYgKCRzY29wZS5hY3RpdmVEdCkge1xuICAgICAgICAkc2NvcGUuYWN0aXZlRGF0ZUlkID0gJHNjb3BlLmFjdGl2ZUR0LnVpZDtcbiAgICAgIH1cblxuICAgICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBudWxsO1xuICAgICAgZGF0ZSA9IGRhdGVQYXJzZXIuZnJvbVRpbWV6b25lKGRhdGUsIG5nTW9kZWxPcHRpb25zLnRpbWV6b25lKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZURpc2FibGVkJywgIWRhdGUgfHxcbiAgICAgICAgdGhpcy5lbGVtZW50ICYmICF0aGlzLmlzRGlzYWJsZWQoZGF0ZSkpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmNyZWF0ZURhdGVPYmplY3QgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXQpIHtcbiAgICB2YXIgbW9kZWwgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID8gbmV3IERhdGUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkgOiBudWxsO1xuICAgIG1vZGVsID0gZGF0ZVBhcnNlci5mcm9tVGltZXpvbmUobW9kZWwsIG5nTW9kZWxPcHRpb25zLnRpbWV6b25lKTtcbiAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgIHRvZGF5ID0gZGF0ZVBhcnNlci5mcm9tVGltZXpvbmUodG9kYXksIG5nTW9kZWxPcHRpb25zLnRpbWV6b25lKTtcbiAgICB2YXIgdGltZSA9IHRoaXMuY29tcGFyZShkYXRlLCB0b2RheSk7XG4gICAgdmFyIGR0ID0ge1xuICAgICAgZGF0ZTogZGF0ZSxcbiAgICAgIGxhYmVsOiBkYXRlUGFyc2VyLmZpbHRlcihkYXRlLCBmb3JtYXQpLFxuICAgICAgc2VsZWN0ZWQ6IG1vZGVsICYmIHRoaXMuY29tcGFyZShkYXRlLCBtb2RlbCkgPT09IDAsXG4gICAgICBkaXNhYmxlZDogdGhpcy5pc0Rpc2FibGVkKGRhdGUpLFxuICAgICAgcGFzdDogdGltZSA8IDAsXG4gICAgICBjdXJyZW50OiB0aW1lID09PSAwLFxuICAgICAgZnV0dXJlOiB0aW1lID4gMCxcbiAgICAgIGN1c3RvbUNsYXNzOiB0aGlzLmN1c3RvbUNsYXNzKGRhdGUpIHx8IG51bGxcbiAgICB9O1xuXG4gICAgaWYgKG1vZGVsICYmIHRoaXMuY29tcGFyZShkYXRlLCBtb2RlbCkgPT09IDApIHtcbiAgICAgICRzY29wZS5zZWxlY3RlZER0ID0gZHQ7XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuYWN0aXZlRGF0ZSAmJiB0aGlzLmNvbXBhcmUoZHQuZGF0ZSwgc2VsZi5hY3RpdmVEYXRlKSA9PT0gMCkge1xuICAgICAgJHNjb3BlLmFjdGl2ZUR0ID0gZHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGR0O1xuICB9O1xuXG4gIHRoaXMuaXNEaXNhYmxlZCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICByZXR1cm4gJHNjb3BlLmRpc2FibGVkIHx8XG4gICAgICB0aGlzLm1pbkRhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWluRGF0ZSkgPCAwIHx8XG4gICAgICB0aGlzLm1heERhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWF4RGF0ZSkgPiAwIHx8XG4gICAgICAkc2NvcGUuZGF0ZURpc2FibGVkICYmICRzY29wZS5kYXRlRGlzYWJsZWQoe2RhdGU6IGRhdGUsIG1vZGU6ICRzY29wZS5kYXRlcGlja2VyTW9kZX0pO1xuICB9O1xuXG4gIHRoaXMuY3VzdG9tQ2xhc3MgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuICRzY29wZS5jdXN0b21DbGFzcyh7ZGF0ZTogZGF0ZSwgbW9kZTogJHNjb3BlLmRhdGVwaWNrZXJNb2RlfSk7XG4gIH07XG5cbiAgLy8gU3BsaXQgYXJyYXkgaW50byBzbWFsbGVyIGFycmF5c1xuICB0aGlzLnNwbGl0ID0gZnVuY3Rpb24oYXJyLCBzaXplKSB7XG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHdoaWxlIChhcnIubGVuZ3RoID4gMCkge1xuICAgICAgYXJyYXlzLnB1c2goYXJyLnNwbGljZSgwLCBzaXplKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheXM7XG4gIH07XG5cbiAgJHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUpIHtcbiAgICAgIHZhciBkdCA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPyBkYXRlUGFyc2VyLmZyb21UaW1lem9uZShuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSwgbmdNb2RlbE9wdGlvbnMudGltZXpvbmUpIDogbmV3IERhdGUoMCwgMCwgMCwgMCwgMCwgMCwgMCk7XG4gICAgICBkdC5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSwgZGF0ZS5nZXREYXRlKCkpO1xuICAgICAgZHQgPSBkYXRlUGFyc2VyLnRvVGltZXpvbmUoZHQsIG5nTW9kZWxPcHRpb25zLnRpbWV6b25lKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZHQpO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgc2V0TW9kZShzZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpIC0gMV0pO1xuXG4gICAgICAkc2NvcGUuJGVtaXQoJ3VpYjpkYXRlcGlja2VyLm1vZGUnKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm1vdmUgPSBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbiAgICB2YXIgeWVhciA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC55ZWFycyB8fCAwKSxcbiAgICAgICAgbW9udGggPSBzZWxmLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSArIGRpcmVjdGlvbiAqIChzZWxmLnN0ZXAubW9udGhzIHx8IDApO1xuICAgIHNlbGYuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyLCBtb250aCwgMSk7XG4gICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICB9O1xuXG4gICRzY29wZS50b2dnbGVNb2RlID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgZGlyZWN0aW9uID0gZGlyZWN0aW9uIHx8IDE7XG5cbiAgICBpZiAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1heE1vZGUgJiYgZGlyZWN0aW9uID09PSAxIHx8XG4gICAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPT09IHNlbGYubWluTW9kZSAmJiBkaXJlY3Rpb24gPT09IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TW9kZShzZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpICsgZGlyZWN0aW9uXSk7XG5cbiAgICAkc2NvcGUuJGVtaXQoJ3VpYjpkYXRlcGlja2VyLm1vZGUnKTtcbiAgfTtcblxuICAvLyBLZXkgZXZlbnQgbWFwcGVyXG4gICRzY29wZS5rZXlzID0geyAxMzogJ2VudGVyJywgMzI6ICdzcGFjZScsIDMzOiAncGFnZXVwJywgMzQ6ICdwYWdlZG93bicsIDM1OiAnZW5kJywgMzY6ICdob21lJywgMzc6ICdsZWZ0JywgMzg6ICd1cCcsIDM5OiAncmlnaHQnLCA0MDogJ2Rvd24nIH07XG5cbiAgdmFyIGZvY3VzRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuZWxlbWVudFswXS5mb2N1cygpO1xuICB9O1xuXG4gIC8vIExpc3RlbiBmb3IgZm9jdXMgcmVxdWVzdHMgZnJvbSBwb3B1cCBkaXJlY3RpdmVcbiAgJHNjb3BlLiRvbigndWliOmRhdGVwaWNrZXIuZm9jdXMnLCBmb2N1c0VsZW1lbnQpO1xuXG4gICRzY29wZS5rZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgdmFyIGtleSA9ICRzY29wZS5rZXlzW2V2dC53aGljaF07XG5cbiAgICBpZiAoIWtleSB8fCBldnQuc2hpZnRLZXkgfHwgZXZ0LmFsdEtleSB8fCAkc2NvcGUuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXNlbGYuc2hvcnRjdXRQcm9wYWdhdGlvbikge1xuICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdlbnRlcicgfHwga2V5ID09PSAnc3BhY2UnKSB7XG4gICAgICBpZiAoc2VsZi5pc0Rpc2FibGVkKHNlbGYuYWN0aXZlRGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gICAgICB9XG4gICAgICAkc2NvcGUuc2VsZWN0KHNlbGYuYWN0aXZlRGF0ZSk7XG4gICAgfSBlbHNlIGlmIChldnQuY3RybEtleSAmJiAoa2V5ID09PSAndXAnIHx8IGtleSA9PT0gJ2Rvd24nKSkge1xuICAgICAgJHNjb3BlLnRvZ2dsZU1vZGUoa2V5ID09PSAndXAnID8gMSA6IC0xKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5oYW5kbGVLZXlEb3duKGtleSwgZXZ0KTtcbiAgICAgIHNlbGYucmVmcmVzaFZpZXcoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLiRvbihcIiRkZXN0cm95XCIsIGZ1bmN0aW9uKCkge1xuICAgIC8vQ2xlYXIgYWxsIHdhdGNoIGxpc3RlbmVycyBvbiBkZXN0cm95XG4gICAgd2hpbGUgKHdhdGNoTGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgd2F0Y2hMaXN0ZW5lcnMuc2hpZnQoKSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gc2V0TW9kZShtb2RlKSB7XG4gICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gbW9kZTtcbiAgICAkc2NvcGUuZGF0ZXBpY2tlck9wdGlvbnMuZGF0ZXBpY2tlck1vZGUgPSBtb2RlO1xuICB9XG59XSlcblxuLmNvbnRyb2xsZXIoJ1VpYkRheXBpY2tlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICckZWxlbWVudCcsICdkYXRlRmlsdGVyJywgZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCBkYXRlRmlsdGVyKSB7XG4gIHZhciBEQVlTX0lOX01PTlRIID0gWzMxLCAyOCwgMzEsIDMwLCAzMSwgMzAsIDMxLCAzMSwgMzAsIDMxLCAzMCwgMzFdO1xuXG4gIHRoaXMuc3RlcCA9IHsgbW9udGhzOiAxIH07XG4gIHRoaXMuZWxlbWVudCA9ICRlbGVtZW50O1xuICBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgIHJldHVybiBtb250aCA9PT0gMSAmJiB5ZWFyICUgNCA9PT0gMCAmJlxuICAgICAgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCkgPyAyOSA6IERBWVNfSU5fTU9OVEhbbW9udGhdO1xuICB9XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oY3RybCkge1xuICAgIGFuZ3VsYXIuZXh0ZW5kKGN0cmwsIHRoaXMpO1xuICAgIHNjb3BlLnNob3dXZWVrcyA9IGN0cmwuc2hvd1dlZWtzO1xuICAgIGN0cmwucmVmcmVzaFZpZXcoKTtcbiAgfTtcblxuICB0aGlzLmdldERhdGVzID0gZnVuY3Rpb24oc3RhcnREYXRlLCBuKSB7XG4gICAgdmFyIGRhdGVzID0gbmV3IEFycmF5KG4pLCBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnREYXRlKSwgaSA9IDAsIGRhdGU7XG4gICAgd2hpbGUgKGkgPCBuKSB7XG4gICAgICBkYXRlID0gbmV3IERhdGUoY3VycmVudCk7XG4gICAgICBkYXRlc1tpKytdID0gZGF0ZTtcbiAgICAgIGN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSArIDEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZXM7XG4gIH07XG5cbiAgdGhpcy5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgeWVhciA9IHRoaXMuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgbW9udGggPSB0aGlzLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSxcbiAgICAgIGZpcnN0RGF5T2ZNb250aCA9IG5ldyBEYXRlKHRoaXMuYWN0aXZlRGF0ZSk7XG5cbiAgICBmaXJzdERheU9mTW9udGguc2V0RnVsbFllYXIoeWVhciwgbW9udGgsIDEpO1xuXG4gICAgdmFyIGRpZmZlcmVuY2UgPSB0aGlzLnN0YXJ0aW5nRGF5IC0gZmlyc3REYXlPZk1vbnRoLmdldERheSgpLFxuICAgICAgbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggPSBkaWZmZXJlbmNlID4gMCA/XG4gICAgICAgIDcgLSBkaWZmZXJlbmNlIDogLSBkaWZmZXJlbmNlLFxuICAgICAgZmlyc3REYXRlID0gbmV3IERhdGUoZmlyc3REYXlPZk1vbnRoKTtcblxuICAgIGlmIChudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA+IDApIHtcbiAgICAgIGZpcnN0RGF0ZS5zZXREYXRlKC1udW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCArIDEpO1xuICAgIH1cblxuICAgIC8vIDQyIGlzIHRoZSBudW1iZXIgb2YgZGF5cyBvbiBhIHNpeC13ZWVrIGNhbGVuZGFyXG4gICAgdmFyIGRheXMgPSB0aGlzLmdldERhdGVzKGZpcnN0RGF0ZSwgNDIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDI7IGkgKyspIHtcbiAgICAgIGRheXNbaV0gPSBhbmd1bGFyLmV4dGVuZCh0aGlzLmNyZWF0ZURhdGVPYmplY3QoZGF5c1tpXSwgdGhpcy5mb3JtYXREYXkpLCB7XG4gICAgICAgIHNlY29uZGFyeTogZGF5c1tpXS5nZXRNb250aCgpICE9PSBtb250aCxcbiAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNjb3BlLmxhYmVscyA9IG5ldyBBcnJheSg3KTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IDc7IGorKykge1xuICAgICAgc2NvcGUubGFiZWxzW2pdID0ge1xuICAgICAgICBhYmJyOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgdGhpcy5mb3JtYXREYXlIZWFkZXIpLFxuICAgICAgICBmdWxsOiBkYXRlRmlsdGVyKGRheXNbal0uZGF0ZSwgJ0VFRUUnKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBzY29wZS50aXRsZSA9IGRhdGVGaWx0ZXIodGhpcy5hY3RpdmVEYXRlLCB0aGlzLmZvcm1hdERheVRpdGxlKTtcbiAgICBzY29wZS5yb3dzID0gdGhpcy5zcGxpdChkYXlzLCA3KTtcblxuICAgIGlmIChzY29wZS5zaG93V2Vla3MpIHtcbiAgICAgIHNjb3BlLndlZWtOdW1iZXJzID0gW107XG4gICAgICB2YXIgdGh1cnNkYXlJbmRleCA9ICg0ICsgNyAtIHRoaXMuc3RhcnRpbmdEYXkpICUgNyxcbiAgICAgICAgICBudW1XZWVrcyA9IHNjb3BlLnJvd3MubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgY3VyV2VlayA9IDA7IGN1cldlZWsgPCBudW1XZWVrczsgY3VyV2VlaysrKSB7XG4gICAgICAgIHNjb3BlLndlZWtOdW1iZXJzLnB1c2goXG4gICAgICAgICAgZ2V0SVNPODYwMVdlZWtOdW1iZXIoc2NvcGUucm93c1tjdXJXZWVrXVt0aHVyc2RheUluZGV4XS5kYXRlKSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgIHZhciBfZGF0ZTEgPSBuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpLCBkYXRlMS5nZXREYXRlKCkpO1xuICAgIHZhciBfZGF0ZTIgPSBuZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpLCBkYXRlMi5nZXREYXRlKCkpO1xuICAgIF9kYXRlMS5zZXRGdWxsWWVhcihkYXRlMS5nZXRGdWxsWWVhcigpKTtcbiAgICBfZGF0ZTIuc2V0RnVsbFllYXIoZGF0ZTIuZ2V0RnVsbFllYXIoKSk7XG4gICAgcmV0dXJuIF9kYXRlMSAtIF9kYXRlMjtcbiAgfTtcblxuICBmdW5jdGlvbiBnZXRJU084NjAxV2Vla051bWJlcihkYXRlKSB7XG4gICAgdmFyIGNoZWNrRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIGNoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkgKyA0IC0gKGNoZWNrRGF0ZS5nZXREYXkoKSB8fCA3KSk7IC8vIFRodXJzZGF5XG4gICAgdmFyIHRpbWUgPSBjaGVja0RhdGUuZ2V0VGltZSgpO1xuICAgIGNoZWNrRGF0ZS5zZXRNb250aCgwKTsgLy8gQ29tcGFyZSB3aXRoIEphbiAxXG4gICAgY2hlY2tEYXRlLnNldERhdGUoMSk7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yb3VuZCgodGltZSAtIGNoZWNrRGF0ZSkgLyA4NjQwMDAwMCkgLyA3KSArIDE7XG4gIH1cblxuICB0aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xuICAgIHZhciBkYXRlID0gdGhpcy5hY3RpdmVEYXRlLmdldERhdGUoKTtcblxuICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgZGF0ZSA9IGRhdGUgLSAxO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICBkYXRlID0gZGF0ZSAtIDc7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgIGRhdGUgPSBkYXRlICsgMTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICBkYXRlID0gZGF0ZSArIDc7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgdmFyIG1vbnRoID0gdGhpcy5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpO1xuICAgICAgdGhpcy5hY3RpdmVEYXRlLnNldE1vbnRoKG1vbnRoLCAxKTtcbiAgICAgIGRhdGUgPSBNYXRoLm1pbihnZXREYXlzSW5Nb250aCh0aGlzLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgdGhpcy5hY3RpdmVEYXRlLmdldE1vbnRoKCkpLCBkYXRlKTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICBkYXRlID0gMTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcbiAgICAgIGRhdGUgPSBnZXREYXlzSW5Nb250aCh0aGlzLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgdGhpcy5hY3RpdmVEYXRlLmdldE1vbnRoKCkpO1xuICAgIH1cbiAgICB0aGlzLmFjdGl2ZURhdGUuc2V0RGF0ZShkYXRlKTtcbiAgfTtcbn1dKVxuXG4uY29udHJvbGxlcignVWliTW9udGhwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgZGF0ZUZpbHRlcikge1xuICB0aGlzLnN0ZXAgPSB7IHllYXJzOiAxIH07XG4gIHRoaXMuZWxlbWVudCA9ICRlbGVtZW50O1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKGN0cmwpIHtcbiAgICBhbmd1bGFyLmV4dGVuZChjdHJsLCB0aGlzKTtcbiAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gIH07XG5cbiAgdGhpcy5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbW9udGhzID0gbmV3IEFycmF5KDEyKSxcbiAgICAgICAgeWVhciA9IHRoaXMuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICBkYXRlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICBkYXRlID0gbmV3IERhdGUodGhpcy5hY3RpdmVEYXRlKTtcbiAgICAgIGRhdGUuc2V0RnVsbFllYXIoeWVhciwgaSwgMSk7XG4gICAgICBtb250aHNbaV0gPSBhbmd1bGFyLmV4dGVuZCh0aGlzLmNyZWF0ZURhdGVPYmplY3QoZGF0ZSwgdGhpcy5mb3JtYXRNb250aCksIHtcbiAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcih0aGlzLmFjdGl2ZURhdGUsIHRoaXMuZm9ybWF0TW9udGhUaXRsZSk7XG4gICAgc2NvcGUucm93cyA9IHRoaXMuc3BsaXQobW9udGhzLCAzKTtcbiAgfTtcblxuICB0aGlzLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICB2YXIgX2RhdGUxID0gbmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSk7XG4gICAgdmFyIF9kYXRlMiA9IG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCkpO1xuICAgIF9kYXRlMS5zZXRGdWxsWWVhcihkYXRlMS5nZXRGdWxsWWVhcigpKTtcbiAgICBfZGF0ZTIuc2V0RnVsbFllYXIoZGF0ZTIuZ2V0RnVsbFllYXIoKSk7XG4gICAgcmV0dXJuIF9kYXRlMSAtIF9kYXRlMjtcbiAgfTtcblxuICB0aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xuICAgIHZhciBkYXRlID0gdGhpcy5hY3RpdmVEYXRlLmdldE1vbnRoKCk7XG5cbiAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgIGRhdGUgPSBkYXRlIC0gMTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgZGF0ZSA9IGRhdGUgLSAzO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICBkYXRlID0gZGF0ZSArIDE7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgZGF0ZSA9IGRhdGUgKyAzO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgIHZhciB5ZWFyID0gdGhpcy5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpO1xuICAgICAgdGhpcy5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIpO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgIGRhdGUgPSAwO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgZGF0ZSA9IDExO1xuICAgIH1cbiAgICB0aGlzLmFjdGl2ZURhdGUuc2V0TW9udGgoZGF0ZSk7XG4gIH07XG59XSlcblxuLmNvbnRyb2xsZXIoJ1VpYlllYXJwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgZGF0ZUZpbHRlcikge1xuICB2YXIgY29sdW1ucywgcmFuZ2U7XG4gIHRoaXMuZWxlbWVudCA9ICRlbGVtZW50O1xuXG4gIGZ1bmN0aW9uIGdldFN0YXJ0aW5nWWVhcih5ZWFyKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KCh5ZWFyIC0gMSkgLyByYW5nZSwgMTApICogcmFuZ2UgKyAxO1xuICB9XG5cbiAgdGhpcy55ZWFycGlja2VySW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbHVtbnMgPSB0aGlzLnllYXJDb2x1bW5zO1xuICAgIHJhbmdlID0gdGhpcy55ZWFyUm93cyAqIGNvbHVtbnM7XG4gICAgdGhpcy5zdGVwID0geyB5ZWFyczogcmFuZ2UgfTtcbiAgfTtcblxuICB0aGlzLl9yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB5ZWFycyA9IG5ldyBBcnJheShyYW5nZSksIGRhdGU7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgc3RhcnQgPSBnZXRTdGFydGluZ1llYXIodGhpcy5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpOyBpIDwgcmFuZ2U7IGkrKykge1xuICAgICAgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuYWN0aXZlRGF0ZSk7XG4gICAgICBkYXRlLnNldEZ1bGxZZWFyKHN0YXJ0ICsgaSwgMCwgMSk7XG4gICAgICB5ZWFyc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKHRoaXMuY3JlYXRlRGF0ZU9iamVjdChkYXRlLCB0aGlzLmZvcm1hdFllYXIpLCB7XG4gICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBzY29wZS50aXRsZSA9IFt5ZWFyc1swXS5sYWJlbCwgeWVhcnNbcmFuZ2UgLSAxXS5sYWJlbF0uam9pbignIC0gJyk7XG4gICAgc2NvcGUucm93cyA9IHRoaXMuc3BsaXQoeWVhcnMsIGNvbHVtbnMpO1xuICAgIHNjb3BlLmNvbHVtbnMgPSBjb2x1bW5zO1xuICB9O1xuXG4gIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgIHJldHVybiBkYXRlMS5nZXRGdWxsWWVhcigpIC0gZGF0ZTIuZ2V0RnVsbFllYXIoKTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xuICAgIHZhciBkYXRlID0gdGhpcy5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICBpZiAoa2V5ID09PSAnbGVmdCcpIHtcbiAgICAgIGRhdGUgPSBkYXRlIC0gMTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgZGF0ZSA9IGRhdGUgLSBjb2x1bW5zO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICBkYXRlID0gZGF0ZSArIDE7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgZGF0ZSA9IGRhdGUgKyBjb2x1bW5zO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncGFnZXVwJyB8fCBrZXkgPT09ICdwYWdlZG93bicpIHtcbiAgICAgIGRhdGUgKz0gKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKSAqIHJhbmdlO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnaG9tZScpIHtcbiAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIodGhpcy5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgZGF0ZSA9IGdldFN0YXJ0aW5nWWVhcih0aGlzLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSkgKyByYW5nZSAtIDE7XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcihkYXRlKTtcbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd1aWJEYXRlcGlja2VyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndWliL3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF0ZXBpY2tlci5odG1sJztcbiAgICB9LFxuICAgIHNjb3BlOiB7XG4gICAgICBkYXRlcGlja2VyT3B0aW9uczogJz0/J1xuICAgIH0sXG4gICAgcmVxdWlyZTogWyd1aWJEYXRlcGlja2VyJywgJ15uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1VpYkRhdGVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdkYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgZGF0ZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZGF0ZXBpY2tlckN0cmwuaW5pdChuZ01vZGVsQ3RybCk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndWliRGF5cGlja2VyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndWliL3RlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWwnO1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydedWliRGF0ZXBpY2tlcicsICd1aWJEYXlwaWNrZXInXSxcbiAgICBjb250cm9sbGVyOiAnVWliRGF5cGlja2VyQ29udHJvbGxlcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGRhdGVwaWNrZXJDdHJsID0gY3RybHNbMF0sXG4gICAgICAgIGRheXBpY2tlckN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZGF5cGlja2VyQ3RybC5pbml0KGRhdGVwaWNrZXJDdHJsKTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd1aWJNb250aHBpY2tlcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3VpYi90ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWwnO1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydedWliRGF0ZXBpY2tlcicsICd1aWJNb250aHBpY2tlciddLFxuICAgIGNvbnRyb2xsZXI6ICdVaWJNb250aHBpY2tlckNvbnRyb2xsZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBkYXRlcGlja2VyQ3RybCA9IGN0cmxzWzBdLFxuICAgICAgICBtb250aHBpY2tlckN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgbW9udGhwaWNrZXJDdHJsLmluaXQoZGF0ZXBpY2tlckN0cmwpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3VpYlllYXJwaWNrZXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd1aWIvdGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWwnO1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydedWliRGF0ZXBpY2tlcicsICd1aWJZZWFycGlja2VyJ10sXG4gICAgY29udHJvbGxlcjogJ1VpYlllYXJwaWNrZXJDb250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgY3RybCA9IGN0cmxzWzBdO1xuICAgICAgYW5ndWxhci5leHRlbmQoY3RybCwgY3RybHNbMV0pO1xuICAgICAgY3RybC55ZWFycGlja2VySW5pdCgpO1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nLCBbXSlcblxuLyoqXG4gKiBBIHNldCBvZiB1dGlsaXR5IG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCB0aGUgRE9NLlxuICogSXQgaXMgbWVhbnQgdG8gYmUgdXNlZCB3aGVyZSB3ZSBuZWVkIHRvIGFic29sdXRlLXBvc2l0aW9uIGVsZW1lbnRzIGluXG4gKiByZWxhdGlvbiB0byBhbm90aGVyIGVsZW1lbnQgKHRoaXMgaXMgdGhlIGNhc2UgZm9yIHRvb2x0aXBzLCBwb3BvdmVycyxcbiAqIHR5cGVhaGVhZCBzdWdnZXN0aW9ucyBldGMuKS5cbiAqL1xuICAuZmFjdG9yeSgnJHVpYlBvc2l0aW9uJywgWyckZG9jdW1lbnQnLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRkb2N1bWVudCwgJHdpbmRvdykge1xuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgc2Nyb2xsYmFyV2lkdGgoKSBmdW5jdGlvbiB0byBjYWNoZSBzY3JvbGxiYXIncyB3aWR0aC5cbiAgICAgKiBEbyBub3QgYWNjZXNzIHRoaXMgdmFyaWFibGUgZGlyZWN0bHksIHVzZSBzY3JvbGxiYXJXaWR0aCgpIGluc3RlYWQuXG4gICAgICovXG4gICAgdmFyIFNDUk9MTEJBUl9XSURUSDtcbiAgICAvKipcbiAgICAgKiBzY3JvbGxiYXIgb24gYm9keSBhbmQgaHRtbCBlbGVtZW50IGluIElFIGFuZCBFZGdlIG92ZXJsYXlcbiAgICAgKiBjb250ZW50IGFuZCBzaG91bGQgYmUgY29uc2lkZXJlZCAwIHdpZHRoLlxuICAgICAqL1xuICAgIHZhciBCT0RZX1NDUk9MTEJBUl9XSURUSDtcbiAgICB2YXIgT1ZFUkZMT1dfUkVHRVggPSB7XG4gICAgICBub3JtYWw6IC8oYXV0b3xzY3JvbGwpLyxcbiAgICAgIGhpZGRlbjogLyhhdXRvfHNjcm9sbHxoaWRkZW4pL1xuICAgIH07XG4gICAgdmFyIFBMQUNFTUVOVF9SRUdFWCA9IHtcbiAgICAgIGF1dG86IC9cXHM/YXV0bz9cXHM/L2ksXG4gICAgICBwcmltYXJ5OiAvXih0b3B8Ym90dG9tfGxlZnR8cmlnaHQpJC8sXG4gICAgICBzZWNvbmRhcnk6IC9eKHRvcHxib3R0b218bGVmdHxyaWdodHxjZW50ZXIpJC8sXG4gICAgICB2ZXJ0aWNhbDogL14odG9wfGJvdHRvbSkkL1xuICAgIH07XG4gICAgdmFyIEJPRFlfUkVHRVggPSAvKEhUTUx8Qk9EWSkvO1xuXG4gICAgcmV0dXJuIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyBhIHJhdyBET00gZWxlbWVudCBmcm9tIGEgalF1ZXJ5L2pRTGl0ZSBlbGVtZW50LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbSAtIFRoZSBlbGVtZW50IHRvIGNvbnZlcnQuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2VsZW1lbnR9IEEgSFRNTCBlbGVtZW50LlxuICAgICAgICovXG4gICAgICBnZXRSYXdOb2RlOiBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgIHJldHVybiBlbGVtLm5vZGVOYW1lID8gZWxlbSA6IGVsZW1bMF0gfHwgZWxlbTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgYSBwYXJzZWQgbnVtYmVyIGZvciBhIHN0eWxlIHByb3BlcnR5LiAgU3RyaXBzXG4gICAgICAgKiB1bml0cyBhbmQgY2FzdHMgaW52YWxpZCBudW1iZXJzIHRvIDAuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVGhlIHN0eWxlIHZhbHVlIHRvIHBhcnNlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IEEgdmFsaWQgbnVtYmVyLlxuICAgICAgICovXG4gICAgICBwYXJzZVN0eWxlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgOiAwO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyB0aGUgY2xvc2VzdCBwb3NpdGlvbmVkIGFuY2VzdG9yLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IHRvIGdldCB0aGUgb2ZmZXN0IHBhcmVudCBmb3IuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2VsZW1lbnR9IFRoZSBjbG9zZXN0IHBvc2l0aW9uZWQgYW5jZXN0b3IuXG4gICAgICAgKi9cbiAgICAgIG9mZnNldFBhcmVudDogZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICBlbGVtID0gdGhpcy5nZXRSYXdOb2RlKGVsZW0pO1xuXG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBlbGVtLm9mZnNldFBhcmVudCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzU3RhdGljUG9zaXRpb25lZChlbCkge1xuICAgICAgICAgIHJldHVybiAoJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5wb3NpdGlvbiB8fCAnc3RhdGljJykgPT09ICdzdGF0aWMnO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQgIT09ICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkpIHtcbiAgICAgICAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9mZnNldFBhcmVudCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyB0aGUgc2Nyb2xsYmFyIHdpZHRoLCBjb25jZXB0IGZyb20gVFdCUyBtZWFzdXJlU2Nyb2xsYmFyKClcbiAgICAgICAqIGZ1bmN0aW9uIGluIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9qcy9tb2RhbC5qc1xuICAgICAgICogSW4gSUUgYW5kIEVkZ2UsIHNjb2xsYmFyIG9uIGJvZHkgYW5kIGh0bWwgZWxlbWVudCBvdmVybGF5IGFuZCBzaG91bGRcbiAgICAgICAqIHJldHVybiBhIHdpZHRoIG9mIDAuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge251bWJlcn0gVGhlIHdpZHRoIG9mIHRoZSBicm93c2VyIHNjb2xsYmFyLlxuICAgICAgICovXG4gICAgICBzY3JvbGxiYXJXaWR0aDogZnVuY3Rpb24oaXNCb2R5KSB7XG4gICAgICAgIGlmIChpc0JvZHkpIHtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChCT0RZX1NDUk9MTEJBUl9XSURUSCkpIHtcbiAgICAgICAgICAgIHZhciBib2R5RWxlbSA9ICRkb2N1bWVudC5maW5kKCdib2R5Jyk7XG4gICAgICAgICAgICBib2R5RWxlbS5hZGRDbGFzcygndWliLXBvc2l0aW9uLWJvZHktc2Nyb2xsYmFyLW1lYXN1cmUnKTtcbiAgICAgICAgICAgIEJPRFlfU0NST0xMQkFSX1dJRFRIID0gJHdpbmRvdy5pbm5lcldpZHRoIC0gYm9keUVsZW1bMF0uY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBCT0RZX1NDUk9MTEJBUl9XSURUSCA9IGlzRmluaXRlKEJPRFlfU0NST0xMQkFSX1dJRFRIKSA/IEJPRFlfU0NST0xMQkFSX1dJRFRIIDogMDtcbiAgICAgICAgICAgIGJvZHlFbGVtLnJlbW92ZUNsYXNzKCd1aWItcG9zaXRpb24tYm9keS1zY3JvbGxiYXItbWVhc3VyZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gQk9EWV9TQ1JPTExCQVJfV0lEVEg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChTQ1JPTExCQVJfV0lEVEgpKSB7XG4gICAgICAgICAgdmFyIHNjcm9sbEVsZW0gPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJ1aWItcG9zaXRpb24tc2Nyb2xsYmFyLW1lYXN1cmVcIj48L2Rpdj4nKTtcbiAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZChzY3JvbGxFbGVtKTtcbiAgICAgICAgICBTQ1JPTExCQVJfV0lEVEggPSBzY3JvbGxFbGVtWzBdLm9mZnNldFdpZHRoIC0gc2Nyb2xsRWxlbVswXS5jbGllbnRXaWR0aDtcbiAgICAgICAgICBTQ1JPTExCQVJfV0lEVEggPSBpc0Zpbml0ZShTQ1JPTExCQVJfV0lEVEgpID8gU0NST0xMQkFSX1dJRFRIIDogMDtcbiAgICAgICAgICBzY3JvbGxFbGVtLnJlbW92ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFNDUk9MTEJBUl9XSURUSDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgdGhlIHBhZGRpbmcgcmVxdWlyZWQgb24gYW4gZWxlbWVudCB0byByZXBsYWNlIHRoZSBzY3JvbGxiYXIuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge29iamVjdH0gQW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAgICogICA8dWw+XG4gICAgICAgKiAgICAgPGxpPioqc2Nyb2xsYmFyV2lkdGgqKjogdGhlIHdpZHRoIG9mIHRoZSBzY3JvbGxiYXI8L2xpPlxuICAgICAgICogICAgIDxsaT4qKndpZHRoT3ZlcmZsb3cqKjogd2hldGhlciB0aGUgdGhlIHdpZHRoIGlzIG92ZXJmbG93aW5nPC9saT5cbiAgICAgICAqICAgICA8bGk+KipyaWdodCoqOiB0aGUgYW1vdW50IG9mIHJpZ2h0IHBhZGRpbmcgb24gdGhlIGVsZW1lbnQgbmVlZGVkIHRvIHJlcGxhY2UgdGhlIHNjcm9sbGJhcjwvbGk+XG4gICAgICAgKiAgICAgPGxpPioqcmlnaHRPcmlnaW5hbCoqOiB0aGUgYW1vdW50IG9mIHJpZ2h0IHBhZGRpbmcgY3VycmVudGx5IG9uIHRoZSBlbGVtZW50PC9saT5cbiAgICAgICAqICAgICA8bGk+KipoZWlnaHRPdmVyZmxvdyoqOiB3aGV0aGVyIHRoZSB0aGUgaGVpZ2h0IGlzIG92ZXJmbG93aW5nPC9saT5cbiAgICAgICAqICAgICA8bGk+Kipib3R0b20qKjogdGhlIGFtb3VudCBvZiBib3R0b20gcGFkZGluZyBvbiB0aGUgZWxlbWVudCBuZWVkZWQgdG8gcmVwbGFjZSB0aGUgc2Nyb2xsYmFyPC9saT5cbiAgICAgICAqICAgICA8bGk+Kipib3R0b21PcmlnaW5hbCoqOiB0aGUgYW1vdW50IG9mIGJvdHRvbSBwYWRkaW5nIGN1cnJlbnRseSBvbiB0aGUgZWxlbWVudDwvbGk+XG4gICAgICAgKiAgIDwvdWw+XG4gICAgICAgKi9cbiAgICAgIHNjcm9sbGJhclBhZGRpbmc6IGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgZWxlbSA9IHRoaXMuZ2V0UmF3Tm9kZShlbGVtKTtcblxuICAgICAgICB2YXIgZWxlbVN0eWxlID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xuICAgICAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gdGhpcy5wYXJzZVN0eWxlKGVsZW1TdHlsZS5wYWRkaW5nUmlnaHQpO1xuICAgICAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHRoaXMucGFyc2VTdHlsZShlbGVtU3R5bGUucGFkZGluZ0JvdHRvbSk7XG4gICAgICAgIHZhciBzY3JvbGxQYXJlbnQgPSB0aGlzLnNjcm9sbFBhcmVudChlbGVtLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHRoaXMuc2Nyb2xsYmFyV2lkdGgoc2Nyb2xsUGFyZW50LCBCT0RZX1JFR0VYLnRlc3Qoc2Nyb2xsUGFyZW50LnRhZ05hbWUpKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiBzY3JvbGxiYXJXaWR0aCxcbiAgICAgICAgICB3aWR0aE92ZXJmbG93OiBzY3JvbGxQYXJlbnQuc2Nyb2xsV2lkdGggPiBzY3JvbGxQYXJlbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgcmlnaHQ6IHBhZGRpbmdSaWdodCArIHNjcm9sbGJhcldpZHRoLFxuICAgICAgICAgIG9yaWdpbmFsUmlnaHQ6IHBhZGRpbmdSaWdodCxcbiAgICAgICAgICBoZWlnaHRPdmVyZmxvdzogc2Nyb2xsUGFyZW50LnNjcm9sbEhlaWdodCA+IHNjcm9sbFBhcmVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgYm90dG9tOiBwYWRkaW5nQm90dG9tICsgc2Nyb2xsYmFyV2lkdGgsXG4gICAgICAgICAgb3JpZ2luYWxCb3R0b206IHBhZGRpbmdCb3R0b21cbiAgICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIENoZWNrcyB0byBzZWUgaWYgdGhlIGVsZW1lbnQgaXMgc2Nyb2xsYWJsZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW0gLSBUaGUgZWxlbWVudCB0byBjaGVjay5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbmNsdWRlSGlkZGVuPWZhbHNlXSAtIFNob3VsZCBzY3JvbGwgc3R5bGUgb2YgJ2hpZGRlbicgYmUgY29uc2lkZXJlZCxcbiAgICAgICAqICAgZGVmYXVsdCBpcyBmYWxzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZWxlbWVudCBpcyBzY3JvbGxhYmxlLlxuICAgICAgICovXG4gICAgICBpc1Njcm9sbGFibGU6IGZ1bmN0aW9uKGVsZW0sIGluY2x1ZGVIaWRkZW4pIHtcbiAgICAgICAgZWxlbSA9IHRoaXMuZ2V0UmF3Tm9kZShlbGVtKTtcblxuICAgICAgICB2YXIgb3ZlcmZsb3dSZWdleCA9IGluY2x1ZGVIaWRkZW4gPyBPVkVSRkxPV19SRUdFWC5oaWRkZW4gOiBPVkVSRkxPV19SRUdFWC5ub3JtYWw7XG4gICAgICAgIHZhciBlbGVtU3R5bGUgPSAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbSk7XG4gICAgICAgIHJldHVybiBvdmVyZmxvd1JlZ2V4LnRlc3QoZWxlbVN0eWxlLm92ZXJmbG93ICsgZWxlbVN0eWxlLm92ZXJmbG93WSArIGVsZW1TdHlsZS5vdmVyZmxvd1gpO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyB0aGUgY2xvc2VzdCBzY3JvbGxhYmxlIGFuY2VzdG9yLlxuICAgICAgICogQSBwb3J0IG9mIHRoZSBqUXVlcnkgVUkgc2Nyb2xsUGFyZW50IG1ldGhvZDpcbiAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5LXVpL2Jsb2IvbWFzdGVyL3VpL3Njcm9sbC1wYXJlbnQuanNcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW0gLSBUaGUgZWxlbWVudCB0byBmaW5kIHRoZSBzY3JvbGwgcGFyZW50IG9mLlxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2luY2x1ZGVIaWRkZW49ZmFsc2VdIC0gU2hvdWxkIHNjcm9sbCBzdHlsZSBvZiAnaGlkZGVuJyBiZSBjb25zaWRlcmVkLFxuICAgICAgICogICBkZWZhdWx0IGlzIGZhbHNlLlxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2luY2x1ZGVTZWxmPWZhbHNlXSAtIFNob3VsZCB0aGUgZWxlbWVudCBiZWluZyBwYXNzZWQgYmVcbiAgICAgICAqIGluY2x1ZGVkIGluIHRoZSBzY3JvbGxhYmxlIGxsb2t1cC5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7ZWxlbWVudH0gQSBIVE1MIGVsZW1lbnQuXG4gICAgICAgKi9cbiAgICAgIHNjcm9sbFBhcmVudDogZnVuY3Rpb24oZWxlbSwgaW5jbHVkZUhpZGRlbiwgaW5jbHVkZVNlbGYpIHtcbiAgICAgICAgZWxlbSA9IHRoaXMuZ2V0UmF3Tm9kZShlbGVtKTtcblxuICAgICAgICB2YXIgb3ZlcmZsb3dSZWdleCA9IGluY2x1ZGVIaWRkZW4gPyBPVkVSRkxPV19SRUdFWC5oaWRkZW4gOiBPVkVSRkxPV19SRUdFWC5ub3JtYWw7XG4gICAgICAgIHZhciBkb2N1bWVudEVsID0gJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgdmFyIGVsZW1TdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgICAgaWYgKGluY2x1ZGVTZWxmICYmIG92ZXJmbG93UmVnZXgudGVzdChlbGVtU3R5bGUub3ZlcmZsb3cgKyBlbGVtU3R5bGUub3ZlcmZsb3dZICsgZWxlbVN0eWxlLm92ZXJmbG93WCkpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXhjbHVkZVN0YXRpYyA9IGVsZW1TdHlsZS5wb3NpdGlvbiA9PT0gJ2Fic29sdXRlJztcbiAgICAgICAgdmFyIHNjcm9sbFBhcmVudCA9IGVsZW0ucGFyZW50RWxlbWVudCB8fCBkb2N1bWVudEVsO1xuXG4gICAgICAgIGlmIChzY3JvbGxQYXJlbnQgPT09IGRvY3VtZW50RWwgfHwgZWxlbVN0eWxlLnBvc2l0aW9uID09PSAnZml4ZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIGRvY3VtZW50RWw7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoc2Nyb2xsUGFyZW50LnBhcmVudEVsZW1lbnQgJiYgc2Nyb2xsUGFyZW50ICE9PSBkb2N1bWVudEVsKSB7XG4gICAgICAgICAgdmFyIHNwU3R5bGUgPSAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoc2Nyb2xsUGFyZW50KTtcbiAgICAgICAgICBpZiAoZXhjbHVkZVN0YXRpYyAmJiBzcFN0eWxlLnBvc2l0aW9uICE9PSAnc3RhdGljJykge1xuICAgICAgICAgICAgZXhjbHVkZVN0YXRpYyA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghZXhjbHVkZVN0YXRpYyAmJiBvdmVyZmxvd1JlZ2V4LnRlc3Qoc3BTdHlsZS5vdmVyZmxvdyArIHNwU3R5bGUub3ZlcmZsb3dZICsgc3BTdHlsZS5vdmVyZmxvd1gpKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgc2Nyb2xsUGFyZW50ID0gc2Nyb2xsUGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2Nyb2xsUGFyZW50O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBwb3NpdGlvbiBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wb3NpdGlvbi8gLSBkaXN0YW5jZSB0byBjbG9zZXN0IHBvc2l0aW9uZWRcbiAgICAgICAqIGFuY2VzdG9yLiAgRG9lcyBub3QgYWNjb3VudCBmb3IgbWFyZ2lucyBieSBkZWZhdWx0IGxpa2UgalF1ZXJ5IHBvc2l0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gZWxlbSAtIFRoZSBlbGVtZW50IHRvIGNhY2x1bGF0ZSB0aGUgcG9zaXRpb24gb24uXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbaW5jbHVkZU1hcmdpbnM9ZmFsc2VdIC0gU2hvdWxkIG1hcmdpbnMgYmUgYWNjb3VudGVkXG4gICAgICAgKiBmb3IsIGRlZmF1bHQgaXMgZmFsc2UuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge29iamVjdH0gQW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAgICogICA8dWw+XG4gICAgICAgKiAgICAgPGxpPioqd2lkdGgqKjogdGhlIHdpZHRoIG9mIHRoZSBlbGVtZW50PC9saT5cbiAgICAgICAqICAgICA8bGk+KipoZWlnaHQqKjogdGhlIGhlaWdodCBvZiB0aGUgZWxlbWVudDwvbGk+XG4gICAgICAgKiAgICAgPGxpPioqdG9wKio6IGRpc3RhbmNlIHRvIHRvcCBlZGdlIG9mIG9mZnNldCBwYXJlbnQ8L2xpPlxuICAgICAgICogICAgIDxsaT4qKmxlZnQqKjogZGlzdGFuY2UgdG8gbGVmdCBlZGdlIG9mIG9mZnNldCBwYXJlbnQ8L2xpPlxuICAgICAgICogICA8L3VsPlxuICAgICAgICovXG4gICAgICBwb3NpdGlvbjogZnVuY3Rpb24oZWxlbSwgaW5jbHVkZU1hZ2lucykge1xuICAgICAgICBlbGVtID0gdGhpcy5nZXRSYXdOb2RlKGVsZW0pO1xuXG4gICAgICAgIHZhciBlbGVtT2Zmc2V0ID0gdGhpcy5vZmZzZXQoZWxlbSk7XG4gICAgICAgIGlmIChpbmNsdWRlTWFnaW5zKSB7XG4gICAgICAgICAgdmFyIGVsZW1TdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgICAgICBlbGVtT2Zmc2V0LnRvcCAtPSB0aGlzLnBhcnNlU3R5bGUoZWxlbVN0eWxlLm1hcmdpblRvcCk7XG4gICAgICAgICAgZWxlbU9mZnNldC5sZWZ0IC09IHRoaXMucGFyc2VTdHlsZShlbGVtU3R5bGUubWFyZ2luTGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KGVsZW0pO1xuICAgICAgICB2YXIgcGFyZW50T2Zmc2V0ID0ge3RvcDogMCwgbGVmdDogMH07XG5cbiAgICAgICAgaWYgKHBhcmVudCAhPT0gJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgICAgIHBhcmVudE9mZnNldCA9IHRoaXMub2Zmc2V0KHBhcmVudCk7XG4gICAgICAgICAgcGFyZW50T2Zmc2V0LnRvcCArPSBwYXJlbnQuY2xpZW50VG9wIC0gcGFyZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICBwYXJlbnRPZmZzZXQubGVmdCArPSBwYXJlbnQuY2xpZW50TGVmdCAtIHBhcmVudC5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogTWF0aC5yb3VuZChhbmd1bGFyLmlzTnVtYmVyKGVsZW1PZmZzZXQud2lkdGgpID8gZWxlbU9mZnNldC53aWR0aCA6IGVsZW0ub2Zmc2V0V2lkdGgpLFxuICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChhbmd1bGFyLmlzTnVtYmVyKGVsZW1PZmZzZXQuaGVpZ2h0KSA/IGVsZW1PZmZzZXQuaGVpZ2h0IDogZWxlbS5vZmZzZXRIZWlnaHQpLFxuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChlbGVtT2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQoZWxlbU9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQpXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIHJlYWQtb25seSBlcXVpdmFsZW50IG9mIGpRdWVyeSdzIG9mZnNldCBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmZzZXQvIC0gZGlzdGFuY2UgdG8gdmlld3BvcnQuICBEb2VzXG4gICAgICAgKiBub3QgYWNjb3VudCBmb3IgYm9yZGVycywgbWFyZ2lucywgb3IgcGFkZGluZyBvbiB0aGUgYm9keVxuICAgICAgICogZWxlbWVudC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW0gLSBUaGUgZWxlbWVudCB0byBjYWxjdWxhdGUgdGhlIG9mZnNldCBvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBBbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKiAgIDx1bD5cbiAgICAgICAqICAgICA8bGk+Kip3aWR0aCoqOiB0aGUgd2lkdGggb2YgdGhlIGVsZW1lbnQ8L2xpPlxuICAgICAgICogICAgIDxsaT4qKmhlaWdodCoqOiB0aGUgaGVpZ2h0IG9mIHRoZSBlbGVtZW50PC9saT5cbiAgICAgICAqICAgICA8bGk+Kip0b3AqKjogZGlzdGFuY2UgdG8gdG9wIGVkZ2Ugb2Ygdmlld3BvcnQ8L2xpPlxuICAgICAgICogICAgIDxsaT4qKnJpZ2h0Kio6IGRpc3RhbmNlIHRvIGJvdHRvbSBlZGdlIG9mIHZpZXdwb3J0PC9saT5cbiAgICAgICAqICAgPC91bD5cbiAgICAgICAqL1xuICAgICAgb2Zmc2V0OiBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgIGVsZW0gPSB0aGlzLmdldFJhd05vZGUoZWxlbSk7XG5cbiAgICAgICAgdmFyIGVsZW1CQ1IgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKGFuZ3VsYXIuaXNOdW1iZXIoZWxlbUJDUi53aWR0aCkgPyBlbGVtQkNSLndpZHRoIDogZWxlbS5vZmZzZXRXaWR0aCksXG4gICAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGFuZ3VsYXIuaXNOdW1iZXIoZWxlbUJDUi5oZWlnaHQpID8gZWxlbUJDUi5oZWlnaHQgOiBlbGVtLm9mZnNldEhlaWdodCksXG4gICAgICAgICAgdG9wOiBNYXRoLnJvdW5kKGVsZW1CQ1IudG9wICsgKCR3aW5kb3cucGFnZVlPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApKSxcbiAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKGVsZW1CQ1IubGVmdCArICgkd2luZG93LnBhZ2VYT2Zmc2V0IHx8ICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkpXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFByb3ZpZGVzIG9mZnNldCBkaXN0YW5jZSB0byB0aGUgY2xvc2VzdCBzY3JvbGxhYmxlIGFuY2VzdG9yXG4gICAgICAgKiBvciB2aWV3cG9ydC4gIEFjY291bnRzIGZvciBib3JkZXIgYW5kIHNjcm9sbGJhciB3aWR0aC5cbiAgICAgICAqXG4gICAgICAgKiBSaWdodCBhbmQgYm90dG9tIGRpbWVuc2lvbnMgcmVwcmVzZW50IHRoZSBkaXN0YW5jZSB0byB0aGVcbiAgICAgICAqIHJlc3BlY3RpdmUgZWRnZSBvZiB0aGUgdmlld3BvcnQgZWxlbWVudC4gIElmIHRoZSBlbGVtZW50XG4gICAgICAgKiBlZGdlIGV4dGVuZHMgYmV5b25kIHRoZSB2aWV3cG9ydCwgYSBuZWdhdGl2ZSB2YWx1ZSB3aWxsIGJlXG4gICAgICAgKiByZXBvcnRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW0gLSBUaGUgZWxlbWVudCB0byBnZXQgdGhlIHZpZXdwb3J0IG9mZnNldCBmb3IuXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbdXNlRG9jdW1lbnQ9ZmFsc2VdIC0gU2hvdWxkIHRoZSB2aWV3cG9ydCBiZSB0aGUgZG9jdW1lbnQgZWxlbWVudCBpbnN0ZWFkXG4gICAgICAgKiBvZiB0aGUgZmlyc3Qgc2Nyb2xsYWJsZSBlbGVtZW50LCBkZWZhdWx0IGlzIGZhbHNlLlxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2luY2x1ZGVQYWRkaW5nPXRydWVdIC0gU2hvdWxkIHRoZSBwYWRkaW5nIG9uIHRoZSBvZmZzZXQgcGFyZW50IGVsZW1lbnRcbiAgICAgICAqIGJlIGFjY291bnRlZCBmb3IsIGRlZmF1bHQgaXMgdHJ1ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBBbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgKiAgIDx1bD5cbiAgICAgICAqICAgICA8bGk+Kip0b3AqKjogZGlzdGFuY2UgdG8gdGhlIHRvcCBjb250ZW50IGVkZ2Ugb2Ygdmlld3BvcnQgZWxlbWVudDwvbGk+XG4gICAgICAgKiAgICAgPGxpPioqYm90dG9tKio6IGRpc3RhbmNlIHRvIHRoZSBib3R0b20gY29udGVudCBlZGdlIG9mIHZpZXdwb3J0IGVsZW1lbnQ8L2xpPlxuICAgICAgICogICAgIDxsaT4qKmxlZnQqKjogZGlzdGFuY2UgdG8gdGhlIGxlZnQgY29udGVudCBlZGdlIG9mIHZpZXdwb3J0IGVsZW1lbnQ8L2xpPlxuICAgICAgICogICAgIDxsaT4qKnJpZ2h0Kio6IGRpc3RhbmNlIHRvIHRoZSByaWdodCBjb250ZW50IGVkZ2Ugb2Ygdmlld3BvcnQgZWxlbWVudDwvbGk+XG4gICAgICAgKiAgIDwvdWw+XG4gICAgICAgKi9cbiAgICAgIHZpZXdwb3J0T2Zmc2V0OiBmdW5jdGlvbihlbGVtLCB1c2VEb2N1bWVudCwgaW5jbHVkZVBhZGRpbmcpIHtcbiAgICAgICAgZWxlbSA9IHRoaXMuZ2V0UmF3Tm9kZShlbGVtKTtcbiAgICAgICAgaW5jbHVkZVBhZGRpbmcgPSBpbmNsdWRlUGFkZGluZyAhPT0gZmFsc2UgPyB0cnVlIDogZmFsc2U7XG5cbiAgICAgICAgdmFyIGVsZW1CQ1IgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgb2Zmc2V0QkNSID0ge3RvcDogMCwgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMH07XG5cbiAgICAgICAgdmFyIG9mZnNldFBhcmVudCA9IHVzZURvY3VtZW50ID8gJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudCA6IHRoaXMuc2Nyb2xsUGFyZW50KGVsZW0pO1xuICAgICAgICB2YXIgb2Zmc2V0UGFyZW50QkNSID0gb2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIG9mZnNldEJDUi50b3AgPSBvZmZzZXRQYXJlbnRCQ1IudG9wICsgb2Zmc2V0UGFyZW50LmNsaWVudFRvcDtcbiAgICAgICAgb2Zmc2V0QkNSLmxlZnQgPSBvZmZzZXRQYXJlbnRCQ1IubGVmdCArIG9mZnNldFBhcmVudC5jbGllbnRMZWZ0O1xuICAgICAgICBpZiAob2Zmc2V0UGFyZW50ID09PSAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgb2Zmc2V0QkNSLnRvcCArPSAkd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAgIG9mZnNldEJDUi5sZWZ0ICs9ICR3aW5kb3cucGFnZVhPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0QkNSLmJvdHRvbSA9IG9mZnNldEJDUi50b3AgKyBvZmZzZXRQYXJlbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICBvZmZzZXRCQ1IucmlnaHQgPSBvZmZzZXRCQ1IubGVmdCArIG9mZnNldFBhcmVudC5jbGllbnRXaWR0aDtcblxuICAgICAgICBpZiAoaW5jbHVkZVBhZGRpbmcpIHtcbiAgICAgICAgICB2YXIgb2Zmc2V0UGFyZW50U3R5bGUgPSAkd2luZG93LmdldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KTtcbiAgICAgICAgICBvZmZzZXRCQ1IudG9wICs9IHRoaXMucGFyc2VTdHlsZShvZmZzZXRQYXJlbnRTdHlsZS5wYWRkaW5nVG9wKTtcbiAgICAgICAgICBvZmZzZXRCQ1IuYm90dG9tIC09IHRoaXMucGFyc2VTdHlsZShvZmZzZXRQYXJlbnRTdHlsZS5wYWRkaW5nQm90dG9tKTtcbiAgICAgICAgICBvZmZzZXRCQ1IubGVmdCArPSB0aGlzLnBhcnNlU3R5bGUob2Zmc2V0UGFyZW50U3R5bGUucGFkZGluZ0xlZnQpO1xuICAgICAgICAgIG9mZnNldEJDUi5yaWdodCAtPSB0aGlzLnBhcnNlU3R5bGUob2Zmc2V0UGFyZW50U3R5bGUucGFkZGluZ1JpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdG9wOiBNYXRoLnJvdW5kKGVsZW1CQ1IudG9wIC0gb2Zmc2V0QkNSLnRvcCksXG4gICAgICAgICAgYm90dG9tOiBNYXRoLnJvdW5kKG9mZnNldEJDUi5ib3R0b20gLSBlbGVtQkNSLmJvdHRvbSksXG4gICAgICAgICAgbGVmdDogTWF0aC5yb3VuZChlbGVtQkNSLmxlZnQgLSBvZmZzZXRCQ1IubGVmdCksXG4gICAgICAgICAgcmlnaHQ6IE1hdGgucm91bmQob2Zmc2V0QkNSLnJpZ2h0IC0gZWxlbUJDUi5yaWdodClcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUHJvdmlkZXMgYW4gYXJyYXkgb2YgcGxhY2VtZW50IHZhbHVlcyBwYXJzZWQgZnJvbSBhIHBsYWNlbWVudCBzdHJpbmcuXG4gICAgICAgKiBBbG9uZyB3aXRoIHRoZSAnYXV0bycgaW5kaWNhdG9yLCBzdXBwb3J0ZWQgcGxhY2VtZW50IHN0cmluZ3MgYXJlOlxuICAgICAgICogICA8dWw+XG4gICAgICAgKiAgICAgPGxpPnRvcDogZWxlbWVudCBvbiB0b3AsIGhvcml6b250YWxseSBjZW50ZXJlZCBvbiBob3N0IGVsZW1lbnQuPC9saT5cbiAgICAgICAqICAgICA8bGk+dG9wLWxlZnQ6IGVsZW1lbnQgb24gdG9wLCBsZWZ0IGVkZ2UgYWxpZ25lZCB3aXRoIGhvc3QgZWxlbWVudCBsZWZ0IGVkZ2UuPC9saT5cbiAgICAgICAqICAgICA8bGk+dG9wLXJpZ2h0OiBlbGVtZW50IG9uIHRvcCwgbGVyaWdodGZ0IGVkZ2UgYWxpZ25lZCB3aXRoIGhvc3QgZWxlbWVudCByaWdodCBlZGdlLjwvbGk+XG4gICAgICAgKiAgICAgPGxpPmJvdHRvbTogZWxlbWVudCBvbiBib3R0b20sIGhvcml6b250YWxseSBjZW50ZXJlZCBvbiBob3N0IGVsZW1lbnQuPC9saT5cbiAgICAgICAqICAgICA8bGk+Ym90dG9tLWxlZnQ6IGVsZW1lbnQgb24gYm90dG9tLCBsZWZ0IGVkZ2UgYWxpZ25lZCB3aXRoIGhvc3QgZWxlbWVudCBsZWZ0IGVkZ2UuPC9saT5cbiAgICAgICAqICAgICA8bGk+Ym90dG9tLXJpZ2h0OiBlbGVtZW50IG9uIGJvdHRvbSwgcmlnaHQgZWRnZSBhbGlnbmVkIHdpdGggaG9zdCBlbGVtZW50IHJpZ2h0IGVkZ2UuPC9saT5cbiAgICAgICAqICAgICA8bGk+bGVmdDogZWxlbWVudCBvbiBsZWZ0LCB2ZXJ0aWNhbGx5IGNlbnRlcmVkIG9uIGhvc3QgZWxlbWVudC48L2xpPlxuICAgICAgICogICAgIDxsaT5sZWZ0LXRvcDogZWxlbWVudCBvbiBsZWZ0LCB0b3AgZWRnZSBhbGlnbmVkIHdpdGggaG9zdCBlbGVtZW50IHRvcCBlZGdlLjwvbGk+XG4gICAgICAgKiAgICAgPGxpPmxlZnQtYm90dG9tOiBlbGVtZW50IG9uIGxlZnQsIGJvdHRvbSBlZGdlIGFsaWduZWQgd2l0aCBob3N0IGVsZW1lbnQgYm90dG9tIGVkZ2UuPC9saT5cbiAgICAgICAqICAgICA8bGk+cmlnaHQ6IGVsZW1lbnQgb24gcmlnaHQsIHZlcnRpY2FsbHkgY2VudGVyZWQgb24gaG9zdCBlbGVtZW50LjwvbGk+XG4gICAgICAgKiAgICAgPGxpPnJpZ2h0LXRvcDogZWxlbWVudCBvbiByaWdodCwgdG9wIGVkZ2UgYWxpZ25lZCB3aXRoIGhvc3QgZWxlbWVudCB0b3AgZWRnZS48L2xpPlxuICAgICAgICogICAgIDxsaT5yaWdodC1ib3R0b206IGVsZW1lbnQgb24gcmlnaHQsIGJvdHRvbSBlZGdlIGFsaWduZWQgd2l0aCBob3N0IGVsZW1lbnQgYm90dG9tIGVkZ2UuPC9saT5cbiAgICAgICAqICAgPC91bD5cbiAgICAgICAqIEEgcGxhY2VtZW50IHN0cmluZyB3aXRoIGFuICdhdXRvJyBpbmRpY2F0b3IgaXMgZXhwZWN0ZWQgdG8gYmVcbiAgICAgICAqIHNwYWNlIHNlcGFyYXRlZCBmcm9tIHRoZSBwbGFjZW1lbnQsIGkuZTogJ2F1dG8gYm90dG9tLWxlZnQnICBJZlxuICAgICAgICogdGhlIHByaW1hcnkgYW5kIHNlY29uZGFyeSBwbGFjZW1lbnQgdmFsdWVzIGRvIG5vdCBtYXRjaCAndG9wLFxuICAgICAgICogYm90dG9tLCBsZWZ0LCByaWdodCcgdGhlbiAndG9wJyB3aWxsIGJlIHRoZSBwcmltYXJ5IHBsYWNlbWVudCBhbmRcbiAgICAgICAqICdjZW50ZXInIHdpbGwgYmUgdGhlIHNlY29uZGFyeSBwbGFjZW1lbnQuICBJZiAnYXV0bycgaXMgcGFzc2VkLCB0cnVlXG4gICAgICAgKiB3aWxsIGJlIHJldHVybmVkIGFzIHRoZSAzcmQgdmFsdWUgb2YgdGhlIGFycmF5LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbGFjZW1lbnQgLSBUaGUgcGxhY2VtZW50IHN0cmluZyB0byBwYXJzZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJucyB7YXJyYXl9IEFuIGFycmF5IHdpdGggdGhlIGZvbGxvd2luZyB2YWx1ZXNcbiAgICAgICAqIDx1bD5cbiAgICAgICAqICAgPGxpPioqWzBdKio6IFRoZSBwcmltYXJ5IHBsYWNlbWVudC48L2xpPlxuICAgICAgICogICA8bGk+KipbMV0qKjogVGhlIHNlY29uZGFyeSBwbGFjZW1lbnQuPC9saT5cbiAgICAgICAqICAgPGxpPioqWzJdKio6IElmIGF1dG8gaXMgcGFzc2VkOiB0cnVlLCBlbHNlIHVuZGVmaW5lZC48L2xpPlxuICAgICAgICogPC91bD5cbiAgICAgICAqL1xuICAgICAgcGFyc2VQbGFjZW1lbnQ6IGZ1bmN0aW9uKHBsYWNlbWVudCkge1xuICAgICAgICB2YXIgYXV0b1BsYWNlID0gUExBQ0VNRU5UX1JFR0VYLmF1dG8udGVzdChwbGFjZW1lbnQpO1xuICAgICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgICAgcGxhY2VtZW50ID0gcGxhY2VtZW50LnJlcGxhY2UoUExBQ0VNRU5UX1JFR0VYLmF1dG8sICcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpO1xuXG4gICAgICAgIHBsYWNlbWVudFswXSA9IHBsYWNlbWVudFswXSB8fCAndG9wJztcbiAgICAgICAgaWYgKCFQTEFDRU1FTlRfUkVHRVgucHJpbWFyeS50ZXN0KHBsYWNlbWVudFswXSkpIHtcbiAgICAgICAgICBwbGFjZW1lbnRbMF0gPSAndG9wJztcbiAgICAgICAgfVxuXG4gICAgICAgIHBsYWNlbWVudFsxXSA9IHBsYWNlbWVudFsxXSB8fCAnY2VudGVyJztcbiAgICAgICAgaWYgKCFQTEFDRU1FTlRfUkVHRVguc2Vjb25kYXJ5LnRlc3QocGxhY2VtZW50WzFdKSkge1xuICAgICAgICAgIHBsYWNlbWVudFsxXSA9ICdjZW50ZXInO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF1dG9QbGFjZSkge1xuICAgICAgICAgIHBsYWNlbWVudFsyXSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGxhY2VtZW50WzJdID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGxhY2VtZW50O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyBjb29yZGluYXRlcyBmb3IgYW4gZWxlbWVudCB0byBiZSBwb3NpdGlvbmVkIHJlbGF0aXZlIHRvXG4gICAgICAgKiBhbm90aGVyIGVsZW1lbnQuICBQYXNzaW5nICdhdXRvJyBhcyBwYXJ0IG9mIHRoZSBwbGFjZW1lbnQgcGFyYW1ldGVyXG4gICAgICAgKiB3aWxsIGVuYWJsZSBzbWFydCBwbGFjZW1lbnQgLSB3aGVyZSB0aGUgZWxlbWVudCBmaXRzLiBpLmU6XG4gICAgICAgKiAnYXV0byBsZWZ0LXRvcCcgd2lsbCBjaGVjayB0byBzZWUgaWYgdGhlcmUgaXMgZW5vdWdoIHNwYWNlIHRvIHRoZSBsZWZ0XG4gICAgICAgKiBvZiB0aGUgaG9zdEVsZW0gdG8gZml0IHRoZSB0YXJnZXRFbGVtLCBpZiBub3QgcGxhY2UgcmlnaHQgKHNhbWUgZm9yIHNlY29uZGFyeVxuICAgICAgICogdG9wIHBsYWNlbWVudCkuICBBdmFpbGFibGUgc3BhY2UgaXMgY2FsY3VsYXRlZCB1c2luZyB0aGUgdmlld3BvcnRPZmZzZXRcbiAgICAgICAqIGZ1bmN0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZWxlbWVudH0gaG9zdEVsZW0gLSBUaGUgZWxlbWVudCB0byBwb3NpdGlvbiBhZ2FpbnN0LlxuICAgICAgICogQHBhcmFtIHtlbGVtZW50fSB0YXJnZXRFbGVtIC0gVGhlIGVsZW1lbnQgdG8gcG9zaXRpb24uXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IFtwbGFjZW1lbnQ9dG9wXSAtIFRoZSBwbGFjZW1lbnQgZm9yIHRoZSB0YXJnZXRFbGVtLFxuICAgICAgICogICBkZWZhdWx0IGlzICd0b3AnLiAnY2VudGVyJyBpcyBhc3N1bWVkIGFzIHNlY29uZGFyeSBwbGFjZW1lbnQgZm9yXG4gICAgICAgKiAgICd0b3AnLCAnbGVmdCcsICdyaWdodCcsIGFuZCAnYm90dG9tJyBwbGFjZW1lbnRzLiAgQXZhaWxhYmxlIHBsYWNlbWVudHMgYXJlOlxuICAgICAgICogICA8dWw+XG4gICAgICAgKiAgICAgPGxpPnRvcDwvbGk+XG4gICAgICAgKiAgICAgPGxpPnRvcC1yaWdodDwvbGk+XG4gICAgICAgKiAgICAgPGxpPnRvcC1sZWZ0PC9saT5cbiAgICAgICAqICAgICA8bGk+Ym90dG9tPC9saT5cbiAgICAgICAqICAgICA8bGk+Ym90dG9tLWxlZnQ8L2xpPlxuICAgICAgICogICAgIDxsaT5ib3R0b20tcmlnaHQ8L2xpPlxuICAgICAgICogICAgIDxsaT5sZWZ0PC9saT5cbiAgICAgICAqICAgICA8bGk+bGVmdC10b3A8L2xpPlxuICAgICAgICogICAgIDxsaT5sZWZ0LWJvdHRvbTwvbGk+XG4gICAgICAgKiAgICAgPGxpPnJpZ2h0PC9saT5cbiAgICAgICAqICAgICA8bGk+cmlnaHQtdG9wPC9saT5cbiAgICAgICAqICAgICA8bGk+cmlnaHQtYm90dG9tPC9saT5cbiAgICAgICAqICAgPC91bD5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFthcHBlbmRUb0JvZHk9ZmFsc2VdIC0gU2hvdWxkIHRoZSB0b3AgYW5kIGxlZnQgdmFsdWVzIHJldHVybmVkXG4gICAgICAgKiAgIGJlIGNhbGN1bGF0ZWQgZnJvbSB0aGUgYm9keSBlbGVtZW50LCBkZWZhdWx0IGlzIGZhbHNlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgICAqICAgPHVsPlxuICAgICAgICogICAgIDxsaT4qKnRvcCoqOiBWYWx1ZSBmb3IgdGFyZ2V0RWxlbSB0b3AuPC9saT5cbiAgICAgICAqICAgICA8bGk+KipsZWZ0Kio6IFZhbHVlIGZvciB0YXJnZXRFbGVtIGxlZnQuPC9saT5cbiAgICAgICAqICAgICA8bGk+KipwbGFjZW1lbnQqKjogVGhlIHJlc29sdmVkIHBsYWNlbWVudC48L2xpPlxuICAgICAgICogICA8L3VsPlxuICAgICAgICovXG4gICAgICBwb3NpdGlvbkVsZW1lbnRzOiBmdW5jdGlvbihob3N0RWxlbSwgdGFyZ2V0RWxlbSwgcGxhY2VtZW50LCBhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgaG9zdEVsZW0gPSB0aGlzLmdldFJhd05vZGUoaG9zdEVsZW0pO1xuICAgICAgICB0YXJnZXRFbGVtID0gdGhpcy5nZXRSYXdOb2RlKHRhcmdldEVsZW0pO1xuXG4gICAgICAgIC8vIG5lZWQgdG8gcmVhZCBmcm9tIHByb3AgdG8gc3VwcG9ydCB0ZXN0cy5cbiAgICAgICAgdmFyIHRhcmdldFdpZHRoID0gYW5ndWxhci5pc0RlZmluZWQodGFyZ2V0RWxlbS5vZmZzZXRXaWR0aCkgPyB0YXJnZXRFbGVtLm9mZnNldFdpZHRoIDogdGFyZ2V0RWxlbS5wcm9wKCdvZmZzZXRXaWR0aCcpO1xuICAgICAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gYW5ndWxhci5pc0RlZmluZWQodGFyZ2V0RWxlbS5vZmZzZXRIZWlnaHQpID8gdGFyZ2V0RWxlbS5vZmZzZXRIZWlnaHQgOiB0YXJnZXRFbGVtLnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgIHBsYWNlbWVudCA9IHRoaXMucGFyc2VQbGFjZW1lbnQocGxhY2VtZW50KTtcblxuICAgICAgICB2YXIgaG9zdEVsZW1Qb3MgPSBhcHBlbmRUb0JvZHkgPyB0aGlzLm9mZnNldChob3N0RWxlbSkgOiB0aGlzLnBvc2l0aW9uKGhvc3RFbGVtKTtcbiAgICAgICAgdmFyIHRhcmdldEVsZW1Qb3MgPSB7dG9wOiAwLCBsZWZ0OiAwLCBwbGFjZW1lbnQ6ICcnfTtcblxuICAgICAgICBpZiAocGxhY2VtZW50WzJdKSB7XG4gICAgICAgICAgdmFyIHZpZXdwb3J0T2Zmc2V0ID0gdGhpcy52aWV3cG9ydE9mZnNldChob3N0RWxlbSwgYXBwZW5kVG9Cb2R5KTtcblxuICAgICAgICAgIHZhciB0YXJnZXRFbGVtU3R5bGUgPSAkd2luZG93LmdldENvbXB1dGVkU3R5bGUodGFyZ2V0RWxlbSk7XG4gICAgICAgICAgdmFyIGFkanVzdGVkU2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiB0YXJnZXRXaWR0aCArIE1hdGgucm91bmQoTWF0aC5hYnModGhpcy5wYXJzZVN0eWxlKHRhcmdldEVsZW1TdHlsZS5tYXJnaW5MZWZ0KSArIHRoaXMucGFyc2VTdHlsZSh0YXJnZXRFbGVtU3R5bGUubWFyZ2luUmlnaHQpKSksXG4gICAgICAgICAgICBoZWlnaHQ6IHRhcmdldEhlaWdodCArIE1hdGgucm91bmQoTWF0aC5hYnModGhpcy5wYXJzZVN0eWxlKHRhcmdldEVsZW1TdHlsZS5tYXJnaW5Ub3ApICsgdGhpcy5wYXJzZVN0eWxlKHRhcmdldEVsZW1TdHlsZS5tYXJnaW5Cb3R0b20pKSlcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcGxhY2VtZW50WzBdID0gcGxhY2VtZW50WzBdID09PSAndG9wJyAmJiBhZGp1c3RlZFNpemUuaGVpZ2h0ID4gdmlld3BvcnRPZmZzZXQudG9wICYmIGFkanVzdGVkU2l6ZS5oZWlnaHQgPD0gdmlld3BvcnRPZmZzZXQuYm90dG9tID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudFswXSA9PT0gJ2JvdHRvbScgJiYgYWRqdXN0ZWRTaXplLmhlaWdodCA+IHZpZXdwb3J0T2Zmc2V0LmJvdHRvbSAmJiBhZGp1c3RlZFNpemUuaGVpZ2h0IDw9IHZpZXdwb3J0T2Zmc2V0LnRvcCA/ICd0b3AnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRbMF0gPT09ICdsZWZ0JyAmJiBhZGp1c3RlZFNpemUud2lkdGggPiB2aWV3cG9ydE9mZnNldC5sZWZ0ICYmIGFkanVzdGVkU2l6ZS53aWR0aCA8PSB2aWV3cG9ydE9mZnNldC5yaWdodCA/ICdyaWdodCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudFswXSA9PT0gJ3JpZ2h0JyAmJiBhZGp1c3RlZFNpemUud2lkdGggPiB2aWV3cG9ydE9mZnNldC5yaWdodCAmJiBhZGp1c3RlZFNpemUud2lkdGggPD0gdmlld3BvcnRPZmZzZXQubGVmdCA/ICdsZWZ0JyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50WzBdO1xuXG4gICAgICAgICAgcGxhY2VtZW50WzFdID0gcGxhY2VtZW50WzFdID09PSAndG9wJyAmJiBhZGp1c3RlZFNpemUuaGVpZ2h0IC0gaG9zdEVsZW1Qb3MuaGVpZ2h0ID4gdmlld3BvcnRPZmZzZXQuYm90dG9tICYmIGFkanVzdGVkU2l6ZS5oZWlnaHQgLSBob3N0RWxlbVBvcy5oZWlnaHQgPD0gdmlld3BvcnRPZmZzZXQudG9wID8gJ2JvdHRvbScgOlxuICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudFsxXSA9PT0gJ2JvdHRvbScgJiYgYWRqdXN0ZWRTaXplLmhlaWdodCAtIGhvc3RFbGVtUG9zLmhlaWdodCA+IHZpZXdwb3J0T2Zmc2V0LnRvcCAmJiBhZGp1c3RlZFNpemUuaGVpZ2h0IC0gaG9zdEVsZW1Qb3MuaGVpZ2h0IDw9IHZpZXdwb3J0T2Zmc2V0LmJvdHRvbSA/ICd0b3AnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRbMV0gPT09ICdsZWZ0JyAmJiBhZGp1c3RlZFNpemUud2lkdGggLSBob3N0RWxlbVBvcy53aWR0aCA+IHZpZXdwb3J0T2Zmc2V0LnJpZ2h0ICYmIGFkanVzdGVkU2l6ZS53aWR0aCAtIGhvc3RFbGVtUG9zLndpZHRoIDw9IHZpZXdwb3J0T2Zmc2V0LmxlZnQgPyAncmlnaHQnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRbMV0gPT09ICdyaWdodCcgJiYgYWRqdXN0ZWRTaXplLndpZHRoIC0gaG9zdEVsZW1Qb3Mud2lkdGggPiB2aWV3cG9ydE9mZnNldC5sZWZ0ICYmIGFkanVzdGVkU2l6ZS53aWR0aCAtIGhvc3RFbGVtUG9zLndpZHRoIDw9IHZpZXdwb3J0T2Zmc2V0LnJpZ2h0ID8gJ2xlZnQnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRbMV07XG5cbiAgICAgICAgICBpZiAocGxhY2VtZW50WzFdID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgaWYgKFBMQUNFTUVOVF9SRUdFWC52ZXJ0aWNhbC50ZXN0KHBsYWNlbWVudFswXSkpIHtcbiAgICAgICAgICAgICAgdmFyIHhPdmVyZmxvdyA9IGhvc3RFbGVtUG9zLndpZHRoIC8gMiAtIHRhcmdldFdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgaWYgKHZpZXdwb3J0T2Zmc2V0LmxlZnQgKyB4T3ZlcmZsb3cgPCAwICYmIGFkanVzdGVkU2l6ZS53aWR0aCAtIGhvc3RFbGVtUG9zLndpZHRoIDw9IHZpZXdwb3J0T2Zmc2V0LnJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50WzFdID0gJ2xlZnQnO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZpZXdwb3J0T2Zmc2V0LnJpZ2h0ICsgeE92ZXJmbG93IDwgMCAmJiBhZGp1c3RlZFNpemUud2lkdGggLSBob3N0RWxlbVBvcy53aWR0aCA8PSB2aWV3cG9ydE9mZnNldC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50WzFdID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHlPdmVyZmxvdyA9IGhvc3RFbGVtUG9zLmhlaWdodCAvIDIgLSBhZGp1c3RlZFNpemUuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgaWYgKHZpZXdwb3J0T2Zmc2V0LnRvcCArIHlPdmVyZmxvdyA8IDAgJiYgYWRqdXN0ZWRTaXplLmhlaWdodCAtIGhvc3RFbGVtUG9zLmhlaWdodCA8PSB2aWV3cG9ydE9mZnNldC5ib3R0b20pIHtcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnRbMV0gPSAndG9wJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh2aWV3cG9ydE9mZnNldC5ib3R0b20gKyB5T3ZlcmZsb3cgPCAwICYmIGFkanVzdGVkU2l6ZS5oZWlnaHQgLSBob3N0RWxlbVBvcy5oZWlnaHQgPD0gdmlld3BvcnRPZmZzZXQudG9wKSB7XG4gICAgICAgICAgICAgICAgcGxhY2VtZW50WzFdID0gJ2JvdHRvbSc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHBsYWNlbWVudFswXSkge1xuICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICB0YXJnZXRFbGVtUG9zLnRvcCA9IGhvc3RFbGVtUG9zLnRvcCAtIHRhcmdldEhlaWdodDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICB0YXJnZXRFbGVtUG9zLnRvcCA9IGhvc3RFbGVtUG9zLnRvcCArIGhvc3RFbGVtUG9zLmhlaWdodDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxlbVBvcy5sZWZ0ID0gaG9zdEVsZW1Qb3MubGVmdCAtIHRhcmdldFdpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxlbVBvcy5sZWZ0ID0gaG9zdEVsZW1Qb3MubGVmdCArIGhvc3RFbGVtUG9zLndpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHBsYWNlbWVudFsxXSkge1xuICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICB0YXJnZXRFbGVtUG9zLnRvcCA9IGhvc3RFbGVtUG9zLnRvcDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICB0YXJnZXRFbGVtUG9zLnRvcCA9IGhvc3RFbGVtUG9zLnRvcCArIGhvc3RFbGVtUG9zLmhlaWdodCAtIHRhcmdldEhlaWdodDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxlbVBvcy5sZWZ0ID0gaG9zdEVsZW1Qb3MubGVmdDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHRhcmdldEVsZW1Qb3MubGVmdCA9IGhvc3RFbGVtUG9zLmxlZnQgKyBob3N0RWxlbVBvcy53aWR0aCAtIHRhcmdldFdpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgIGlmIChQTEFDRU1FTlRfUkVHRVgudmVydGljYWwudGVzdChwbGFjZW1lbnRbMF0pKSB7XG4gICAgICAgICAgICAgIHRhcmdldEVsZW1Qb3MubGVmdCA9IGhvc3RFbGVtUG9zLmxlZnQgKyBob3N0RWxlbVBvcy53aWR0aCAvIDIgLSB0YXJnZXRXaWR0aCAvIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRFbGVtUG9zLnRvcCA9IGhvc3RFbGVtUG9zLnRvcCArIGhvc3RFbGVtUG9zLmhlaWdodCAvIDIgLSB0YXJnZXRIZWlnaHQgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0YXJnZXRFbGVtUG9zLnRvcCA9IE1hdGgucm91bmQodGFyZ2V0RWxlbVBvcy50b3ApO1xuICAgICAgICB0YXJnZXRFbGVtUG9zLmxlZnQgPSBNYXRoLnJvdW5kKHRhcmdldEVsZW1Qb3MubGVmdCk7XG4gICAgICAgIHRhcmdldEVsZW1Qb3MucGxhY2VtZW50ID0gcGxhY2VtZW50WzFdID09PSAnY2VudGVyJyA/IHBsYWNlbWVudFswXSA6IHBsYWNlbWVudFswXSArICctJyArIHBsYWNlbWVudFsxXTtcblxuICAgICAgICByZXR1cm4gdGFyZ2V0RWxlbVBvcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgKiBQcm92aWRlcyBhIHdheSBmb3IgcG9zaXRpb25pbmcgdG9vbHRpcCAmIGRyb3Bkb3duXG4gICAgICAqIGFycm93cyB3aGVuIHVzaW5nIHBsYWNlbWVudCBvcHRpb25zIGJleW9uZCB0aGUgc3RhbmRhcmRcbiAgICAgICogbGVmdCwgcmlnaHQsIHRvcCwgb3IgYm90dG9tLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge2VsZW1lbnR9IGVsZW0gLSBUaGUgdG9vbHRpcC9kcm9wZG93biBlbGVtZW50LlxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGxhY2VtZW50IC0gVGhlIHBsYWNlbWVudCBmb3IgdGhlIGVsZW0uXG4gICAgICAqL1xuICAgICAgcG9zaXRpb25BcnJvdzogZnVuY3Rpb24oZWxlbSwgcGxhY2VtZW50KSB7XG4gICAgICAgIGVsZW0gPSB0aGlzLmdldFJhd05vZGUoZWxlbSk7XG5cbiAgICAgICAgdmFyIGlubmVyRWxlbSA9IGVsZW0ucXVlcnlTZWxlY3RvcignLnRvb2x0aXAtaW5uZXIsIC5wb3BvdmVyLWlubmVyJyk7XG4gICAgICAgIGlmICghaW5uZXJFbGVtKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlzVG9vbHRpcCA9IGFuZ3VsYXIuZWxlbWVudChpbm5lckVsZW0pLmhhc0NsYXNzKCd0b29sdGlwLWlubmVyJyk7XG5cbiAgICAgICAgdmFyIGFycm93RWxlbSA9IGlzVG9vbHRpcCA/IGVsZW0ucXVlcnlTZWxlY3RvcignLnRvb2x0aXAtYXJyb3cnKSA6IGVsZW0ucXVlcnlTZWxlY3RvcignLmFycm93Jyk7XG4gICAgICAgIGlmICghYXJyb3dFbGVtKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFycm93Q3NzID0ge1xuICAgICAgICAgIHRvcDogJycsXG4gICAgICAgICAgYm90dG9tOiAnJyxcbiAgICAgICAgICBsZWZ0OiAnJyxcbiAgICAgICAgICByaWdodDogJydcbiAgICAgICAgfTtcblxuICAgICAgICBwbGFjZW1lbnQgPSB0aGlzLnBhcnNlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gICAgICAgIGlmIChwbGFjZW1lbnRbMV0gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgLy8gbm8gYWRqdXN0bWVudCBuZWNlc3NhcnkgLSBqdXN0IHJlc2V0IHN0eWxlc1xuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChhcnJvd0VsZW0pLmNzcyhhcnJvd0Nzcyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvcmRlclByb3AgPSAnYm9yZGVyLScgKyBwbGFjZW1lbnRbMF0gKyAnLXdpZHRoJztcbiAgICAgICAgdmFyIGJvcmRlcldpZHRoID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGFycm93RWxlbSlbYm9yZGVyUHJvcF07XG5cbiAgICAgICAgdmFyIGJvcmRlclJhZGl1c1Byb3AgPSAnYm9yZGVyLSc7XG4gICAgICAgIGlmIChQTEFDRU1FTlRfUkVHRVgudmVydGljYWwudGVzdChwbGFjZW1lbnRbMF0pKSB7XG4gICAgICAgICAgYm9yZGVyUmFkaXVzUHJvcCArPSBwbGFjZW1lbnRbMF0gKyAnLScgKyBwbGFjZW1lbnRbMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYm9yZGVyUmFkaXVzUHJvcCArPSBwbGFjZW1lbnRbMV0gKyAnLScgKyBwbGFjZW1lbnRbMF07XG4gICAgICAgIH1cbiAgICAgICAgYm9yZGVyUmFkaXVzUHJvcCArPSAnLXJhZGl1cyc7XG4gICAgICAgIHZhciBib3JkZXJSYWRpdXMgPSAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoaXNUb29sdGlwID8gaW5uZXJFbGVtIDogZWxlbSlbYm9yZGVyUmFkaXVzUHJvcF07XG5cbiAgICAgICAgc3dpdGNoIChwbGFjZW1lbnRbMF0pIHtcbiAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgYXJyb3dDc3MuYm90dG9tID0gaXNUb29sdGlwID8gJzAnIDogJy0nICsgYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgYXJyb3dDc3MudG9wID0gaXNUb29sdGlwID8gJzAnIDogJy0nICsgYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIGFycm93Q3NzLnJpZ2h0ID0gaXNUb29sdGlwID8gJzAnIDogJy0nICsgYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICBhcnJvd0Nzcy5sZWZ0ID0gaXNUb29sdGlwID8gJzAnIDogJy0nICsgYm9yZGVyV2lkdGg7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGFycm93Q3NzW3BsYWNlbWVudFsxXV0gPSBib3JkZXJSYWRpdXM7XG5cbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGFycm93RWxlbSkuY3NzKGFycm93Q3NzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZGF0ZXBpY2tlclBvcHVwJywgWyd1aS5ib290c3RyYXAuZGF0ZXBpY2tlcicsICd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcblxuLnZhbHVlKCckZGF0ZXBpY2tlclBvcHVwTGl0ZXJhbFdhcm5pbmcnLCB0cnVlKVxuXG4uY29uc3RhbnQoJ3VpYkRhdGVwaWNrZXJQb3B1cENvbmZpZycsIHtcbiAgYWx0SW5wdXRGb3JtYXRzOiBbXSxcbiAgYXBwZW5kVG9Cb2R5OiBmYWxzZSxcbiAgY2xlYXJUZXh0OiAnQ2xlYXInLFxuICBjbG9zZU9uRGF0ZVNlbGVjdGlvbjogdHJ1ZSxcbiAgY2xvc2VUZXh0OiAnRG9uZScsXG4gIGN1cnJlbnRUZXh0OiAnVG9kYXknLFxuICBkYXRlcGlja2VyUG9wdXA6ICd5eXl5LU1NLWRkJyxcbiAgZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmw6ICd1aWIvdGVtcGxhdGUvZGF0ZXBpY2tlclBvcHVwL3BvcHVwLmh0bWwnLFxuICBkYXRlcGlja2VyVGVtcGxhdGVVcmw6ICd1aWIvdGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwnLFxuICBodG1sNVR5cGVzOiB7XG4gICAgZGF0ZTogJ3l5eXktTU0tZGQnLFxuICAgICdkYXRldGltZS1sb2NhbCc6ICd5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcycsXG4gICAgJ21vbnRoJzogJ3l5eXktTU0nXG4gIH0sXG4gIG9uT3BlbkZvY3VzOiB0cnVlLFxuICBzaG93QnV0dG9uQmFyOiB0cnVlLFxuICBwbGFjZW1lbnQ6ICdhdXRvIGJvdHRvbS1sZWZ0J1xufSlcblxuLmNvbnRyb2xsZXIoJ1VpYkRhdGVwaWNrZXJQb3B1cENvbnRyb2xsZXInLCBbJyRzY29wZScsICckZWxlbWVudCcsICckYXR0cnMnLCAnJGNvbXBpbGUnLCAnJGxvZycsICckcGFyc2UnLCAnJHdpbmRvdycsICckZG9jdW1lbnQnLCAnJHJvb3RTY29wZScsICckdWliUG9zaXRpb24nLCAnZGF0ZUZpbHRlcicsICd1aWJEYXRlUGFyc2VyJywgJ3VpYkRhdGVwaWNrZXJQb3B1cENvbmZpZycsICckdGltZW91dCcsICd1aWJEYXRlcGlja2VyQ29uZmlnJywgJyRkYXRlcGlja2VyUG9wdXBMaXRlcmFsV2FybmluZycsXG5mdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICRjb21waWxlLCAkbG9nLCAkcGFyc2UsICR3aW5kb3csICRkb2N1bWVudCwgJHJvb3RTY29wZSwgJHBvc2l0aW9uLCBkYXRlRmlsdGVyLCBkYXRlUGFyc2VyLCBkYXRlcGlja2VyUG9wdXBDb25maWcsICR0aW1lb3V0LCBkYXRlcGlja2VyQ29uZmlnLCAkZGF0ZXBpY2tlclBvcHVwTGl0ZXJhbFdhcm5pbmcpIHtcbiAgdmFyIGNhY2hlID0ge30sXG4gICAgaXNIdG1sNURhdGVJbnB1dCA9IGZhbHNlO1xuICB2YXIgZGF0ZUZvcm1hdCwgY2xvc2VPbkRhdGVTZWxlY3Rpb24sIGFwcGVuZFRvQm9keSwgb25PcGVuRm9jdXMsXG4gICAgZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwsIGRhdGVwaWNrZXJUZW1wbGF0ZVVybCwgcG9wdXBFbCwgZGF0ZXBpY2tlckVsLCBzY3JvbGxQYXJlbnRFbCxcbiAgICBuZ01vZGVsLCBuZ01vZGVsT3B0aW9ucywgJHBvcHVwLCBhbHRJbnB1dEZvcm1hdHMsIHdhdGNoTGlzdGVuZXJzID0gW10sXG4gICAgdGltZXpvbmU7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oX25nTW9kZWxfKSB7XG4gICAgbmdNb2RlbCA9IF9uZ01vZGVsXztcbiAgICBuZ01vZGVsT3B0aW9ucyA9IF9uZ01vZGVsXy4kb3B0aW9ucztcbiAgICBjbG9zZU9uRGF0ZVNlbGVjdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgP1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmNsb3NlT25EYXRlU2VsZWN0aW9uKSA6XG4gICAgICBkYXRlcGlja2VyUG9wdXBDb25maWcuY2xvc2VPbkRhdGVTZWxlY3Rpb247XG4gICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpID9cbiAgICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5kYXRlcGlja2VyQXBwZW5kVG9Cb2R5KSA6XG4gICAgICBkYXRlcGlja2VyUG9wdXBDb25maWcuYXBwZW5kVG9Cb2R5O1xuICAgIG9uT3BlbkZvY3VzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm9uT3BlbkZvY3VzKSA/XG4gICAgICAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMub25PcGVuRm9jdXMpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLm9uT3BlbkZvY3VzO1xuICAgIGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsKSA/XG4gICAgICAkYXR0cnMuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwgOlxuICAgICAgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsO1xuICAgIGRhdGVwaWNrZXJUZW1wbGF0ZVVybCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5kYXRlcGlja2VyVGVtcGxhdGVVcmwpID9cbiAgICAgICRhdHRycy5kYXRlcGlja2VyVGVtcGxhdGVVcmwgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclRlbXBsYXRlVXJsO1xuICAgIGFsdElucHV0Rm9ybWF0cyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbHRJbnB1dEZvcm1hdHMpID9cbiAgICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5hbHRJbnB1dEZvcm1hdHMpIDpcbiAgICAgIGRhdGVwaWNrZXJQb3B1cENvbmZpZy5hbHRJbnB1dEZvcm1hdHM7XG5cbiAgICAkc2NvcGUuc2hvd0J1dHRvbkJhciA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zaG93QnV0dG9uQmFyKSA/XG4gICAgICAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc2hvd0J1dHRvbkJhcikgOlxuICAgICAgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLnNob3dCdXR0b25CYXI7XG5cbiAgICBpZiAoZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbJGF0dHJzLnR5cGVdKSB7XG4gICAgICBkYXRlRm9ybWF0ID0gZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbJGF0dHJzLnR5cGVdO1xuICAgICAgaXNIdG1sNURhdGVJbnB1dCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGVGb3JtYXQgPSAkYXR0cnMudWliRGF0ZXBpY2tlclBvcHVwIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXA7XG4gICAgICAkYXR0cnMuJG9ic2VydmUoJ3VpYkRhdGVwaWNrZXJQb3B1cCcsIGZ1bmN0aW9uKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICB2YXIgbmV3RGF0ZUZvcm1hdCA9IHZhbHVlIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyUG9wdXA7XG4gICAgICAgIC8vIEludmFsaWRhdGUgdGhlICRtb2RlbFZhbHVlIHRvIGVuc3VyZSB0aGF0IGZvcm1hdHRlcnMgcmUtcnVuXG4gICAgICAgIC8vIEZJWE1FOiBSZWZhY3RvciB3aGVuIFBSIGlzIG1lcmdlZDogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzEwNzY0XG4gICAgICAgIGlmIChuZXdEYXRlRm9ybWF0ICE9PSBkYXRlRm9ybWF0KSB7XG4gICAgICAgICAgZGF0ZUZvcm1hdCA9IG5ld0RhdGVGb3JtYXQ7XG4gICAgICAgICAgbmdNb2RlbC4kbW9kZWxWYWx1ZSA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoIWRhdGVGb3JtYXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndWliRGF0ZXBpY2tlclBvcHVwIG11c3QgaGF2ZSBhIGRhdGUgZm9ybWF0IHNwZWNpZmllZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghZGF0ZUZvcm1hdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1aWJEYXRlcGlja2VyUG9wdXAgbXVzdCBoYXZlIGEgZGF0ZSBmb3JtYXQgc3BlY2lmaWVkLicpO1xuICAgIH1cblxuICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0ICYmICRhdHRycy51aWJEYXRlcGlja2VyUG9wdXApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSFRNTDUgZGF0ZSBpbnB1dCB0eXBlcyBkbyBub3Qgc3VwcG9ydCBjdXN0b20gZm9ybWF0cy4nKTtcbiAgICB9XG5cbiAgICAvLyBwb3B1cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBjYWxlbmRhclxuICAgIHBvcHVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgdWliLWRhdGVwaWNrZXItcG9wdXAtd3JhcD48ZGl2IHVpYi1kYXRlcGlja2VyPjwvZGl2PjwvZGl2PicpO1xuICAgIGlmIChuZ01vZGVsT3B0aW9ucykge1xuICAgICAgdGltZXpvbmUgPSBuZ01vZGVsT3B0aW9ucy50aW1lem9uZTtcbiAgICAgICRzY29wZS5uZ01vZGVsT3B0aW9ucyA9IGFuZ3VsYXIuY29weShuZ01vZGVsT3B0aW9ucyk7XG4gICAgICAkc2NvcGUubmdNb2RlbE9wdGlvbnMudGltZXpvbmUgPSBudWxsO1xuICAgICAgaWYgKCRzY29wZS5uZ01vZGVsT3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPT09IHRydWUpIHtcbiAgICAgICAgJHNjb3BlLm5nTW9kZWxPcHRpb25zLnVwZGF0ZU9uID0gJHNjb3BlLm5nTW9kZWxPcHRpb25zLnVwZGF0ZU9uID9cbiAgICAgICAgICAkc2NvcGUubmdNb2RlbE9wdGlvbnMudXBkYXRlT24gKyAnIGRlZmF1bHQnIDogJ2RlZmF1bHQnO1xuICAgICAgfVxuXG4gICAgICBwb3B1cEVsLmF0dHIoJ25nLW1vZGVsLW9wdGlvbnMnLCAnbmdNb2RlbE9wdGlvbnMnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGltZXpvbmUgPSBudWxsO1xuICAgIH1cblxuICAgIHBvcHVwRWwuYXR0cih7XG4gICAgICAnbmctbW9kZWwnOiAnZGF0ZScsXG4gICAgICAnbmctY2hhbmdlJzogJ2RhdGVTZWxlY3Rpb24oZGF0ZSknLFxuICAgICAgJ3RlbXBsYXRlLXVybCc6IGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsXG4gICAgfSk7XG5cbiAgICAvLyBkYXRlcGlja2VyIGVsZW1lbnRcbiAgICBkYXRlcGlja2VyRWwgPSBhbmd1bGFyLmVsZW1lbnQocG9wdXBFbC5jaGlsZHJlbigpWzBdKTtcbiAgICBkYXRlcGlja2VyRWwuYXR0cigndGVtcGxhdGUtdXJsJywgZGF0ZXBpY2tlclRlbXBsYXRlVXJsKTtcblxuICAgIGlmICghJHNjb3BlLmRhdGVwaWNrZXJPcHRpb25zKSB7XG4gICAgICAkc2NvcGUuZGF0ZXBpY2tlck9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoaXNIdG1sNURhdGVJbnB1dCkge1xuICAgICAgaWYgKCRhdHRycy50eXBlID09PSAnbW9udGgnKSB7XG4gICAgICAgICRzY29wZS5kYXRlcGlja2VyT3B0aW9ucy5kYXRlcGlja2VyTW9kZSA9ICdtb250aCc7XG4gICAgICAgICRzY29wZS5kYXRlcGlja2VyT3B0aW9ucy5taW5Nb2RlID0gJ21vbnRoJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZXBpY2tlci1vcHRpb25zJywgJ2RhdGVwaWNrZXJPcHRpb25zJyk7XG5cbiAgICBpZiAoIWlzSHRtbDVEYXRlSW5wdXQpIHtcbiAgICAgIC8vIEludGVybmFsIEFQSSB0byBtYWludGFpbiB0aGUgY29ycmVjdCBuZy1pbnZhbGlkLVtrZXldIGNsYXNzXG4gICAgICBuZ01vZGVsLiQkcGFyc2VyTmFtZSA9ICdkYXRlJztcbiAgICAgIG5nTW9kZWwuJHZhbGlkYXRvcnMuZGF0ZSA9IHZhbGlkYXRvcjtcbiAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZURhdGUpO1xuICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChuZ01vZGVsLiRpc0VtcHR5KHZhbHVlKSkge1xuICAgICAgICAgICRzY29wZS5kYXRlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLmRhdGUgPSBkYXRlUGFyc2VyLmZyb21UaW1lem9uZSh2YWx1ZSwgdGltZXpvbmUpO1xuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKCRzY29wZS5kYXRlKSkge1xuICAgICAgICAgICRzY29wZS5kYXRlID0gbmV3IERhdGUoJHNjb3BlLmRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRhdGVQYXJzZXIuZmlsdGVyKCRzY29wZS5kYXRlLCBkYXRlRm9ybWF0KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgJHNjb3BlLmRhdGUgPSBkYXRlUGFyc2VyLmZyb21UaW1lem9uZSh2YWx1ZSwgdGltZXpvbmUpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBEZXRlY3QgY2hhbmdlcyBpbiB0aGUgdmlldyBmcm9tIHRoZSB0ZXh0IGJveFxuICAgIG5nTW9kZWwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5kYXRlID0gcGFyc2VEYXRlU3RyaW5nKG5nTW9kZWwuJHZpZXdWYWx1ZSk7XG4gICAgfSk7XG5cbiAgICAkZWxlbWVudC5vbigna2V5ZG93bicsIGlucHV0S2V5ZG93bkJpbmQpO1xuXG4gICAgJHBvcHVwID0gJGNvbXBpbGUocG9wdXBFbCkoJHNjb3BlKTtcbiAgICAvLyBQcmV2ZW50IGpRdWVyeSBjYWNoZSBtZW1vcnkgbGVhayAodGVtcGxhdGUgaXMgbm93IHJlZHVuZGFudCBhZnRlciBsaW5raW5nKVxuICAgIHBvcHVwRWwucmVtb3ZlKCk7XG5cbiAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZWxlbWVudC5hZnRlcigkcG9wdXApO1xuICAgIH1cblxuICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJHNjb3BlLmlzT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJHBvcHVwLnJlbW92ZSgpO1xuICAgICAgJGVsZW1lbnQub2ZmKCdrZXlkb3duJywgaW5wdXRLZXlkb3duQmluZCk7XG4gICAgICAkZG9jdW1lbnQub2ZmKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgIGlmIChzY3JvbGxQYXJlbnRFbCkge1xuICAgICAgICBzY3JvbGxQYXJlbnRFbC5vZmYoJ3Njcm9sbCcsIHBvc2l0aW9uUG9wdXApO1xuICAgICAgfVxuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgcG9zaXRpb25Qb3B1cCk7XG5cbiAgICAgIC8vQ2xlYXIgYWxsIHdhdGNoIGxpc3RlbmVycyBvbiBkZXN0cm95XG4gICAgICB3aGlsZSAod2F0Y2hMaXN0ZW5lcnMubGVuZ3RoKSB7XG4gICAgICAgIHdhdGNoTGlzdGVuZXJzLnNoaWZ0KCkoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAkc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiAkc2NvcGVba2V5ICsgJ1RleHQnXSB8fCBkYXRlcGlja2VyUG9wdXBDb25maWdba2V5ICsgJ1RleHQnXTtcbiAgfTtcblxuICAkc2NvcGUuaXNEaXNhYmxlZCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoZGF0ZSA9PT0gJ3RvZGF5Jykge1xuICAgICAgZGF0ZSA9IGRhdGVQYXJzZXIuZnJvbVRpbWV6b25lKG5ldyBEYXRlKCksIHRpbWV6b25lKTtcbiAgICB9XG5cbiAgICB2YXIgZGF0ZXMgPSB7fTtcbiAgICBhbmd1bGFyLmZvckVhY2goWydtaW5EYXRlJywgJ21heERhdGUnXSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoJHNjb3BlLmRhdGVwaWNrZXJPcHRpb25zW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgZGF0ZXNba2V5XSA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKCRzY29wZS5kYXRlcGlja2VyT3B0aW9uc1trZXldKSkge1xuICAgICAgICBkYXRlc1trZXldID0gZGF0ZVBhcnNlci5mcm9tVGltZXpvbmUobmV3IERhdGUoJHNjb3BlLmRhdGVwaWNrZXJPcHRpb25zW2tleV0pLCB0aW1lem9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoJGRhdGVwaWNrZXJQb3B1cExpdGVyYWxXYXJuaW5nKSB7XG4gICAgICAgICAgJGxvZy53YXJuKCdMaXRlcmFsIGRhdGUgc3VwcG9ydCBoYXMgYmVlbiBkZXByZWNhdGVkLCBwbGVhc2Ugc3dpdGNoIHRvIGRhdGUgb2JqZWN0IHVzYWdlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRlc1trZXldID0gbmV3IERhdGUoZGF0ZUZpbHRlcigkc2NvcGUuZGF0ZXBpY2tlck9wdGlvbnNba2V5XSwgJ21lZGl1bScpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiAkc2NvcGUuZGF0ZXBpY2tlck9wdGlvbnMgJiZcbiAgICAgIGRhdGVzLm1pbkRhdGUgJiYgJHNjb3BlLmNvbXBhcmUoZGF0ZSwgZGF0ZXMubWluRGF0ZSkgPCAwIHx8XG4gICAgICBkYXRlcy5tYXhEYXRlICYmICRzY29wZS5jb21wYXJlKGRhdGUsIGRhdGVzLm1heERhdGUpID4gMDtcbiAgfTtcblxuICAkc2NvcGUuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlMS5nZXRGdWxsWWVhcigpLCBkYXRlMS5nZXRNb250aCgpLCBkYXRlMS5nZXREYXRlKCkpIC0gbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSwgZGF0ZTIuZ2V0RGF0ZSgpKTtcbiAgfTtcblxuICAvLyBJbm5lciBjaGFuZ2VcbiAgJHNjb3BlLmRhdGVTZWxlY3Rpb24gPSBmdW5jdGlvbihkdCkge1xuICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkdCkpIHtcbiAgICAgICRzY29wZS5kYXRlID0gZHQ7XG4gICAgfVxuICAgIHZhciBkYXRlID0gJHNjb3BlLmRhdGUgPyBkYXRlUGFyc2VyLmZpbHRlcigkc2NvcGUuZGF0ZSwgZGF0ZUZvcm1hdCkgOiBudWxsOyAvLyBTZXR0aW5nIHRvIE5VTEwgaXMgbmVjZXNzYXJ5IGZvciBmb3JtIHZhbGlkYXRvcnMgdG8gZnVuY3Rpb25cbiAgICAkZWxlbWVudC52YWwoZGF0ZSk7XG4gICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGRhdGUpO1xuXG4gICAgaWYgKGNsb3NlT25EYXRlU2VsZWN0aW9uKSB7XG4gICAgICAkc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAkZWxlbWVudFswXS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUua2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAkc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAkZWxlbWVudFswXS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oZGF0ZSwgZXZ0KSB7XG4gICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaWYgKGRhdGUgPT09ICd0b2RheScpIHtcbiAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICBpZiAoYW5ndWxhci5pc0RhdGUoJHNjb3BlLmRhdGUpKSB7XG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0ZSk7XG4gICAgICAgIGRhdGUuc2V0RnVsbFllYXIodG9kYXkuZ2V0RnVsbFllYXIoKSwgdG9kYXkuZ2V0TW9udGgoKSwgdG9kYXkuZ2V0RGF0ZSgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh0b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKSk7XG4gICAgICB9XG4gICAgfVxuICAgICRzY29wZS5kYXRlU2VsZWN0aW9uKGRhdGUpO1xuICB9O1xuXG4gICRzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICRzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAkZWxlbWVudFswXS5mb2N1cygpO1xuICB9O1xuXG4gICRzY29wZS5kaXNhYmxlZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5kaXNhYmxlZCkgfHwgZmFsc2U7XG4gIGlmICgkYXR0cnMubmdEaXNhYmxlZCkge1xuICAgIHdhdGNoTGlzdGVuZXJzLnB1c2goJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubmdEaXNhYmxlZCksIGZ1bmN0aW9uKGRpc2FibGVkKSB7XG4gICAgICAkc2NvcGUuZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICB9KSk7XG4gIH1cblxuICAkc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgaWYgKCEkc2NvcGUuZGlzYWJsZWQpIHtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcG9zaXRpb25Qb3B1cCgpO1xuXG4gICAgICAgICAgaWYgKG9uT3BlbkZvY3VzKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdCgndWliOmRhdGVwaWNrZXIuZm9jdXMnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAkZG9jdW1lbnQub24oJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xuXG4gICAgICAgICAgdmFyIHBsYWNlbWVudCA9ICRhdHRycy5wb3B1cFBsYWNlbWVudCA/ICRhdHRycy5wb3B1cFBsYWNlbWVudCA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5wbGFjZW1lbnQ7XG4gICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSB8fCAkcG9zaXRpb24ucGFyc2VQbGFjZW1lbnQocGxhY2VtZW50KVsyXSkge1xuICAgICAgICAgICAgc2Nyb2xsUGFyZW50RWwgPSBzY3JvbGxQYXJlbnRFbCB8fCBhbmd1bGFyLmVsZW1lbnQoJHBvc2l0aW9uLnNjcm9sbFBhcmVudCgkZWxlbWVudCkpO1xuICAgICAgICAgICAgaWYgKHNjcm9sbFBhcmVudEVsKSB7XG4gICAgICAgICAgICAgIHNjcm9sbFBhcmVudEVsLm9uKCdzY3JvbGwnLCBwb3NpdGlvblBvcHVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Nyb2xsUGFyZW50RWwgPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbigncmVzaXplJywgcG9zaXRpb25Qb3B1cCk7XG4gICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgJGRvY3VtZW50Lm9mZignY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICBpZiAoc2Nyb2xsUGFyZW50RWwpIHtcbiAgICAgICAgc2Nyb2xsUGFyZW50RWwub2ZmKCdzY3JvbGwnLCBwb3NpdGlvblBvcHVwKTtcbiAgICAgIH1cbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ3Jlc2l6ZScsIHBvc2l0aW9uUG9wdXApO1xuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2FtZWx0b0Rhc2goc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKCQxKSB7IHJldHVybiAnLScgKyAkMS50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlRGF0ZVN0cmluZyh2aWV3VmFsdWUpIHtcbiAgICB2YXIgZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2Uodmlld1ZhbHVlLCBkYXRlRm9ybWF0LCAkc2NvcGUuZGF0ZSk7XG4gICAgaWYgKGlzTmFOKGRhdGUpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsdElucHV0Rm9ybWF0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkYXRlID0gZGF0ZVBhcnNlci5wYXJzZSh2aWV3VmFsdWUsIGFsdElucHV0Rm9ybWF0c1tpXSwgJHNjb3BlLmRhdGUpO1xuICAgICAgICBpZiAoIWlzTmFOKGRhdGUpKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZURhdGUodmlld1ZhbHVlKSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmlld1ZhbHVlKSkge1xuICAgICAgLy8gcHJlc3VtYWJseSB0aW1lc3RhbXAgdG8gZGF0ZSBvYmplY3RcbiAgICAgIHZpZXdWYWx1ZSA9IG5ldyBEYXRlKHZpZXdWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCF2aWV3VmFsdWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChhbmd1bGFyLmlzRGF0ZSh2aWV3VmFsdWUpICYmICFpc05hTih2aWV3VmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmlld1ZhbHVlO1xuICAgIH1cblxuICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZpZXdWYWx1ZSkpIHtcbiAgICAgIHZhciBkYXRlID0gcGFyc2VEYXRlU3RyaW5nKHZpZXdWYWx1ZSk7XG4gICAgICBpZiAoIWlzTmFOKGRhdGUpKSB7XG4gICAgICAgIHJldHVybiBkYXRlUGFyc2VyLnRvVGltZXpvbmUoZGF0ZSwgdGltZXpvbmUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZ01vZGVsLiRvcHRpb25zICYmIG5nTW9kZWwuJG9wdGlvbnMuYWxsb3dJbnZhbGlkID8gdmlld1ZhbHVlIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuXG4gICAgaWYgKCEkYXR0cnMubmdSZXF1aXJlZCAmJiAhdmFsdWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGFuZ3VsYXIuaXNEYXRlKHZhbHVlKSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VEYXRlU3RyaW5nKHZpZXdWYWx1ZSkpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvY3VtZW50Q2xpY2tCaW5kKGV2ZW50KSB7XG4gICAgaWYgKCEkc2NvcGUuaXNPcGVuICYmICRzY29wZS5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwb3B1cCA9ICRwb3B1cFswXTtcbiAgICB2YXIgZHBDb250YWluc1RhcmdldCA9ICRlbGVtZW50WzBdLmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7XG4gICAgLy8gVGhlIHBvcHVwIG5vZGUgbWF5IG5vdCBiZSBhbiBlbGVtZW50IG5vZGVcbiAgICAvLyBJbiBzb21lIGJyb3dzZXJzIChJRSkgb25seSBlbGVtZW50IG5vZGVzIGhhdmUgdGhlICdjb250YWlucycgZnVuY3Rpb25cbiAgICB2YXIgcG9wdXBDb250YWluc1RhcmdldCA9IHBvcHVwLmNvbnRhaW5zICE9PSB1bmRlZmluZWQgJiYgcG9wdXAuY29udGFpbnMoZXZlbnQudGFyZ2V0KTtcbiAgICBpZiAoJHNjb3BlLmlzT3BlbiAmJiAhKGRwQ29udGFpbnNUYXJnZXQgfHwgcG9wdXBDb250YWluc1RhcmdldCkpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlucHV0S2V5ZG93bkJpbmQoZXZ0KSB7XG4gICAgaWYgKGV2dC53aGljaCA9PT0gMjcgJiYgJHNjb3BlLmlzT3Blbikge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgICRlbGVtZW50WzBdLmZvY3VzKCk7XG4gICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDQwICYmICEkc2NvcGUuaXNPcGVuKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5pc09wZW4gPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcG9zaXRpb25Qb3B1cCgpIHtcbiAgICBpZiAoJHNjb3BlLmlzT3Blbikge1xuICAgICAgdmFyIGRwRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgkcG9wdXBbMF0ucXVlcnlTZWxlY3RvcignLnVpYi1kYXRlcGlja2VyLXBvcHVwJykpO1xuICAgICAgdmFyIHBsYWNlbWVudCA9ICRhdHRycy5wb3B1cFBsYWNlbWVudCA/ICRhdHRycy5wb3B1cFBsYWNlbWVudCA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5wbGFjZW1lbnQ7XG4gICAgICB2YXIgcG9zaXRpb24gPSAkcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cygkZWxlbWVudCwgZHBFbGVtZW50LCBwbGFjZW1lbnQsIGFwcGVuZFRvQm9keSk7XG4gICAgICBkcEVsZW1lbnQuY3NzKHt0b3A6IHBvc2l0aW9uLnRvcCArICdweCcsIGxlZnQ6IHBvc2l0aW9uLmxlZnQgKyAncHgnfSk7XG4gICAgICBpZiAoZHBFbGVtZW50Lmhhc0NsYXNzKCd1aWItcG9zaXRpb24tbWVhc3VyZScpKSB7XG4gICAgICAgIGRwRWxlbWVudC5yZW1vdmVDbGFzcygndWliLXBvc2l0aW9uLW1lYXN1cmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAkc2NvcGUuJG9uKCd1aWI6ZGF0ZXBpY2tlci5tb2RlJywgZnVuY3Rpb24oKSB7XG4gICAgJHRpbWVvdXQocG9zaXRpb25Qb3B1cCwgMCwgZmFsc2UpO1xuICB9KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd1aWJEYXRlcGlja2VyUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAndWliRGF0ZXBpY2tlclBvcHVwJ10sXG4gICAgY29udHJvbGxlcjogJ1VpYkRhdGVwaWNrZXJQb3B1cENvbnRyb2xsZXInLFxuICAgIHNjb3BlOiB7XG4gICAgICBkYXRlcGlja2VyT3B0aW9uczogJz0/JyxcbiAgICAgIGlzT3BlbjogJz0/JyxcbiAgICAgIGN1cnJlbnRUZXh0OiAnQCcsXG4gICAgICBjbGVhclRleHQ6ICdAJyxcbiAgICAgIGNsb3NlVGV4dDogJ0AnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgbmdNb2RlbCA9IGN0cmxzWzBdLFxuICAgICAgICBjdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGN0cmwuaW5pdChuZ01vZGVsKTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd1aWJEYXRlcGlja2VyUG9wdXBXcmFwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd1aWIvdGVtcGxhdGUvZGF0ZXBpY2tlclBvcHVwL3BvcHVwLmh0bWwnO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRlYm91bmNlJywgW10pXG4vKipcbiAqIEEgaGVscGVyLCBpbnRlcm5hbCBzZXJ2aWNlIHRoYXQgZGVib3VuY2VzIGEgZnVuY3Rpb25cbiAqL1xuICAuZmFjdG9yeSgnJCRkZWJvdW5jZScsIFsnJHRpbWVvdXQnLCBmdW5jdGlvbigkdGltZW91dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihjYWxsYmFjaywgZGVib3VuY2VUaW1lKSB7XG4gICAgICB2YXIgdGltZW91dFByb21pc2U7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICAgIGlmICh0aW1lb3V0UHJvbWlzZSkge1xuICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lb3V0UHJvbWlzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aW1lb3V0UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICB9LCBkZWJvdW5jZVRpbWUpO1xuICAgICAgfTtcbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuZHJvcGRvd24nLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbiddKVxuXG4uY29uc3RhbnQoJ3VpYkRyb3Bkb3duQ29uZmlnJywge1xuICBhcHBlbmRUb09wZW5DbGFzczogJ3VpYi1kcm9wZG93bi1vcGVuJyxcbiAgb3BlbkNsYXNzOiAnb3Blbidcbn0pXG5cbi5zZXJ2aWNlKCd1aWJEcm9wZG93blNlcnZpY2UnLCBbJyRkb2N1bWVudCcsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJGRvY3VtZW50LCAkcm9vdFNjb3BlKSB7XG4gIHZhciBvcGVuU2NvcGUgPSBudWxsO1xuXG4gIHRoaXMub3BlbiA9IGZ1bmN0aW9uKGRyb3Bkb3duU2NvcGUpIHtcbiAgICBpZiAoIW9wZW5TY29wZSkge1xuICAgICAgJGRvY3VtZW50Lm9uKCdjbGljaycsIGNsb3NlRHJvcGRvd24pO1xuICAgICAgJGRvY3VtZW50Lm9uKCdrZXlkb3duJywga2V5YmluZEZpbHRlcik7XG4gICAgfVxuXG4gICAgaWYgKG9wZW5TY29wZSAmJiBvcGVuU2NvcGUgIT09IGRyb3Bkb3duU2NvcGUpIHtcbiAgICAgIG9wZW5TY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUgPSBkcm9wZG93blNjb3BlO1xuICB9O1xuXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbihkcm9wZG93blNjb3BlKSB7XG4gICAgaWYgKG9wZW5TY29wZSA9PT0gZHJvcGRvd25TY29wZSkge1xuICAgICAgb3BlblNjb3BlID0gbnVsbDtcbiAgICAgICRkb2N1bWVudC5vZmYoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQub2ZmKCdrZXlkb3duJywga2V5YmluZEZpbHRlcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciBjbG9zZURyb3Bkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgLy8gVGhpcyBtZXRob2QgbWF5IHN0aWxsIGJlIGNhbGxlZCBkdXJpbmcgdGhlIHNhbWUgbW91c2UgZXZlbnQgdGhhdFxuICAgIC8vIHVuYm91bmQgdGhpcyBldmVudCBoYW5kbGVyLiBTbyBjaGVjayBvcGVuU2NvcGUgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgaWYgKCFvcGVuU2NvcGUpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ2Rpc2FibGVkJykgeyByZXR1cm47IH1cblxuICAgIGlmIChldnQgJiYgZXZ0LndoaWNoID09PSAzKSB7IHJldHVybjsgfVxuXG4gICAgdmFyIHRvZ2dsZUVsZW1lbnQgPSBvcGVuU2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCgpO1xuICAgIGlmIChldnQgJiYgdG9nZ2xlRWxlbWVudCAmJiB0b2dnbGVFbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRyb3Bkb3duRWxlbWVudCA9IG9wZW5TY29wZS5nZXREcm9wZG93bkVsZW1lbnQoKTtcbiAgICBpZiAoZXZ0ICYmIG9wZW5TY29wZS5nZXRBdXRvQ2xvc2UoKSA9PT0gJ291dHNpZGVDbGljaycgJiZcbiAgICAgIGRyb3Bkb3duRWxlbWVudCAmJiBkcm9wZG93bkVsZW1lbnRbMF0uY29udGFpbnMoZXZ0LnRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XG5cbiAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgb3BlblNjb3BlLiRhcHBseSgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIga2V5YmluZEZpbHRlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICBvcGVuU2NvcGUuZm9jdXNUb2dnbGVFbGVtZW50KCk7XG4gICAgICBjbG9zZURyb3Bkb3duKCk7XG4gICAgfSBlbHNlIGlmIChvcGVuU2NvcGUuaXNLZXluYXZFbmFibGVkKCkgJiYgWzM4LCA0MF0uaW5kZXhPZihldnQud2hpY2gpICE9PSAtMSAmJiBvcGVuU2NvcGUuaXNPcGVuKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIG9wZW5TY29wZS5mb2N1c0Ryb3Bkb3duRW50cnkoZXZ0LndoaWNoKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnRyb2xsZXIoJ1VpYkRyb3Bkb3duQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRlbGVtZW50JywgJyRhdHRycycsICckcGFyc2UnLCAndWliRHJvcGRvd25Db25maWcnLCAndWliRHJvcGRvd25TZXJ2aWNlJywgJyRhbmltYXRlJywgJyR1aWJQb3NpdGlvbicsICckZG9jdW1lbnQnLCAnJGNvbXBpbGUnLCAnJHRlbXBsYXRlUmVxdWVzdCcsIGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJHBhcnNlLCBkcm9wZG93bkNvbmZpZywgdWliRHJvcGRvd25TZXJ2aWNlLCAkYW5pbWF0ZSwgJHBvc2l0aW9uLCAkZG9jdW1lbnQsICRjb21waWxlLCAkdGVtcGxhdGVSZXF1ZXN0KSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICBzY29wZSA9ICRzY29wZS4kbmV3KCksIC8vIGNyZWF0ZSBhIGNoaWxkIHNjb3BlIHNvIHdlIGFyZSBub3QgcG9sbHV0aW5nIG9yaWdpbmFsIG9uZVxuICAgIHRlbXBsYXRlU2NvcGUsXG4gICAgYXBwZW5kVG9PcGVuQ2xhc3MgPSBkcm9wZG93bkNvbmZpZy5hcHBlbmRUb09wZW5DbGFzcyxcbiAgICBvcGVuQ2xhc3MgPSBkcm9wZG93bkNvbmZpZy5vcGVuQ2xhc3MsXG4gICAgZ2V0SXNPcGVuLFxuICAgIHNldElzT3BlbiA9IGFuZ3VsYXIubm9vcCxcbiAgICB0b2dnbGVJbnZva2VyID0gJGF0dHJzLm9uVG9nZ2xlID8gJHBhcnNlKCRhdHRycy5vblRvZ2dsZSkgOiBhbmd1bGFyLm5vb3AsXG4gICAgYXBwZW5kVG9Cb2R5ID0gZmFsc2UsXG4gICAgYXBwZW5kVG8gPSBudWxsLFxuICAgIGtleW5hdkVuYWJsZWQgPSBmYWxzZSxcbiAgICBzZWxlY3RlZE9wdGlvbiA9IG51bGwsXG4gICAgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5Jyk7XG5cbiAgJGVsZW1lbnQuYWRkQ2xhc3MoJ2Ryb3Bkb3duJyk7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCRhdHRycy5pc09wZW4pIHtcbiAgICAgIGdldElzT3BlbiA9ICRwYXJzZSgkYXR0cnMuaXNPcGVuKTtcbiAgICAgIHNldElzT3BlbiA9IGdldElzT3Blbi5hc3NpZ247XG5cbiAgICAgICRzY29wZS4kd2F0Y2goZ2V0SXNPcGVuLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzY29wZS5pc09wZW4gPSAhIXZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5kcm9wZG93bkFwcGVuZFRvKSkge1xuICAgICAgdmFyIGFwcGVuZFRvRWwgPSAkcGFyc2UoJGF0dHJzLmRyb3Bkb3duQXBwZW5kVG8pKHNjb3BlKTtcbiAgICAgIGlmIChhcHBlbmRUb0VsKSB7XG4gICAgICAgIGFwcGVuZFRvID0gYW5ndWxhci5lbGVtZW50KGFwcGVuZFRvRWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5kcm9wZG93bkFwcGVuZFRvQm9keSk7XG4gICAga2V5bmF2RW5hYmxlZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5rZXlib2FyZE5hdik7XG5cbiAgICBpZiAoYXBwZW5kVG9Cb2R5ICYmICFhcHBlbmRUbykge1xuICAgICAgYXBwZW5kVG8gPSBib2R5O1xuICAgIH1cblxuICAgIGlmIChhcHBlbmRUbyAmJiBzZWxmLmRyb3Bkb3duTWVudSkge1xuICAgICAgYXBwZW5kVG8uYXBwZW5kKHNlbGYuZHJvcGRvd25NZW51KTtcbiAgICAgICRlbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uIGhhbmRsZURlc3Ryb3lFdmVudCgpIHtcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbihvcGVuKSB7XG4gICAgc2NvcGUuaXNPcGVuID0gYXJndW1lbnRzLmxlbmd0aCA/ICEhb3BlbiA6ICFzY29wZS5pc09wZW47XG4gICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRJc09wZW4pKSB7XG4gICAgICBzZXRJc09wZW4oc2NvcGUsIHNjb3BlLmlzT3Blbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjb3BlLmlzT3BlbjtcbiAgfTtcblxuICAvLyBBbGxvdyBvdGhlciBkaXJlY3RpdmVzIHRvIHdhdGNoIHN0YXR1c1xuICB0aGlzLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzY29wZS5pc09wZW47XG4gIH07XG5cbiAgc2NvcGUuZ2V0VG9nZ2xlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLnRvZ2dsZUVsZW1lbnQ7XG4gIH07XG5cbiAgc2NvcGUuZ2V0QXV0b0Nsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRhdHRycy5hdXRvQ2xvc2UgfHwgJ2Fsd2F5cyc7IC8vb3IgJ291dHNpZGVDbGljaycgb3IgJ2Rpc2FibGVkJ1xuICB9O1xuXG4gIHNjb3BlLmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGVsZW1lbnQ7XG4gIH07XG5cbiAgc2NvcGUuaXNLZXluYXZFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGtleW5hdkVuYWJsZWQ7XG4gIH07XG5cbiAgc2NvcGUuZm9jdXNEcm9wZG93bkVudHJ5ID0gZnVuY3Rpb24oa2V5Q29kZSkge1xuICAgIHZhciBlbGVtcyA9IHNlbGYuZHJvcGRvd25NZW51ID8gLy9JZiBhcHBlbmQgdG8gYm9keSBpcyB1c2VkLlxuICAgICAgYW5ndWxhci5lbGVtZW50KHNlbGYuZHJvcGRvd25NZW51KS5maW5kKCdhJykgOlxuICAgICAgJGVsZW1lbnQuZmluZCgndWwnKS5lcSgwKS5maW5kKCdhJyk7XG5cbiAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgIGNhc2UgNDA6IHtcbiAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKHNlbGYuc2VsZWN0ZWRPcHRpb24pKSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IHNlbGYuc2VsZWN0ZWRPcHRpb24gPT09IGVsZW1zLmxlbmd0aCAtIDEgP1xuICAgICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA6XG4gICAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uICsgMTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgMzg6IHtcbiAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKHNlbGYuc2VsZWN0ZWRPcHRpb24pKSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IGVsZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IHNlbGYuc2VsZWN0ZWRPcHRpb24gPT09IDAgP1xuICAgICAgICAgICAgMCA6IHNlbGYuc2VsZWN0ZWRPcHRpb24gLSAxO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBlbGVtc1tzZWxmLnNlbGVjdGVkT3B0aW9uXS5mb2N1cygpO1xuICB9O1xuXG4gIHNjb3BlLmdldERyb3Bkb3duRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLmRyb3Bkb3duTWVudTtcbiAgfTtcblxuICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi50b2dnbGVFbGVtZW50KSB7XG4gICAgICBzZWxmLnRvZ2dsZUVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgc2NvcGUuJHdhdGNoKCdpc09wZW4nLCBmdW5jdGlvbihpc09wZW4sIHdhc09wZW4pIHtcbiAgICBpZiAoYXBwZW5kVG8gJiYgc2VsZi5kcm9wZG93bk1lbnUpIHtcbiAgICAgIHZhciBwb3MgPSAkcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cygkZWxlbWVudCwgc2VsZi5kcm9wZG93bk1lbnUsICdib3R0b20tbGVmdCcsIHRydWUpLFxuICAgICAgICBjc3MsXG4gICAgICAgIHJpZ2h0YWxpZ247XG5cbiAgICAgIGNzcyA9IHtcbiAgICAgICAgdG9wOiBwb3MudG9wICsgJ3B4JyxcbiAgICAgICAgZGlzcGxheTogaXNPcGVuID8gJ2Jsb2NrJyA6ICdub25lJ1xuICAgICAgfTtcblxuICAgICAgcmlnaHRhbGlnbiA9IHNlbGYuZHJvcGRvd25NZW51Lmhhc0NsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XG4gICAgICBpZiAoIXJpZ2h0YWxpZ24pIHtcbiAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCArICdweCc7XG4gICAgICAgIGNzcy5yaWdodCA9ICdhdXRvJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNzcy5sZWZ0ID0gJ2F1dG8nO1xuICAgICAgICBjc3MucmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCAtXG4gICAgICAgICAgKHBvcy5sZWZ0ICsgJGVsZW1lbnQucHJvcCgnb2Zmc2V0V2lkdGgnKSkgKyAncHgnO1xuICAgICAgfVxuXG4gICAgICAvLyBOZWVkIHRvIGFkanVzdCBvdXIgcG9zaXRpb25pbmcgdG8gYmUgcmVsYXRpdmUgdG8gdGhlIGFwcGVuZFRvIGNvbnRhaW5lclxuICAgICAgLy8gaWYgaXQncyBub3QgdGhlIGJvZHkgZWxlbWVudFxuICAgICAgaWYgKCFhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgdmFyIGFwcGVuZE9mZnNldCA9ICRwb3NpdGlvbi5vZmZzZXQoYXBwZW5kVG8pO1xuXG4gICAgICAgIGNzcy50b3AgPSBwb3MudG9wIC0gYXBwZW5kT2Zmc2V0LnRvcCArICdweCc7XG5cbiAgICAgICAgaWYgKCFyaWdodGFsaWduKSB7XG4gICAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCAtIGFwcGVuZE9mZnNldC5sZWZ0ICsgJ3B4JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3MucmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCAtXG4gICAgICAgICAgICAocG9zLmxlZnQgLSBhcHBlbmRPZmZzZXQubGVmdCArICRlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJykpICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxmLmRyb3Bkb3duTWVudS5jc3MoY3NzKTtcbiAgICB9XG5cbiAgICB2YXIgb3BlbkNvbnRhaW5lciA9IGFwcGVuZFRvID8gYXBwZW5kVG8gOiAkZWxlbWVudDtcbiAgICB2YXIgaGFzT3BlbkNsYXNzID0gb3BlbkNvbnRhaW5lci5oYXNDbGFzcyhhcHBlbmRUbyA/IGFwcGVuZFRvT3BlbkNsYXNzIDogb3BlbkNsYXNzKTtcblxuICAgIGlmIChoYXNPcGVuQ2xhc3MgPT09ICFpc09wZW4pIHtcbiAgICAgICRhbmltYXRlW2lzT3BlbiA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShvcGVuQ29udGFpbmVyLCBhcHBlbmRUbyA/IGFwcGVuZFRvT3BlbkNsYXNzIDogb3BlbkNsYXNzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaXNPcGVuKSAmJiBpc09wZW4gIT09IHdhc09wZW4pIHtcbiAgICAgICAgICB0b2dnbGVJbnZva2VyKCRzY29wZSwgeyBvcGVuOiAhIWlzT3BlbiB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgaWYgKHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpIHtcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzZWxmLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKS50aGVuKGZ1bmN0aW9uKHRwbENvbnRlbnQpIHtcbiAgICAgICAgICB0ZW1wbGF0ZVNjb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgICRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKSh0ZW1wbGF0ZVNjb3BlLCBmdW5jdGlvbihkcm9wZG93bkVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbCA9IGRyb3Bkb3duRWxlbWVudDtcbiAgICAgICAgICAgIHNlbGYuZHJvcGRvd25NZW51LnJlcGxhY2VXaXRoKG5ld0VsKTtcbiAgICAgICAgICAgIHNlbGYuZHJvcGRvd25NZW51ID0gbmV3RWw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKTtcbiAgICAgIHVpYkRyb3Bkb3duU2VydmljZS5vcGVuKHNjb3BlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlU2NvcGUpIHtcbiAgICAgICAgICB0ZW1wbGF0ZVNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld0VsID0gYW5ndWxhci5lbGVtZW50KCc8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PC91bD4nKTtcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgobmV3RWwpO1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudSA9IG5ld0VsO1xuICAgICAgfVxuXG4gICAgICB1aWJEcm9wZG93blNlcnZpY2UuY2xvc2Uoc2NvcGUpO1xuICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRJc09wZW4pKSB7XG4gICAgICBzZXRJc09wZW4oJHNjb3BlLCBpc09wZW4pO1xuICAgIH1cbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgndWliRHJvcGRvd24nLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiAnVWliRHJvcGRvd25Db250cm9sbGVyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgZHJvcGRvd25DdHJsLmluaXQoKTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd1aWJEcm9wZG93bk1lbnUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/XnVpYkRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCFkcm9wZG93bkN0cmwgfHwgYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZHJvcGRvd25OZXN0ZWQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnZHJvcGRvd24tbWVudScpO1xuXG4gICAgICB2YXIgdHBsVXJsID0gYXR0cnMudGVtcGxhdGVVcmw7XG4gICAgICBpZiAodHBsVXJsKSB7XG4gICAgICAgIGRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnVUZW1wbGF0ZVVybCA9IHRwbFVybDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51KSB7XG4gICAgICAgIGRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUgPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3VpYkRyb3Bkb3duVG9nZ2xlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJz9edWliRHJvcGRvd24nLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG4gICAgICBpZiAoIWRyb3Bkb3duQ3RybCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2Ryb3Bkb3duLXRvZ2dsZScpO1xuXG4gICAgICBkcm9wZG93bkN0cmwudG9nZ2xlRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIHZhciB0b2dnbGVEcm9wZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCdkaXNhYmxlZCcpICYmICFhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRyb3Bkb3duQ3RybC50b2dnbGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIHRvZ2dsZURyb3Bkb3duKTtcblxuICAgICAgLy8gV0FJLUFSSUFcbiAgICAgIGVsZW1lbnQuYXR0cih7ICdhcmlhLWhhc3BvcHVwJzogdHJ1ZSwgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSB9KTtcbiAgICAgIHNjb3BlLiR3YXRjaChkcm9wZG93bkN0cmwuaXNPcGVuLCBmdW5jdGlvbihpc09wZW4pIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgISFpc09wZW4pO1xuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuc3RhY2tlZE1hcCcsIFtdKVxuLyoqXG4gKiBBIGhlbHBlciwgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBhY3RzIGFzIGEgbWFwIGJ1dCBhbHNvIGFsbG93cyBnZXR0aW5nIC8gcmVtb3ZpbmdcbiAqIGVsZW1lbnRzIGluIHRoZSBMSUZPIG9yZGVyXG4gKi9cbiAgLmZhY3RvcnkoJyQkc3RhY2tlZE1hcCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVOZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFkZDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGtleSA9PT0gc3RhY2tbaV0ua2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrW2ldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBrZXlzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGtleXMucHVzaChzdGFja1tpXS5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGtleSA9PT0gc3RhY2tbaV0ua2V5KSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLnNwbGljZShpZHgsIDEpWzBdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVtb3ZlVG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2Uoc3RhY2subGVuZ3RoIC0gMSwgMSlbMF07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLm1vZGFsJywgWyd1aS5ib290c3RyYXAuc3RhY2tlZE1hcCcsICd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcbi8qKlxuICogQSBoZWxwZXIsIGludGVybmFsIGRhdGEgc3RydWN0dXJlIHRoYXQgc3RvcmVzIGFsbCByZWZlcmVuY2VzIGF0dGFjaGVkIHRvIGtleVxuICovXG4gIC5mYWN0b3J5KCckJG11bHRpTWFwJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtYXAgPSB7fTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVudHJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCkubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBtYXBba2V5XVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcFtrZXldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFzS2V5OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAhIW1hcFtrZXldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFtYXBba2V5XSkge1xuICAgICAgICAgICAgICBtYXBba2V5XSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXBba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG1hcFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpZHggPSB2YWx1ZXMuaW5kZXhPZih2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBtYXBba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuLyoqXG4gKiBQbHVnZ2FibGUgcmVzb2x2ZSBtZWNoYW5pc20gZm9yIHRoZSBtb2RhbCByZXNvbHZlIHJlc29sdXRpb25cbiAqIFN1cHBvcnRzIFVJIFJvdXRlcidzICRyZXNvbHZlIHNlcnZpY2VcbiAqL1xuICAucHJvdmlkZXIoJyR1aWJSZXNvbHZlJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc29sdmUgPSB0aGlzO1xuICAgIHRoaXMucmVzb2x2ZXIgPSBudWxsO1xuXG4gICAgdGhpcy5zZXRSZXNvbHZlciA9IGZ1bmN0aW9uKHJlc29sdmVyKSB7XG4gICAgICB0aGlzLnJlc29sdmVyID0gcmVzb2x2ZXI7XG4gICAgfTtcblxuICAgIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyRxJywgZnVuY3Rpb24oJGluamVjdG9yLCAkcSkge1xuICAgICAgdmFyIHJlc29sdmVyID0gcmVzb2x2ZS5yZXNvbHZlciA/ICRpbmplY3Rvci5nZXQocmVzb2x2ZS5yZXNvbHZlcikgOiBudWxsO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzb2x2ZTogZnVuY3Rpb24oaW52b2NhYmxlcywgbG9jYWxzLCBwYXJlbnQsIHNlbGYpIHtcbiAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlci5yZXNvbHZlKGludm9jYWJsZXMsIGxvY2FscywgcGFyZW50LCBzZWxmKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcblxuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpbnZvY2FibGVzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbih2YWx1ZSkgfHwgYW5ndWxhci5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKCRxLnJlc29sdmUoJGluamVjdG9yLmludm9rZSh2YWx1ZSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCgkcS5yZXNvbHZlKCRpbmplY3Rvci5nZXQodmFsdWUpKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKCRxLnJlc29sdmUodmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiAkcS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24ocmVzb2x2ZXMpIHtcbiAgICAgICAgICAgIHZhciByZXNvbHZlT2JqID0ge307XG4gICAgICAgICAgICB2YXIgcmVzb2x2ZUl0ZXIgPSAwO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGludm9jYWJsZXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZU9ialtrZXldID0gcmVzb2x2ZXNbcmVzb2x2ZUl0ZXIrK107XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVPYmo7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV07XG4gIH0pXG5cbi8qKlxuICogQSBoZWxwZXIgZGlyZWN0aXZlIGZvciB0aGUgJG1vZGFsIHNlcnZpY2UuIEl0IGNyZWF0ZXMgYSBiYWNrZHJvcCBlbGVtZW50LlxuICovXG4gIC5kaXJlY3RpdmUoJ3VpYk1vZGFsQmFja2Ryb3AnLCBbJyRhbmltYXRlJywgJyRpbmplY3RvcicsICckdWliTW9kYWxTdGFjaycsXG4gIGZ1bmN0aW9uKCRhbmltYXRlLCAkaW5qZWN0b3IsICRtb2RhbFN0YWNrKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3VpYi90ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sJyxcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgdEVsZW1lbnQuYWRkQ2xhc3ModEF0dHJzLmJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICByZXR1cm4gbGlua0ZuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBpZiAoYXR0cnMubW9kYWxJbkNsYXNzKSB7XG4gICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XG5cbiAgICAgICAgc2NvcGUuJG9uKCRtb2RhbFN0YWNrLk5PV19DTE9TSU5HX0VWRU5ULCBmdW5jdGlvbihlLCBzZXRJc0FzeW5jKSB7XG4gICAgICAgICAgdmFyIGRvbmUgPSBzZXRJc0FzeW5jKCk7XG4gICAgICAgICAgaWYgKHNjb3BlLm1vZGFsT3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XSlcblxuICAuZGlyZWN0aXZlKCd1aWJNb2RhbFdpbmRvdycsIFsnJHVpYk1vZGFsU3RhY2snLCAnJHEnLCAnJGFuaW1hdGVDc3MnLCAnJGRvY3VtZW50JyxcbiAgZnVuY3Rpb24oJG1vZGFsU3RhY2ssICRxLCAkYW5pbWF0ZUNzcywgJGRvY3VtZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGluZGV4OiAnQCdcbiAgICAgIH0sXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XG4gICAgICAgIHJldHVybiB0QXR0cnMudGVtcGxhdGVVcmwgfHwgJ3VpYi90ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCc7XG4gICAgICB9LFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoYXR0cnMud2luZG93Q2xhc3MgfHwgJycpO1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKGF0dHJzLndpbmRvd1RvcENsYXNzIHx8ICcnKTtcbiAgICAgICAgc2NvcGUuc2l6ZSA9IGF0dHJzLnNpemU7XG5cbiAgICAgICAgc2NvcGUuY2xvc2UgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICB2YXIgbW9kYWwgPSAkbW9kYWxTdGFjay5nZXRUb3AoKTtcbiAgICAgICAgICBpZiAobW9kYWwgJiYgbW9kYWwudmFsdWUuYmFja2Ryb3AgJiZcbiAgICAgICAgICAgIG1vZGFsLnZhbHVlLmJhY2tkcm9wICE9PSAnc3RhdGljJyAmJlxuICAgICAgICAgICAgZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbC5rZXksICdiYWNrZHJvcCBjbGljaycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBtb3ZlZCBmcm9tIHRlbXBsYXRlIHRvIGZpeCBpc3N1ZSAjMjI4MFxuICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIHNjb3BlLmNsb3NlKTtcblxuICAgICAgICAvLyBUaGlzIHByb3BlcnR5IGlzIG9ubHkgYWRkZWQgdG8gdGhlIHNjb3BlIGZvciB0aGUgcHVycG9zZSBvZiBkZXRlY3Rpbmcgd2hlbiB0aGlzIGRpcmVjdGl2ZSBpcyByZW5kZXJlZC5cbiAgICAgICAgLy8gV2UgY2FuIGRldGVjdCB0aGF0IGJ5IHVzaW5nIHRoaXMgcHJvcGVydHkgaW4gdGhlIHRlbXBsYXRlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRpcmVjdGl2ZSBhbmQgdGhlbiB1c2VcbiAgICAgICAgLy8ge0BsaW5rIEF0dHJpYnV0ZSMkb2JzZXJ2ZX0gb24gaXQuIEZvciBtb3JlIGRldGFpbHMgcGxlYXNlIHNlZSB7QGxpbmsgVGFibGVDb2x1bW5SZXNpemV9LlxuICAgICAgICBzY29wZS4kaXNSZW5kZXJlZCA9IHRydWU7XG5cbiAgICAgICAgLy8gRGVmZXJyZWQgb2JqZWN0IHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoaXMgbW9kYWwgaXMgcmVuZGVyLlxuICAgICAgICB2YXIgbW9kYWxSZW5kZXJEZWZlck9iaiA9ICRxLmRlZmVyKCk7XG4gICAgICAgIC8vIE9ic2VydmUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgb24gbmV4dCBkaWdlc3QgY3ljbGUgYWZ0ZXIgY29tcGlsYXRpb24sIGVuc3VyaW5nIHRoYXQgdGhlIERPTSBpcyByZWFkeS5cbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gdXNlIHRoaXMgd2F5IG9mIGZpbmRpbmcgd2hldGhlciBET00gaXMgcmVhZHksIHdlIG5lZWQgdG8gb2JzZXJ2ZSBhIHNjb3BlIHByb3BlcnR5IHVzZWQgaW4gbW9kYWwncyB0ZW1wbGF0ZS5cbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ21vZGFsUmVuZGVyJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgbW9kYWxSZW5kZXJEZWZlck9iai5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBtb2RhbFJlbmRlckRlZmVyT2JqLnByb21pc2UudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYW5pbWF0aW9uUHJvbWlzZSA9IG51bGw7XG5cbiAgICAgICAgICBpZiAoYXR0cnMubW9kYWxJbkNsYXNzKSB7XG4gICAgICAgICAgICBhbmltYXRpb25Qcm9taXNlID0gJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgICAgICAgICAgICBhZGRDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICB9KS5zdGFydCgpO1xuXG4gICAgICAgICAgICBzY29wZS4kb24oJG1vZGFsU3RhY2suTk9XX0NMT1NJTkdfRVZFTlQsIGZ1bmN0aW9uKGUsIHNldElzQXN5bmMpIHtcbiAgICAgICAgICAgICAgdmFyIGRvbmUgPSBzZXRJc0FzeW5jKCk7XG4gICAgICAgICAgICAgICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICAgIH0pLnN0YXJ0KCkudGhlbihkb25lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgJHEud2hlbihhbmltYXRpb25Qcm9taXNlKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gTm90aWZ5IHtAbGluayAkbW9kYWxTdGFja30gdGhhdCBtb2RhbCBpcyByZW5kZXJlZC5cbiAgICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgICAgaWYgKG1vZGFsKSB7XG4gICAgICAgICAgICAgICRtb2RhbFN0YWNrLm1vZGFsUmVuZGVyZWQobW9kYWwua2V5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBzb21ldGhpbmcgd2l0aGluIHRoZSBmcmVzaGx5LW9wZW5lZCBtb2RhbCBhbHJlYWR5IGhhcyBmb2N1cyAocGVyaGFwcyB2aWEgYVxuICAgICAgICAgICAgICogZGlyZWN0aXZlIHRoYXQgY2F1c2VzIGZvY3VzKS4gdGhlbiBubyBuZWVkIHRvIHRyeSBhbmQgZm9jdXMgYW55dGhpbmcuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICghKCRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50ICYmIGVsZW1lbnRbMF0uY29udGFpbnMoJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQpKSkge1xuICAgICAgICAgICAgICB2YXIgaW5wdXRXaXRoQXV0b2ZvY3VzID0gZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCdbYXV0b2ZvY3VzXScpO1xuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogQXV0by1mb2N1c2luZyBvZiBhIGZyZXNobHktb3BlbmVkIG1vZGFsIGVsZW1lbnQgY2F1c2VzIGFueSBjaGlsZCBlbGVtZW50c1xuICAgICAgICAgICAgICAgKiB3aXRoIHRoZSBhdXRvZm9jdXMgYXR0cmlidXRlIHRvIGxvc2UgZm9jdXMuIFRoaXMgaXMgYW4gaXNzdWUgb24gdG91Y2hcbiAgICAgICAgICAgICAgICogYmFzZWQgZGV2aWNlcyB3aGljaCB3aWxsIHNob3cgYW5kIHRoZW4gaGlkZSB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuXG4gICAgICAgICAgICAgICAqIEF0dGVtcHRzIHRvIHJlZm9jdXMgdGhlIGF1dG9mb2N1cyBlbGVtZW50IHZpYSBKYXZhU2NyaXB0IHdpbGwgbm90IHJlb3BlblxuICAgICAgICAgICAgICAgKiB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuIEZpeGVkIGJ5IHVwZGF0ZWQgdGhlIGZvY3VzaW5nIGxvZ2ljIHRvIG9ubHkgYXV0b2ZvY3VzXG4gICAgICAgICAgICAgICAqIHRoZSBtb2RhbCBlbGVtZW50IGlmIHRoZSBtb2RhbCBkb2VzIG5vdCBjb250YWluIGFuIGF1dG9mb2N1cyBlbGVtZW50LlxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgaWYgKGlucHV0V2l0aEF1dG9mb2N1cykge1xuICAgICAgICAgICAgICAgIGlucHV0V2l0aEF1dG9mb2N1cy5mb2N1cygpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSlcblxuICAuZGlyZWN0aXZlKCd1aWJNb2RhbEFuaW1hdGlvbkNsYXNzJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgICAgaWYgKHRBdHRycy5tb2RhbEFuaW1hdGlvbikge1xuICAgICAgICAgIHRFbGVtZW50LmFkZENsYXNzKHRBdHRycy51aWJNb2RhbEFuaW1hdGlvbkNsYXNzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbiAgLmRpcmVjdGl2ZSgndWliTW9kYWxUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZSkge1xuICAgICAgICB0cmFuc2NsdWRlKHNjb3BlLiRwYXJlbnQsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgZWxlbWVudC5lbXB0eSgpO1xuICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuICAuZmFjdG9yeSgnJHVpYk1vZGFsU3RhY2snLCBbJyRhbmltYXRlJywgJyRhbmltYXRlQ3NzJywgJyRkb2N1bWVudCcsXG4gICAgJyRjb21waWxlJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJCRtdWx0aU1hcCcsICckJHN0YWNrZWRNYXAnLCAnJHVpYlBvc2l0aW9uJyxcbiAgICBmdW5jdGlvbigkYW5pbWF0ZSwgJGFuaW1hdGVDc3MsICRkb2N1bWVudCwgJGNvbXBpbGUsICRyb290U2NvcGUsICRxLCAkJG11bHRpTWFwLCAkJHN0YWNrZWRNYXAsICR1aWJQb3NpdGlvbikge1xuICAgICAgdmFyIE9QRU5FRF9NT0RBTF9DTEFTUyA9ICdtb2RhbC1vcGVuJztcblxuICAgICAgdmFyIGJhY2tkcm9wRG9tRWwsIGJhY2tkcm9wU2NvcGU7XG4gICAgICB2YXIgb3BlbmVkV2luZG93cyA9ICQkc3RhY2tlZE1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciBvcGVuZWRDbGFzc2VzID0gJCRtdWx0aU1hcC5jcmVhdGVOZXcoKTtcbiAgICAgIHZhciAkbW9kYWxTdGFjayA9IHtcbiAgICAgICAgTk9XX0NMT1NJTkdfRVZFTlQ6ICdtb2RhbC5zdGFjay5ub3ctY2xvc2luZydcbiAgICAgIH07XG4gICAgICB2YXIgdG9wTW9kYWxJbmRleCA9IDA7XG4gICAgICB2YXIgcHJldmlvdXNUb3BPcGVuZWRNb2RhbCA9IG51bGw7XG5cbiAgICAgIC8vTW9kYWwgZm9jdXMgYmVoYXZpb3JcbiAgICAgIHZhciB0YWJhYmxlU2VsZWN0b3IgPSAnYVtocmVmXSwgYXJlYVtocmVmXSwgaW5wdXQ6bm90KFtkaXNhYmxlZF0pLCAnICtcbiAgICAgICAgJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSksc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCAnICtcbiAgICAgICAgJ2lmcmFtZSwgb2JqZWN0LCBlbWJlZCwgKlt0YWJpbmRleF0sICpbY29udGVudGVkaXRhYmxlPXRydWVdJztcbiAgICAgIHZhciBzY3JvbGxiYXJQYWRkaW5nO1xuXG4gICAgICBmdW5jdGlvbiBpc1Zpc2libGUoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gISEoZWxlbWVudC5vZmZzZXRXaWR0aCB8fFxuICAgICAgICAgIGVsZW1lbnQub2Zmc2V0SGVpZ2h0IHx8XG4gICAgICAgICAgZWxlbWVudC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJhY2tkcm9wSW5kZXgoKSB7XG4gICAgICAgIHZhciB0b3BCYWNrZHJvcEluZGV4ID0gLTE7XG4gICAgICAgIHZhciBvcGVuZWQgPSBvcGVuZWRXaW5kb3dzLmtleXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVuZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAob3BlbmVkV2luZG93cy5nZXQob3BlbmVkW2ldKS52YWx1ZS5iYWNrZHJvcCkge1xuICAgICAgICAgICAgdG9wQmFja2Ryb3BJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYW55IGJhY2tkcm9wIGV4aXN0LCBlbnN1cmUgdGhhdCBpdCdzIGluZGV4IGlzIGFsd2F5c1xuICAgICAgICAvLyByaWdodCBiZWxvdyB0aGUgdG9wIG1vZGFsXG4gICAgICAgIGlmICh0b3BCYWNrZHJvcEluZGV4ID4gLTEgJiYgdG9wQmFja2Ryb3BJbmRleCA8IHRvcE1vZGFsSW5kZXgpIHtcbiAgICAgICAgICB0b3BCYWNrZHJvcEluZGV4ID0gdG9wTW9kYWxJbmRleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9wQmFja2Ryb3BJbmRleDtcbiAgICAgIH1cblxuICAgICAgJHJvb3RTY29wZS4kd2F0Y2goYmFja2Ryb3BJbmRleCwgZnVuY3Rpb24obmV3QmFja2Ryb3BJbmRleCkge1xuICAgICAgICBpZiAoYmFja2Ryb3BTY29wZSkge1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBuZXdCYWNrZHJvcEluZGV4O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSwgZWxlbWVudFRvUmVjZWl2ZUZvY3VzKSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpLnZhbHVlO1xuICAgICAgICB2YXIgYXBwZW5kVG9FbGVtZW50ID0gbW9kYWxXaW5kb3cuYXBwZW5kVG87XG5cbiAgICAgICAgLy9jbGVhbiB1cCB0aGUgc3RhY2tcbiAgICAgICAgb3BlbmVkV2luZG93cy5yZW1vdmUobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIHByZXZpb3VzVG9wT3BlbmVkTW9kYWwgPSBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgICBpZiAocHJldmlvdXNUb3BPcGVuZWRNb2RhbCkge1xuICAgICAgICAgIHRvcE1vZGFsSW5kZXggPSBwYXJzZUludChwcmV2aW91c1RvcE9wZW5lZE1vZGFsLnZhbHVlLm1vZGFsRG9tRWwuYXR0cignaW5kZXgnKSwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVtb3ZlQWZ0ZXJBbmltYXRlKG1vZGFsV2luZG93Lm1vZGFsRG9tRWwsIG1vZGFsV2luZG93Lm1vZGFsU2NvcGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBtb2RhbEJvZHlDbGFzcyA9IG1vZGFsV2luZG93Lm9wZW5lZENsYXNzIHx8IE9QRU5FRF9NT0RBTF9DTEFTUztcbiAgICAgICAgICBvcGVuZWRDbGFzc2VzLnJlbW92ZShtb2RhbEJvZHlDbGFzcywgbW9kYWxJbnN0YW5jZSk7XG4gICAgICAgICAgYXBwZW5kVG9FbGVtZW50LnRvZ2dsZUNsYXNzKG1vZGFsQm9keUNsYXNzLCBvcGVuZWRDbGFzc2VzLmhhc0tleShtb2RhbEJvZHlDbGFzcykpO1xuICAgICAgICAgIGlmIChzY3JvbGxiYXJQYWRkaW5nICYmIHNjcm9sbGJhclBhZGRpbmcuaGVpZ2h0T3ZlcmZsb3cgJiYgc2Nyb2xsYmFyUGFkZGluZy5zY3JvbGxiYXJXaWR0aCkge1xuICAgICAgICAgICAgaWYgKHNjcm9sbGJhclBhZGRpbmcub3JpZ2luYWxSaWdodCkge1xuICAgICAgICAgICAgICBhcHBlbmRUb0VsZW1lbnQuY3NzKHtwYWRkaW5nUmlnaHQ6IHNjcm9sbGJhclBhZGRpbmcub3JpZ2luYWxSaWdodCArICdweCd9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFwcGVuZFRvRWxlbWVudC5jc3Moe3BhZGRpbmdSaWdodDogJyd9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjcm9sbGJhclBhZGRpbmcgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2dnbGVUb3BXaW5kb3dDbGFzcyh0cnVlKTtcbiAgICAgICAgfSwgbW9kYWxXaW5kb3cuY2xvc2VkRGVmZXJyZWQpO1xuICAgICAgICBjaGVja1JlbW92ZUJhY2tkcm9wKCk7XG5cbiAgICAgICAgLy9tb3ZlIGZvY3VzIHRvIHNwZWNpZmllZCBlbGVtZW50IGlmIGF2YWlsYWJsZSwgb3IgZWxzZSB0byBib2R5XG4gICAgICAgIGlmIChlbGVtZW50VG9SZWNlaXZlRm9jdXMgJiYgZWxlbWVudFRvUmVjZWl2ZUZvY3VzLmZvY3VzKSB7XG4gICAgICAgICAgZWxlbWVudFRvUmVjZWl2ZUZvY3VzLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXBwZW5kVG9FbGVtZW50LmZvY3VzKSB7XG4gICAgICAgICAgYXBwZW5kVG9FbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRkIG9yIHJlbW92ZSBcIndpbmRvd1RvcENsYXNzXCIgZnJvbSB0aGUgdG9wIHdpbmRvdyBpbiB0aGUgc3RhY2tcbiAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvcFdpbmRvd0NsYXNzKHRvZ2dsZVN3aXRjaCkge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3c7XG5cbiAgICAgICAgaWYgKG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLnRvcCgpLnZhbHVlO1xuICAgICAgICAgIG1vZGFsV2luZG93Lm1vZGFsRG9tRWwudG9nZ2xlQ2xhc3MobW9kYWxXaW5kb3cud2luZG93VG9wQ2xhc3MgfHwgJycsIHRvZ2dsZVN3aXRjaCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hlY2tSZW1vdmVCYWNrZHJvcCgpIHtcbiAgICAgICAgLy9yZW1vdmUgYmFja2Ryb3AgaWYgbm8gbG9uZ2VyIG5lZWRlZFxuICAgICAgICBpZiAoYmFja2Ryb3BEb21FbCAmJiBiYWNrZHJvcEluZGV4KCkgPT09IC0xKSB7XG4gICAgICAgICAgdmFyIGJhY2tkcm9wU2NvcGVSZWYgPSBiYWNrZHJvcFNjb3BlO1xuICAgICAgICAgIHJlbW92ZUFmdGVyQW5pbWF0ZShiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGJhY2tkcm9wU2NvcGVSZWYgPSBudWxsO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJhY2tkcm9wRG9tRWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1vdmVBZnRlckFuaW1hdGUoZG9tRWwsIHNjb3BlLCBkb25lLCBjbG9zZWREZWZlcnJlZCkge1xuICAgICAgICB2YXIgYXN5bmNEZWZlcnJlZDtcbiAgICAgICAgdmFyIGFzeW5jUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHZhciBzZXRJc0FzeW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFhc3luY0RlZmVycmVkKSB7XG4gICAgICAgICAgICBhc3luY0RlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIGFzeW5jUHJvbWlzZSA9IGFzeW5jRGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNEb25lKCkge1xuICAgICAgICAgICAgYXN5bmNEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgc2V0SXNBc3luYyk7XG5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCBhc3luY1Byb21pc2UgbWlnaHQgYmUgbnVsbC5cbiAgICAgICAgLy8gVGhhdCdzIHdoZW4gc2V0SXNBc3luYyBoYXMgbm90IGJlZW4gY2FsbGVkIGR1cmluZyB0aGVcbiAgICAgICAgLy8gTk9XX0NMT1NJTkdfRVZFTlQgYnJvYWRjYXN0LlxuICAgICAgICByZXR1cm4gJHEud2hlbihhc3luY1Byb21pc2UpLnRoZW4oYWZ0ZXJBbmltYXRpbmcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW5nKCkge1xuICAgICAgICAgIGlmIChhZnRlckFuaW1hdGluZy5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyQW5pbWF0aW5nLmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgJGFuaW1hdGUubGVhdmUoZG9tRWwpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb21FbC5yZW1vdmUoKTtcbiAgICAgICAgICAgIGlmIChjbG9zZWREZWZlcnJlZCkge1xuICAgICAgICAgICAgICBjbG9zZWREZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRkb2N1bWVudC5vbigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG5cbiAgICAgICRyb290U2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkZG9jdW1lbnQub2ZmKCdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyKTtcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBrZXlkb3duTGlzdGVuZXIoZXZ0KSB7XG4gICAgICAgIGlmIChldnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gZXZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1vZGFsID0gb3BlbmVkV2luZG93cy50b3AoKTtcbiAgICAgICAgaWYgKG1vZGFsKSB7XG4gICAgICAgICAgc3dpdGNoIChldnQud2hpY2gpIHtcbiAgICAgICAgICAgIGNhc2UgMjc6IHtcbiAgICAgICAgICAgICAgaWYgKG1vZGFsLnZhbHVlLmtleWJvYXJkKSB7XG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2VzY2FwZSBrZXkgcHJlc3MnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgOToge1xuICAgICAgICAgICAgICB2YXIgbGlzdCA9ICRtb2RhbFN0YWNrLmxvYWRGb2N1c0VsZW1lbnRMaXN0KG1vZGFsKTtcbiAgICAgICAgICAgICAgdmFyIGZvY3VzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBpZiAoZXZ0LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCRtb2RhbFN0YWNrLmlzRm9jdXNJbkZpcnN0SXRlbShldnQsIGxpc3QpIHx8ICRtb2RhbFN0YWNrLmlzTW9kYWxGb2N1c2VkKGV2dCwgbW9kYWwpKSB7XG4gICAgICAgICAgICAgICAgICBmb2N1c0NoYW5nZWQgPSAkbW9kYWxTdGFjay5mb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50KGxpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoJG1vZGFsU3RhY2suaXNGb2N1c0luTGFzdEl0ZW0oZXZ0LCBsaXN0KSkge1xuICAgICAgICAgICAgICAgICAgZm9jdXNDaGFuZ2VkID0gJG1vZGFsU3RhY2suZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQobGlzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGZvY3VzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkbW9kYWxTdGFjay5vcGVuID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSwgbW9kYWwpIHtcbiAgICAgICAgdmFyIG1vZGFsT3BlbmVyID0gJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQsXG4gICAgICAgICAgbW9kYWxCb2R5Q2xhc3MgPSBtb2RhbC5vcGVuZWRDbGFzcyB8fCBPUEVORURfTU9EQUxfQ0xBU1M7XG5cbiAgICAgICAgdG9nZ2xlVG9wV2luZG93Q2xhc3MoZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgdGhlIGN1cnJlbnQgdG9wIGZpcnN0LCB0byBkZXRlcm1pbmUgd2hhdCBpbmRleCB3ZSBvdWdodCB0byB1c2VcbiAgICAgICAgLy8gZm9yIHRoZSBjdXJyZW50IHRvcCBtb2RhbFxuICAgICAgICBwcmV2aW91c1RvcE9wZW5lZE1vZGFsID0gb3BlbmVkV2luZG93cy50b3AoKTtcblxuICAgICAgICBvcGVuZWRXaW5kb3dzLmFkZChtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsLmRlZmVycmVkLFxuICAgICAgICAgIHJlbmRlckRlZmVycmVkOiBtb2RhbC5yZW5kZXJEZWZlcnJlZCxcbiAgICAgICAgICBjbG9zZWREZWZlcnJlZDogbW9kYWwuY2xvc2VkRGVmZXJyZWQsXG4gICAgICAgICAgbW9kYWxTY29wZTogbW9kYWwuc2NvcGUsXG4gICAgICAgICAgYmFja2Ryb3A6IG1vZGFsLmJhY2tkcm9wLFxuICAgICAgICAgIGtleWJvYXJkOiBtb2RhbC5rZXlib2FyZCxcbiAgICAgICAgICBvcGVuZWRDbGFzczogbW9kYWwub3BlbmVkQ2xhc3MsXG4gICAgICAgICAgd2luZG93VG9wQ2xhc3M6IG1vZGFsLndpbmRvd1RvcENsYXNzLFxuICAgICAgICAgIGFuaW1hdGlvbjogbW9kYWwuYW5pbWF0aW9uLFxuICAgICAgICAgIGFwcGVuZFRvOiBtb2RhbC5hcHBlbmRUb1xuICAgICAgICB9KTtcblxuICAgICAgICBvcGVuZWRDbGFzc2VzLnB1dChtb2RhbEJvZHlDbGFzcywgbW9kYWxJbnN0YW5jZSk7XG5cbiAgICAgICAgdmFyIGFwcGVuZFRvRWxlbWVudCA9IG1vZGFsLmFwcGVuZFRvLFxuICAgICAgICAgICAgY3VyckJhY2tkcm9wSW5kZXggPSBiYWNrZHJvcEluZGV4KCk7XG5cbiAgICAgICAgaWYgKCFhcHBlbmRUb0VsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcHBlbmRUbyBlbGVtZW50IG5vdCBmb3VuZC4gTWFrZSBzdXJlIHRoYXQgdGhlIGVsZW1lbnQgcGFzc2VkIGlzIGluIERPTS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyQmFja2Ryb3BJbmRleCA+PSAwICYmICFiYWNrZHJvcERvbUVsKSB7XG4gICAgICAgICAgYmFja2Ryb3BTY29wZSA9ICRyb290U2NvcGUuJG5ldyh0cnVlKTtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlLm1vZGFsT3B0aW9ucyA9IG1vZGFsO1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBjdXJyQmFja2Ryb3BJbmRleDtcbiAgICAgICAgICBiYWNrZHJvcERvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IHVpYi1tb2RhbC1iYWNrZHJvcD1cIm1vZGFsLWJhY2tkcm9wXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgYmFja2Ryb3BEb21FbC5hdHRyKCdiYWNrZHJvcC1jbGFzcycsIG1vZGFsLmJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIGJhY2tkcm9wRG9tRWwuYXR0cignbW9kYWwtYW5pbWF0aW9uJywgJ3RydWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJGNvbXBpbGUoYmFja2Ryb3BEb21FbCkoYmFja2Ryb3BTY29wZSk7XG4gICAgICAgICAgJGFuaW1hdGUuZW50ZXIoYmFja2Ryb3BEb21FbCwgYXBwZW5kVG9FbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgdG9wIG1vZGFsIGluZGV4IGJhc2VkIG9uIHRoZSBpbmRleCBvZiB0aGUgcHJldmlvdXMgdG9wIG1vZGFsXG4gICAgICAgIHRvcE1vZGFsSW5kZXggPSBwcmV2aW91c1RvcE9wZW5lZE1vZGFsID8gcGFyc2VJbnQocHJldmlvdXNUb3BPcGVuZWRNb2RhbC52YWx1ZS5tb2RhbERvbUVsLmF0dHIoJ2luZGV4JyksIDEwKSArIDEgOiAwO1xuICAgICAgICB2YXIgYW5ndWxhckRvbUVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IHVpYi1tb2RhbC13aW5kb3c9XCJtb2RhbC13aW5kb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgYW5ndWxhckRvbUVsLmF0dHIoe1xuICAgICAgICAgICd0ZW1wbGF0ZS11cmwnOiBtb2RhbC53aW5kb3dUZW1wbGF0ZVVybCxcbiAgICAgICAgICAnd2luZG93LWNsYXNzJzogbW9kYWwud2luZG93Q2xhc3MsXG4gICAgICAgICAgJ3dpbmRvdy10b3AtY2xhc3MnOiBtb2RhbC53aW5kb3dUb3BDbGFzcyxcbiAgICAgICAgICAnc2l6ZSc6IG1vZGFsLnNpemUsXG4gICAgICAgICAgJ2luZGV4JzogdG9wTW9kYWxJbmRleCxcbiAgICAgICAgICAnYW5pbWF0ZSc6ICdhbmltYXRlJ1xuICAgICAgICB9KS5odG1sKG1vZGFsLmNvbnRlbnQpO1xuICAgICAgICBpZiAobW9kYWwuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgYW5ndWxhckRvbUVsLmF0dHIoJ21vZGFsLWFuaW1hdGlvbicsICd0cnVlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGxiYXJQYWRkaW5nID0gJHVpYlBvc2l0aW9uLnNjcm9sbGJhclBhZGRpbmcoYXBwZW5kVG9FbGVtZW50KTtcbiAgICAgICAgaWYgKHNjcm9sbGJhclBhZGRpbmcuaGVpZ2h0T3ZlcmZsb3cgJiYgc2Nyb2xsYmFyUGFkZGluZy5zY3JvbGxiYXJXaWR0aCkge1xuICAgICAgICAgIGFwcGVuZFRvRWxlbWVudC5jc3Moe3BhZGRpbmdSaWdodDogc2Nyb2xsYmFyUGFkZGluZy5yaWdodCArICdweCd9KTtcbiAgICAgICAgfVxuICAgICAgICBhcHBlbmRUb0VsZW1lbnQuYWRkQ2xhc3MobW9kYWxCb2R5Q2xhc3MpO1xuICAgICAgICAkYW5pbWF0ZS5lbnRlcigkY29tcGlsZShhbmd1bGFyRG9tRWwpKG1vZGFsLnNjb3BlKSwgYXBwZW5kVG9FbGVtZW50KTtcblxuICAgICAgICBvcGVuZWRXaW5kb3dzLnRvcCgpLnZhbHVlLm1vZGFsRG9tRWwgPSBhbmd1bGFyRG9tRWw7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxPcGVuZXIgPSBtb2RhbE9wZW5lcjtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlc3VsdE9yUmVhc29uLCBjbG9zaW5nKSB7XG4gICAgICAgIHJldHVybiAhbW9kYWxXaW5kb3cudmFsdWUubW9kYWxTY29wZS4kYnJvYWRjYXN0KCdtb2RhbC5jbG9zaW5nJywgcmVzdWx0T3JSZWFzb24sIGNsb3NpbmcpLmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICB9XG5cbiAgICAgICRtb2RhbFN0YWNrLmNsb3NlID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSwgcmVzdWx0KSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cgJiYgYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVzdWx0LCB0cnVlKSkge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsU2NvcGUuJCR1aWJEZXN0cnVjdGlvblNjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUuZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UsIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsT3BlbmVyKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIW1vZGFsV2luZG93O1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UsIHJlYXNvbikge1xuICAgICAgICB2YXIgbW9kYWxXaW5kb3cgPSBvcGVuZWRXaW5kb3dzLmdldChtb2RhbEluc3RhbmNlKTtcbiAgICAgICAgaWYgKG1vZGFsV2luZG93ICYmIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlYXNvbiwgZmFsc2UpKSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUubW9kYWxTY29wZS4kJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICByZW1vdmVNb2RhbFdpbmRvdyhtb2RhbEluc3RhbmNlLCBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbE9wZW5lcik7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdztcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmRpc21pc3NBbGwgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgdmFyIHRvcE1vZGFsID0gdGhpcy5nZXRUb3AoKTtcbiAgICAgICAgd2hpbGUgKHRvcE1vZGFsICYmIHRoaXMuZGlzbWlzcyh0b3BNb2RhbC5rZXksIHJlYXNvbikpIHtcbiAgICAgICAgICB0b3BNb2RhbCA9IHRoaXMuZ2V0VG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmdldFRvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gb3BlbmVkV2luZG93cy50b3AoKTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLm1vZGFsUmVuZGVyZWQgPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlKSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5yZW5kZXJEZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmZvY3VzRmlyc3RGb2N1c2FibGVFbGVtZW50ID0gZnVuY3Rpb24obGlzdCkge1xuICAgICAgICBpZiAobGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGlzdFswXS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmZvY3VzTGFzdEZvY3VzYWJsZUVsZW1lbnQgPSBmdW5jdGlvbihsaXN0KSB7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBsaXN0W2xpc3QubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5pc01vZGFsRm9jdXNlZCA9IGZ1bmN0aW9uKGV2dCwgbW9kYWxXaW5kb3cpIHtcbiAgICAgICAgaWYgKGV2dCAmJiBtb2RhbFdpbmRvdykge1xuICAgICAgICAgIHZhciBtb2RhbERvbUVsID0gbW9kYWxXaW5kb3cudmFsdWUubW9kYWxEb21FbDtcbiAgICAgICAgICBpZiAobW9kYWxEb21FbCAmJiBtb2RhbERvbUVsLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIChldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50KSA9PT0gbW9kYWxEb21FbFswXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suaXNGb2N1c0luRmlyc3RJdGVtID0gZnVuY3Rpb24oZXZ0LCBsaXN0KSB7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gKGV2dC50YXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpID09PSBsaXN0WzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmlzRm9jdXNJbkxhc3RJdGVtID0gZnVuY3Rpb24oZXZ0LCBsaXN0KSB7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gKGV2dC50YXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpID09PSBsaXN0W2xpc3QubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2subG9hZEZvY3VzRWxlbWVudExpc3QgPSBmdW5jdGlvbihtb2RhbFdpbmRvdykge1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cpIHtcbiAgICAgICAgICB2YXIgbW9kYWxEb21FMSA9IG1vZGFsV2luZG93LnZhbHVlLm1vZGFsRG9tRWw7XG4gICAgICAgICAgaWYgKG1vZGFsRG9tRTEgJiYgbW9kYWxEb21FMS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IG1vZGFsRG9tRTFbMF0ucXVlcnlTZWxlY3RvckFsbCh0YWJhYmxlU2VsZWN0b3IpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzID9cbiAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmlzaWJsZShlbGVtZW50KTtcbiAgICAgICAgICAgICAgfSkgOiBlbGVtZW50cztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiAkbW9kYWxTdGFjaztcbiAgICB9XSlcblxuICAucHJvdmlkZXIoJyR1aWJNb2RhbCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciAkbW9kYWxQcm92aWRlciA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICBiYWNrZHJvcDogdHJ1ZSwgLy9jYW4gYWxzbyBiZSBmYWxzZSBvciAnc3RhdGljJ1xuICAgICAgICBrZXlib2FyZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgICRnZXQ6IFsnJHJvb3RTY29wZScsICckcScsICckZG9jdW1lbnQnLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckY29udHJvbGxlcicsICckdWliUmVzb2x2ZScsICckdWliTW9kYWxTdGFjaycsXG4gICAgICAgIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkcSwgJGRvY3VtZW50LCAkdGVtcGxhdGVSZXF1ZXN0LCAkY29udHJvbGxlciwgJHVpYlJlc29sdmUsICRtb2RhbFN0YWNrKSB7XG4gICAgICAgICAgdmFyICRtb2RhbCA9IHt9O1xuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0VGVtcGxhdGVQcm9taXNlKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnRlbXBsYXRlID8gJHEud2hlbihvcHRpb25zLnRlbXBsYXRlKSA6XG4gICAgICAgICAgICAgICR0ZW1wbGF0ZVJlcXVlc3QoYW5ndWxhci5pc0Z1bmN0aW9uKG9wdGlvbnMudGVtcGxhdGVVcmwpID9cbiAgICAgICAgICAgICAgICBvcHRpb25zLnRlbXBsYXRlVXJsKCkgOiBvcHRpb25zLnRlbXBsYXRlVXJsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcHJvbWlzZUNoYWluID0gbnVsbDtcbiAgICAgICAgICAkbW9kYWwuZ2V0UHJvbWlzZUNoYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZUNoYWluO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkbW9kYWwub3BlbiA9IGZ1bmN0aW9uKG1vZGFsT3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIG1vZGFsUmVzdWx0RGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIG1vZGFsT3BlbmVkRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIG1vZGFsQ2xvc2VkRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgdmFyIG1vZGFsUmVuZGVyRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICAvL3ByZXBhcmUgYW4gaW5zdGFuY2Ugb2YgYSBtb2RhbCB0byBiZSBpbmplY3RlZCBpbnRvIGNvbnRyb2xsZXJzIGFuZCByZXR1cm5lZCB0byBhIGNhbGxlclxuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSB7XG4gICAgICAgICAgICAgIHJlc3VsdDogbW9kYWxSZXN1bHREZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgICAgICBvcGVuZWQ6IG1vZGFsT3BlbmVkRGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgY2xvc2VkOiBtb2RhbENsb3NlZERlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIHJlbmRlcmVkOiBtb2RhbFJlbmRlckRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRtb2RhbFN0YWNrLmNsb3NlKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbEluc3RhbmNlLCByZWFzb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL21lcmdlIGFuZCBjbGVhbiB1cCBvcHRpb25zXG4gICAgICAgICAgICBtb2RhbE9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgJG1vZGFsUHJvdmlkZXIub3B0aW9ucywgbW9kYWxPcHRpb25zKTtcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucy5yZXNvbHZlID0gbW9kYWxPcHRpb25zLnJlc29sdmUgfHwge307XG4gICAgICAgICAgICBtb2RhbE9wdGlvbnMuYXBwZW5kVG8gPSBtb2RhbE9wdGlvbnMuYXBwZW5kVG8gfHwgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5lcSgwKTtcblxuICAgICAgICAgICAgLy92ZXJpZnkgb3B0aW9uc1xuICAgICAgICAgICAgaWYgKCFtb2RhbE9wdGlvbnMudGVtcGxhdGUgJiYgIW1vZGFsT3B0aW9ucy50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09uZSBvZiB0ZW1wbGF0ZSBvciB0ZW1wbGF0ZVVybCBvcHRpb25zIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSA9XG4gICAgICAgICAgICAgICRxLmFsbChbZ2V0VGVtcGxhdGVQcm9taXNlKG1vZGFsT3B0aW9ucyksICR1aWJSZXNvbHZlLnJlc29sdmUobW9kYWxPcHRpb25zLnJlc29sdmUsIHt9LCBudWxsLCBudWxsKV0pO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlV2l0aFRlbXBsYXRlKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHJlc29sdXRpb24gb2YgdGhlIGV4aXN0aW5nIHByb21pc2UgY2hhaW4uXG4gICAgICAgICAgICAvLyBUaGVuIHN3aXRjaCB0byBvdXIgb3duIGNvbWJpbmVkIHByb21pc2UgZGVwZW5kZW5jeSAocmVnYXJkbGVzcyBvZiBob3cgdGhlIHByZXZpb3VzIG1vZGFsIGZhcmVkKS5cbiAgICAgICAgICAgIC8vIFRoZW4gYWRkIHRvICRtb2RhbFN0YWNrIGFuZCByZXNvbHZlIG9wZW5lZC5cbiAgICAgICAgICAgIC8vIEZpbmFsbHkgY2xlYW4gdXAgdGhlIGNoYWluIHZhcmlhYmxlIGlmIG5vIHN1YnNlcXVlbnQgbW9kYWwgaGFzIG92ZXJ3cml0dGVuIGl0LlxuICAgICAgICAgICAgdmFyIHNhbWVQcm9taXNlO1xuICAgICAgICAgICAgc2FtZVByb21pc2UgPSBwcm9taXNlQ2hhaW4gPSAkcS5hbGwoW3Byb21pc2VDaGFpbl0pXG4gICAgICAgICAgICAgIC50aGVuKHJlc29sdmVXaXRoVGVtcGxhdGUsIHJlc29sdmVXaXRoVGVtcGxhdGUpXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHJlc29sdmVTdWNjZXNzKHRwbEFuZFZhcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZWRTY29wZSA9IG1vZGFsT3B0aW9ucy5zY29wZSB8fCAkcm9vdFNjb3BlO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsU2NvcGUgPSBwcm92aWRlZFNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRjbG9zZSA9IG1vZGFsSW5zdGFuY2UuY2xvc2U7XG4gICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcyA9IG1vZGFsSW5zdGFuY2UuZGlzbWlzcztcblxuICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFtb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kZGlzbWlzcygnJHVpYlVuc2NoZWR1bGVkRGVzdHJ1Y3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBjdHJsSW5zdGFuY2UsIGN0cmxJbnN0YW50aWF0ZSwgY3RybExvY2FscyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgLy9jb250cm9sbGVyc1xuICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgY3RybExvY2Fscy4kc2NvcGUgPSBtb2RhbFNjb3BlO1xuICAgICAgICAgICAgICAgICAgY3RybExvY2Fscy4kdWliTW9kYWxJbnN0YW5jZSA9IG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godHBsQW5kVmFyc1sxXSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICBjdHJsTG9jYWxzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAvLyB0aGUgdGhpcmQgcGFyYW0gd2lsbCBtYWtlIHRoZSBjb250cm9sbGVyIGluc3RhbnRpYXRlIGxhdGVyLHByaXZhdGUgYXBpXG4gICAgICAgICAgICAgICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvYmxvYi9tYXN0ZXIvc3JjL25nL2NvbnRyb2xsZXIuanMjTDEyNlxuICAgICAgICAgICAgICAgICAgY3RybEluc3RhbnRpYXRlID0gJGNvbnRyb2xsZXIobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIsIGN0cmxMb2NhbHMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyQXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY3RybEluc3RhbmNlID0gY3RybEluc3RhbnRpYXRlLmluc3RhbmNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbE9wdGlvbnMuYmluZFRvQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgIGN0cmxJbnN0YW5jZS4kY2xvc2UgPSBtb2RhbFNjb3BlLiRjbG9zZTtcbiAgICAgICAgICAgICAgICAgICAgICBjdHJsSW5zdGFuY2UuJGRpc21pc3MgPSBtb2RhbFNjb3BlLiRkaXNtaXNzO1xuICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGN0cmxJbnN0YW5jZSwgcHJvdmlkZWRTY29wZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjdHJsSW5zdGFuY2UgPSBjdHJsSW5zdGFudGlhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBtb2RhbFNjb3BlW21vZGFsT3B0aW9ucy5jb250cm9sbGVyQXNdID0gY3RybEluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3RybEluc3RhbmNlID0gY3RybEluc3RhbnRpYXRlKCk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oY3RybEluc3RhbmNlLiRvbkluaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0cmxJbnN0YW5jZS4kb25Jbml0KCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJG1vZGFsU3RhY2sub3Blbihtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgICBzY29wZTogbW9kYWxTY29wZSxcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkOiBtb2RhbFJlc3VsdERlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsUmVuZGVyRGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICBjbG9zZWREZWZlcnJlZDogbW9kYWxDbG9zZWREZWZlcnJlZCxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRwbEFuZFZhcnNbMF0sXG4gICAgICAgICAgICAgICAgICBhbmltYXRpb246IG1vZGFsT3B0aW9ucy5hbmltYXRpb24sXG4gICAgICAgICAgICAgICAgICBiYWNrZHJvcDogbW9kYWxPcHRpb25zLmJhY2tkcm9wLFxuICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IG1vZGFsT3B0aW9ucy5rZXlib2FyZCxcbiAgICAgICAgICAgICAgICAgIGJhY2tkcm9wQ2xhc3M6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcENsYXNzLFxuICAgICAgICAgICAgICAgICAgd2luZG93VG9wQ2xhc3M6IG1vZGFsT3B0aW9ucy53aW5kb3dUb3BDbGFzcyxcbiAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiBtb2RhbE9wdGlvbnMud2luZG93Q2xhc3MsXG4gICAgICAgICAgICAgICAgICB3aW5kb3dUZW1wbGF0ZVVybDogbW9kYWxPcHRpb25zLndpbmRvd1RlbXBsYXRlVXJsLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogbW9kYWxPcHRpb25zLnNpemUsXG4gICAgICAgICAgICAgICAgICBvcGVuZWRDbGFzczogbW9kYWxPcHRpb25zLm9wZW5lZENsYXNzLFxuICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG1vZGFsT3B0aW9ucy5hcHBlbmRUb1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcblxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gcmVzb2x2ZUVycm9yKHJlYXNvbikge1xuICAgICAgICAgICAgICBtb2RhbE9wZW5lZERlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgICBtb2RhbFJlc3VsdERlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgfSlbJ2ZpbmFsbHknXShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKHByb21pc2VDaGFpbiA9PT0gc2FtZVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlQ2hhaW4gPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1vZGFsSW5zdGFuY2U7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiAkbW9kYWw7XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuXG4gICAgcmV0dXJuICRtb2RhbFByb3ZpZGVyO1xuICB9KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wYWdpbmcnLCBbXSlcbi8qKlxuICogSGVscGVyIGludGVybmFsIHNlcnZpY2UgZm9yIGdlbmVyYXRpbmcgY29tbW9uIGNvbnRyb2xsZXIgY29kZSBiZXR3ZWVuIHRoZVxuICogcGFnZXIgYW5kIHBhZ2luYXRpb24gY29tcG9uZW50c1xuICovXG4uZmFjdG9yeSgndWliUGFnaW5nJywgWyckcGFyc2UnLCBmdW5jdGlvbigkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICBjcmVhdGU6IGZ1bmN0aW9uKGN0cmwsICRzY29wZSwgJGF0dHJzKSB7XG4gICAgICBjdHJsLnNldE51bVBhZ2VzID0gJGF0dHJzLm51bVBhZ2VzID8gJHBhcnNlKCRhdHRycy5udW1QYWdlcykuYXNzaWduIDogYW5ndWxhci5ub29wO1xuICAgICAgY3RybC5uZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH07IC8vIG51bGxNb2RlbEN0cmxcbiAgICAgIGN0cmwuX3dhdGNoZXJzID0gW107XG5cbiAgICAgIGN0cmwuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsLCBjb25maWcpIHtcbiAgICAgICAgY3RybC5uZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsO1xuICAgICAgICBjdHJsLmNvbmZpZyA9IGNvbmZpZztcblxuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY3RybC5yZW5kZXIoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoJGF0dHJzLml0ZW1zUGVyUGFnZSkge1xuICAgICAgICAgIGN0cmwuX3dhdGNoZXJzLnB1c2goJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRhdHRycy5pdGVtc1BlclBhZ2UsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBjdHJsLml0ZW1zUGVyUGFnZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICAkc2NvcGUudG90YWxQYWdlcyA9IGN0cmwuY2FsY3VsYXRlVG90YWxQYWdlcygpO1xuICAgICAgICAgICAgY3RybC51cGRhdGVQYWdlKCk7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0cmwuaXRlbXNQZXJQYWdlID0gY29uZmlnLml0ZW1zUGVyUGFnZTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsSXRlbXMnLCBmdW5jdGlvbihuZXdUb3RhbCwgb2xkVG90YWwpIHtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQobmV3VG90YWwpIHx8IG5ld1RvdGFsICE9PSBvbGRUb3RhbCkge1xuICAgICAgICAgICAgJHNjb3BlLnRvdGFsUGFnZXMgPSBjdHJsLmNhbGN1bGF0ZVRvdGFsUGFnZXMoKTtcbiAgICAgICAgICAgIGN0cmwudXBkYXRlUGFnZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNhbGN1bGF0ZVRvdGFsUGFnZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRvdGFsUGFnZXMgPSBjdHJsLml0ZW1zUGVyUGFnZSA8IDEgPyAxIDogTWF0aC5jZWlsKCRzY29wZS50b3RhbEl0ZW1zIC8gY3RybC5pdGVtc1BlclBhZ2UpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgodG90YWxQYWdlcyB8fCAwLCAxKTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS5wYWdlID0gcGFyc2VJbnQoY3RybC5uZ01vZGVsQ3RybC4kdmlld1ZhbHVlLCAxMCkgfHwgMTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5zZWxlY3RQYWdlID0gZnVuY3Rpb24ocGFnZSwgZXZ0KSB7XG4gICAgICAgIGlmIChldnQpIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjbGlja0FsbG93ZWQgPSAhJHNjb3BlLm5nRGlzYWJsZWQgfHwgIWV2dDtcbiAgICAgICAgaWYgKGNsaWNrQWxsb3dlZCAmJiAkc2NvcGUucGFnZSAhPT0gcGFnZSAmJiBwYWdlID4gMCAmJiBwYWdlIDw9ICRzY29wZS50b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgaWYgKGV2dCAmJiBldnQudGFyZ2V0KSB7XG4gICAgICAgICAgICBldnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3RybC5uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHBhZ2UpO1xuICAgICAgICAgIGN0cmwubmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gJHNjb3BlW2tleSArICdUZXh0J10gfHwgY3RybC5jb25maWdba2V5ICsgJ1RleHQnXTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5ub1ByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkc2NvcGUucGFnZSA9PT0gMTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5ub05leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICRzY29wZS5wYWdlID09PSAkc2NvcGUudG90YWxQYWdlcztcbiAgICAgIH07XG5cbiAgICAgIGN0cmwudXBkYXRlUGFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjdHJsLnNldE51bVBhZ2VzKCRzY29wZS4kcGFyZW50LCAkc2NvcGUudG90YWxQYWdlcyk7IC8vIFJlYWRvbmx5IHZhcmlhYmxlXG5cbiAgICAgICAgaWYgKCRzY29wZS5wYWdlID4gJHNjb3BlLnRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAkc2NvcGUuc2VsZWN0UGFnZSgkc2NvcGUudG90YWxQYWdlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3RybC5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlIChjdHJsLl93YXRjaGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBjdHJsLl93YXRjaGVycy5zaGlmdCgpKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5wYWdlcicsIFsndWkuYm9vdHN0cmFwLnBhZ2luZyddKVxuXG4uY29udHJvbGxlcignVWliUGFnZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ3VpYlBhZ2luZycsICd1aWJQYWdlckNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCB1aWJQYWdpbmcsIHVpYlBhZ2VyQ29uZmlnKSB7XG4gICRzY29wZS5hbGlnbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbGlnbikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYWxpZ24pIDogdWliUGFnZXJDb25maWcuYWxpZ247XG5cbiAgdWliUGFnaW5nLmNyZWF0ZSh0aGlzLCAkc2NvcGUsICRhdHRycyk7XG59XSlcblxuLmNvbnN0YW50KCd1aWJQYWdlckNvbmZpZycsIHtcbiAgaXRlbXNQZXJQYWdlOiAxMCxcbiAgcHJldmlvdXNUZXh0OiAnwqsgUHJldmlvdXMnLFxuICBuZXh0VGV4dDogJ05leHQgwrsnLFxuICBhbGlnbjogdHJ1ZVxufSlcblxuLmRpcmVjdGl2ZSgndWliUGFnZXInLCBbJ3VpYlBhZ2VyQ29uZmlnJywgZnVuY3Rpb24odWliUGFnZXJDb25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICBzY29wZToge1xuICAgICAgdG90YWxJdGVtczogJz0nLFxuICAgICAgcHJldmlvdXNUZXh0OiAnQCcsXG4gICAgICBuZXh0VGV4dDogJ0AnLFxuICAgICAgbmdEaXNhYmxlZDogJz0nXG4gICAgfSxcbiAgICByZXF1aXJlOiBbJ3VpYlBhZ2VyJywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1VpYlBhZ2VyQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAncGFnZXInLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd1aWIvdGVtcGxhdGUvcGFnZXIvcGFnZXIuaHRtbCc7XG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxuICAgICAgfVxuXG4gICAgICBwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLCB1aWJQYWdlckNvbmZpZyk7XG4gICAgfVxuICB9O1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnBhZ2luYXRpb24nLCBbJ3VpLmJvb3RzdHJhcC5wYWdpbmcnXSlcbi5jb250cm9sbGVyKCdVaWJQYWdpbmF0aW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAndWliUGFnaW5nJywgJ3VpYlBhZ2luYXRpb25Db25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCB1aWJQYWdpbmcsIHVpYlBhZ2luYXRpb25Db25maWcpIHtcbiAgdmFyIGN0cmwgPSB0aGlzO1xuICAvLyBTZXR1cCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnNcbiAgdmFyIG1heFNpemUgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4U2l6ZSkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4U2l6ZSkgOiB1aWJQYWdpbmF0aW9uQ29uZmlnLm1heFNpemUsXG4gICAgcm90YXRlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnJvdGF0ZSkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucm90YXRlKSA6IHVpYlBhZ2luYXRpb25Db25maWcucm90YXRlLFxuICAgIGZvcmNlRWxsaXBzZXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuZm9yY2VFbGxpcHNlcykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuZm9yY2VFbGxpcHNlcykgOiB1aWJQYWdpbmF0aW9uQ29uZmlnLmZvcmNlRWxsaXBzZXMsXG4gICAgYm91bmRhcnlMaW5rTnVtYmVycyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5ib3VuZGFyeUxpbmtOdW1iZXJzKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5ib3VuZGFyeUxpbmtOdW1iZXJzKSA6IHVpYlBhZ2luYXRpb25Db25maWcuYm91bmRhcnlMaW5rTnVtYmVycyxcbiAgICBwYWdlTGFiZWwgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucGFnZUxhYmVsKSA/IGZ1bmN0aW9uKGlkeCkgeyByZXR1cm4gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnBhZ2VMYWJlbCwgeyRwYWdlOiBpZHh9KTsgfSA6IGFuZ3VsYXIuaWRlbnRpdHk7XG4gICRzY29wZS5ib3VuZGFyeUxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmJvdW5kYXJ5TGlua3MpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmJvdW5kYXJ5TGlua3MpIDogdWliUGFnaW5hdGlvbkNvbmZpZy5ib3VuZGFyeUxpbmtzO1xuICAkc2NvcGUuZGlyZWN0aW9uTGlua3MgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuZGlyZWN0aW9uTGlua3MpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmRpcmVjdGlvbkxpbmtzKSA6IHVpYlBhZ2luYXRpb25Db25maWcuZGlyZWN0aW9uTGlua3M7XG5cbiAgdWliUGFnaW5nLmNyZWF0ZSh0aGlzLCAkc2NvcGUsICRhdHRycyk7XG5cbiAgaWYgKCRhdHRycy5tYXhTaXplKSB7XG4gICAgY3RybC5fd2F0Y2hlcnMucHVzaCgkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5tYXhTaXplKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIG1heFNpemUgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgY3RybC5yZW5kZXIoKTtcbiAgICB9KSk7XG4gIH1cblxuICAvLyBDcmVhdGUgcGFnZSBvYmplY3QgdXNlZCBpbiB0ZW1wbGF0ZVxuICBmdW5jdGlvbiBtYWtlUGFnZShudW1iZXIsIHRleHQsIGlzQWN0aXZlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG51bWJlcjogbnVtYmVyLFxuICAgICAgdGV4dDogdGV4dCxcbiAgICAgIGFjdGl2ZTogaXNBY3RpdmVcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UGFnZXMoY3VycmVudFBhZ2UsIHRvdGFsUGFnZXMpIHtcbiAgICB2YXIgcGFnZXMgPSBbXTtcblxuICAgIC8vIERlZmF1bHQgcGFnZSBsaW1pdHNcbiAgICB2YXIgc3RhcnRQYWdlID0gMSwgZW5kUGFnZSA9IHRvdGFsUGFnZXM7XG4gICAgdmFyIGlzTWF4U2l6ZWQgPSBhbmd1bGFyLmlzRGVmaW5lZChtYXhTaXplKSAmJiBtYXhTaXplIDwgdG90YWxQYWdlcztcblxuICAgIC8vIHJlY29tcHV0ZSBpZiBtYXhTaXplXG4gICAgaWYgKGlzTWF4U2l6ZWQpIHtcbiAgICAgIGlmIChyb3RhdGUpIHtcbiAgICAgICAgLy8gQ3VycmVudCBwYWdlIGlzIGRpc3BsYXllZCBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXNcbiAgICAgICAgc3RhcnRQYWdlID0gTWF0aC5tYXgoY3VycmVudFBhZ2UgLSBNYXRoLmZsb29yKG1heFNpemUgLyAyKSwgMSk7XG4gICAgICAgIGVuZFBhZ2UgPSBzdGFydFBhZ2UgKyBtYXhTaXplIC0gMTtcblxuICAgICAgICAvLyBBZGp1c3QgaWYgbGltaXQgaXMgZXhjZWVkZWRcbiAgICAgICAgaWYgKGVuZFBhZ2UgPiB0b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgZW5kUGFnZSA9IHRvdGFsUGFnZXM7XG4gICAgICAgICAgc3RhcnRQYWdlID0gZW5kUGFnZSAtIG1heFNpemUgKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBWaXNpYmxlIHBhZ2VzIGFyZSBwYWdpbmF0ZWQgd2l0aCBtYXhTaXplXG4gICAgICAgIHN0YXJ0UGFnZSA9IChNYXRoLmNlaWwoY3VycmVudFBhZ2UgLyBtYXhTaXplKSAtIDEpICogbWF4U2l6ZSArIDE7XG5cbiAgICAgICAgLy8gQWRqdXN0IGxhc3QgcGFnZSBpZiBsaW1pdCBpcyBleGNlZWRlZFxuICAgICAgICBlbmRQYWdlID0gTWF0aC5taW4oc3RhcnRQYWdlICsgbWF4U2l6ZSAtIDEsIHRvdGFsUGFnZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZCBwYWdlIG51bWJlciBsaW5rc1xuICAgIGZvciAodmFyIG51bWJlciA9IHN0YXJ0UGFnZTsgbnVtYmVyIDw9IGVuZFBhZ2U7IG51bWJlcisrKSB7XG4gICAgICB2YXIgcGFnZSA9IG1ha2VQYWdlKG51bWJlciwgcGFnZUxhYmVsKG51bWJlciksIG51bWJlciA9PT0gY3VycmVudFBhZ2UpO1xuICAgICAgcGFnZXMucHVzaChwYWdlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbGlua3MgdG8gbW92ZSBiZXR3ZWVuIHBhZ2Ugc2V0c1xuICAgIGlmIChpc01heFNpemVkICYmIG1heFNpemUgPiAwICYmICghcm90YXRlIHx8IGZvcmNlRWxsaXBzZXMgfHwgYm91bmRhcnlMaW5rTnVtYmVycykpIHtcbiAgICAgIGlmIChzdGFydFBhZ2UgPiAxKSB7XG4gICAgICAgIGlmICghYm91bmRhcnlMaW5rTnVtYmVycyB8fCBzdGFydFBhZ2UgPiAzKSB7IC8vbmVlZCBlbGxpcHNpcyBmb3IgYWxsIG9wdGlvbnMgdW5sZXNzIHJhbmdlIGlzIHRvbyBjbG9zZSB0byBiZWdpbm5pbmdcbiAgICAgICAgdmFyIHByZXZpb3VzUGFnZVNldCA9IG1ha2VQYWdlKHN0YXJ0UGFnZSAtIDEsICcuLi4nLCBmYWxzZSk7XG4gICAgICAgIHBhZ2VzLnVuc2hpZnQocHJldmlvdXNQYWdlU2V0KTtcbiAgICAgIH1cbiAgICAgICAgaWYgKGJvdW5kYXJ5TGlua051bWJlcnMpIHtcbiAgICAgICAgICBpZiAoc3RhcnRQYWdlID09PSAzKSB7IC8vbmVlZCB0byByZXBsYWNlIGVsbGlwc2lzIHdoZW4gdGhlIGJ1dHRvbnMgd291bGQgYmUgc2VxdWVudGlhbFxuICAgICAgICAgICAgdmFyIHNlY29uZFBhZ2VMaW5rID0gbWFrZVBhZ2UoMiwgJzInLCBmYWxzZSk7XG4gICAgICAgICAgICBwYWdlcy51bnNoaWZ0KHNlY29uZFBhZ2VMaW5rKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9hZGQgdGhlIGZpcnN0IHBhZ2VcbiAgICAgICAgICB2YXIgZmlyc3RQYWdlTGluayA9IG1ha2VQYWdlKDEsICcxJywgZmFsc2UpO1xuICAgICAgICAgIHBhZ2VzLnVuc2hpZnQoZmlyc3RQYWdlTGluayk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVuZFBhZ2UgPCB0b3RhbFBhZ2VzKSB7XG4gICAgICAgIGlmICghYm91bmRhcnlMaW5rTnVtYmVycyB8fCBlbmRQYWdlIDwgdG90YWxQYWdlcyAtIDIpIHsgLy9uZWVkIGVsbGlwc2lzIGZvciBhbGwgb3B0aW9ucyB1bmxlc3MgcmFuZ2UgaXMgdG9vIGNsb3NlIHRvIGVuZFxuICAgICAgICB2YXIgbmV4dFBhZ2VTZXQgPSBtYWtlUGFnZShlbmRQYWdlICsgMSwgJy4uLicsIGZhbHNlKTtcbiAgICAgICAgcGFnZXMucHVzaChuZXh0UGFnZVNldCk7XG4gICAgICB9XG4gICAgICAgIGlmIChib3VuZGFyeUxpbmtOdW1iZXJzKSB7XG4gICAgICAgICAgaWYgKGVuZFBhZ2UgPT09IHRvdGFsUGFnZXMgLSAyKSB7IC8vbmVlZCB0byByZXBsYWNlIGVsbGlwc2lzIHdoZW4gdGhlIGJ1dHRvbnMgd291bGQgYmUgc2VxdWVudGlhbFxuICAgICAgICAgICAgdmFyIHNlY29uZFRvTGFzdFBhZ2VMaW5rID0gbWFrZVBhZ2UodG90YWxQYWdlcyAtIDEsIHRvdGFsUGFnZXMgLSAxLCBmYWxzZSk7XG4gICAgICAgICAgICBwYWdlcy5wdXNoKHNlY29uZFRvTGFzdFBhZ2VMaW5rKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy9hZGQgdGhlIGxhc3QgcGFnZVxuICAgICAgICAgIHZhciBsYXN0UGFnZUxpbmsgPSBtYWtlUGFnZSh0b3RhbFBhZ2VzLCB0b3RhbFBhZ2VzLCBmYWxzZSk7XG4gICAgICAgICAgcGFnZXMucHVzaChsYXN0UGFnZUxpbmspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYWdlcztcbiAgfVxuXG4gIHZhciBvcmlnaW5hbFJlbmRlciA9IHRoaXMucmVuZGVyO1xuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIG9yaWdpbmFsUmVuZGVyKCk7XG4gICAgaWYgKCRzY29wZS5wYWdlID4gMCAmJiAkc2NvcGUucGFnZSA8PSAkc2NvcGUudG90YWxQYWdlcykge1xuICAgICAgJHNjb3BlLnBhZ2VzID0gZ2V0UGFnZXMoJHNjb3BlLnBhZ2UsICRzY29wZS50b3RhbFBhZ2VzKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmNvbnN0YW50KCd1aWJQYWdpbmF0aW9uQ29uZmlnJywge1xuICBpdGVtc1BlclBhZ2U6IDEwLFxuICBib3VuZGFyeUxpbmtzOiBmYWxzZSxcbiAgYm91bmRhcnlMaW5rTnVtYmVyczogZmFsc2UsXG4gIGRpcmVjdGlvbkxpbmtzOiB0cnVlLFxuICBmaXJzdFRleHQ6ICdGaXJzdCcsXG4gIHByZXZpb3VzVGV4dDogJ1ByZXZpb3VzJyxcbiAgbmV4dFRleHQ6ICdOZXh0JyxcbiAgbGFzdFRleHQ6ICdMYXN0JyxcbiAgcm90YXRlOiB0cnVlLFxuICBmb3JjZUVsbGlwc2VzOiBmYWxzZVxufSlcblxuLmRpcmVjdGl2ZSgndWliUGFnaW5hdGlvbicsIFsnJHBhcnNlJywgJ3VpYlBhZ2luYXRpb25Db25maWcnLCBmdW5jdGlvbigkcGFyc2UsIHVpYlBhZ2luYXRpb25Db25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICBzY29wZToge1xuICAgICAgdG90YWxJdGVtczogJz0nLFxuICAgICAgZmlyc3RUZXh0OiAnQCcsXG4gICAgICBwcmV2aW91c1RleHQ6ICdAJyxcbiAgICAgIG5leHRUZXh0OiAnQCcsXG4gICAgICBsYXN0VGV4dDogJ0AnLFxuICAgICAgbmdEaXNhYmxlZDonPSdcbiAgICB9LFxuICAgIHJlcXVpcmU6IFsndWliUGFnaW5hdGlvbicsICc/bmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdVaWJQYWdpbmF0aW9uQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAncGFnaW5hdGlvbicsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3VpYi90ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbCc7XG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgdWliUGFnaW5hdGlvbkNvbmZpZyk7XG4gICAgfVxuICB9O1xufV0pO1xuXG4vKipcbiAqIFRoZSBmb2xsb3dpbmcgZmVhdHVyZXMgYXJlIHN0aWxsIG91dHN0YW5kaW5nOiBhbmltYXRpb24gYXMgYVxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxuICoganVzdCBtb3VzZSBlbnRlci9sZWF2ZSwgaHRtbCB0b29sdGlwcywgYW5kIHNlbGVjdG9yIGRlbGVnYXRpb24uXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudG9vbHRpcCcsIFsndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgJ3VpLmJvb3RzdHJhcC5zdGFja2VkTWFwJ10pXG5cbi8qKlxuICogVGhlICR0b29sdGlwIHNlcnZpY2UgY3JlYXRlcyB0b29sdGlwLSBhbmQgcG9wb3Zlci1saWtlIGRpcmVjdGl2ZXMgYXMgd2VsbCBhc1xuICogaG91c2VzIGdsb2JhbCBvcHRpb25zIGZvciB0aGVtLlxuICovXG4ucHJvdmlkZXIoJyR1aWJUb29sdGlwJywgZnVuY3Rpb24oKSB7XG4gIC8vIFRoZSBkZWZhdWx0IG9wdGlvbnMgdG9vbHRpcCBhbmQgcG9wb3Zlci5cbiAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgcGxhY2VtZW50Q2xhc3NQcmVmaXg6ICcnLFxuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwb3B1cERlbGF5OiAwLFxuICAgIHBvcHVwQ2xvc2VEZWxheTogMCxcbiAgICB1c2VDb250ZW50RXhwOiBmYWxzZVxuICB9O1xuXG4gIC8vIERlZmF1bHQgaGlkZSB0cmlnZ2VycyBmb3IgZWFjaCBzaG93IHRyaWdnZXJcbiAgdmFyIHRyaWdnZXJNYXAgPSB7XG4gICAgJ21vdXNlZW50ZXInOiAnbW91c2VsZWF2ZScsXG4gICAgJ2NsaWNrJzogJ2NsaWNrJyxcbiAgICAnb3V0c2lkZUNsaWNrJzogJ291dHNpZGVDbGljaycsXG4gICAgJ2ZvY3VzJzogJ2JsdXInLFxuICAgICdub25lJzogJydcbiAgfTtcblxuICAvLyBUaGUgb3B0aW9ucyBzcGVjaWZpZWQgdG8gdGhlIHByb3ZpZGVyIGdsb2JhbGx5LlxuICB2YXIgZ2xvYmFsT3B0aW9ucyA9IHt9O1xuXG4gIC8qKlxuICAgKiBgb3B0aW9ucyh7fSlgIGFsbG93cyBnbG9iYWwgY29uZmlndXJhdGlvbiBvZiBhbGwgdG9vbHRpcHMgaW4gdGhlXG4gICAqIGFwcGxpY2F0aW9uLlxuICAgKlxuICAgKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSggJ0FwcCcsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSwgZnVuY3Rpb24oICR0b29sdGlwUHJvdmlkZXIgKSB7XG4gICAqICAgICAvLyBwbGFjZSB0b29sdGlwcyBsZWZ0IGluc3RlYWQgb2YgdG9wIGJ5IGRlZmF1bHRcbiAgICogICAgICR0b29sdGlwUHJvdmlkZXIub3B0aW9ucyggeyBwbGFjZW1lbnQ6ICdsZWZ0JyB9ICk7XG4gICAqICAgfSk7XG4gICAqL1xuXHR0aGlzLm9wdGlvbnMgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdGFuZ3VsYXIuZXh0ZW5kKGdsb2JhbE9wdGlvbnMsIHZhbHVlKTtcblx0fTtcblxuICAvKipcbiAgICogVGhpcyBhbGxvd3MgeW91IHRvIGV4dGVuZCB0aGUgc2V0IG9mIHRyaWdnZXIgbWFwcGluZ3MgYXZhaWxhYmxlLiBFLmcuOlxuICAgKlxuICAgKiAgICR0b29sdGlwUHJvdmlkZXIuc2V0VHJpZ2dlcnMoIHsgJ29wZW5UcmlnZ2VyJzogJ2Nsb3NlVHJpZ2dlcicgfSApO1xuICAgKi9cbiAgdGhpcy5zZXRUcmlnZ2VycyA9IGZ1bmN0aW9uIHNldFRyaWdnZXJzKHRyaWdnZXJzKSB7XG4gICAgYW5ndWxhci5leHRlbmQodHJpZ2dlck1hcCwgdHJpZ2dlcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIGZvciB0cmFuc2xhdGluZyBjYW1lbC1jYXNlIHRvIHNuYWtlX2Nhc2UuXG4gICAqL1xuICBmdW5jdGlvbiBzbmFrZV9jYXNlKG5hbWUpIHtcbiAgICB2YXIgcmVnZXhwID0gL1tBLVpdL2c7XG4gICAgdmFyIHNlcGFyYXRvciA9ICctJztcbiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKHJlZ2V4cCwgZnVuY3Rpb24obGV0dGVyLCBwb3MpIHtcbiAgICAgIHJldHVybiAocG9zID8gc2VwYXJhdG9yIDogJycpICsgbGV0dGVyLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYWN0dWFsIGluc3RhbmNlIG9mIHRoZSAkdG9vbHRpcCBzZXJ2aWNlLlxuICAgKiBUT0RPIHN1cHBvcnQgbXVsdGlwbGUgdHJpZ2dlcnNcbiAgICovXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckY29tcGlsZScsICckdGltZW91dCcsICckZG9jdW1lbnQnLCAnJHVpYlBvc2l0aW9uJywgJyRpbnRlcnBvbGF0ZScsICckcm9vdFNjb3BlJywgJyRwYXJzZScsICckJHN0YWNrZWRNYXAnLCBmdW5jdGlvbigkd2luZG93LCAkY29tcGlsZSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHBvc2l0aW9uLCAkaW50ZXJwb2xhdGUsICRyb290U2NvcGUsICRwYXJzZSwgJCRzdGFja2VkTWFwKSB7XG4gICAgdmFyIG9wZW5lZFRvb2x0aXBzID0gJCRzdGFja2VkTWFwLmNyZWF0ZU5ldygpO1xuICAgICRkb2N1bWVudC5vbigna2V5cHJlc3MnLCBrZXlwcmVzc0xpc3RlbmVyKTtcblxuICAgICRyb290U2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgJGRvY3VtZW50Lm9mZigna2V5cHJlc3MnLCBrZXlwcmVzc0xpc3RlbmVyKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGtleXByZXNzTGlzdGVuZXIoZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IDI3KSB7XG4gICAgICAgIHZhciBsYXN0ID0gb3BlbmVkVG9vbHRpcHMudG9wKCk7XG4gICAgICAgIGlmIChsYXN0KSB7XG4gICAgICAgICAgbGFzdC52YWx1ZS5jbG9zZSgpO1xuICAgICAgICAgIG9wZW5lZFRvb2x0aXBzLnJlbW92ZVRvcCgpO1xuICAgICAgICAgIGxhc3QgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICR0b29sdGlwKHR0VHlwZSwgcHJlZml4LCBkZWZhdWx0VHJpZ2dlclNob3csIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIGdsb2JhbE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAvKipcbiAgICAgICAqIFJldHVybnMgYW4gb2JqZWN0IG9mIHNob3cgYW5kIGhpZGUgdHJpZ2dlcnMuXG4gICAgICAgKlxuICAgICAgICogSWYgYSB0cmlnZ2VyIGlzIHN1cHBsaWVkLFxuICAgICAgICogaXQgaXMgdXNlZCB0byBzaG93IHRoZSB0b29sdGlwOyBvdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdHJpZ2dlcmBcbiAgICAgICAqIG9wdGlvbiBwYXNzZWQgdG8gdGhlIGAkdG9vbHRpcFByb3ZpZGVyLm9wdGlvbnNgIG1ldGhvZDsgZWxzZSBpdCB3aWxsXG4gICAgICAgKiBkZWZhdWx0IHRvIHRoZSB0cmlnZ2VyIHN1cHBsaWVkIHRvIHRoaXMgZGlyZWN0aXZlIGZhY3RvcnkuXG4gICAgICAgKlxuICAgICAgICogVGhlIGhpZGUgdHJpZ2dlciBpcyBiYXNlZCBvbiB0aGUgc2hvdyB0cmlnZ2VyLiBJZiB0aGUgYHRyaWdnZXJgIG9wdGlvblxuICAgICAgICogd2FzIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kLCBpdCB3aWxsIHVzZSB0aGVcbiAgICAgICAqIG1hcHBlZCB0cmlnZ2VyIGZyb20gYHRyaWdnZXJNYXBgIG9yIHRoZSBwYXNzZWQgdHJpZ2dlciBpZiB0aGUgbWFwIGlzXG4gICAgICAgKiB1bmRlZmluZWQ7IG90aGVyd2lzZSwgaXQgdXNlcyB0aGUgYHRyaWdnZXJNYXBgIHZhbHVlIG9mIHRoZSBzaG93XG4gICAgICAgKiB0cmlnZ2VyOyBlbHNlIGl0IHdpbGwganVzdCB1c2UgdGhlIHNob3cgdHJpZ2dlci5cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZ2V0VHJpZ2dlcnModHJpZ2dlcikge1xuICAgICAgICB2YXIgc2hvdyA9ICh0cmlnZ2VyIHx8IG9wdGlvbnMudHJpZ2dlciB8fCBkZWZhdWx0VHJpZ2dlclNob3cpLnNwbGl0KCcgJyk7XG4gICAgICAgIHZhciBoaWRlID0gc2hvdy5tYXAoZnVuY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyTWFwW3RyaWdnZXJdIHx8IHRyaWdnZXI7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNob3c6IHNob3csXG4gICAgICAgICAgaGlkZTogaGlkZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgZGlyZWN0aXZlTmFtZSA9IHNuYWtlX2Nhc2UodHRUeXBlKTtcblxuICAgICAgdmFyIHN0YXJ0U3ltID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCk7XG4gICAgICB2YXIgZW5kU3ltID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpO1xuICAgICAgdmFyIHRlbXBsYXRlID1cbiAgICAgICAgJzxkaXYgJysgZGlyZWN0aXZlTmFtZSArICctcG9wdXAgJyArXG4gICAgICAgICAgJ3VpYi10aXRsZT1cIicgKyBzdGFydFN5bSArICd0aXRsZScgKyBlbmRTeW0gKyAnXCIgJyArXG4gICAgICAgICAgKG9wdGlvbnMudXNlQ29udGVudEV4cCA/XG4gICAgICAgICAgICAnY29udGVudC1leHA9XCJjb250ZW50RXhwKClcIiAnIDpcbiAgICAgICAgICAgICdjb250ZW50PVwiJyArIHN0YXJ0U3ltICsgJ2NvbnRlbnQnICsgZW5kU3ltICsgJ1wiICcpICtcbiAgICAgICAgICAncGxhY2VtZW50PVwiJyArIHN0YXJ0U3ltICsgJ3BsYWNlbWVudCcgKyBlbmRTeW0gKyAnXCIgJyArXG4gICAgICAgICAgJ3BvcHVwLWNsYXNzPVwiJyArIHN0YXJ0U3ltICsgJ3BvcHVwQ2xhc3MnICsgZW5kU3ltICsgJ1wiICcgK1xuICAgICAgICAgICdhbmltYXRpb249XCJhbmltYXRpb25cIiAnICtcbiAgICAgICAgICAnaXMtb3Blbj1cImlzT3BlblwiICcgK1xuICAgICAgICAgICdvcmlnaW4tc2NvcGU9XCJvcmlnU2NvcGVcIiAnICtcbiAgICAgICAgICAnY2xhc3M9XCJ1aWItcG9zaXRpb24tbWVhc3VyZVwiJyArXG4gICAgICAgICAgJz4nICtcbiAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbGVtLCB0QXR0cnMpIHtcbiAgICAgICAgICB2YXIgdG9vbHRpcExpbmtlciA9ICRjb21waWxlKHRlbXBsYXRlKTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgdG9vbHRpcEN0cmwpIHtcbiAgICAgICAgICAgIHZhciB0b29sdGlwO1xuICAgICAgICAgICAgdmFyIHRvb2x0aXBMaW5rZWRTY29wZTtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHZhciBzaG93VGltZW91dDtcbiAgICAgICAgICAgIHZhciBoaWRlVGltZW91dDtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvblRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQob3B0aW9ucy5hcHBlbmRUb0JvZHkpID8gb3B0aW9ucy5hcHBlbmRUb0JvZHkgOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciB0cmlnZ2VycyA9IGdldFRyaWdnZXJzKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB2YXIgaGFzRW5hYmxlRXhwID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnNbcHJlZml4ICsgJ0VuYWJsZSddKTtcbiAgICAgICAgICAgIHZhciB0dFNjb3BlID0gc2NvcGUuJG5ldyh0cnVlKTtcbiAgICAgICAgICAgIHZhciByZXBvc2l0aW9uU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgaXNPcGVuUGFyc2UgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyc1twcmVmaXggKyAnSXNPcGVuJ10pID8gJHBhcnNlKGF0dHJzW3ByZWZpeCArICdJc09wZW4nXSkgOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciBjb250ZW50UGFyc2UgPSBvcHRpb25zLnVzZUNvbnRlbnRFeHAgPyAkcGFyc2UoYXR0cnNbdHRUeXBlXSkgOiBmYWxzZTtcbiAgICAgICAgICAgIHZhciBvYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgICAgIHZhciBsYXN0UGxhY2VtZW50O1xuXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25Ub29sdGlwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRvb2x0aXAgZXhpc3RzIGFuZCBpcyBub3QgZW1wdHlcbiAgICAgICAgICAgICAgaWYgKCF0b29sdGlwIHx8ICF0b29sdGlwLmh0bWwoKSkgeyByZXR1cm47IH1cblxuICAgICAgICAgICAgICBpZiAoIXBvc2l0aW9uVGltZW91dCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgdmFyIHR0UG9zaXRpb24gPSAkcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cyhlbGVtZW50LCB0b29sdGlwLCB0dFNjb3BlLnBsYWNlbWVudCwgYXBwZW5kVG9Cb2R5KTtcbiAgICAgICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHsgdG9wOiB0dFBvc2l0aW9uLnRvcCArICdweCcsIGxlZnQ6IHR0UG9zaXRpb24ubGVmdCArICdweCcgfSk7XG5cbiAgICAgICAgICAgICAgICAgIGlmICghdG9vbHRpcC5oYXNDbGFzcyh0dFBvc2l0aW9uLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZUNsYXNzKGxhc3RQbGFjZW1lbnQuc3BsaXQoJy0nKVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAuYWRkQ2xhc3ModHRQb3NpdGlvbi5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXSk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmICghdG9vbHRpcC5oYXNDbGFzcyhvcHRpb25zLnBsYWNlbWVudENsYXNzUHJlZml4ICsgdHRQb3NpdGlvbi5wbGFjZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAucmVtb3ZlQ2xhc3Mob3B0aW9ucy5wbGFjZW1lbnRDbGFzc1ByZWZpeCArIGxhc3RQbGFjZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLmFkZENsYXNzKG9wdGlvbnMucGxhY2VtZW50Q2xhc3NQcmVmaXggKyB0dFBvc2l0aW9uLnBsYWNlbWVudCk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIC8vIGZpcnN0IHRpbWUgdGhyb3VnaCB0dCBlbGVtZW50IHdpbGwgaGF2ZSB0aGVcbiAgICAgICAgICAgICAgICAgIC8vIHVpYi1wb3NpdGlvbi1tZWFzdXJlIGNsYXNzIG9yIGlmIHRoZSBwbGFjZW1lbnRcbiAgICAgICAgICAgICAgICAgIC8vIGhhcyBjaGFuZ2VkIHdlIG5lZWQgdG8gcG9zaXRpb24gdGhlIGFycm93LlxuICAgICAgICAgICAgICAgICAgaWYgKHRvb2x0aXAuaGFzQ2xhc3MoJ3VpYi1wb3NpdGlvbi1tZWFzdXJlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgJHBvc2l0aW9uLnBvc2l0aW9uQXJyb3codG9vbHRpcCwgdHRQb3NpdGlvbi5wbGFjZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZUNsYXNzKCd1aWItcG9zaXRpb24tbWVhc3VyZScpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0UGxhY2VtZW50ICE9PSB0dFBvc2l0aW9uLnBsYWNlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAkcG9zaXRpb24ucG9zaXRpb25BcnJvdyh0b29sdGlwLCB0dFBvc2l0aW9uLnBsYWNlbWVudCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBsYXN0UGxhY2VtZW50ID0gdHRQb3NpdGlvbi5wbGFjZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTZXQgdXAgdGhlIGNvcnJlY3Qgc2NvcGUgdG8gYWxsb3cgdHJhbnNjbHVzaW9uIGxhdGVyXG4gICAgICAgICAgICB0dFNjb3BlLm9yaWdTY29wZSA9IHNjb3BlO1xuXG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCB0aGUgdG9vbHRpcCBpcyBub3Qgb3Blbi5cbiAgICAgICAgICAgIC8vIFRPRE8gYWRkIGFiaWxpdHkgdG8gc3RhcnQgdG9vbHRpcCBvcGVuZWRcbiAgICAgICAgICAgIHR0U2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICBvcGVuZWRUb29sdGlwcy5hZGQodHRTY29wZSwge1xuICAgICAgICAgICAgICBjbG9zZTogaGlkZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVRvb2x0aXBCaW5kKCkge1xuICAgICAgICAgICAgICBpZiAoIXR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgc2hvd1Rvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGlkZVRvb2x0aXBCaW5kKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgdG9vbHRpcCB3aXRoIGRlbGF5IGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNob3cgaXQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwQmluZCgpIHtcbiAgICAgICAgICAgICAgaWYgKGhhc0VuYWJsZUV4cCAmJiAhc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0VuYWJsZSddKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhbmNlbEhpZGUoKTtcbiAgICAgICAgICAgICAgcHJlcGFyZVRvb2x0aXAoKTtcblxuICAgICAgICAgICAgICBpZiAodHRTY29wZS5wb3B1cERlbGF5KSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90aGluZyBpZiB0aGUgdG9vbHRpcCB3YXMgYWxyZWFkeSBzY2hlZHVsZWQgdG8gcG9wLXVwLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBpZiBzaG93IGlzIHRyaWdnZXJlZCBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgYW55IGhpZGUgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgICAgICAgIGlmICghc2hvd1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgIHNob3dUaW1lb3V0ID0gJHRpbWVvdXQoc2hvdywgdHRTY29wZS5wb3B1cERlbGF5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBoaWRlVG9vbHRpcEJpbmQoKSB7XG4gICAgICAgICAgICAgIGNhbmNlbFNob3coKTtcblxuICAgICAgICAgICAgICBpZiAodHRTY29wZS5wb3B1cENsb3NlRGVsYXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWhpZGVUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICBoaWRlVGltZW91dCA9ICR0aW1lb3V0KGhpZGUsIHR0U2NvcGUucG9wdXBDbG9zZURlbGF5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaG93IHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICBjYW5jZWxTaG93KCk7XG4gICAgICAgICAgICAgIGNhbmNlbEhpZGUoKTtcblxuICAgICAgICAgICAgICAvLyBEb24ndCBzaG93IGVtcHR5IHRvb2x0aXBzLlxuICAgICAgICAgICAgICBpZiAoIXR0U2NvcGUuY29udGVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLm5vb3A7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjcmVhdGVUb29sdGlwKCk7XG5cbiAgICAgICAgICAgICAgLy8gQW5kIHNob3cgdGhlIHRvb2x0aXAuXG4gICAgICAgICAgICAgIHR0U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXNzaWduSXNPcGVuKHRydWUpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2FuY2VsU2hvdygpIHtcbiAgICAgICAgICAgICAgaWYgKHNob3dUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHNob3dUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBzaG93VGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAocG9zaXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvc2l0aW9uVGltZW91dCk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuXG4gICAgICAgICAgICBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgICBpZiAoIXR0U2NvcGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBGaXJzdCB0aGluZ3MgZmlyc3Q6IHdlIGRvbid0IHNob3cgaXQgYW55bW9yZS5cbiAgICAgICAgICAgICAgdHRTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0dFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgYXNzaWduSXNPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIC8vIEFuZCBub3cgd2UgcmVtb3ZlIGl0IGZyb20gdGhlIERPTS4gSG93ZXZlciwgaWYgd2UgaGF2ZSBhbmltYXRpb24sIHdlXG4gICAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGl0IHRvIGV4cGlyZSBiZWZvcmVoYW5kLlxuICAgICAgICAgICAgICAgICAgLy8gRklYTUU6IHRoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3IgYSBwb3J0IG9mIHRoZSB0cmFuc2l0aW9ucyBsaWJyYXJ5LlxuICAgICAgICAgICAgICAgICAgLy8gVGhlIGZhZGUgdHJhbnNpdGlvbiBpbiBUV0JTIGlzIDE1MG1zLlxuICAgICAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhbnNpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9ICR0aW1lb3V0KHJlbW92ZVRvb2x0aXAsIDE1MCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2FuY2VsSGlkZSgpIHtcbiAgICAgICAgICAgICAgaWYgKGhpZGVUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKGhpZGVUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBoaWRlVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodHJhbnNpdGlvblRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVUb29sdGlwKCkge1xuICAgICAgICAgICAgICAvLyBUaGVyZSBjYW4gb25seSBiZSBvbmUgdG9vbHRpcCBlbGVtZW50IHBlciBkaXJlY3RpdmUgc2hvd24gYXQgb25jZS5cbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSB0dFNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgdG9vbHRpcCA9IHRvb2x0aXBMaW5rZXIodG9vbHRpcExpbmtlZFNjb3BlLCBmdW5jdGlvbih0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQodG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIodG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBwcmVwT2JzZXJ2ZXJzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIGNhbmNlbFNob3coKTtcbiAgICAgICAgICAgICAgY2FuY2VsSGlkZSgpO1xuICAgICAgICAgICAgICB1bnJlZ2lzdGVyT2JzZXJ2ZXJzKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICh0b29sdGlwTGlua2VkU2NvcGUpIHtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IHRoZSBpbml0aWFsIHNjb3BlIHZhbHVlcy4gT25jZVxuICAgICAgICAgICAgICogdGhlIHRvb2x0aXAgaXMgY3JlYXRlZCwgdGhlIG9ic2VydmVyc1xuICAgICAgICAgICAgICogd2lsbCBiZSBhZGRlZCB0byBrZWVwIHRoaW5ncyBpbiBzeW5jLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwYXJlVG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgdHRTY29wZS50aXRsZSA9IGF0dHJzW3ByZWZpeCArICdUaXRsZSddO1xuICAgICAgICAgICAgICBpZiAoY29udGVudFBhcnNlKSB7XG4gICAgICAgICAgICAgICAgdHRTY29wZS5jb250ZW50ID0gY29udGVudFBhcnNlKHNjb3BlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0dFNjb3BlLmNvbnRlbnQgPSBhdHRyc1t0dFR5cGVdO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdHRTY29wZS5wb3B1cENsYXNzID0gYXR0cnNbcHJlZml4ICsgJ0NsYXNzJ107XG4gICAgICAgICAgICAgIHR0U2NvcGUucGxhY2VtZW50ID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnNbcHJlZml4ICsgJ1BsYWNlbWVudCddKSA/IGF0dHJzW3ByZWZpeCArICdQbGFjZW1lbnQnXSA6IG9wdGlvbnMucGxhY2VtZW50O1xuICAgICAgICAgICAgICB2YXIgcGxhY2VtZW50ID0gJHBvc2l0aW9uLnBhcnNlUGxhY2VtZW50KHR0U2NvcGUucGxhY2VtZW50KTtcbiAgICAgICAgICAgICAgbGFzdFBsYWNlbWVudCA9IHBsYWNlbWVudFsxXSA/IHBsYWNlbWVudFswXSArICctJyArIHBsYWNlbWVudFsxXSA6IHBsYWNlbWVudFswXTtcblxuICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBwYXJzZUludChhdHRyc1twcmVmaXggKyAnUG9wdXBEZWxheSddLCAxMCk7XG4gICAgICAgICAgICAgIHZhciBjbG9zZURlbGF5ID0gcGFyc2VJbnQoYXR0cnNbcHJlZml4ICsgJ1BvcHVwQ2xvc2VEZWxheSddLCAxMCk7XG4gICAgICAgICAgICAgIHR0U2NvcGUucG9wdXBEZWxheSA9ICFpc05hTihkZWxheSkgPyBkZWxheSA6IG9wdGlvbnMucG9wdXBEZWxheTtcbiAgICAgICAgICAgICAgdHRTY29wZS5wb3B1cENsb3NlRGVsYXkgPSAhaXNOYU4oY2xvc2VEZWxheSkgPyBjbG9zZURlbGF5IDogb3B0aW9ucy5wb3B1cENsb3NlRGVsYXk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFzc2lnbklzT3Blbihpc09wZW4pIHtcbiAgICAgICAgICAgICAgaWYgKGlzT3BlblBhcnNlICYmIGFuZ3VsYXIuaXNGdW5jdGlvbihpc09wZW5QYXJzZS5hc3NpZ24pKSB7XG4gICAgICAgICAgICAgICAgaXNPcGVuUGFyc2UuYXNzaWduKHNjb3BlLCBpc09wZW4pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHR0U2NvcGUuY29udGVudEV4cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHRTY29wZS5jb250ZW50O1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBPYnNlcnZlIHRoZSByZWxldmFudCBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZGlzYWJsZWQnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbFNob3coKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh2YWwgJiYgdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaXNPcGVuUGFyc2UpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGlzT3BlblBhcnNlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHRTY29wZSAmJiAhdmFsID09PSB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgdG9nZ2xlVG9vbHRpcEJpbmQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwT2JzZXJ2ZXJzKCkge1xuICAgICAgICAgICAgICBvYnNlcnZlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgICBpZiAoY29udGVudFBhcnNlKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goY29udGVudFBhcnNlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdHRTY29wZS5jb250ZW50ID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcG9zaXRpb25TY2hlZHVsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXBvc2l0aW9uU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3NpdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR0U2NvcGUgJiYgdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlcnMucHVzaChcbiAgICAgICAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHR0VHlwZSwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHR0U2NvcGUuY29udGVudCA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwgJiYgdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIG9ic2VydmVycy5wdXNoKFxuICAgICAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHByZWZpeCArICdUaXRsZScsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgICAgdHRTY29wZS50aXRsZSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgIGlmICh0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIG9ic2VydmVycy5wdXNoKFxuICAgICAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKHByZWZpeCArICdQbGFjZW1lbnQnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICAgIHR0U2NvcGUucGxhY2VtZW50ID0gdmFsID8gdmFsIDogb3B0aW9ucy5wbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgICB2YXIgcGxhY2VtZW50ID0gJHBvc2l0aW9uLnBhcnNlUGxhY2VtZW50KHR0U2NvcGUucGxhY2VtZW50KTtcbiAgICAgICAgICAgICAgICAgIGxhc3RQbGFjZW1lbnQgPSBwbGFjZW1lbnRbMV0gPyBwbGFjZW1lbnRbMF0gKyAnLScgKyBwbGFjZW1lbnRbMV0gOiBwbGFjZW1lbnRbMF07XG4gICAgICAgICAgICAgICAgICBpZiAodHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gdW5yZWdpc3Rlck9ic2VydmVycygpIHtcbiAgICAgICAgICAgICAgaWYgKG9ic2VydmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gob2JzZXJ2ZXJzLCBmdW5jdGlvbihvYnNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvYnNlcnZlcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBoaWRlIHRvb2x0aXBzL3BvcG92ZXJzIGZvciBvdXRzaWRlQ2xpY2sgdHJpZ2dlclxuICAgICAgICAgICAgZnVuY3Rpb24gYm9keUhpZGVUb29sdGlwQmluZChlKSB7XG4gICAgICAgICAgICAgIGlmICghdHRTY29wZSB8fCAhdHRTY29wZS5pc09wZW4gfHwgIXRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSB0b29sdGlwL3BvcG92ZXIgbGluayBvciB0b29sIHRvb2x0aXAvcG9wb3ZlciBpdHNlbGYgd2VyZSBub3QgY2xpY2tlZFxuICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRbMF0uY29udGFpbnMoZS50YXJnZXQpICYmICF0b29sdGlwWzBdLmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIGhpZGVUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB1bnJlZ2lzdGVyVHJpZ2dlcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdHJpZ2dlcnMuc2hvdy5mb3JFYWNoKGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHJpZ2dlciA9PT0gJ291dHNpZGVDbGljaycpIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQub2ZmKCdjbGljaycsIHRvZ2dsZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5vZmYodHJpZ2dlciwgc2hvd1Rvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQub2ZmKHRyaWdnZXIsIHRvZ2dsZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0cmlnZ2Vycy5oaWRlLmZvckVhY2goZnVuY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyID09PSAnb3V0c2lkZUNsaWNrJykge1xuICAgICAgICAgICAgICAgICAgJGRvY3VtZW50Lm9mZignY2xpY2snLCBib2R5SGlkZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudC5vZmYodHJpZ2dlciwgaGlkZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFRyaWdnZXJzKCkge1xuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1RyaWdnZXInXTtcbiAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7XG5cbiAgICAgICAgICAgICAgdHJpZ2dlcnMgPSBnZXRUcmlnZ2Vycyh2YWwpO1xuXG4gICAgICAgICAgICAgIGlmICh0cmlnZ2Vycy5zaG93ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2Vycy5zaG93LmZvckVhY2goZnVuY3Rpb24odHJpZ2dlciwgaWR4KSB7XG4gICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlciA9PT0gJ291dHNpZGVDbGljaycpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCB0b2dnbGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICAgICRkb2N1bWVudC5vbignY2xpY2snLCBib2R5SGlkZVRvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciA9PT0gdHJpZ2dlcnMuaGlkZVtpZHhdKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub24odHJpZ2dlciwgdG9nZ2xlVG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub24odHJpZ2dlciwgc2hvd1Rvb2x0aXBCaW5kKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vbih0cmlnZ2Vycy5oaWRlW2lkeF0sIGhpZGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQub24oJ2tleXByZXNzJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgICAgICAgICAgICAgICBoaWRlVG9vbHRpcEJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJlcFRyaWdnZXJzKCk7XG5cbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBzY29wZS4kZXZhbChhdHRyc1twcmVmaXggKyAnQW5pbWF0aW9uJ10pO1xuICAgICAgICAgICAgdHRTY29wZS5hbmltYXRpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhbmltYXRpb24pID8gISFhbmltYXRpb24gOiBvcHRpb25zLmFuaW1hdGlvbjtcblxuICAgICAgICAgICAgdmFyIGFwcGVuZFRvQm9keVZhbDtcbiAgICAgICAgICAgIHZhciBhcHBlbmRLZXkgPSBwcmVmaXggKyAnQXBwZW5kVG9Cb2R5JztcbiAgICAgICAgICAgIGlmIChhcHBlbmRLZXkgaW4gYXR0cnMgJiYgYXR0cnNbYXBwZW5kS2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGFwcGVuZFRvQm9keVZhbCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhcHBlbmRUb0JvZHlWYWwgPSBzY29wZS4kZXZhbChhdHRyc1thcHBlbmRLZXldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoYXBwZW5kVG9Cb2R5VmFsKSA/IGFwcGVuZFRvQm9keVZhbCA6IGFwcGVuZFRvQm9keTtcblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRvb2x0aXAgaXMgZGVzdHJveWVkIGFuZCByZW1vdmVkLlxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIG9uRGVzdHJveVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIHVucmVnaXN0ZXJUcmlnZ2VycygpO1xuICAgICAgICAgICAgICByZW1vdmVUb29sdGlwKCk7XG4gICAgICAgICAgICAgIG9wZW5lZFRvb2x0aXBzLnJlbW92ZSh0dFNjb3BlKTtcbiAgICAgICAgICAgICAgdHRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH1dO1xufSlcblxuLy8gVGhpcyBpcyBtb3N0bHkgbmdJbmNsdWRlIGNvZGUgYnV0IHdpdGggYSBjdXN0b20gc2NvcGVcbi5kaXJlY3RpdmUoJ3VpYlRvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUnLCBbXG4gICAgICAgICAnJGFuaW1hdGUnLCAnJHNjZScsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JyxcbmZ1bmN0aW9uICgkYW5pbWF0ZSwgJHNjZSwgJGNvbXBpbGUsICR0ZW1wbGF0ZVJlcXVlc3QpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgIHZhciBvcmlnU2NvcGUgPSBzY29wZS4kZXZhbChhdHRycy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlU2NvcGUpO1xuXG4gICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXG4gICAgICAgIGN1cnJlbnRTY29wZSxcbiAgICAgICAgcHJldmlvdXNFbGVtZW50LFxuICAgICAgICBjdXJyZW50RWxlbWVudDtcblxuICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xuICAgICAgICAgIGN1cnJlbnRTY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gY3VycmVudEVsZW1lbnQ7XG4gICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kd2F0Y2goJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwoYXR0cnMudWliVG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZSksIGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgdGhpc0NoYW5nZUlkID0gKytjaGFuZ2VDb3VudGVyO1xuXG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAvL3NldCB0aGUgMm5kIHBhcmFtIHRvIHRydWUgdG8gaWdub3JlIHRoZSB0ZW1wbGF0ZSByZXF1ZXN0IGVycm9yIHNvIHRoYXQgdGhlIGlubmVyXG4gICAgICAgICAgLy9jb250ZW50cyBhbmQgc2NvcGUgY2FuIGJlIGNsZWFuZWQgdXAuXG4gICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgIT09IGNoYW5nZUNvdW50ZXIpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBvcmlnU2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gcmVzcG9uc2U7XG5cbiAgICAgICAgICAgIHZhciBjbG9uZSA9ICRjb21waWxlKHRlbXBsYXRlKShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgZWxlbSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xuXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudExvYWRlZCcsIHNyYyk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkID09PSBjaGFuZ2VDb3VudGVyKSB7XG4gICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudEVycm9yJywgc3JjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJywgc3JjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi8qKlxuICogTm90ZSB0aGF0IGl0J3MgaW50ZW50aW9uYWwgdGhhdCB0aGVzZSBjbGFzc2VzIGFyZSAqbm90KiBhcHBsaWVkIHRocm91Z2ggJGFuaW1hdGUuXG4gKiBUaGV5IG11c3Qgbm90IGJlIGFuaW1hdGVkIGFzIHRoZXkncmUgZXhwZWN0ZWQgdG8gYmUgcHJlc2VudCBvbiB0aGUgdG9vbHRpcCBvblxuICogaW5pdGlhbGl6YXRpb24uXG4gKi9cbi5kaXJlY3RpdmUoJ3VpYlRvb2x0aXBDbGFzc2VzJywgWyckdWliUG9zaXRpb24nLCBmdW5jdGlvbigkdWliUG9zaXRpb24pIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgLy8gbmVlZCB0byBzZXQgdGhlIHByaW1hcnkgcG9zaXRpb24gc28gdGhlXG4gICAgICAvLyBhcnJvdyBoYXMgc3BhY2UgZHVyaW5nIHBvc2l0aW9uIG1lYXN1cmUuXG4gICAgICAvLyB0b29sdGlwLnBvc2l0aW9uVG9vbHRpcCgpXG4gICAgICBpZiAoc2NvcGUucGxhY2VtZW50KSB7XG4gICAgICAgIC8vIC8vIFRoZXJlIGFyZSBubyB0b3AtbGVmdCBldGMuLi4gY2xhc3Nlc1xuICAgICAgICAvLyAvLyBpbiBUV0JTLCBzbyB3ZSBuZWVkIHRoZSBwcmltYXJ5IHBvc2l0aW9uLlxuICAgICAgICB2YXIgcG9zaXRpb24gPSAkdWliUG9zaXRpb24ucGFyc2VQbGFjZW1lbnQoc2NvcGUucGxhY2VtZW50KTtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhwb3NpdGlvblswXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzY29wZS5wb3B1cENsYXNzKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3Moc2NvcGUucG9wdXBDbGFzcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzY29wZS5hbmltYXRpb24oKSkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKGF0dHJzLnRvb2x0aXBBbmltYXRpb25DbGFzcyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3VpYlRvb2x0aXBQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3VpYi90ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3VpYlRvb2x0aXAnLCBbICckdWliVG9vbHRpcCcsIGZ1bmN0aW9uKCR1aWJUb29sdGlwKSB7XG4gIHJldHVybiAkdWliVG9vbHRpcCgndWliVG9vbHRpcCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInKTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd1aWJUb29sdGlwVGVtcGxhdGVQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicsXG4gICAgICBvcmlnaW5TY29wZTogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd1aWIvdGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd1aWJUb29sdGlwVGVtcGxhdGUnLCBbJyR1aWJUb29sdGlwJywgZnVuY3Rpb24oJHVpYlRvb2x0aXApIHtcbiAgcmV0dXJuICR1aWJUb29sdGlwKCd1aWJUb29sdGlwVGVtcGxhdGUnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgndWliVG9vbHRpcEh0bWxQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3VpYi90ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndWliVG9vbHRpcEh0bWwnLCBbJyR1aWJUb29sdGlwJywgZnVuY3Rpb24oJHVpYlRvb2x0aXApIHtcbiAgcmV0dXJuICR1aWJUb29sdGlwKCd1aWJUb29sdGlwSHRtbCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogcG9wdXAgZGVsYXksIGFuaW1hdGlvbiBhcyBhXG4gKiBmdW5jdGlvbiwgcGxhY2VtZW50IGFzIGEgZnVuY3Rpb24sIGluc2lkZSwgc3VwcG9ydCBmb3IgbW9yZSB0cmlnZ2VycyB0aGFuXG4gKiBqdXN0IG1vdXNlIGVudGVyL2xlYXZlLCBhbmQgc2VsZWN0b3IgZGVsZWdhdGF0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnBvcG92ZXInLCBbJ3VpLmJvb3RzdHJhcC50b29sdGlwJ10pXG5cbi5kaXJlY3RpdmUoJ3VpYlBvcG92ZXJUZW1wbGF0ZVBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyB1aWJUaXRsZTogJ0AnLCBjb250ZW50RXhwOiAnJicsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyxcbiAgICAgIG9yaWdpblNjb3BlOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3VpYi90ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItdGVtcGxhdGUuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3VpYlBvcG92ZXJUZW1wbGF0ZScsIFsnJHVpYlRvb2x0aXAnLCBmdW5jdGlvbigkdWliVG9vbHRpcCkge1xuICByZXR1cm4gJHVpYlRvb2x0aXAoJ3VpYlBvcG92ZXJUZW1wbGF0ZScsICdwb3BvdmVyJywgJ2NsaWNrJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgndWliUG9wb3Zlckh0bWxQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCB1aWJUaXRsZTogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3VpYi90ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndWliUG9wb3Zlckh0bWwnLCBbJyR1aWJUb29sdGlwJywgZnVuY3Rpb24oJHVpYlRvb2x0aXApIHtcbiAgcmV0dXJuICR1aWJUb29sdGlwKCd1aWJQb3BvdmVySHRtbCcsICdwb3BvdmVyJywgJ2NsaWNrJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgndWliUG9wb3ZlclBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyB1aWJUaXRsZTogJ0AnLCBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndWliL3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndWliUG9wb3ZlcicsIFsnJHVpYlRvb2x0aXAnLCBmdW5jdGlvbigkdWliVG9vbHRpcCkge1xuICByZXR1cm4gJHVpYlRvb2x0aXAoJ3VpYlBvcG92ZXInLCAncG9wb3ZlcicsICdjbGljaycpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnByb2dyZXNzYmFyJywgW10pXG5cbi5jb25zdGFudCgndWliUHJvZ3Jlc3NDb25maWcnLCB7XG4gIGFuaW1hdGU6IHRydWUsXG4gIG1heDogMTAwXG59KVxuXG4uY29udHJvbGxlcignVWliUHJvZ3Jlc3NDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJ3VpYlByb2dyZXNzQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsIHByb2dyZXNzQ29uZmlnKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIGFuaW1hdGUgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuYW5pbWF0ZSkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYW5pbWF0ZSkgOiBwcm9ncmVzc0NvbmZpZy5hbmltYXRlO1xuXG4gIHRoaXMuYmFycyA9IFtdO1xuICAkc2NvcGUubWF4ID0gZ2V0TWF4T3JEZWZhdWx0KCk7XG5cbiAgdGhpcy5hZGRCYXIgPSBmdW5jdGlvbihiYXIsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgaWYgKCFhbmltYXRlKSB7XG4gICAgICBlbGVtZW50LmNzcyh7J3RyYW5zaXRpb24nOiAnbm9uZSd9KTtcbiAgICB9XG5cbiAgICB0aGlzLmJhcnMucHVzaChiYXIpO1xuXG4gICAgYmFyLm1heCA9IGdldE1heE9yRGVmYXVsdCgpO1xuICAgIGJhci50aXRsZSA9IGF0dHJzICYmIGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnRpdGxlKSA/IGF0dHJzLnRpdGxlIDogJ3Byb2dyZXNzYmFyJztcblxuICAgIGJhci4kd2F0Y2goJ3ZhbHVlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcbiAgICB9KTtcblxuICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0b3RhbFBlcmNlbnRhZ2UgPSBzZWxmLmJhcnMucmVkdWNlKGZ1bmN0aW9uKHRvdGFsLCBiYXIpIHtcbiAgICAgICAgYmFyLnBlcmNlbnQgPSArKDEwMCAqIGJhci52YWx1ZSAvIGJhci5tYXgpLnRvRml4ZWQoMik7XG4gICAgICAgIHJldHVybiB0b3RhbCArIGJhci5wZXJjZW50O1xuICAgICAgfSwgMCk7XG5cbiAgICAgIGlmICh0b3RhbFBlcmNlbnRhZ2UgPiAxMDApIHtcbiAgICAgICAgYmFyLnBlcmNlbnQgLT0gdG90YWxQZXJjZW50YWdlIC0gMTAwO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBiYXIuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICBzZWxmLnJlbW92ZUJhcihiYXIpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMucmVtb3ZlQmFyID0gZnVuY3Rpb24oYmFyKSB7XG4gICAgdGhpcy5iYXJzLnNwbGljZSh0aGlzLmJhcnMuaW5kZXhPZihiYXIpLCAxKTtcbiAgICB0aGlzLmJhcnMuZm9yRWFjaChmdW5jdGlvbiAoYmFyKSB7XG4gICAgICBiYXIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8kYXR0cnMuJG9ic2VydmUoJ21heFBhcmFtJywgZnVuY3Rpb24obWF4UGFyYW0pIHtcbiAgJHNjb3BlLiR3YXRjaCgnbWF4UGFyYW0nLCBmdW5jdGlvbihtYXhQYXJhbSkge1xuICAgIHNlbGYuYmFycy5mb3JFYWNoKGZ1bmN0aW9uKGJhcikge1xuICAgICAgYmFyLm1heCA9IGdldE1heE9yRGVmYXVsdCgpO1xuICAgICAgYmFyLnJlY2FsY3VsYXRlUGVyY2VudGFnZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICBmdW5jdGlvbiBnZXRNYXhPckRlZmF1bHQgKCkge1xuICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZCgkc2NvcGUubWF4UGFyYW0pID8gJHNjb3BlLm1heFBhcmFtIDogcHJvZ3Jlc3NDb25maWcubWF4O1xuICB9XG59XSlcblxuLmRpcmVjdGl2ZSgndWliUHJvZ3Jlc3MnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1VpYlByb2dyZXNzQ29udHJvbGxlcicsXG4gICAgcmVxdWlyZTogJ3VpYlByb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgbWF4UGFyYW06ICc9P21heCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndWliL3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd1aWJCYXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVxdWlyZTogJ151aWJQcm9ncmVzcycsXG4gICAgc2NvcGU6IHtcbiAgICAgIHZhbHVlOiAnPScsXG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndWliL3RlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIHByb2dyZXNzQ3RybCkge1xuICAgICAgcHJvZ3Jlc3NDdHJsLmFkZEJhcihzY29wZSwgZWxlbWVudCwgYXR0cnMpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3VpYlByb2dyZXNzYmFyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdVaWJQcm9ncmVzc0NvbnRyb2xsZXInLFxuICAgIHNjb3BlOiB7XG4gICAgICB2YWx1ZTogJz0nLFxuICAgICAgbWF4UGFyYW06ICc9P21heCcsXG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndWliL3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XG4gICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudC5jaGlsZHJlbigpWzBdKSwge3RpdGxlOiBhdHRycy50aXRsZX0pO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnJhdGluZycsIFtdKVxuXG4uY29uc3RhbnQoJ3VpYlJhdGluZ0NvbmZpZycsIHtcbiAgbWF4OiA1LFxuICBzdGF0ZU9uOiBudWxsLFxuICBzdGF0ZU9mZjogbnVsbCxcbiAgZW5hYmxlUmVzZXQ6IHRydWUsXG4gIHRpdGxlcyA6IFsnb25lJywgJ3R3bycsICd0aHJlZScsICdmb3VyJywgJ2ZpdmUnXVxufSlcblxuLmNvbnRyb2xsZXIoJ1VpYlJhdGluZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAndWliUmF0aW5nQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsIHJhdGluZ0NvbmZpZykge1xuICB2YXIgbmdNb2RlbEN0cmwgPSB7ICRzZXRWaWV3VmFsdWU6IGFuZ3VsYXIubm9vcCB9LFxuICAgIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA8PCAwICE9PSB2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YXRlT24gPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPbikgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuc3RhdGVPbikgOiByYXRpbmdDb25maWcuc3RhdGVPbjtcbiAgICB0aGlzLnN0YXRlT2ZmID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnN0YXRlT2ZmKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9mZikgOiByYXRpbmdDb25maWcuc3RhdGVPZmY7XG4gICAgdGhpcy5lbmFibGVSZXNldCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5lbmFibGVSZXNldCkgP1xuICAgICAgJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLmVuYWJsZVJlc2V0KSA6IHJhdGluZ0NvbmZpZy5lbmFibGVSZXNldDtcbiAgICB2YXIgdG1wVGl0bGVzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnRpdGxlcykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMudGl0bGVzKSA6IHJhdGluZ0NvbmZpZy50aXRsZXM7XG4gICAgdGhpcy50aXRsZXMgPSBhbmd1bGFyLmlzQXJyYXkodG1wVGl0bGVzKSAmJiB0bXBUaXRsZXMubGVuZ3RoID4gMCA/XG4gICAgICB0bXBUaXRsZXMgOiByYXRpbmdDb25maWcudGl0bGVzO1xuXG4gICAgdmFyIHJhdGluZ1N0YXRlcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yYXRpbmdTdGF0ZXMpID9cbiAgICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yYXRpbmdTdGF0ZXMpIDpcbiAgICAgIG5ldyBBcnJheShhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWF4KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tYXgpIDogcmF0aW5nQ29uZmlnLm1heCk7XG4gICAgJHNjb3BlLnJhbmdlID0gdGhpcy5idWlsZFRlbXBsYXRlT2JqZWN0cyhyYXRpbmdTdGF0ZXMpO1xuICB9O1xuXG4gIHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMgPSBmdW5jdGlvbihzdGF0ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IHN0YXRlcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHN0YXRlc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKHsgaW5kZXg6IGkgfSwgeyBzdGF0ZU9uOiB0aGlzLnN0YXRlT24sIHN0YXRlT2ZmOiB0aGlzLnN0YXRlT2ZmLCB0aXRsZTogdGhpcy5nZXRUaXRsZShpKSB9LCBzdGF0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGVzO1xuICB9O1xuXG4gIHRoaXMuZ2V0VGl0bGUgPSBmdW5jdGlvbihpbmRleCkge1xuICAgIGlmIChpbmRleCA+PSB0aGlzLnRpdGxlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBpbmRleCArIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudGl0bGVzW2luZGV4XTtcbiAgfTtcblxuICAkc2NvcGUucmF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCEkc2NvcGUucmVhZG9ubHkgJiYgdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAkc2NvcGUucmFuZ2UubGVuZ3RoKSB7XG4gICAgICB2YXIgbmV3Vmlld1ZhbHVlID0gc2VsZi5lbmFibGVSZXNldCAmJiBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID09PSB2YWx1ZSA/IDAgOiB2YWx1ZTtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobmV3Vmlld1ZhbHVlKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmVudGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoISRzY29wZS5yZWFkb25seSkge1xuICAgICAgJHNjb3BlLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgICRzY29wZS5vbkhvdmVyKHt2YWx1ZTogdmFsdWV9KTtcbiAgfTtcblxuICAkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICAgICRzY29wZS5vbkxlYXZlKCk7XG4gIH07XG5cbiAgJHNjb3BlLm9uS2V5ZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmICgvKDM3fDM4fDM5fDQwKS8udGVzdChldnQud2hpY2gpKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICRzY29wZS5yYXRlKCRzY29wZS52YWx1ZSArIChldnQud2hpY2ggPT09IDM4IHx8IGV2dC53aGljaCA9PT0gMzkgPyAxIDogLTEpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUudmFsdWUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICAgICRzY29wZS50aXRsZSA9IHNlbGYuZ2V0VGl0bGUoJHNjb3BlLnZhbHVlIC0gMSk7XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndWliUmF0aW5nJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogWyd1aWJSYXRpbmcnLCAnbmdNb2RlbCddLFxuICAgIHNjb3BlOiB7XG4gICAgICByZWFkb25seTogJz0/cmVhZE9ubHknLFxuICAgICAgb25Ib3ZlcjogJyYnLFxuICAgICAgb25MZWF2ZTogJyYnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnVWliUmF0aW5nQ29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd1aWIvdGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciByYXRpbmdDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG4gICAgICByYXRpbmdDdHJsLmluaXQobmdNb2RlbEN0cmwpO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRhYnMnLCBbXSlcblxuLmNvbnRyb2xsZXIoJ1VpYlRhYnNldENvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgdmFyIGN0cmwgPSB0aGlzLFxuICAgIG9sZEluZGV4O1xuICBjdHJsLnRhYnMgPSBbXTtcblxuICBjdHJsLnNlbGVjdCA9IGZ1bmN0aW9uKGluZGV4LCBldnQpIHtcbiAgICBpZiAoIWRlc3Ryb3llZCkge1xuICAgICAgdmFyIHByZXZpb3VzSW5kZXggPSBmaW5kVGFiSW5kZXgob2xkSW5kZXgpO1xuICAgICAgdmFyIHByZXZpb3VzU2VsZWN0ZWQgPSBjdHJsLnRhYnNbcHJldmlvdXNJbmRleF07XG4gICAgICBpZiAocHJldmlvdXNTZWxlY3RlZCkge1xuICAgICAgICBwcmV2aW91c1NlbGVjdGVkLnRhYi5vbkRlc2VsZWN0KHtcbiAgICAgICAgICAkZXZlbnQ6IGV2dFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGV2dCAmJiBldnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXNTZWxlY3RlZC50YWIuYWN0aXZlID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxlY3RlZCA9IGN0cmwudGFic1tpbmRleF07XG4gICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgc2VsZWN0ZWQudGFiLm9uU2VsZWN0KHtcbiAgICAgICAgICAkZXZlbnQ6IGV2dFxuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0ZWQudGFiLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGN0cmwuYWN0aXZlID0gc2VsZWN0ZWQuaW5kZXg7XG4gICAgICAgIG9sZEluZGV4ID0gc2VsZWN0ZWQuaW5kZXg7XG4gICAgICB9IGVsc2UgaWYgKCFzZWxlY3RlZCAmJiBhbmd1bGFyLmlzTnVtYmVyKG9sZEluZGV4KSkge1xuICAgICAgICBjdHJsLmFjdGl2ZSA9IG51bGw7XG4gICAgICAgIG9sZEluZGV4ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY3RybC5hZGRUYWIgPSBmdW5jdGlvbiBhZGRUYWIodGFiKSB7XG4gICAgY3RybC50YWJzLnB1c2goe1xuICAgICAgdGFiOiB0YWIsXG4gICAgICBpbmRleDogdGFiLmluZGV4XG4gICAgfSk7XG4gICAgY3RybC50YWJzLnNvcnQoZnVuY3Rpb24odDEsIHQyKSB7XG4gICAgICBpZiAodDEuaW5kZXggPiB0Mi5pbmRleCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHQxLmluZGV4IDwgdDIuaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gMDtcbiAgICB9KTtcblxuICAgIGlmICh0YWIuaW5kZXggPT09IGN0cmwuYWN0aXZlIHx8ICFhbmd1bGFyLmlzTnVtYmVyKGN0cmwuYWN0aXZlKSAmJiBjdHJsLnRhYnMubGVuZ3RoID09PSAxKSB7XG4gICAgICB2YXIgbmV3QWN0aXZlSW5kZXggPSBmaW5kVGFiSW5kZXgodGFiLmluZGV4KTtcbiAgICAgIGN0cmwuc2VsZWN0KG5ld0FjdGl2ZUluZGV4KTtcbiAgICB9XG4gIH07XG5cbiAgY3RybC5yZW1vdmVUYWIgPSBmdW5jdGlvbiByZW1vdmVUYWIodGFiKSB7XG4gICAgdmFyIGluZGV4O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3RybC50YWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY3RybC50YWJzW2ldLnRhYiA9PT0gdGFiKSB7XG4gICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGN0cmwudGFic1tpbmRleF0uaW5kZXggPT09IGN0cmwuYWN0aXZlKSB7XG4gICAgICB2YXIgbmV3QWN0aXZlVGFiSW5kZXggPSBpbmRleCA9PT0gY3RybC50YWJzLmxlbmd0aCAtIDEgP1xuICAgICAgICBpbmRleCAtIDEgOiBpbmRleCArIDEgJSBjdHJsLnRhYnMubGVuZ3RoO1xuICAgICAgY3RybC5zZWxlY3QobmV3QWN0aXZlVGFiSW5kZXgpO1xuICAgIH1cblxuICAgIGN0cmwudGFicy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ3RhYnNldC5hY3RpdmUnLCBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWwpICYmIHZhbCAhPT0gb2xkSW5kZXgpIHtcbiAgICAgIGN0cmwuc2VsZWN0KGZpbmRUYWJJbmRleCh2YWwpKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBkZXN0cm95ZWQ7XG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZmluZFRhYkluZGV4KGluZGV4KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdHJsLnRhYnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjdHJsLnRhYnNbaV0uaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufV0pXG5cbi5kaXJlY3RpdmUoJ3VpYlRhYnNldCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge30sXG4gICAgYmluZFRvQ29udHJvbGxlcjoge1xuICAgICAgYWN0aXZlOiAnPT8nLFxuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnVWliVGFic2V0Q29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAndGFic2V0JyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndWliL3RlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWwnO1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBzY29wZS52ZXJ0aWNhbCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnZlcnRpY2FsKSA/XG4gICAgICAgIHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMudmVydGljYWwpIDogZmFsc2U7XG4gICAgICBzY29wZS5qdXN0aWZpZWQgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5qdXN0aWZpZWQpID9cbiAgICAgICAgc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5qdXN0aWZpZWQpIDogZmFsc2U7XG4gICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChhdHRycy5hY3RpdmUpKSB7XG4gICAgICAgIHNjb3BlLmFjdGl2ZSA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndWliVGFiJywgWyckcGFyc2UnLCBmdW5jdGlvbigkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXnVpYlRhYnNldCcsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndWliL3RlbXBsYXRlL3RhYnMvdGFiLmh0bWwnO1xuICAgIH0sXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgaGVhZGluZzogJ0AnLFxuICAgICAgaW5kZXg6ICc9PycsXG4gICAgICBjbGFzc2VzOiAnQD8nLFxuICAgICAgb25TZWxlY3Q6ICcmc2VsZWN0JywgLy9UaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCBpbiBjb250ZW50SGVhZGluZ1RyYW5zY2x1ZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmNlIGl0IGluc2VydHMgdGhlIHRhYidzIGNvbnRlbnQgaW50byB0aGUgZG9tXG4gICAgICBvbkRlc2VsZWN0OiAnJmRlc2VsZWN0J1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XG4gICAgICAvL0VtcHR5IGNvbnRyb2xsZXIgc28gb3RoZXIgZGlyZWN0aXZlcyBjYW4gcmVxdWlyZSBiZWluZyAndW5kZXInIGEgdGFiXG4gICAgfSxcbiAgICBjb250cm9sbGVyQXM6ICd0YWInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHJzLCB0YWJzZXRDdHJsLCB0cmFuc2NsdWRlKSB7XG4gICAgICBzY29wZS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKGF0dHJzLmRpc2FibGUpIHtcbiAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLmRpc2FibGUpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChhdHRycy5pbmRleCkpIHtcbiAgICAgICAgaWYgKHRhYnNldEN0cmwudGFicyAmJiB0YWJzZXRDdHJsLnRhYnMubGVuZ3RoKSB7XG4gICAgICAgICAgc2NvcGUuaW5kZXggPSBNYXRoLm1heC5hcHBseShudWxsLCB0YWJzZXRDdHJsLnRhYnMubWFwKGZ1bmN0aW9uKHQpIHsgcmV0dXJuIHQuaW5kZXg7IH0pKSArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2NvcGUuaW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGF0dHJzLmNsYXNzZXMpKSB7XG4gICAgICAgIHNjb3BlLmNsYXNzZXMgPSAnJztcbiAgICAgIH1cblxuICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmICghc2NvcGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJzZXRDdHJsLnRhYnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0YWJzZXRDdHJsLnRhYnNbaV0udGFiID09PSBzY29wZSkge1xuICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHRhYnNldEN0cmwuc2VsZWN0KGluZGV4LCBldnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0YWJzZXRDdHJsLmFkZFRhYihzY29wZSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRhYnNldEN0cmwucmVtb3ZlVGFiKHNjb3BlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvL1dlIG5lZWQgdG8gdHJhbnNjbHVkZSBsYXRlciwgb25jZSB0aGUgY29udGVudCBjb250YWluZXIgaXMgcmVhZHkuXG4gICAgICAvL3doZW4gdGhpcyBsaW5rIGhhcHBlbnMsIHdlJ3JlIGluc2lkZSBhIHRhYiBoZWFkaW5nLlxuICAgICAgc2NvcGUuJHRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGU7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3VpYlRhYkhlYWRpbmdUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXnVpYlRhYicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSkge1xuICAgICAgc2NvcGUuJHdhdGNoKCdoZWFkaW5nRWxlbWVudCcsIGZ1bmN0aW9uIHVwZGF0ZUhlYWRpbmdFbGVtZW50KGhlYWRpbmcpIHtcbiAgICAgICAgaWYgKGhlYWRpbmcpIHtcbiAgICAgICAgICBlbG0uaHRtbCgnJyk7XG4gICAgICAgICAgZWxtLmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgndWliVGFiQ29udGVudFRyYW5zY2x1ZGUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdedWliVGFic2V0JyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRycykge1xuICAgICAgdmFyIHRhYiA9IHNjb3BlLiRldmFsKGF0dHJzLnVpYlRhYkNvbnRlbnRUcmFuc2NsdWRlKS50YWI7XG5cbiAgICAgIC8vTm93IG91ciB0YWIgaXMgcmVhZHkgdG8gYmUgdHJhbnNjbHVkZWQ6IGJvdGggdGhlIHRhYiBoZWFkaW5nIGFyZWFcbiAgICAgIC8vYW5kIHRoZSB0YWIgY29udGVudCBhcmVhIGFyZSBsb2FkZWQuICBUcmFuc2NsdWRlICdlbSBib3RoLlxuICAgICAgdGFiLiR0cmFuc2NsdWRlRm4odGFiLiRwYXJlbnQsIGZ1bmN0aW9uKGNvbnRlbnRzKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb250ZW50cywgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgIGlmIChpc1RhYkhlYWRpbmcobm9kZSkpIHtcbiAgICAgICAgICAgIC8vTGV0IHRhYkhlYWRpbmdUcmFuc2NsdWRlIGtub3cuXG4gICAgICAgICAgICB0YWIuaGVhZGluZ0VsZW1lbnQgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbG0uYXBwZW5kKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gaXNUYWJIZWFkaW5nKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50YWdOYW1lICYmIChcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd1aWItdGFiLWhlYWRpbmcnKSB8fFxuICAgICAgbm9kZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtdWliLXRhYi1oZWFkaW5nJykgfHxcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd4LXVpYi10YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3VpYi10YWItaGVhZGluZycgfHxcbiAgICAgIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZGF0YS11aWItdGFiLWhlYWRpbmcnIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3gtdWliLXRhYi1oZWFkaW5nJyB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd1aWI6dGFiLWhlYWRpbmcnXG4gICAgKTtcbiAgfVxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudGltZXBpY2tlcicsIFtdKVxuXG4uY29uc3RhbnQoJ3VpYlRpbWVwaWNrZXJDb25maWcnLCB7XG4gIGhvdXJTdGVwOiAxLFxuICBtaW51dGVTdGVwOiAxLFxuICBzZWNvbmRTdGVwOiAxLFxuICBzaG93TWVyaWRpYW46IHRydWUsXG4gIHNob3dTZWNvbmRzOiBmYWxzZSxcbiAgbWVyaWRpYW5zOiBudWxsLFxuICByZWFkb25seUlucHV0OiBmYWxzZSxcbiAgbW91c2V3aGVlbDogdHJ1ZSxcbiAgYXJyb3drZXlzOiB0cnVlLFxuICBzaG93U3Bpbm5lcnM6IHRydWUsXG4gIHRlbXBsYXRlVXJsOiAndWliL3RlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sJ1xufSlcblxuLmNvbnRyb2xsZXIoJ1VpYlRpbWVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnJGF0dHJzJywgJyRwYXJzZScsICckbG9nJywgJyRsb2NhbGUnLCAndWliVGltZXBpY2tlckNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJHBhcnNlLCAkbG9nLCAkbG9jYWxlLCB0aW1lcGlja2VyQ29uZmlnKSB7XG4gIHZhciBzZWxlY3RlZCA9IG5ldyBEYXRlKCksXG4gICAgd2F0Y2hlcnMgPSBbXSxcbiAgICBuZ01vZGVsQ3RybCA9IHsgJHNldFZpZXdWYWx1ZTogYW5ndWxhci5ub29wIH0sIC8vIG51bGxNb2RlbEN0cmxcbiAgICBtZXJpZGlhbnMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMubWVyaWRpYW5zKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5tZXJpZGlhbnMpIDogdGltZXBpY2tlckNvbmZpZy5tZXJpZGlhbnMgfHwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkFNUE1TLFxuICAgIHBhZEhvdXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnBhZEhvdXJzKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5wYWRIb3VycykgOiB0cnVlO1xuXG4gICRzY29wZS50YWJpbmRleCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy50YWJpbmRleCkgPyAkYXR0cnMudGFiaW5kZXggOiAwO1xuICAkZWxlbWVudC5yZW1vdmVBdHRyKCd0YWJpbmRleCcpO1xuXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG5nTW9kZWxDdHJsXywgaW5wdXRzKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG4gICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IHRoaXMucmVuZGVyO1xuXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbihtb2RlbFZhbHVlKSB7XG4gICAgICByZXR1cm4gbW9kZWxWYWx1ZSA/IG5ldyBEYXRlKG1vZGVsVmFsdWUpIDogbnVsbDtcbiAgICB9KTtcblxuICAgIHZhciBob3Vyc0lucHV0RWwgPSBpbnB1dHMuZXEoMCksXG4gICAgICAgIG1pbnV0ZXNJbnB1dEVsID0gaW5wdXRzLmVxKDEpLFxuICAgICAgICBzZWNvbmRzSW5wdXRFbCA9IGlucHV0cy5lcSgyKTtcblxuICAgIHZhciBtb3VzZXdoZWVsID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1vdXNld2hlZWwpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1vdXNld2hlZWwpIDogdGltZXBpY2tlckNvbmZpZy5tb3VzZXdoZWVsO1xuXG4gICAgaWYgKG1vdXNld2hlZWwpIHtcbiAgICAgIHRoaXMuc2V0dXBNb3VzZXdoZWVsRXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwsIHNlY29uZHNJbnB1dEVsKTtcbiAgICB9XG5cbiAgICB2YXIgYXJyb3drZXlzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmFycm93a2V5cykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYXJyb3drZXlzKSA6IHRpbWVwaWNrZXJDb25maWcuYXJyb3drZXlzO1xuICAgIGlmIChhcnJvd2tleXMpIHtcbiAgICAgIHRoaXMuc2V0dXBBcnJvd2tleUV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsLCBzZWNvbmRzSW5wdXRFbCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnJlYWRvbmx5SW5wdXQgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmVhZG9ubHlJbnB1dCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmVhZG9ubHlJbnB1dCkgOiB0aW1lcGlja2VyQ29uZmlnLnJlYWRvbmx5SW5wdXQ7XG4gICAgdGhpcy5zZXR1cElucHV0RXZlbnRzKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwsIHNlY29uZHNJbnB1dEVsKTtcbiAgfTtcblxuICB2YXIgaG91clN0ZXAgPSB0aW1lcGlja2VyQ29uZmlnLmhvdXJTdGVwO1xuICBpZiAoJGF0dHJzLmhvdXJTdGVwKSB7XG4gICAgd2F0Y2hlcnMucHVzaCgkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5ob3VyU3RlcCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBob3VyU3RlcCA9ICt2YWx1ZTtcbiAgICB9KSk7XG4gIH1cblxuICB2YXIgbWludXRlU3RlcCA9IHRpbWVwaWNrZXJDb25maWcubWludXRlU3RlcDtcbiAgaWYgKCRhdHRycy5taW51dGVTdGVwKSB7XG4gICAgd2F0Y2hlcnMucHVzaCgkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5taW51dGVTdGVwKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIG1pbnV0ZVN0ZXAgPSArdmFsdWU7XG4gICAgfSkpO1xuICB9XG5cbiAgdmFyIG1pbjtcbiAgd2F0Y2hlcnMucHVzaCgkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5taW4pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBkdCA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICBtaW4gPSBpc05hTihkdCkgPyB1bmRlZmluZWQgOiBkdDtcbiAgfSkpO1xuXG4gIHZhciBtYXg7XG4gIHdhdGNoZXJzLnB1c2goJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWF4KSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgbWF4ID0gaXNOYU4oZHQpID8gdW5kZWZpbmVkIDogZHQ7XG4gIH0pKTtcblxuICB2YXIgZGlzYWJsZWQgPSBmYWxzZTtcbiAgaWYgKCRhdHRycy5uZ0Rpc2FibGVkKSB7XG4gICAgd2F0Y2hlcnMucHVzaCgkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5uZ0Rpc2FibGVkKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGRpc2FibGVkID0gdmFsdWU7XG4gICAgfSkpO1xuICB9XG5cbiAgJHNjb3BlLm5vSW5jcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5jcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIGhvdXJTdGVwICogNjApO1xuICAgIHJldHVybiBkaXNhYmxlZCB8fCBpbmNyZW1lbnRlZFNlbGVjdGVkID4gbWF4IHx8XG4gICAgICBpbmNyZW1lbnRlZFNlbGVjdGVkIDwgc2VsZWN0ZWQgJiYgaW5jcmVtZW50ZWRTZWxlY3RlZCA8IG1pbjtcbiAgfTtcblxuICAkc2NvcGUubm9EZWNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgLWhvdXJTdGVwICogNjApO1xuICAgIHJldHVybiBkaXNhYmxlZCB8fCBkZWNyZW1lbnRlZFNlbGVjdGVkIDwgbWluIHx8XG4gICAgICBkZWNyZW1lbnRlZFNlbGVjdGVkID4gc2VsZWN0ZWQgJiYgZGVjcmVtZW50ZWRTZWxlY3RlZCA+IG1heDtcbiAgfTtcblxuICAkc2NvcGUubm9JbmNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCBtaW51dGVTdGVwKTtcbiAgICByZXR1cm4gZGlzYWJsZWQgfHwgaW5jcmVtZW50ZWRTZWxlY3RlZCA+IG1heCB8fFxuICAgICAgaW5jcmVtZW50ZWRTZWxlY3RlZCA8IHNlbGVjdGVkICYmIGluY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW47XG4gIH07XG5cbiAgJHNjb3BlLm5vRGVjcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgLW1pbnV0ZVN0ZXApO1xuICAgIHJldHVybiBkaXNhYmxlZCB8fCBkZWNyZW1lbnRlZFNlbGVjdGVkIDwgbWluIHx8XG4gICAgICBkZWNyZW1lbnRlZFNlbGVjdGVkID4gc2VsZWN0ZWQgJiYgZGVjcmVtZW50ZWRTZWxlY3RlZCA+IG1heDtcbiAgfTtcblxuICAkc2NvcGUubm9JbmNyZW1lbnRTZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRTZWNvbmRzKHNlbGVjdGVkLCBzZWNvbmRTdGVwKTtcbiAgICByZXR1cm4gZGlzYWJsZWQgfHwgaW5jcmVtZW50ZWRTZWxlY3RlZCA+IG1heCB8fFxuICAgICAgaW5jcmVtZW50ZWRTZWxlY3RlZCA8IHNlbGVjdGVkICYmIGluY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW47XG4gIH07XG5cbiAgJHNjb3BlLm5vRGVjcmVtZW50U2Vjb25kcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkZWNyZW1lbnRlZFNlbGVjdGVkID0gYWRkU2Vjb25kcyhzZWxlY3RlZCwgLXNlY29uZFN0ZXApO1xuICAgIHJldHVybiBkaXNhYmxlZCB8fCBkZWNyZW1lbnRlZFNlbGVjdGVkIDwgbWluIHx8XG4gICAgICBkZWNyZW1lbnRlZFNlbGVjdGVkID4gc2VsZWN0ZWQgJiYgZGVjcmVtZW50ZWRTZWxlY3RlZCA+IG1heDtcbiAgfTtcblxuICAkc2NvcGUubm9Ub2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIpIHtcbiAgICAgIHJldHVybiBkaXNhYmxlZCB8fCBhZGRNaW51dGVzKHNlbGVjdGVkLCAxMiAqIDYwKSA+IG1heDtcbiAgICB9XG5cbiAgICByZXR1cm4gZGlzYWJsZWQgfHwgYWRkTWludXRlcyhzZWxlY3RlZCwgLTEyICogNjApIDwgbWluO1xuICB9O1xuXG4gIHZhciBzZWNvbmRTdGVwID0gdGltZXBpY2tlckNvbmZpZy5zZWNvbmRTdGVwO1xuICBpZiAoJGF0dHJzLnNlY29uZFN0ZXApIHtcbiAgICB3YXRjaGVycy5wdXNoKCRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLnNlY29uZFN0ZXApLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgc2Vjb25kU3RlcCA9ICt2YWx1ZTtcbiAgICB9KSk7XG4gIH1cblxuICAkc2NvcGUuc2hvd1NlY29uZHMgPSB0aW1lcGlja2VyQ29uZmlnLnNob3dTZWNvbmRzO1xuICBpZiAoJGF0dHJzLnNob3dTZWNvbmRzKSB7XG4gICAgd2F0Y2hlcnMucHVzaCgkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5zaG93U2Vjb25kcyksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAkc2NvcGUuc2hvd1NlY29uZHMgPSAhIXZhbHVlO1xuICAgIH0pKTtcbiAgfVxuXG4gIC8vIDEySCAvIDI0SCBtb2RlXG4gICRzY29wZS5zaG93TWVyaWRpYW4gPSB0aW1lcGlja2VyQ29uZmlnLnNob3dNZXJpZGlhbjtcbiAgaWYgKCRhdHRycy5zaG93TWVyaWRpYW4pIHtcbiAgICB3YXRjaGVycy5wdXNoKCRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLnNob3dNZXJpZGlhbiksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAkc2NvcGUuc2hvd01lcmlkaWFuID0gISF2YWx1ZTtcblxuICAgICAgaWYgKG5nTW9kZWxDdHJsLiRlcnJvci50aW1lKSB7XG4gICAgICAgIC8vIEV2YWx1YXRlIGZyb20gdGVtcGxhdGVcbiAgICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSwgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChtaW51dGVzKSkge1xuICAgICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKTtcbiAgICAgICAgICByZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVwZGF0ZVRlbXBsYXRlKCk7XG4gICAgICB9XG4gICAgfSkpO1xuICB9XG5cbiAgLy8gR2V0ICRzY29wZS5ob3VycyBpbiAyNEggbW9kZSBpZiB2YWxpZFxuICBmdW5jdGlvbiBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpIHtcbiAgICB2YXIgaG91cnMgPSArJHNjb3BlLmhvdXJzO1xuICAgIHZhciB2YWxpZCA9ICRzY29wZS5zaG93TWVyaWRpYW4gPyBob3VycyA+IDAgJiYgaG91cnMgPCAxMyA6XG4gICAgICBob3VycyA+PSAwICYmIGhvdXJzIDwgMjQ7XG4gICAgaWYgKCF2YWxpZCB8fCAkc2NvcGUuaG91cnMgPT09ICcnKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICgkc2NvcGUuc2hvd01lcmlkaWFuKSB7XG4gICAgICBpZiAoaG91cnMgPT09IDEyKSB7XG4gICAgICAgIGhvdXJzID0gMDtcbiAgICAgIH1cbiAgICAgIGlmICgkc2NvcGUubWVyaWRpYW4gPT09IG1lcmlkaWFuc1sxXSkge1xuICAgICAgICBob3VycyA9IGhvdXJzICsgMTI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBob3VycztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKSB7XG4gICAgdmFyIG1pbnV0ZXMgPSArJHNjb3BlLm1pbnV0ZXM7XG4gICAgdmFyIHZhbGlkID0gbWludXRlcyA+PSAwICYmIG1pbnV0ZXMgPCA2MDtcbiAgICBpZiAoIXZhbGlkIHx8ICRzY29wZS5taW51dGVzID09PSAnJykge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG1pbnV0ZXM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWNvbmRzRnJvbVRlbXBsYXRlKCkge1xuICAgIHZhciBzZWNvbmRzID0gKyRzY29wZS5zZWNvbmRzO1xuICAgIHJldHVybiBzZWNvbmRzID49IDAgJiYgc2Vjb25kcyA8IDYwID8gc2Vjb25kcyA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhZCh2YWx1ZSwgbm9QYWQpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodmFsdWUpICYmIHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoIDwgMiAmJiAhbm9QYWQgP1xuICAgICAgJzAnICsgdmFsdWUgOiB2YWx1ZS50b1N0cmluZygpO1xuICB9XG5cbiAgLy8gUmVzcG9uZCBvbiBtb3VzZXdoZWVsIHNwaW5cbiAgdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMgPSBmdW5jdGlvbihob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsLCBzZWNvbmRzSW5wdXRFbCkge1xuICAgIHZhciBpc1Njcm9sbGluZ1VwID0gZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUub3JpZ2luYWxFdmVudCkge1xuICAgICAgICBlID0gZS5vcmlnaW5hbEV2ZW50O1xuICAgICAgfVxuICAgICAgLy9waWNrIGNvcnJlY3QgZGVsdGEgdmFyaWFibGUgZGVwZW5kaW5nIG9uIGV2ZW50XG4gICAgICB2YXIgZGVsdGEgPSBlLndoZWVsRGVsdGEgPyBlLndoZWVsRGVsdGEgOiAtZS5kZWx0YVk7XG4gICAgICByZXR1cm4gZS5kZXRhaWwgfHwgZGVsdGEgPiAwO1xuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpID8gJHNjb3BlLmluY3JlbWVudEhvdXJzKCkgOiAkc2NvcGUuZGVjcmVtZW50SG91cnMoKSk7XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdtb3VzZXdoZWVsIHdoZWVsJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KGlzU2Nyb2xsaW5nVXAoZSkgPyAkc2NvcGUuaW5jcmVtZW50TWludXRlcygpIDogJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKSk7XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICAgc2Vjb25kc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShpc1Njcm9sbGluZ1VwKGUpID8gJHNjb3BlLmluY3JlbWVudFNlY29uZHMoKSA6ICRzY29wZS5kZWNyZW1lbnRTZWNvbmRzKCkpO1xuICAgICAgfVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFJlc3BvbmQgb24gdXAvZG93biBhcnJvd2tleXNcbiAgdGhpcy5zZXR1cEFycm93a2V5RXZlbnRzID0gZnVuY3Rpb24oaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCwgc2Vjb25kc0lucHV0RWwpIHtcbiAgICBob3Vyc0lucHV0RWwuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKGUud2hpY2ggPT09IDM4KSB7IC8vIHVwXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICRzY29wZS5pbmNyZW1lbnRIb3VycygpO1xuICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSA0MCkgeyAvLyBkb3duXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICRzY29wZS5kZWNyZW1lbnRIb3VycygpO1xuICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKGUud2hpY2ggPT09IDM4KSB7IC8vIHVwXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICRzY29wZS5pbmNyZW1lbnRNaW51dGVzKCk7XG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGUud2hpY2ggPT09IDQwKSB7IC8vIGRvd25cbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKTtcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNlY29uZHNJbnB1dEVsLmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgIGlmIChlLndoaWNoID09PSAzOCkgeyAvLyB1cFxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAkc2NvcGUuaW5jcmVtZW50U2Vjb25kcygpO1xuICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSA0MCkgeyAvLyBkb3duXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICRzY29wZS5kZWNyZW1lbnRTZWNvbmRzKCk7XG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zZXR1cElucHV0RXZlbnRzID0gZnVuY3Rpb24oaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCwgc2Vjb25kc0lucHV0RWwpIHtcbiAgICBpZiAoJHNjb3BlLnJlYWRvbmx5SW5wdXQpIHtcbiAgICAgICRzY29wZS51cGRhdGVIb3VycyA9IGFuZ3VsYXIubm9vcDtcbiAgICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gYW5ndWxhci5ub29wO1xuICAgICAgJHNjb3BlLnVwZGF0ZVNlY29uZHMgPSBhbmd1bGFyLm5vb3A7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGludmFsaWRhdGUgPSBmdW5jdGlvbihpbnZhbGlkSG91cnMsIGludmFsaWRNaW51dGVzLCBpbnZhbGlkU2Vjb25kcykge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShudWxsKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkSG91cnMpKSB7XG4gICAgICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBpbnZhbGlkSG91cnM7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkTWludXRlcykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gaW52YWxpZE1pbnV0ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkU2Vjb25kcykpIHtcbiAgICAgICAgJHNjb3BlLmludmFsaWRTZWNvbmRzID0gaW52YWxpZFNlY29uZHM7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKSxcbiAgICAgICAgbWludXRlcyA9IGdldE1pbnV0ZXNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgbmdNb2RlbEN0cmwuJHNldERpcnR5KCk7XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChob3VycykgJiYgYW5ndWxhci5pc0RlZmluZWQobWludXRlcykpIHtcbiAgICAgICAgc2VsZWN0ZWQuc2V0SG91cnMoaG91cnMpO1xuICAgICAgICBzZWxlY3RlZC5zZXRNaW51dGVzKG1pbnV0ZXMpO1xuICAgICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcbiAgICAgICAgICBpbnZhbGlkYXRlKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnJlc2goJ2gnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52YWxpZGF0ZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaG91cnNJbnB1dEVsLmJpbmQoJ2JsdXInLCBmdW5jdGlvbihlKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VG91Y2hlZCgpO1xuICAgICAgaWYgKG1vZGVsSXNFbXB0eSgpKSB7XG4gICAgICAgIG1ha2VWYWxpZCgpO1xuICAgICAgfSBlbHNlIGlmICgkc2NvcGUuaG91cnMgPT09IG51bGwgfHwgJHNjb3BlLmhvdXJzID09PSAnJykge1xuICAgICAgICBpbnZhbGlkYXRlKHRydWUpO1xuICAgICAgfSBlbHNlIGlmICghJHNjb3BlLmludmFsaWRIb3VycyAmJiAkc2NvcGUuaG91cnMgPCAxMCkge1xuICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRzY29wZS5ob3VycyA9IHBhZCgkc2NvcGUuaG91cnMsICFwYWRIb3Vycyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLnVwZGF0ZU1pbnV0ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtaW51dGVzID0gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpLFxuICAgICAgICBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCk7XG5cbiAgICAgIG5nTW9kZWxDdHJsLiRzZXREaXJ0eSgpO1xuXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQobWludXRlcykgJiYgYW5ndWxhci5pc0RlZmluZWQoaG91cnMpKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldEhvdXJzKGhvdXJzKTtcbiAgICAgICAgc2VsZWN0ZWQuc2V0TWludXRlcyhtaW51dGVzKTtcbiAgICAgICAgaWYgKHNlbGVjdGVkIDwgbWluIHx8IHNlbGVjdGVkID4gbWF4KSB7XG4gICAgICAgICAgaW52YWxpZGF0ZSh1bmRlZmluZWQsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnJlc2goJ20nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52YWxpZGF0ZSh1bmRlZmluZWQsIHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFRvdWNoZWQoKTtcbiAgICAgIGlmIChtb2RlbElzRW1wdHkoKSkge1xuICAgICAgICBtYWtlVmFsaWQoKTtcbiAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLm1pbnV0ZXMgPT09IG51bGwpIHtcbiAgICAgICAgaW52YWxpZGF0ZSh1bmRlZmluZWQsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICghJHNjb3BlLmludmFsaWRNaW51dGVzICYmICRzY29wZS5taW51dGVzIDwgMTApIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUubWludXRlcyA9IHBhZCgkc2NvcGUubWludXRlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLnVwZGF0ZVNlY29uZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWNvbmRzID0gZ2V0U2Vjb25kc0Zyb21UZW1wbGF0ZSgpO1xuXG4gICAgICBuZ01vZGVsQ3RybC4kc2V0RGlydHkoKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHNlY29uZHMpKSB7XG4gICAgICAgIHNlbGVjdGVkLnNldFNlY29uZHMoc2Vjb25kcyk7XG4gICAgICAgIHJlZnJlc2goJ3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGludmFsaWRhdGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzZWNvbmRzSW5wdXRFbC5iaW5kKCdibHVyJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKG1vZGVsSXNFbXB0eSgpKSB7XG4gICAgICAgIG1ha2VWYWxpZCgpO1xuICAgICAgfSBlbHNlIGlmICghJHNjb3BlLmludmFsaWRTZWNvbmRzICYmICRzY29wZS5zZWNvbmRzIDwgMTApIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseSggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLnNlY29uZHMgPSBwYWQoJHNjb3BlLnNlY29uZHMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuXG4gICAgaWYgKGlzTmFOKGRhdGUpKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XG4gICAgICAkbG9nLmVycm9yKCdUaW1lcGlja2VyIGRpcmVjdGl2ZTogXCJuZy1tb2RlbFwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBkYXRlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gdHJ1ZTtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ha2VWYWxpZCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlVGVtcGxhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ2FsbCBpbnRlcm5hbGx5IHdoZW4gd2Uga25vdyB0aGF0IG1vZGVsIGlzIHZhbGlkLlxuICBmdW5jdGlvbiByZWZyZXNoKGtleWJvYXJkQ2hhbmdlKSB7XG4gICAgbWFrZVZhbGlkKCk7XG4gICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXcgRGF0ZShzZWxlY3RlZCkpO1xuICAgIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VWYWxpZCgpIHtcbiAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCB0cnVlKTtcbiAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gZmFsc2U7XG4gICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gZmFsc2U7XG4gICAgJHNjb3BlLmludmFsaWRTZWNvbmRzID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUZW1wbGF0ZShrZXlib2FyZENoYW5nZSkge1xuICAgIGlmICghbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpIHtcbiAgICAgICRzY29wZS5ob3VycyA9IG51bGw7XG4gICAgICAkc2NvcGUubWludXRlcyA9IG51bGw7XG4gICAgICAkc2NvcGUuc2Vjb25kcyA9IG51bGw7XG4gICAgICAkc2NvcGUubWVyaWRpYW4gPSBtZXJpZGlhbnNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBob3VycyA9IHNlbGVjdGVkLmdldEhvdXJzKCksXG4gICAgICAgIG1pbnV0ZXMgPSBzZWxlY3RlZC5nZXRNaW51dGVzKCksXG4gICAgICAgIHNlY29uZHMgPSBzZWxlY3RlZC5nZXRTZWNvbmRzKCk7XG5cbiAgICAgIGlmICgkc2NvcGUuc2hvd01lcmlkaWFuKSB7XG4gICAgICAgIGhvdXJzID0gaG91cnMgPT09IDAgfHwgaG91cnMgPT09IDEyID8gMTIgOiBob3VycyAlIDEyOyAvLyBDb252ZXJ0IDI0IHRvIDEyIGhvdXIgc3lzdGVtXG4gICAgICB9XG5cbiAgICAgICRzY29wZS5ob3VycyA9IGtleWJvYXJkQ2hhbmdlID09PSAnaCcgPyBob3VycyA6IHBhZChob3VycywgIXBhZEhvdXJzKTtcbiAgICAgIGlmIChrZXlib2FyZENoYW5nZSAhPT0gJ20nKSB7XG4gICAgICAgICRzY29wZS5taW51dGVzID0gcGFkKG1pbnV0ZXMpO1xuICAgICAgfVxuICAgICAgJHNjb3BlLm1lcmlkaWFuID0gc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEyID8gbWVyaWRpYW5zWzBdIDogbWVyaWRpYW5zWzFdO1xuXG4gICAgICBpZiAoa2V5Ym9hcmRDaGFuZ2UgIT09ICdzJykge1xuICAgICAgICAkc2NvcGUuc2Vjb25kcyA9IHBhZChzZWNvbmRzKTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tZXJpZGlhbiA9IHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IG1lcmlkaWFuc1swXSA6IG1lcmlkaWFuc1sxXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZGRTZWNvbmRzVG9TZWxlY3RlZChzZWNvbmRzKSB7XG4gICAgc2VsZWN0ZWQgPSBhZGRTZWNvbmRzKHNlbGVjdGVkLCBzZWNvbmRzKTtcbiAgICByZWZyZXNoKCk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRNaW51dGVzKHNlbGVjdGVkLCBtaW51dGVzKSB7XG4gICAgcmV0dXJuIGFkZFNlY29uZHMoc2VsZWN0ZWQsIG1pbnV0ZXMqNjApO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkU2Vjb25kcyhkYXRlLCBzZWNvbmRzKSB7XG4gICAgdmFyIGR0ID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyBzZWNvbmRzICogMTAwMCk7XG4gICAgdmFyIG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICBuZXdEYXRlLnNldEhvdXJzKGR0LmdldEhvdXJzKCksIGR0LmdldE1pbnV0ZXMoKSwgZHQuZ2V0U2Vjb25kcygpKTtcbiAgICByZXR1cm4gbmV3RGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vZGVsSXNFbXB0eSgpIHtcbiAgICByZXR1cm4gKCRzY29wZS5ob3VycyA9PT0gbnVsbCB8fCAkc2NvcGUuaG91cnMgPT09ICcnKSAmJlxuICAgICAgKCRzY29wZS5taW51dGVzID09PSBudWxsIHx8ICRzY29wZS5taW51dGVzID09PSAnJykgJiZcbiAgICAgICghJHNjb3BlLnNob3dTZWNvbmRzIHx8ICRzY29wZS5zaG93U2Vjb25kcyAmJiAoJHNjb3BlLnNlY29uZHMgPT09IG51bGwgfHwgJHNjb3BlLnNlY29uZHMgPT09ICcnKSk7XG4gIH1cblxuICAkc2NvcGUuc2hvd1NwaW5uZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnNob3dTcGlubmVycykgP1xuICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zaG93U3Bpbm5lcnMpIDogdGltZXBpY2tlckNvbmZpZy5zaG93U3Bpbm5lcnM7XG5cbiAgJHNjb3BlLmluY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9JbmNyZW1lbnRIb3VycygpKSB7XG4gICAgICBhZGRTZWNvbmRzVG9TZWxlY3RlZChob3VyU3RlcCAqIDYwICogNjApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0RlY3JlbWVudEhvdXJzKCkpIHtcbiAgICAgIGFkZFNlY29uZHNUb1NlbGVjdGVkKC1ob3VyU3RlcCAqIDYwICogNjApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuaW5jcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vSW5jcmVtZW50TWludXRlcygpKSB7XG4gICAgICBhZGRTZWNvbmRzVG9TZWxlY3RlZChtaW51dGVTdGVwICogNjApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZGVjcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vRGVjcmVtZW50TWludXRlcygpKSB7XG4gICAgICBhZGRTZWNvbmRzVG9TZWxlY3RlZCgtbWludXRlU3RlcCAqIDYwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmluY3JlbWVudFNlY29uZHMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoISRzY29wZS5ub0luY3JlbWVudFNlY29uZHMoKSkge1xuICAgICAgYWRkU2Vjb25kc1RvU2VsZWN0ZWQoc2Vjb25kU3RlcCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5kZWNyZW1lbnRTZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9EZWNyZW1lbnRTZWNvbmRzKCkpIHtcbiAgICAgIGFkZFNlY29uZHNUb1NlbGVjdGVkKC1zZWNvbmRTdGVwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZU1lcmlkaWFuID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCksXG4gICAgICAgIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKTtcblxuICAgIGlmICghJHNjb3BlLm5vVG9nZ2xlTWVyaWRpYW4oKSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSkge1xuICAgICAgICBhZGRTZWNvbmRzVG9TZWxlY3RlZCgxMiAqIDYwICogKHNlbGVjdGVkLmdldEhvdXJzKCkgPCAxMiA/IDYwIDogLTYwKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUubWVyaWRpYW4gPSAkc2NvcGUubWVyaWRpYW4gPT09IG1lcmlkaWFuc1swXSA/IG1lcmlkaWFuc1sxXSA6IG1lcmlkaWFuc1swXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICBuZ01vZGVsQ3RybC4kc2V0VG91Y2hlZCgpO1xuICB9O1xuXG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgd2hpbGUgKHdhdGNoZXJzLmxlbmd0aCkge1xuICAgICAgd2F0Y2hlcnMuc2hpZnQoKSgpO1xuICAgIH1cbiAgfSk7XG59XSlcblxuLmRpcmVjdGl2ZSgndWliVGltZXBpY2tlcicsIFsndWliVGltZXBpY2tlckNvbmZpZycsIGZ1bmN0aW9uKHVpYlRpbWVwaWNrZXJDb25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiBbJ3VpYlRpbWVwaWNrZXInLCAnP15uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1VpYlRpbWVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICd0aW1lcGlja2VyJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7fSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCB1aWJUaW1lcGlja2VyQ29uZmlnLnRlbXBsYXRlVXJsO1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHRpbWVwaWNrZXJDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGlmIChuZ01vZGVsQ3RybCkge1xuICAgICAgICB0aW1lcGlja2VyQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBlbGVtZW50LmZpbmQoJ2lucHV0JykpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50eXBlYWhlYWQnLCBbJ3VpLmJvb3RzdHJhcC5kZWJvdW5jZScsICd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcblxuLyoqXG4gKiBBIGhlbHBlciBzZXJ2aWNlIHRoYXQgY2FuIHBhcnNlIHR5cGVhaGVhZCdzIHN5bnRheCAoc3RyaW5nIHByb3ZpZGVkIGJ5IHVzZXJzKVxuICogRXh0cmFjdGVkIHRvIGEgc2VwYXJhdGUgc2VydmljZSBmb3IgZWFzZSBvZiB1bml0IHRlc3RpbmdcbiAqL1xuICAuZmFjdG9yeSgndWliVHlwZWFoZWFkUGFyc2VyJywgWyckcGFyc2UnLCBmdW5jdGlvbigkcGFyc2UpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAwMDAwMDExMTAwMDAwMDAwMDAwMDAyMjIwMDAwMDAwMDAwMDAwMDAwMzMzMzMzMzMzMzMzMzMzMDAwMDAwMDAwMDA0NDAwMFxuICAgIHZhciBUWVBFQUhFQURfUkVHRVhQID0gL15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XFxkXSopKVxccytpblxccysoW1xcc1xcU10rPykkLztcbiAgICByZXR1cm4ge1xuICAgICAgcGFyc2U6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGlucHV0Lm1hdGNoKFRZUEVBSEVBRF9SRUdFWFApO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0V4cGVjdGVkIHR5cGVhaGVhZCBzcGVjaWZpY2F0aW9uIGluIGZvcm0gb2YgXCJfbW9kZWxWYWx1ZV8gKGFzIF9sYWJlbF8pPyBmb3IgX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1wiJyArXG4gICAgICAgICAgICAgICcgYnV0IGdvdCBcIicgKyBpbnB1dCArICdcIi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXRlbU5hbWU6IG1hdGNoWzNdLFxuICAgICAgICAgIHNvdXJjZTogJHBhcnNlKG1hdGNoWzRdKSxcbiAgICAgICAgICB2aWV3TWFwcGVyOiAkcGFyc2UobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pLFxuICAgICAgICAgIG1vZGVsTWFwcGVyOiAkcGFyc2UobWF0Y2hbMV0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfV0pXG5cbiAgLmNvbnRyb2xsZXIoJ1VpYlR5cGVhaGVhZENvbnRyb2xsZXInLCBbJyRzY29wZScsICckZWxlbWVudCcsICckYXR0cnMnLCAnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRxJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckd2luZG93JywgJyRyb290U2NvcGUnLCAnJCRkZWJvdW5jZScsICckdWliUG9zaXRpb24nLCAndWliVHlwZWFoZWFkUGFyc2VyJyxcbiAgICBmdW5jdGlvbihvcmlnaW5hbFNjb3BlLCBlbGVtZW50LCBhdHRycywgJGNvbXBpbGUsICRwYXJzZSwgJHEsICR0aW1lb3V0LCAkZG9jdW1lbnQsICR3aW5kb3csICRyb290U2NvcGUsICQkZGVib3VuY2UsICRwb3NpdGlvbiwgdHlwZWFoZWFkUGFyc2VyKSB7XG4gICAgdmFyIEhPVF9LRVlTID0gWzksIDEzLCAyNywgMzgsIDQwXTtcbiAgICB2YXIgZXZlbnREZWJvdW5jZVRpbWUgPSAyMDA7XG4gICAgdmFyIG1vZGVsQ3RybCwgbmdNb2RlbE9wdGlvbnM7XG4gICAgLy9TVVBQT1JURUQgQVRUUklCVVRFUyAoT1BUSU9OUylcblxuICAgIC8vbWluaW1hbCBubyBvZiBjaGFyYWN0ZXJzIHRoYXQgbmVlZHMgdG8gYmUgZW50ZXJlZCBiZWZvcmUgdHlwZWFoZWFkIGtpY2tzLWluXG4gICAgdmFyIG1pbkxlbmd0aCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkTWluTGVuZ3RoKTtcbiAgICBpZiAoIW1pbkxlbmd0aCAmJiBtaW5MZW5ndGggIT09IDApIHtcbiAgICAgIG1pbkxlbmd0aCA9IDE7XG4gICAgfVxuXG4gICAgb3JpZ2luYWxTY29wZS4kd2F0Y2goYXR0cnMudHlwZWFoZWFkTWluTGVuZ3RoLCBmdW5jdGlvbiAobmV3VmFsKSB7XG4gICAgICAgIG1pbkxlbmd0aCA9ICFuZXdWYWwgJiYgbmV3VmFsICE9PSAwID8gMSA6IG5ld1ZhbDtcbiAgICB9KTtcbiAgICBcbiAgICAvL21pbmltYWwgd2FpdCB0aW1lIGFmdGVyIGxhc3QgY2hhcmFjdGVyIHR5cGVkIGJlZm9yZSB0eXBlYWhlYWQga2lja3MtaW5cbiAgICB2YXIgd2FpdFRpbWUgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZFdhaXRNcykgfHwgMDtcblxuICAgIC8vc2hvdWxkIGl0IHJlc3RyaWN0IG1vZGVsIHZhbHVlcyB0byB0aGUgb25lcyBzZWxlY3RlZCBmcm9tIHRoZSBwb3B1cCBvbmx5P1xuICAgIHZhciBpc0VkaXRhYmxlID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRFZGl0YWJsZSkgIT09IGZhbHNlO1xuICAgIG9yaWdpbmFsU2NvcGUuJHdhdGNoKGF0dHJzLnR5cGVhaGVhZEVkaXRhYmxlLCBmdW5jdGlvbiAobmV3VmFsKSB7XG4gICAgICBpc0VkaXRhYmxlID0gbmV3VmFsICE9PSBmYWxzZTtcbiAgICB9KTtcblxuICAgIC8vYmluZGluZyB0byBhIHZhcmlhYmxlIHRoYXQgaW5kaWNhdGVzIGlmIG1hdGNoZXMgYXJlIGJlaW5nIHJldHJpZXZlZCBhc3luY2hyb25vdXNseVxuICAgIHZhciBpc0xvYWRpbmdTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTG9hZGluZykuYXNzaWduIHx8IGFuZ3VsYXIubm9vcDtcblxuICAgIC8vYSBjYWxsYmFjayBleGVjdXRlZCB3aGVuIGEgbWF0Y2ggaXMgc2VsZWN0ZWRcbiAgICB2YXIgb25TZWxlY3RDYWxsYmFjayA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCk7XG5cbiAgICAvL3Nob3VsZCBpdCBzZWxlY3QgaGlnaGxpZ2h0ZWQgcG9wdXAgdmFsdWUgd2hlbiBsb3NpbmcgZm9jdXM/XG4gICAgdmFyIGlzU2VsZWN0T25CbHVyID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkU2VsZWN0T25CbHVyKSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkU2VsZWN0T25CbHVyKSA6IGZhbHNlO1xuXG4gICAgLy9iaW5kaW5nIHRvIGEgdmFyaWFibGUgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlcmUgd2VyZSBubyByZXN1bHRzIGFmdGVyIHRoZSBxdWVyeSBpcyBjb21wbGV0ZWRcbiAgICB2YXIgaXNOb1Jlc3VsdHNTZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkTm9SZXN1bHRzKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xuXG4gICAgdmFyIGlucHV0Rm9ybWF0dGVyID0gYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIgPyAkcGFyc2UoYXR0cnMudHlwZWFoZWFkSW5wdXRGb3JtYXR0ZXIpIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGFwcGVuZFRvQm9keSA9IGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkQXBwZW5kVG9Cb2R5KSA6IGZhbHNlO1xuXG4gICAgdmFyIGFwcGVuZFRvID0gYXR0cnMudHlwZWFoZWFkQXBwZW5kVG8gP1xuICAgICAgb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRBcHBlbmRUbykgOiBudWxsO1xuXG4gICAgdmFyIGZvY3VzRmlyc3QgPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEZvY3VzRmlyc3QpICE9PSBmYWxzZTtcblxuICAgIC8vSWYgaW5wdXQgbWF0Y2hlcyBhbiBpdGVtIG9mIHRoZSBsaXN0IGV4YWN0bHksIHNlbGVjdCBpdCBhdXRvbWF0aWNhbGx5XG4gICAgdmFyIHNlbGVjdE9uRXhhY3QgPSBhdHRycy50eXBlYWhlYWRTZWxlY3RPbkV4YWN0ID8gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRTZWxlY3RPbkV4YWN0KSA6IGZhbHNlO1xuXG4gICAgLy9iaW5kaW5nIHRvIGEgdmFyaWFibGUgdGhhdCBpbmRpY2F0ZXMgaWYgZHJvcGRvd24gaXMgb3BlblxuICAgIHZhciBpc09wZW5TZXR0ZXIgPSAkcGFyc2UoYXR0cnMudHlwZWFoZWFkSXNPcGVuKS5hc3NpZ24gfHwgYW5ndWxhci5ub29wO1xuXG4gICAgdmFyIHNob3dIaW50ID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRTaG93SGludCkgfHwgZmFsc2U7XG5cbiAgICAvL0lOVEVSTkFMIFZBUklBQkxFU1xuXG4gICAgLy9tb2RlbCBzZXR0ZXIgZXhlY3V0ZWQgdXBvbiBtYXRjaCBzZWxlY3Rpb25cbiAgICB2YXIgcGFyc2VkTW9kZWwgPSAkcGFyc2UoYXR0cnMubmdNb2RlbCk7XG4gICAgdmFyIGludm9rZU1vZGVsU2V0dGVyID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwgKyAnKCQkJHApJyk7XG4gICAgdmFyICRzZXRNb2RlbFZhbHVlID0gZnVuY3Rpb24oc2NvcGUsIG5ld1ZhbHVlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHBhcnNlZE1vZGVsKG9yaWdpbmFsU2NvcGUpKSAmJlxuICAgICAgICBuZ01vZGVsT3B0aW9ucyAmJiBuZ01vZGVsT3B0aW9ucy4kb3B0aW9ucyAmJiBuZ01vZGVsT3B0aW9ucy4kb3B0aW9ucy5nZXR0ZXJTZXR0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGludm9rZU1vZGVsU2V0dGVyKHNjb3BlLCB7JCQkcDogbmV3VmFsdWV9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnNlZE1vZGVsLmFzc2lnbihzY29wZSwgbmV3VmFsdWUpO1xuICAgIH07XG5cbiAgICAvL2V4cHJlc3Npb25zIHVzZWQgYnkgdHlwZWFoZWFkXG4gICAgdmFyIHBhcnNlclJlc3VsdCA9IHR5cGVhaGVhZFBhcnNlci5wYXJzZShhdHRycy51aWJUeXBlYWhlYWQpO1xuXG4gICAgdmFyIGhhc0ZvY3VzO1xuXG4gICAgLy9Vc2VkIHRvIGF2b2lkIGJ1ZyBpbiBpT1Mgd2VidmlldyB3aGVyZSBpT1Mga2V5Ym9hcmQgZG9lcyBub3QgZmlyZVxuICAgIC8vbW91c2Vkb3duICYgbW91c2V1cCBldmVudHNcbiAgICAvL0lzc3VlICMzNjk5XG4gICAgdmFyIHNlbGVjdGVkO1xuXG4gICAgLy9jcmVhdGUgYSBjaGlsZCBzY29wZSBmb3IgdGhlIHR5cGVhaGVhZCBkaXJlY3RpdmUgc28gd2UgYXJlIG5vdCBwb2xsdXRpbmcgb3JpZ2luYWwgc2NvcGVcbiAgICAvL3dpdGggdHlwZWFoZWFkLXNwZWNpZmljIGRhdGEgKG1hdGNoZXMsIHF1ZXJ5IGV0Yy4pXG4gICAgdmFyIHNjb3BlID0gb3JpZ2luYWxTY29wZS4kbmV3KCk7XG4gICAgdmFyIG9mZkRlc3Ryb3kgPSBvcmlnaW5hbFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgIHNjb3BlLiRkZXN0cm95KCk7XG4gICAgfSk7XG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIG9mZkRlc3Ryb3kpO1xuXG4gICAgLy8gV0FJLUFSSUFcbiAgICB2YXIgcG9wdXBJZCA9ICd0eXBlYWhlYWQtJyArIHNjb3BlLiRpZCArICctJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTtcbiAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLFxuICAgICAgJ2FyaWEtZXhwYW5kZWQnOiBmYWxzZSxcbiAgICAgICdhcmlhLW93bnMnOiBwb3B1cElkXG4gICAgfSk7XG5cbiAgICB2YXIgaW5wdXRzQ29udGFpbmVyLCBoaW50SW5wdXRFbGVtO1xuICAgIC8vYWRkIHJlYWQtb25seSBpbnB1dCB0byBzaG93IGhpbnRcbiAgICBpZiAoc2hvd0hpbnQpIHtcbiAgICAgIGlucHV0c0NvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj48L2Rpdj4nKTtcbiAgICAgIGlucHV0c0NvbnRhaW5lci5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG4gICAgICBlbGVtZW50LmFmdGVyKGlucHV0c0NvbnRhaW5lcik7XG4gICAgICBoaW50SW5wdXRFbGVtID0gZWxlbWVudC5jbG9uZSgpO1xuICAgICAgaGludElucHV0RWxlbS5hdHRyKCdwbGFjZWhvbGRlcicsICcnKTtcbiAgICAgIGhpbnRJbnB1dEVsZW0uYXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgIGhpbnRJbnB1dEVsZW0udmFsKCcnKTtcbiAgICAgIGhpbnRJbnB1dEVsZW0uY3NzKHtcbiAgICAgICAgJ3Bvc2l0aW9uJzogJ2Fic29sdXRlJyxcbiAgICAgICAgJ3RvcCc6ICcwcHgnLFxuICAgICAgICAnbGVmdCc6ICcwcHgnLFxuICAgICAgICAnYm9yZGVyLWNvbG9yJzogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgJ2JveC1zaGFkb3cnOiAnbm9uZScsXG4gICAgICAgICdvcGFjaXR5JzogMSxcbiAgICAgICAgJ2JhY2tncm91bmQnOiAnbm9uZSAwJSAwJSAvIGF1dG8gcmVwZWF0IHNjcm9sbCBwYWRkaW5nLWJveCBib3JkZXItYm94IHJnYigyNTUsIDI1NSwgMjU1KScsXG4gICAgICAgICdjb2xvcic6ICcjOTk5J1xuICAgICAgfSk7XG4gICAgICBlbGVtZW50LmNzcyh7XG4gICAgICAgICdwb3NpdGlvbic6ICdyZWxhdGl2ZScsXG4gICAgICAgICd2ZXJ0aWNhbC1hbGlnbic6ICd0b3AnLFxuICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICd0cmFuc3BhcmVudCdcbiAgICAgIH0pO1xuICAgICAgaW5wdXRzQ29udGFpbmVyLmFwcGVuZChoaW50SW5wdXRFbGVtKTtcbiAgICAgIGhpbnRJbnB1dEVsZW0uYWZ0ZXIoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy9wb3AtdXAgZWxlbWVudCB1c2VkIHRvIGRpc3BsYXkgbWF0Y2hlc1xuICAgIHZhciBwb3BVcEVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IHVpYi10eXBlYWhlYWQtcG9wdXA+PC9kaXY+Jyk7XG4gICAgcG9wVXBFbC5hdHRyKHtcbiAgICAgIGlkOiBwb3B1cElkLFxuICAgICAgbWF0Y2hlczogJ21hdGNoZXMnLFxuICAgICAgYWN0aXZlOiAnYWN0aXZlSWR4JyxcbiAgICAgIHNlbGVjdDogJ3NlbGVjdChhY3RpdmVJZHgsIGV2dCknLFxuICAgICAgJ21vdmUtaW4tcHJvZ3Jlc3MnOiAnbW92ZUluUHJvZ3Jlc3MnLFxuICAgICAgcXVlcnk6ICdxdWVyeScsXG4gICAgICBwb3NpdGlvbjogJ3Bvc2l0aW9uJyxcbiAgICAgICdhc3NpZ24taXMtb3Blbic6ICdhc3NpZ25Jc09wZW4oaXNPcGVuKScsXG4gICAgICBkZWJvdW5jZTogJ2RlYm91bmNlVXBkYXRlJ1xuICAgIH0pO1xuICAgIC8vY3VzdG9tIGl0ZW0gdGVtcGxhdGVcbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpKSB7XG4gICAgICBwb3BVcEVsLmF0dHIoJ3RlbXBsYXRlLXVybCcsIGF0dHJzLnR5cGVhaGVhZFRlbXBsYXRlVXJsKTtcbiAgICB9XG5cbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCkpIHtcbiAgICAgIHBvcFVwRWwuYXR0cigncG9wdXAtdGVtcGxhdGUtdXJsJywgYXR0cnMudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCk7XG4gICAgfVxuXG4gICAgdmFyIHJlc2V0SGludCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNob3dIaW50KSB7XG4gICAgICAgIGhpbnRJbnB1dEVsZW0udmFsKCcnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlc2V0TWF0Y2hlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2NvcGUubWF0Y2hlcyA9IFtdO1xuICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gLTE7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgICByZXNldEhpbnQoKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldE1hdGNoSWQgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgcmV0dXJuIHBvcHVwSWQgKyAnLW9wdGlvbi0nICsgaW5kZXg7XG4gICAgfTtcblxuICAgIC8vIEluZGljYXRlIHRoYXQgdGhlIHNwZWNpZmllZCBtYXRjaCBpcyB0aGUgYWN0aXZlIChwcmUtc2VsZWN0ZWQpIGl0ZW0gaW4gdGhlIGxpc3Qgb3duZWQgYnkgdGhpcyB0eXBlYWhlYWQuXG4gICAgLy8gVGhpcyBhdHRyaWJ1dGUgaXMgYWRkZWQgb3IgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIGBhY3RpdmVJZHhgIGNoYW5nZXMuXG4gICAgc2NvcGUuJHdhdGNoKCdhY3RpdmVJZHgnLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnLCBnZXRNYXRjaElkKGluZGV4KSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgaW5wdXRJc0V4YWN0TWF0Y2ggPSBmdW5jdGlvbihpbnB1dFZhbHVlLCBpbmRleCkge1xuICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gaW5kZXggJiYgaW5wdXRWYWx1ZSkge1xuICAgICAgICByZXR1cm4gaW5wdXRWYWx1ZS50b1VwcGVyQ2FzZSgpID09PSBzY29wZS5tYXRjaGVzW2luZGV4XS5sYWJlbC50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHZhciBnZXRNYXRjaGVzQXN5bmMgPSBmdW5jdGlvbihpbnB1dFZhbHVlLCBldnQpIHtcbiAgICAgIHZhciBsb2NhbHMgPSB7JHZpZXdWYWx1ZTogaW5wdXRWYWx1ZX07XG4gICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XG4gICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAkcS53aGVuKHBhcnNlclJlc3VsdC5zb3VyY2Uob3JpZ2luYWxTY29wZSwgbG9jYWxzKSkudGhlbihmdW5jdGlvbihtYXRjaGVzKSB7XG4gICAgICAgIC8vaXQgbWlnaHQgaGFwcGVuIHRoYXQgc2V2ZXJhbCBhc3luYyBxdWVyaWVzIHdlcmUgaW4gcHJvZ3Jlc3MgaWYgYSB1c2VyIHdlcmUgdHlwaW5nIGZhc3RcbiAgICAgICAgLy9idXQgd2UgYXJlIGludGVyZXN0ZWQgb25seSBpbiByZXNwb25zZXMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBjdXJyZW50IHZpZXcgdmFsdWVcbiAgICAgICAgdmFyIG9uQ3VycmVudFJlcXVlc3QgPSBpbnB1dFZhbHVlID09PSBtb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QgJiYgaGFzRm9jdXMpIHtcbiAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IGZvY3VzRmlyc3QgPyAwIDogLTE7XG4gICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICBzY29wZS5tYXRjaGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIC8vdHJhbnNmb3JtIGxhYmVsc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gbWF0Y2hlc1tpXTtcbiAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogZ2V0TWF0Y2hJZChpKSxcbiAgICAgICAgICAgICAgICBsYWJlbDogcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIoc2NvcGUsIGxvY2FscyksXG4gICAgICAgICAgICAgICAgbW9kZWw6IG1hdGNoZXNbaV1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjb3BlLnF1ZXJ5ID0gaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgIC8vcG9zaXRpb24gcG9wLXVwIHdpdGggbWF0Y2hlcyAtIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlIGl0cyBwb3NpdGlvbiBlYWNoIHRpbWUgd2UgYXJlIG9wZW5pbmcgYSB3aW5kb3dcbiAgICAgICAgICAgIC8vd2l0aCBtYXRjaGVzIGFzIGEgcG9wLXVwIG1pZ2h0IGJlIGFic29sdXRlLXBvc2l0aW9uZWQgYW5kIHBvc2l0aW9uIG9mIGFuIGlucHV0IG1pZ2h0IGhhdmUgY2hhbmdlZCBvbiBhIHBhZ2VcbiAgICAgICAgICAgIC8vZHVlIHRvIG90aGVyIGVsZW1lbnRzIGJlaW5nIHJlbmRlcmVkXG4gICAgICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuXG4gICAgICAgICAgICAvL1NlbGVjdCB0aGUgc2luZ2xlIHJlbWFpbmluZyBvcHRpb24gaWYgdXNlciBpbnB1dCBtYXRjaGVzXG4gICAgICAgICAgICBpZiAoc2VsZWN0T25FeGFjdCAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCA9PT0gMSAmJiBpbnB1dElzRXhhY3RNYXRjaChpbnB1dFZhbHVlLCAwKSkge1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcihzY29wZS5kZWJvdW5jZVVwZGF0ZSkgfHwgYW5ndWxhci5pc09iamVjdChzY29wZS5kZWJvdW5jZVVwZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAkJGRlYm91bmNlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0KDAsIGV2dCk7XG4gICAgICAgICAgICAgICAgfSwgYW5ndWxhci5pc051bWJlcihzY29wZS5kZWJvdW5jZVVwZGF0ZSkgPyBzY29wZS5kZWJvdW5jZVVwZGF0ZSA6IHNjb3BlLmRlYm91bmNlVXBkYXRlWydkZWZhdWx0J10pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdCgwLCBldnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzaG93SGludCkge1xuICAgICAgICAgICAgICB2YXIgZmlyc3RMYWJlbCA9IHNjb3BlLm1hdGNoZXNbMF0ubGFiZWw7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGlucHV0VmFsdWUpICYmXG4gICAgICAgICAgICAgICAgaW5wdXRWYWx1ZS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgZmlyc3RMYWJlbC5zbGljZSgwLCBpbnB1dFZhbHVlLmxlbmd0aCkudG9VcHBlckNhc2UoKSA9PT0gaW5wdXRWYWx1ZS50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgaGludElucHV0RWxlbS52YWwoaW5wdXRWYWx1ZSArIGZpcnN0TGFiZWwuc2xpY2UoaW5wdXRWYWx1ZS5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoaW50SW5wdXRFbGVtLnZhbCgnJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9uQ3VycmVudFJlcXVlc3QpIHtcbiAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgIGlzTm9SZXN1bHRzU2V0dGVyKG9yaWdpbmFsU2NvcGUsIHRydWUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGJpbmQgZXZlbnRzIG9ubHkgaWYgYXBwZW5kVG9Cb2R5IHBhcmFtcyBleGlzdCAtIHBlcmZvcm1hbmNlIGZlYXR1cmVcbiAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIGZpcmVSZWNhbGN1bGF0aW5nKTtcbiAgICAgICRkb2N1bWVudC5maW5kKCdib2R5Jykub24oJ3Njcm9sbCcsIGZpcmVSZWNhbGN1bGF0aW5nKTtcbiAgICB9XG5cbiAgICAvLyBEZWNsYXJlIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gb3V0c2lkZSByZWNhbGN1bGF0aW5nIGZvclxuICAgIC8vIHByb3BlciBkZWJvdW5jaW5nXG4gICAgdmFyIGRlYm91bmNlZFJlY2FsY3VsYXRlID0gJCRkZWJvdW5jZShmdW5jdGlvbigpIHtcbiAgICAgIC8vIGlmIHBvcHVwIGlzIHZpc2libGVcbiAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICByZWNhbGN1bGF0ZVBvc2l0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLm1vdmVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfSwgZXZlbnREZWJvdW5jZVRpbWUpO1xuXG4gICAgLy8gRGVmYXVsdCBwcm9ncmVzcyB0eXBlXG4gICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGZpcmVSZWNhbGN1bGF0aW5nKCkge1xuICAgICAgaWYgKCFzY29wZS5tb3ZlSW5Qcm9ncmVzcykge1xuICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgIH1cblxuICAgICAgZGVib3VuY2VkUmVjYWxjdWxhdGUoKTtcbiAgICB9XG5cbiAgICAvLyByZWNhbGN1bGF0ZSBhY3R1YWwgcG9zaXRpb24gYW5kIHNldCBuZXcgdmFsdWVzIHRvIHNjb3BlXG4gICAgLy8gYWZ0ZXIgZGlnZXN0IGxvb3AgaXMgcG9wdXAgaW4gcmlnaHQgcG9zaXRpb25cbiAgICBmdW5jdGlvbiByZWNhbGN1bGF0ZVBvc2l0aW9uKCkge1xuICAgICAgc2NvcGUucG9zaXRpb24gPSBhcHBlbmRUb0JvZHkgPyAkcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpIDogJHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpO1xuICAgICAgc2NvcGUucG9zaXRpb24udG9wICs9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgfVxuXG4gICAgLy93ZSBuZWVkIHRvIHByb3BhZ2F0ZSB1c2VyJ3MgcXVlcnkgc28gd2UgY2FuIGhpZ2xpZ2h0IG1hdGNoZXNcbiAgICBzY29wZS5xdWVyeSA9IHVuZGVmaW5lZDtcblxuICAgIC8vRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxuICAgIHZhciB0aW1lb3V0UHJvbWlzZTtcblxuICAgIHZhciBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0ID0gZnVuY3Rpb24oaW5wdXRWYWx1ZSkge1xuICAgICAgdGltZW91dFByb21pc2UgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpO1xuICAgICAgfSwgd2FpdFRpbWUpO1xuICAgIH07XG5cbiAgICB2YXIgY2FuY2VsUHJldmlvdXNUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGltZW91dFByb21pc2UpIHtcbiAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXRQcm9taXNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmVzZXRNYXRjaGVzKCk7XG5cbiAgICBzY29wZS5hc3NpZ25Jc09wZW4gPSBmdW5jdGlvbiAoaXNPcGVuKSB7XG4gICAgICBpc09wZW5TZXR0ZXIob3JpZ2luYWxTY29wZSwgaXNPcGVuKTtcbiAgICB9O1xuXG4gICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oYWN0aXZlSWR4LCBldnQpIHtcbiAgICAgIC8vY2FsbGVkIGZyb20gd2l0aGluIHRoZSAkZGlnZXN0KCkgY3ljbGVcbiAgICAgIHZhciBsb2NhbHMgPSB7fTtcbiAgICAgIHZhciBtb2RlbCwgaXRlbTtcblxuICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBpdGVtID0gc2NvcGUubWF0Y2hlc1thY3RpdmVJZHhdLm1vZGVsO1xuICAgICAgbW9kZWwgPSBwYXJzZXJSZXN1bHQubW9kZWxNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcbiAgICAgICRzZXRNb2RlbFZhbHVlKG9yaWdpbmFsU2NvcGUsIG1vZGVsKTtcbiAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdwYXJzZScsIHRydWUpO1xuXG4gICAgICBvblNlbGVjdENhbGxiYWNrKG9yaWdpbmFsU2NvcGUsIHtcbiAgICAgICAgJGl0ZW06IGl0ZW0sXG4gICAgICAgICRtb2RlbDogbW9kZWwsXG4gICAgICAgICRsYWJlbDogcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKSxcbiAgICAgICAgJGV2ZW50OiBldnRcbiAgICAgIH0pO1xuXG4gICAgICByZXNldE1hdGNoZXMoKTtcblxuICAgICAgLy9yZXR1cm4gZm9jdXMgdG8gdGhlIGlucHV0IGVsZW1lbnQgaWYgYSBtYXRjaCB3YXMgc2VsZWN0ZWQgdmlhIGEgbW91c2UgY2xpY2sgZXZlbnRcbiAgICAgIC8vIHVzZSB0aW1lb3V0IHRvIGF2b2lkICRyb290U2NvcGU6aW5wcm9nIGVycm9yXG4gICAgICBpZiAoc2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRm9jdXNPblNlbGVjdCkgIT09IGZhbHNlKSB7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyBlbGVtZW50WzBdLmZvY3VzKCk7IH0sIDAsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9iaW5kIGtleWJvYXJkIGV2ZW50czogYXJyb3dzIHVwKDM4KSAvIGRvd24oNDApLCBlbnRlcigxMykgYW5kIHRhYig5KSwgZXNjKDI3KVxuICAgIGVsZW1lbnQub24oJ2tleWRvd24nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgIC8vdHlwZWFoZWFkIGlzIG9wZW4gYW5kIGFuIFwiaW50ZXJlc3RpbmdcIiBrZXkgd2FzIHByZXNzZWRcbiAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCA9PT0gMCB8fCBIT1RfS0VZUy5pbmRleE9mKGV2dC53aGljaCkgPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBpZiB0aGVyZSdzIG5vdGhpbmcgc2VsZWN0ZWQgKGkuZS4gZm9jdXNGaXJzdCkgYW5kIGVudGVyIG9yIHRhYiBpcyBoaXRcbiAgICAgICAqIG9yXG4gICAgICAgKiBzaGlmdCArIHRhYiBpcyBwcmVzc2VkIHRvIGJyaW5nIGZvY3VzIHRvIHRoZSBwcmV2aW91cyBlbGVtZW50XG4gICAgICAgKiB0aGVuIGNsZWFyIHRoZSByZXN1bHRzXG4gICAgICAgKi9cbiAgICAgIGlmIChzY29wZS5hY3RpdmVJZHggPT09IC0xICYmIChldnQud2hpY2ggPT09IDkgfHwgZXZ0LndoaWNoID09PSAxMykgfHwgZXZ0LndoaWNoID09PSA5ICYmICEhZXZ0LnNoaWZ0S2V5KSB7XG4gICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdGFyZ2V0O1xuICAgICAgc3dpdGNoIChldnQud2hpY2gpIHtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcihzY29wZS5kZWJvdW5jZVVwZGF0ZSkgfHwgYW5ndWxhci5pc09iamVjdChzY29wZS5kZWJvdW5jZVVwZGF0ZSkpIHtcbiAgICAgICAgICAgICAgJCRkZWJvdW5jZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4LCBldnQpO1xuICAgICAgICAgICAgICB9LCBhbmd1bGFyLmlzTnVtYmVyKHNjb3BlLmRlYm91bmNlVXBkYXRlKSA/IHNjb3BlLmRlYm91bmNlVXBkYXRlIDogc2NvcGUuZGVib3VuY2VVcGRhdGVbJ2RlZmF1bHQnXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4LCBldnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIHJlc2V0TWF0Y2hlcygpO1xuICAgICAgICAgIG9yaWdpbmFsU2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IChzY29wZS5hY3RpdmVJZHggPiAwID8gc2NvcGUuYWN0aXZlSWR4IDogc2NvcGUubWF0Y2hlcy5sZW5ndGgpIC0gMTtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgdGFyZ2V0ID0gcG9wVXBFbC5maW5kKCdsaScpW3Njb3BlLmFjdGl2ZUlkeF07XG4gICAgICAgICAgdGFyZ2V0LnBhcmVudE5vZGUuc2Nyb2xsVG9wID0gdGFyZ2V0Lm9mZnNldFRvcDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAoc2NvcGUuYWN0aXZlSWR4ICsgMSkgJSBzY29wZS5tYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgdGFyZ2V0ID0gcG9wVXBFbC5maW5kKCdsaScpW3Njb3BlLmFjdGl2ZUlkeF07XG4gICAgICAgICAgdGFyZ2V0LnBhcmVudE5vZGUuc2Nyb2xsVG9wID0gdGFyZ2V0Lm9mZnNldFRvcDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGVsZW1lbnQuYmluZCgnZm9jdXMnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBoYXNGb2N1cyA9IHRydWU7XG4gICAgICBpZiAobWluTGVuZ3RoID09PSAwICYmICFtb2RlbEN0cmwuJHZpZXdWYWx1ZSkge1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMobW9kZWxDdHJsLiR2aWV3VmFsdWUsIGV2dCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZWxlbWVudC5iaW5kKCdibHVyJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBpZiAoaXNTZWxlY3RPbkJsdXIgJiYgc2NvcGUubWF0Y2hlcy5sZW5ndGggJiYgc2NvcGUuYWN0aXZlSWR4ICE9PSAtMSAmJiAhc2VsZWN0ZWQpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3Qoc2NvcGUuZGVib3VuY2VVcGRhdGUpICYmIGFuZ3VsYXIuaXNOdW1iZXIoc2NvcGUuZGVib3VuY2VVcGRhdGUuYmx1cikpIHtcbiAgICAgICAgICAgICQkZGVib3VuY2UoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnNlbGVjdChzY29wZS5hY3RpdmVJZHgsIGV2dCk7XG4gICAgICAgICAgICB9LCBzY29wZS5kZWJvdW5jZVVwZGF0ZS5ibHVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCwgZXZ0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0VkaXRhYmxlICYmIG1vZGVsQ3RybC4kZXJyb3IuZWRpdGFibGUpIHtcbiAgICAgICAgbW9kZWxDdHJsLiR2aWV3VmFsdWUgPSAnJztcbiAgICAgICAgLy8gUmVzZXQgdmFsaWRpdHkgYXMgd2UgYXJlIGNsZWFyaW5nXG4gICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgdHJ1ZSk7XG4gICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3BhcnNlJywgdHJ1ZSk7XG4gICAgICAgIGVsZW1lbnQudmFsKCcnKTtcbiAgICAgIH1cbiAgICAgIGhhc0ZvY3VzID0gZmFsc2U7XG4gICAgICBzZWxlY3RlZCA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gS2VlcCByZWZlcmVuY2UgdG8gY2xpY2sgaGFuZGxlciB0byB1bmJpbmQgaXQuXG4gICAgdmFyIGRpc21pc3NDbGlja0hhbmRsZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIC8vIElzc3VlICMzOTczXG4gICAgICAvLyBGaXJlZm94IHRyZWF0cyByaWdodCBjbGljayBhcyBhIGNsaWNrIG9uIGRvY3VtZW50XG4gICAgICBpZiAoZWxlbWVudFswXSAhPT0gZXZ0LnRhcmdldCAmJiBldnQud2hpY2ggIT09IDMgJiYgc2NvcGUubWF0Y2hlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSB7XG4gICAgICAgICAgb3JpZ2luYWxTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJGRvY3VtZW50Lm9uKCdjbGljaycsIGRpc21pc3NDbGlja0hhbmRsZXIpO1xuXG4gICAgb3JpZ2luYWxTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAkZG9jdW1lbnQub2ZmKCdjbGljaycsIGRpc21pc3NDbGlja0hhbmRsZXIpO1xuICAgICAgaWYgKGFwcGVuZFRvQm9keSB8fCBhcHBlbmRUbykge1xuICAgICAgICAkcG9wdXAucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgZmlyZVJlY2FsY3VsYXRpbmcpO1xuICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLm9mZignc2Nyb2xsJywgZmlyZVJlY2FsY3VsYXRpbmcpO1xuICAgICAgfVxuICAgICAgLy8gUHJldmVudCBqUXVlcnkgY2FjaGUgbWVtb3J5IGxlYWtcbiAgICAgIHBvcFVwRWwucmVtb3ZlKCk7XG5cbiAgICAgIGlmIChzaG93SGludCkge1xuICAgICAgICAgIGlucHV0c0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciAkcG9wdXAgPSAkY29tcGlsZShwb3BVcEVsKShzY29wZSk7XG5cbiAgICBpZiAoYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xuICAgIH0gZWxzZSBpZiAoYXBwZW5kVG8pIHtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudChhcHBlbmRUbykuZXEoMCkuYXBwZW5kKCRwb3B1cCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuYWZ0ZXIoJHBvcHVwKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbihfbW9kZWxDdHJsLCBfbmdNb2RlbE9wdGlvbnMpIHtcbiAgICAgIG1vZGVsQ3RybCA9IF9tb2RlbEN0cmw7XG4gICAgICBuZ01vZGVsT3B0aW9ucyA9IF9uZ01vZGVsT3B0aW9ucztcblxuICAgICAgc2NvcGUuZGVib3VuY2VVcGRhdGUgPSBtb2RlbEN0cmwuJG9wdGlvbnMgJiYgJHBhcnNlKG1vZGVsQ3RybC4kb3B0aW9ucy5kZWJvdW5jZSkob3JpZ2luYWxTY29wZSk7XG5cbiAgICAgIC8vcGx1ZyBpbnRvICRwYXJzZXJzIHBpcGVsaW5lIHRvIG9wZW4gYSB0eXBlYWhlYWQgb24gdmlldyBjaGFuZ2VzIGluaXRpYXRlZCBmcm9tIERPTVxuICAgICAgLy8kcGFyc2VycyBraWNrLWluIG9uIGFsbCB0aGUgY2hhbmdlcyBjb21pbmcgZnJvbSB0aGUgdmlldyBhcyB3ZWxsIGFzIG1hbnVhbGx5IHRyaWdnZXJlZCBieSAkc2V0Vmlld1ZhbHVlXG4gICAgICBtb2RlbEN0cmwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbihpbnB1dFZhbHVlKSB7XG4gICAgICAgIGhhc0ZvY3VzID0gdHJ1ZTtcblxuICAgICAgICBpZiAobWluTGVuZ3RoID09PSAwIHx8IGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS5sZW5ndGggPj0gbWluTGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHdhaXRUaW1lID4gMCkge1xuICAgICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgICBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0KGlucHV0VmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRNYXRjaGVzQXN5bmMoaW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgLy8gUmVzZXQgaW4gY2FzZSB1c2VyIGhhZCB0eXBlZCBzb21ldGhpbmcgcHJldmlvdXNseS5cbiAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9KTtcblxuICAgICAgbW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgICAgICB2YXIgY2FuZGlkYXRlVmlld1ZhbHVlLCBlbXB0eVZpZXdWYWx1ZTtcbiAgICAgICAgdmFyIGxvY2FscyA9IHt9O1xuXG4gICAgICAgIC8vIFRoZSB2YWxpZGl0eSBtYXkgYmUgc2V0IHRvIGZhbHNlIHZpYSAkcGFyc2VycyAoc2VlIGFib3ZlKSBpZlxuICAgICAgICAvLyB0aGUgbW9kZWwgaXMgcmVzdHJpY3RlZCB0byBzZWxlY3RlZCB2YWx1ZXMuIElmIHRoZSBtb2RlbFxuICAgICAgICAvLyBpcyBzZXQgbWFudWFsbHkgaXQgaXMgY29uc2lkZXJlZCB0byBiZSB2YWxpZC5cbiAgICAgICAgaWYgKCFpc0VkaXRhYmxlKSB7XG4gICAgICAgICAgbW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZWRpdGFibGUnLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dEZvcm1hdHRlcikge1xuICAgICAgICAgIGxvY2Fscy4kbW9kZWwgPSBtb2RlbFZhbHVlO1xuICAgICAgICAgIHJldHVybiBpbnB1dEZvcm1hdHRlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pdCBtaWdodCBoYXBwZW4gdGhhdCB3ZSBkb24ndCBoYXZlIGVub3VnaCBpbmZvIHRvIHByb3Blcmx5IHJlbmRlciBpbnB1dCB2YWx1ZVxuICAgICAgICAvL3dlIG5lZWQgdG8gY2hlY2sgZm9yIHRoaXMgc2l0dWF0aW9uIGFuZCBzaW1wbHkgcmV0dXJuIG1vZGVsIHZhbHVlIGlmIHdlIGNhbid0IGFwcGx5IGN1c3RvbSBmb3JtYXR0aW5nXG4gICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gbW9kZWxWYWx1ZTtcbiAgICAgICAgY2FuZGlkYXRlVmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcbiAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIGVtcHR5Vmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcblxuICAgICAgICByZXR1cm4gY2FuZGlkYXRlVmlld1ZhbHVlICE9PSBlbXB0eVZpZXdWYWx1ZSA/IGNhbmRpZGF0ZVZpZXdWYWx1ZSA6IG1vZGVsVmFsdWU7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XSlcblxuICAuZGlyZWN0aXZlKCd1aWJUeXBlYWhlYWQnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29udHJvbGxlcjogJ1VpYlR5cGVhaGVhZENvbnRyb2xsZXInLFxuICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/bmdNb2RlbE9wdGlvbnMnLCAndWliVHlwZWFoZWFkJ10sXG4gICAgICBsaW5rOiBmdW5jdGlvbihvcmlnaW5hbFNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgICAgY3RybHNbMl0uaW5pdChjdHJsc1swXSwgY3RybHNbMV0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbiAgLmRpcmVjdGl2ZSgndWliVHlwZWFoZWFkUG9wdXAnLCBbJyQkZGVib3VuY2UnLCBmdW5jdGlvbigkJGRlYm91bmNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG1hdGNoZXM6ICc9JyxcbiAgICAgICAgcXVlcnk6ICc9JyxcbiAgICAgICAgYWN0aXZlOiAnPScsXG4gICAgICAgIHBvc2l0aW9uOiAnJicsXG4gICAgICAgIG1vdmVJblByb2dyZXNzOiAnPScsXG4gICAgICAgIHNlbGVjdDogJyYnLFxuICAgICAgICBhc3NpZ25Jc09wZW46ICcmJyxcbiAgICAgICAgZGVib3VuY2U6ICcmJ1xuICAgICAgfSxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJzLnBvcHVwVGVtcGxhdGVVcmwgfHwgJ3VpYi90ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWwnO1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICBzY29wZS50ZW1wbGF0ZVVybCA9IGF0dHJzLnRlbXBsYXRlVXJsO1xuXG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBpc0Ryb3Bkb3duT3BlbiA9IHNjb3BlLm1hdGNoZXMubGVuZ3RoID4gMDtcbiAgICAgICAgICBzY29wZS5hc3NpZ25Jc09wZW4oeyBpc09wZW46IGlzRHJvcGRvd25PcGVuIH0pO1xuICAgICAgICAgIHJldHVybiBpc0Ryb3Bkb3duT3BlbjtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKG1hdGNoSWR4KSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLmFjdGl2ZSA9PT0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0QWN0aXZlID0gZnVuY3Rpb24obWF0Y2hJZHgpIHtcbiAgICAgICAgICBzY29wZS5hY3RpdmUgPSBtYXRjaElkeDtcbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS5zZWxlY3RNYXRjaCA9IGZ1bmN0aW9uKGFjdGl2ZUlkeCwgZXZ0KSB7XG4gICAgICAgICAgdmFyIGRlYm91bmNlID0gc2NvcGUuZGVib3VuY2UoKTtcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcihkZWJvdW5jZSkgfHwgYW5ndWxhci5pc09iamVjdChkZWJvdW5jZSkpIHtcbiAgICAgICAgICAgICQkZGVib3VuY2UoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnNlbGVjdCh7YWN0aXZlSWR4OiBhY3RpdmVJZHgsIGV2dDogZXZ0fSk7XG4gICAgICAgICAgICB9LCBhbmd1bGFyLmlzTnVtYmVyKGRlYm91bmNlKSA/IGRlYm91bmNlIDogZGVib3VuY2VbJ2RlZmF1bHQnXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjb3BlLnNlbGVjdCh7YWN0aXZlSWR4OiBhY3RpdmVJZHgsIGV2dDogZXZ0fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ3VpYlR5cGVhaGVhZE1hdGNoJywgWyckdGVtcGxhdGVSZXF1ZXN0JywgJyRjb21waWxlJywgJyRwYXJzZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZVJlcXVlc3QsICRjb21waWxlLCAkcGFyc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2NvcGU6IHtcbiAgICAgICAgaW5kZXg6ICc9JyxcbiAgICAgICAgbWF0Y2g6ICc9JyxcbiAgICAgICAgcXVlcnk6ICc9J1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgdHBsVXJsID0gJHBhcnNlKGF0dHJzLnRlbXBsYXRlVXJsKShzY29wZS4kcGFyZW50KSB8fCAndWliL3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCc7XG4gICAgICAgICR0ZW1wbGF0ZVJlcXVlc3QodHBsVXJsKS50aGVuKGZ1bmN0aW9uKHRwbENvbnRlbnQpIHtcbiAgICAgICAgICB2YXIgdHBsRWwgPSBhbmd1bGFyLmVsZW1lbnQodHBsQ29udGVudC50cmltKCkpO1xuICAgICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgodHBsRWwpO1xuICAgICAgICAgICRjb21waWxlKHRwbEVsKShzY29wZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC5maWx0ZXIoJ3VpYlR5cGVhaGVhZEhpZ2hsaWdodCcsIFsnJHNjZScsICckaW5qZWN0b3InLCAnJGxvZycsIGZ1bmN0aW9uKCRzY2UsICRpbmplY3RvciwgJGxvZykge1xuICAgIHZhciBpc1Nhbml0aXplUHJlc2VudDtcbiAgICBpc1Nhbml0aXplUHJlc2VudCA9ICRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpO1xuXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnZXhwKHF1ZXJ5VG9Fc2NhcGUpIHtcbiAgICAgIC8vIFJlZ2V4OiBjYXB0dXJlIHRoZSB3aG9sZSBxdWVyeSBzdHJpbmcgYW5kIHJlcGxhY2UgaXQgd2l0aCB0aGUgc3RyaW5nIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1hdGNoXG4gICAgICAvLyB0aGUgcmVzdWx0cywgZm9yIGV4YW1wbGUgaWYgdGhlIGNhcHR1cmUgaXMgXCJhXCIgdGhlIHJlc3VsdCB3aWxsIGJlIFxcYVxuICAgICAgcmV0dXJuIHF1ZXJ5VG9Fc2NhcGUucmVwbGFjZSgvKFsuPyorXiRbXFxdXFxcXCgpe318LV0pL2csICdcXFxcJDEnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb250YWluc0h0bWwobWF0Y2hJdGVtKSB7XG4gICAgICByZXR1cm4gLzwuKj4vZy50ZXN0KG1hdGNoSXRlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoSXRlbSwgcXVlcnkpIHtcbiAgICAgIGlmICghaXNTYW5pdGl6ZVByZXNlbnQgJiYgY29udGFpbnNIdG1sKG1hdGNoSXRlbSkpIHtcbiAgICAgICAgJGxvZy53YXJuKCdVbnNhZmUgdXNlIG9mIHR5cGVhaGVhZCBwbGVhc2UgdXNlIG5nU2FuaXRpemUnKTsgLy8gV2FybiB0aGUgdXNlciBhYm91dCB0aGUgZGFuZ2VyXG4gICAgICB9XG4gICAgICBtYXRjaEl0ZW0gPSBxdWVyeSA/ICgnJyArIG1hdGNoSXRlbSkucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZVJlZ2V4cChxdWVyeSksICdnaScpLCAnPHN0cm9uZz4kJjwvc3Ryb25nPicpIDogbWF0Y2hJdGVtOyAvLyBSZXBsYWNlcyB0aGUgY2FwdHVyZSBzdHJpbmcgd2l0aCBhIHRoZSBzYW1lIHN0cmluZyBpbnNpZGUgb2YgYSBcInN0cm9uZ1wiIHRhZ1xuICAgICAgaWYgKCFpc1Nhbml0aXplUHJlc2VudCkge1xuICAgICAgICBtYXRjaEl0ZW0gPSAkc2NlLnRydXN0QXNIdG1sKG1hdGNoSXRlbSk7IC8vIElmICRzYW5pdGl6ZSBpcyBub3QgcHJlc2VudCB3ZSBwYWNrIHRoZSBzdHJpbmcgaW4gYSAkc2NlIG9iamVjdCBmb3IgdGhlIG5nLWJpbmQtaHRtbCBkaXJlY3RpdmVcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaEl0ZW07XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInVpYi90ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ1aWIvdGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctY2xhc3M9XFxcInBhbmVsQ2xhc3MgfHwgJ3BhbmVsLWRlZmF1bHQnXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgcm9sZT1cXFwidGFiXFxcIiBpZD1cXFwie3s6OmhlYWRpbmdJZH19XFxcIiBhcmlhLXNlbGVjdGVkPVxcXCJ7e2lzT3Blbn19XFxcIiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCIgbmcta2V5cHJlc3M9XFxcInRvZ2dsZU9wZW4oJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxoNCBjbGFzcz1cXFwicGFuZWwtdGl0bGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxhIHJvbGU9XFxcImJ1dHRvblxcXCIgZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIiBocmVmIGFyaWEtZXhwYW5kZWQ9XFxcInt7aXNPcGVufX1cXFwiIGFyaWEtY29udHJvbHM9XFxcInt7OjpwYW5lbElkfX1cXFwiIHRhYmluZGV4PVxcXCIwXFxcIiBjbGFzcz1cXFwiYWNjb3JkaW9uLXRvZ2dsZVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU9wZW4oKVxcXCIgdWliLWFjY29yZGlvbi10cmFuc2NsdWRlPVxcXCJoZWFkaW5nXFxcIj48c3BhbiB1aWItYWNjb3JkaW9uLWhlYWRlciBuZy1jbGFzcz1cXFwieyd0ZXh0LW11dGVkJzogaXNEaXNhYmxlZH1cXFwiPnt7aGVhZGluZ319PC9zcGFuPjwvYT5cXG5cIiArXG4gICAgXCIgICAgPC9oND5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBpZD1cXFwie3s6OnBhbmVsSWR9fVxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ7ezo6aGVhZGluZ0lkfX1cXFwiIGFyaWEtaGlkZGVuPVxcXCJ7eyFpc09wZW59fVxcXCIgcm9sZT1cXFwidGFicGFuZWxcXFwiIGNsYXNzPVxcXCJwYW5lbC1jb2xsYXBzZSBjb2xsYXBzZVxcXCIgdWliLWNvbGxhcHNlPVxcXCIhaXNPcGVuXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidWliL3RlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLFxuICAgIFwiPGRpdiByb2xlPVxcXCJ0YWJsaXN0XFxcIiBjbGFzcz1cXFwicGFuZWwtZ3JvdXBcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInVpYi90ZW1wbGF0ZS9hbGVydC9hbGVydC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidWliL3RlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcImFsZXJ0XFxcIiBuZy1jbGFzcz1cXFwiWydhbGVydC0nICsgKHR5cGUgfHwgJ3dhcm5pbmcnKSwgY2xvc2VhYmxlID8gJ2FsZXJ0LWRpc21pc3NpYmxlJyA6IG51bGxdXFxcIiByb2xlPVxcXCJhbGVydFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxidXR0b24gbmctc2hvdz1cXFwiY2xvc2VhYmxlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgbmctY2xpY2s9XFxcImNsb3NlKHskZXZlbnQ6ICRldmVudH0pXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPkNsb3NlPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLW1vdXNlZW50ZXI9XFxcInBhdXNlKClcXFwiIG5nLW1vdXNlbGVhdmU9XFxcInBsYXkoKVxcXCIgY2xhc3M9XFxcImNhcm91c2VsXFxcIiBuZy1zd2lwZS1yaWdodD1cXFwicHJldigpXFxcIiBuZy1zd2lwZS1sZWZ0PVxcXCJuZXh0KClcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiY2Fyb3VzZWwtaW5uZXJcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8YSByb2xlPVxcXCJidXR0b25cXFwiIGhyZWYgY2xhc3M9XFxcImxlZnQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcInByZXYoKVxcXCIgbmctY2xhc3M9XFxcInsgZGlzYWJsZWQ6IGlzUHJldkRpc2FibGVkKCkgfVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPlxcblwiICtcbiAgICBcIiAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5wcmV2aW91czwvc3Bhbj5cXG5cIiArXG4gICAgXCIgIDwvYT5cXG5cIiArXG4gICAgXCIgIDxhIHJvbGU9XFxcImJ1dHRvblxcXCIgaHJlZiBjbGFzcz1cXFwicmlnaHQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcIm5leHQoKVxcXCIgbmctY2xhc3M9XFxcInsgZGlzYWJsZWQ6IGlzTmV4dERpc2FibGVkKCkgfVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPlxcblwiICtcbiAgICBcIiAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCIgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8c3BhbiBjbGFzcz1cXFwic3Itb25seVxcXCI+bmV4dDwvc3Bhbj5cXG5cIiArXG4gICAgXCIgIDwvYT5cXG5cIiArXG4gICAgXCIgIDxvbCBjbGFzcz1cXFwiY2Fyb3VzZWwtaW5kaWNhdG9yc1xcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGkgbmctcmVwZWF0PVxcXCJzbGlkZSBpbiBzbGlkZXMgfCBvcmRlckJ5OmluZGV4T2ZTbGlkZSB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7IGFjdGl2ZTogaXNBY3RpdmUoc2xpZGUpIH1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3Qoc2xpZGUpXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8c3BhbiBjbGFzcz1cXFwic3Itb25seVxcXCI+c2xpZGUge3sgJGluZGV4ICsgMSB9fSBvZiB7eyBzbGlkZXMubGVuZ3RoIH19PHNwYW4gbmctaWY9XFxcImlzQWN0aXZlKHNsaWRlKVxcXCI+LCBjdXJyZW50bHkgYWN0aXZlPC9zcGFuPjwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPC9saT5cXG5cIiArXG4gICAgXCIgIDwvb2w+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInVpYi90ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidWliL3RlbXBsYXRlL2Nhcm91c2VsL3NsaWRlLmh0bWxcIixcbiAgICBcIjxkaXYgbmctY2xhc3M9XFxcIntcXG5cIiArXG4gICAgXCIgICAgJ2FjdGl2ZSc6IGFjdGl2ZVxcblwiICtcbiAgICBcIiAgfVxcXCIgY2xhc3M9XFxcIml0ZW0gdGV4dC1jZW50ZXJcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInVpYi90ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidWliLWRhdGVwaWNrZXJcXFwiIG5nLXN3aXRjaD1cXFwiZGF0ZXBpY2tlck1vZGVcXFwiIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgPHVpYi1kYXlwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcImRheVxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwvdWliLWRheXBpY2tlcj5cXG5cIiArXG4gICAgXCIgIDx1aWItbW9udGhwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcIm1vbnRoXFxcIiB0YWJpbmRleD1cXFwiMFxcXCI+PC91aWItbW9udGhwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8dWliLXllYXJwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcInllYXJcXFwiIHRhYmluZGV4PVxcXCIwXFxcIj48L3VpYi15ZWFycGlja2VyPlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sXCIsXG4gICAgXCI8dGFibGUgY2xhc3M9XFxcInVpYi1kYXlwaWNrZXJcXFwiIHJvbGU9XFxcImdyaWRcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIGFyaWEtYWN0aXZlZGVzY2VuZGFudD1cXFwie3thY3RpdmVEYXRlSWR9fVxcXCI+XFxuXCIgK1xuICAgIFwiICA8dGhlYWQ+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtbGVmdCB1aWItbGVmdFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoLTEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIGNvbHNwYW49XFxcInt7Ojo1ICsgc2hvd1dlZWtzfX1cXFwiPjxidXR0b24gaWQ9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiByb2xlPVxcXCJoZWFkaW5nXFxcIiBhcmlhLWxpdmU9XFxcImFzc2VydGl2ZVxcXCIgYXJpYS1hdG9taWM9XFxcInRydWVcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gdWliLXRpdGxlXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodCB1aWItcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKDEpXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxpIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tcmlnaHRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIG5nLWlmPVxcXCJzaG93V2Vla3NcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGggbmctcmVwZWF0PVxcXCJsYWJlbCBpbiA6OmxhYmVscyB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCI+PHNtYWxsIGFyaWEtbGFiZWw9XFxcInt7OjpsYWJlbC5mdWxsfX1cXFwiPnt7OjpsYWJlbC5hYmJyfX08L3NtYWxsPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInVpYi13ZWVrc1xcXCIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1pZj1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXIgaDZcXFwiPjxlbT57eyB3ZWVrTnVtYmVyc1skaW5kZXhdIH19PC9lbT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvd1xcXCIgY2xhc3M9XFxcInVpYi1kYXkgdGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgaWQ9XFxcInt7OjpkdC51aWR9fVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIG5nLWNsYXNzPVxcXCI6OmR0LmN1c3RvbUNsYXNzXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgdWliLWlzLWNsYXNzPVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAnYnRuLWluZm8nIGZvciBzZWxlY3RlZER0LFxcblwiICtcbiAgICBcIiAgICAgICAgICAgICdhY3RpdmUnIGZvciBhY3RpdmVEdFxcblwiICtcbiAgICBcIiAgICAgICAgICAgIG9uIGR0XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICBuZy1kaXNhYmxlZD1cXFwiOjpkdC5kaXNhYmxlZFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtbXV0ZWQnOiBkdC5zZWNvbmRhcnksICd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS9kYXRlcGlja2VyL21vbnRoLmh0bWxcIixcbiAgICBcIjx0YWJsZSBjbGFzcz1cXFwidWliLW1vbnRocGlja2VyXFxcIiByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnQgdWliLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHVpYi10aXRsZVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRhdGVwaWNrZXJNb2RlID09PSBtYXhNb2RlXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzdHJvbmc+e3t0aXRsZX19PC9zdHJvbmc+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIHB1bGwtcmlnaHQgdWliLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBjbGFzcz1cXFwidWliLW1vbnRoc1xcXCIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvd1xcXCIgY2xhc3M9XFxcInVpYi1tb250aCB0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBpZD1cXFwie3s6OmR0LnVpZH19XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgbmctY2xhc3M9XFxcIjo6ZHQuY3VzdG9tQ2xhc3NcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgIHVpYi1pcy1jbGFzcz1cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgJ2J0bi1pbmZvJyBmb3Igc2VsZWN0ZWREdCxcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAnYWN0aXZlJyBmb3IgYWN0aXZlRHRcXG5cIiArXG4gICAgXCIgICAgICAgICAgICBvbiBkdFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgbmctZGlzYWJsZWQ9XFxcIjo6ZHQuZGlzYWJsZWRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcIjo6eyd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidWliL3RlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsXG4gICAgXCI8dGFibGUgY2xhc3M9XFxcInVpYi15ZWFycGlja2VyXFxcIiByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnQgdWliLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBjb2xzcGFuPVxcXCJ7ezo6Y29sdW1ucyAtIDJ9fVxcXCI+PGJ1dHRvbiBpZD1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSB1aWItdGl0bGVcXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNb2RlKClcXFwiIG5nLWRpc2FibGVkPVxcXCJkYXRlcGlja2VyTW9kZSA9PT0gbWF4TW9kZVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0IHVpYi1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInVpYi15ZWFyc1xcXCIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvd1xcXCIgY2xhc3M9XFxcInVpYi15ZWFyIHRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBuZy1jbGFzcz1cXFwiOjpkdC5jdXN0b21DbGFzc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgdWliLWlzLWNsYXNzPVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAnYnRuLWluZm8nIGZvciBzZWxlY3RlZER0LFxcblwiICtcbiAgICBcIiAgICAgICAgICAgICdhY3RpdmUnIGZvciBhY3RpdmVEdFxcblwiICtcbiAgICBcIiAgICAgICAgICAgIG9uIGR0XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgICBuZy1kaXNhYmxlZD1cXFwiOjpkdC5kaXNhYmxlZFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtaW5mbyc6IGR0LmN1cnJlbnR9XFxcIj57ezo6ZHQubGFiZWx9fTwvc3Bhbj48L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvZGF0ZXBpY2tlclBvcHVwL3BvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ1aWIvdGVtcGxhdGUvZGF0ZXBpY2tlclBvcHVwL3BvcHVwLmh0bWxcIixcbiAgICBcIjxkaXY+XFxuXCIgK1xuICAgIFwiICA8dWwgY2xhc3M9XFxcInVpYi1kYXRlcGlja2VyLXBvcHVwIGRyb3Bkb3duLW1lbnUgdWliLXBvc2l0aW9uLW1lYXN1cmVcXFwiIGRyb3Bkb3duLW5lc3RlZCBuZy1pZj1cXFwiaXNPcGVuXFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiIG5nLWNsaWNrPVxcXCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8bGkgbmctdHJhbnNjbHVkZT48L2xpPlxcblwiICtcbiAgICBcIiAgICA8bGkgbmctaWY9XFxcInNob3dCdXR0b25CYXJcXFwiIGNsYXNzPVxcXCJ1aWItYnV0dG9uLWJhclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gY2xhc3M9XFxcImJ0bi1ncm91cCBwdWxsLWxlZnRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1pbmZvIHVpYi1kYXRlcGlja2VyLWN1cnJlbnRcXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoJ3RvZGF5JywgJGV2ZW50KVxcXCIgbmctZGlzYWJsZWQ9XFxcImlzRGlzYWJsZWQoJ3RvZGF5JylcXFwiPnt7IGdldFRleHQoJ2N1cnJlbnQnKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1kYW5nZXIgdWliLWNsZWFyXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KG51bGwsICRldmVudClcXFwiPnt7IGdldFRleHQoJ2NsZWFyJykgfX08L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHQgdWliLWNsb3NlXFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoJGV2ZW50KVxcXCI+e3sgZ2V0VGV4dCgnY2xvc2UnKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICA8L2xpPlxcblwiICtcbiAgICBcIiAgPC91bD5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ1aWIvdGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtYmFja2Ryb3BcXFwiXFxuXCIgK1xuICAgIFwiICAgICB1aWItbW9kYWwtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgICAgbW9kYWwtaW4tY2xhc3M9XFxcImluXFxcIlxcblwiICtcbiAgICBcIiAgICAgbmctc3R5bGU9XFxcInsnei1pbmRleCc6IDEwNDAgKyAoaW5kZXggJiYgMSB8fCAwKSArIGluZGV4KjEwfVxcXCJcXG5cIiArXG4gICAgXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInVpYi90ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLFxuICAgIFwiPGRpdiBtb2RhbC1yZW5kZXI9XFxcInt7JGlzUmVuZGVyZWR9fVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGNsYXNzPVxcXCJtb2RhbFxcXCJcXG5cIiArXG4gICAgXCIgICAgdWliLW1vZGFsLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgICAgbW9kYWwtaW4tY2xhc3M9XFxcImluXFxcIlxcblwiICtcbiAgICBcIiAgICBuZy1zdHlsZT1cXFwieyd6LWluZGV4JzogMTA1MCArIGluZGV4KjEwLCBkaXNwbGF5OiAnYmxvY2snfVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZyB7e3NpemUgPyAnbW9kYWwtJyArIHNpemUgOiAnJ319XFxcIj48ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIiB1aWItbW9kYWwtdHJhbnNjbHVkZT48L2Rpdj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL3BhZ2VyL3BhZ2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ1aWIvdGVtcGxhdGUvcGFnZXIvcGFnZXIuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJwYWdlclxcXCI+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkLCBwcmV2aW91czogYWxpZ259XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgLSAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgncHJldmlvdXMnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiICA8bGkgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9OZXh0KCl8fG5nRGlzYWJsZWQsIG5leHQ6IGFsaWdufVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlICsgMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ25leHQnKX19PC9hPjwvbGk+XFxuXCIgK1xuICAgIFwiPC91bD5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidWliL3RlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcInBhZ2luYXRpb25cXFwiPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLWZpcnN0XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdmaXJzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpkaXJlY3Rpb25MaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tcHJldlxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlIC0gMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLXJlcGVhdD1cXFwicGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBwYWdlLmFjdGl2ZSxkaXNhYmxlZDogbmdEaXNhYmxlZCYmIXBhZ2UuYWN0aXZlfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tcGFnZVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlLm51bWJlciwgJGV2ZW50KVxcXCI+e3twYWdlLnRleHR9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLW5leHRcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tbGFzdFxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZSh0b3RhbFBhZ2VzLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgnbGFzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB1aWItdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIG5nLWJpbmQtaHRtbD1cXFwiY29udGVudEV4cCgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidWliL3RlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB1aWItdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIG5nLWJpbmQ9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ1aWIvdGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHVpYi10b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCJcXG5cIiArXG4gICAgXCIgICAgdWliLXRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZT1cXFwiY29udGVudEV4cCgpXFxcIlxcblwiICtcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGUtc2NvcGU9XFxcIm9yaWdpblNjb3BlKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB1aWItdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInVpYlRpdGxlXFxcIiBuZy1pZj1cXFwidWliVGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIiBuZy1iaW5kLWh0bWw9XFxcImNvbnRlbnRFeHAoKVxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidWliL3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB1aWItdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJhcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWlubmVyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8aDMgY2xhc3M9XFxcInBvcG92ZXItdGl0bGVcXFwiIG5nLWJpbmQ9XFxcInVpYlRpdGxlXFxcIiBuZy1pZj1cXFwidWliVGl0bGVcXFwiPjwvaDM+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1jb250ZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgdWliLXRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZT1cXFwiY29udGVudEV4cCgpXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlLXNjb3BlPVxcXCJvcmlnaW5TY29wZSgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ1aWIvdGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHVpYi10b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItaW5uZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxoMyBjbGFzcz1cXFwicG9wb3Zlci10aXRsZVxcXCIgbmctYmluZD1cXFwidWliVGl0bGVcXFwiIG5nLWlmPVxcXCJ1aWJUaXRsZVxcXCI+PC9oMz5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWNvbnRlbnRcXFwiIG5nLWJpbmQ9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInVpYi90ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp0aXRsZX19XFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3MuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzc1xcXCIgbmctdHJhbnNjbHVkZSBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp0aXRsZX19XFxcIj48L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ1aWIvdGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3NcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyXFxcIiBuZy1jbGFzcz1cXFwidHlwZSAmJiAncHJvZ3Jlc3MtYmFyLScgKyB0eXBlXFxcIiByb2xlPVxcXCJwcm9ncmVzc2JhclxcXCIgYXJpYS12YWx1ZW5vdz1cXFwie3t2YWx1ZX19XFxcIiBhcmlhLXZhbHVlbWluPVxcXCIwXFxcIiBhcmlhLXZhbHVlbWF4PVxcXCJ7e21heH19XFxcIiBuZy1zdHlsZT1cXFwie3dpZHRoOiAocGVyY2VudCA8IDEwMCA/IHBlcmNlbnQgOiAxMDApICsgJyUnfVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7cGVyY2VudCB8IG51bWJlcjowfX0lXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp0aXRsZX19XFxcIiBuZy10cmFuc2NsdWRlPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvcmF0aW5nL3JhdGluZy5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidWliL3RlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFxuICAgIFwiPHNwYW4gbmctbW91c2VsZWF2ZT1cXFwicmVzZXQoKVxcXCIgbmcta2V5ZG93bj1cXFwib25LZXlkb3duKCRldmVudClcXFwiIHRhYmluZGV4PVxcXCIwXFxcIiByb2xlPVxcXCJzbGlkZXJcXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7cmFuZ2UubGVuZ3RofX1cXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCIgYXJpYS12YWx1ZXRleHQ9XFxcInt7dGl0bGV9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuIG5nLXJlcGVhdC1zdGFydD1cXFwiciBpbiByYW5nZSB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJzci1vbmx5XFxcIj4oe3sgJGluZGV4IDwgdmFsdWUgPyAnKicgOiAnICcgfX0pPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBuZy1yZXBlYXQtZW5kIG5nLW1vdXNlZW50ZXI9XFxcImVudGVyKCRpbmRleCArIDEpXFxcIiBuZy1jbGljaz1cXFwicmF0ZSgkaW5kZXggKyAxKVxcXCIgY2xhc3M9XFxcImdseXBoaWNvblxcXCIgbmctY2xhc3M9XFxcIiRpbmRleCA8IHZhbHVlICYmIChyLnN0YXRlT24gfHwgJ2dseXBoaWNvbi1zdGFyJykgfHwgKHIuc3RhdGVPZmYgfHwgJ2dseXBoaWNvbi1zdGFyLWVtcHR5JylcXFwiIG5nLWF0dHItdGl0bGU9XFxcInt7ci50aXRsZX19XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiPC9zcGFuPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS90YWJzL3RhYi5odG1sXCIsXG4gICAgXCI8bGkgbmctY2xhc3M9XFxcIlt7YWN0aXZlOiBhY3RpdmUsIGRpc2FibGVkOiBkaXNhYmxlZH0sIGNsYXNzZXNdXFxcIiBjbGFzcz1cXFwidWliLXRhYiBuYXYtaXRlbVxcXCI+XFxuXCIgK1xuICAgIFwiICA8YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3QoJGV2ZW50KVxcXCIgY2xhc3M9XFxcIm5hdi1saW5rXFxcIiB1aWItdGFiLWhlYWRpbmctdHJhbnNjbHVkZT57e2hlYWRpbmd9fTwvYT5cXG5cIiArXG4gICAgXCI8L2xpPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ1aWIvdGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXG4gICAgXCI8ZGl2PlxcblwiICtcbiAgICBcIiAgPHVsIGNsYXNzPVxcXCJuYXYgbmF2LXt7dGFic2V0LnR5cGUgfHwgJ3RhYnMnfX1cXFwiIG5nLWNsYXNzPVxcXCJ7J25hdi1zdGFja2VkJzogdmVydGljYWwsICduYXYtanVzdGlmaWVkJzoganVzdGlmaWVkfVxcXCIgbmctdHJhbnNjbHVkZT48L3VsPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidGFiLWNvbnRlbnRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJ0YWItcGFuZVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1yZXBlYXQ9XFxcInRhYiBpbiB0YWJzZXQudGFic1xcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1jbGFzcz1cXFwie2FjdGl2ZTogdGFic2V0LmFjdGl2ZSA9PT0gdGFiLmluZGV4fVxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICB1aWItdGFiLWNvbnRlbnQtdHJhbnNjbHVkZT1cXFwidGFiXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidWliL3RlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sXCIsXG4gICAgXCI8dGFibGUgY2xhc3M9XFxcInVpYi10aW1lcGlja2VyXFxcIj5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgbmctc2hvdz1cXFwiOjpzaG93U3Bpbm5lcnNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwidWliLWluY3JlbWVudCBob3Vyc1xcXCI+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudEhvdXJzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vSW5jcmVtZW50SG91cnMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiIG5nLWRpc2FibGVkPVxcXCJub0luY3JlbWVudEhvdXJzKClcXFwiIHRhYmluZGV4PVxcXCJ7ezo6dGFiaW5kZXh9fVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cFxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZD4mbmJzcDs8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwidWliLWluY3JlbWVudCBtaW51dGVzXFxcIj48YSBuZy1jbGljaz1cXFwiaW5jcmVtZW50TWludXRlcygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0luY3JlbWVudE1pbnV0ZXMoKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiIG5nLWRpc2FibGVkPVxcXCJub0luY3JlbWVudE1pbnV0ZXMoKVxcXCIgdGFiaW5kZXg9XFxcInt7Ojp0YWJpbmRleH19XFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dTZWNvbmRzXFxcIj4mbmJzcDs8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93U2Vjb25kc1xcXCIgY2xhc3M9XFxcInVpYi1pbmNyZW1lbnQgc2Vjb25kc1xcXCI+PGEgbmctY2xpY2s9XFxcImluY3JlbWVudFNlY29uZHMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9JbmNyZW1lbnRTZWNvbmRzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIiBuZy1kaXNhYmxlZD1cXFwibm9JbmNyZW1lbnRTZWNvbmRzKClcXFwiIHRhYmluZGV4PVxcXCJ7ezo6dGFiaW5kZXh9fVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cFxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgY2xhc3M9XFxcImZvcm0tZ3JvdXAgdWliLXRpbWUgaG91cnNcXFwiIG5nLWNsYXNzPVxcXCJ7J2hhcy1lcnJvcic6IGludmFsaWRIb3Vyc31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IHN0eWxlPVxcXCJ3aWR0aDo1MHB4O1xcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIkhIXFxcIiBuZy1tb2RlbD1cXFwiaG91cnNcXFwiIG5nLWNoYW5nZT1cXFwidXBkYXRlSG91cnMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctcmVhZG9ubHk9XFxcIjo6cmVhZG9ubHlJbnB1dFxcXCIgbWF4bGVuZ3RoPVxcXCIyXFxcIiB0YWJpbmRleD1cXFwie3s6OnRhYmluZGV4fX1cXFwiIG5nLWRpc2FibGVkPVxcXCJub0luY3JlbWVudEhvdXJzKClcXFwiIG5nLWJsdXI9XFxcImJsdXIoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgY2xhc3M9XFxcInVpYi1zZXBhcmF0b3JcXFwiPjo8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBjbGFzcz1cXFwiZm9ybS1ncm91cCB1aWItdGltZSBtaW51dGVzXFxcIiBuZy1jbGFzcz1cXFwieydoYXMtZXJyb3InOiBpbnZhbGlkTWludXRlc31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IHN0eWxlPVxcXCJ3aWR0aDo1MHB4O1xcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIk1NXFxcIiBuZy1tb2RlbD1cXFwibWludXRlc1xcXCIgbmctY2hhbmdlPVxcXCJ1cGRhdGVNaW51dGVzKClcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXJcXFwiIG5nLXJlYWRvbmx5PVxcXCI6OnJlYWRvbmx5SW5wdXRcXFwiIG1heGxlbmd0aD1cXFwiMlxcXCIgdGFiaW5kZXg9XFxcInt7Ojp0YWJpbmRleH19XFxcIiBuZy1kaXNhYmxlZD1cXFwibm9JbmNyZW1lbnRNaW51dGVzKClcXFwiIG5nLWJsdXI9XFxcImJsdXIoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd1NlY29uZHNcXFwiIGNsYXNzPVxcXCJ1aWItc2VwYXJhdG9yXFxcIj46PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgY2xhc3M9XFxcImZvcm0tZ3JvdXAgdWliLXRpbWUgc2Vjb25kc1xcXCIgbmctY2xhc3M9XFxcInsnaGFzLWVycm9yJzogaW52YWxpZFNlY29uZHN9XFxcIiBuZy1zaG93PVxcXCJzaG93U2Vjb25kc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgc3R5bGU9XFxcIndpZHRoOjUwcHg7XFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwiU1NcXFwiIG5nLW1vZGVsPVxcXCJzZWNvbmRzXFxcIiBuZy1jaGFuZ2U9XFxcInVwZGF0ZVNlY29uZHMoKVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0ZXh0LWNlbnRlclxcXCIgbmctcmVhZG9ubHk9XFxcInJlYWRvbmx5SW5wdXRcXFwiIG1heGxlbmd0aD1cXFwiMlxcXCIgdGFiaW5kZXg9XFxcInt7Ojp0YWJpbmRleH19XFxcIiBuZy1kaXNhYmxlZD1cXFwibm9JbmNyZW1lbnRTZWNvbmRzKClcXFwiIG5nLWJsdXI9XFxcImJsdXIoKVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIiBjbGFzcz1cXFwidWliLXRpbWUgYW0tcG1cXFwiPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1RvZ2dsZU1lcmlkaWFuKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHRleHQtY2VudGVyXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTWVyaWRpYW4oKVxcXCIgbmctZGlzYWJsZWQ9XFxcIm5vVG9nZ2xlTWVyaWRpYW4oKVxcXCIgdGFiaW5kZXg9XFxcInt7Ojp0YWJpbmRleH19XFxcIj57e21lcmlkaWFufX08L2J1dHRvbj48L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiBuZy1zaG93PVxcXCI6OnNob3dTcGlubmVyc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIGNsYXNzPVxcXCJ1aWItZGVjcmVtZW50IGhvdXJzXFxcIj48YSBuZy1jbGljaz1cXFwiZGVjcmVtZW50SG91cnMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9EZWNyZW1lbnRIb3VycygpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCIgbmctZGlzYWJsZWQ9XFxcIm5vRGVjcmVtZW50SG91cnMoKVxcXCIgdGFiaW5kZXg9XFxcInt7Ojp0YWJpbmRleH19XFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd25cXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+Jm5ic3A7PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgY2xhc3M9XFxcInVpYi1kZWNyZW1lbnQgbWludXRlc1xcXCI+PGEgbmctY2xpY2s9XFxcImRlY3JlbWVudE1pbnV0ZXMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9EZWNyZW1lbnRNaW51dGVzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIiBuZy1kaXNhYmxlZD1cXFwibm9EZWNyZW1lbnRNaW51dGVzKClcXFwiIHRhYmluZGV4PVxcXCJ7ezo6dGFiaW5kZXh9fVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dTZWNvbmRzXFxcIj4mbmJzcDs8L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93U2Vjb25kc1xcXCIgY2xhc3M9XFxcInVpYi1kZWNyZW1lbnQgc2Vjb25kc1xcXCI+PGEgbmctY2xpY2s9XFxcImRlY3JlbWVudFNlY29uZHMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9EZWNyZW1lbnRTZWNvbmRzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIiBuZy1kaXNhYmxlZD1cXFwibm9EZWNyZW1lbnRTZWNvbmRzKClcXFwiIHRhYmluZGV4PVxcXCJ7ezo6dGFiaW5kZXh9fVxcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWxcIixcbiAgICBcIjxhIGhyZWZcXG5cIiArXG4gICAgXCIgICB0YWJpbmRleD1cXFwiLTFcXFwiXFxuXCIgK1xuICAgIFwiICAgbmctYmluZC1odG1sPVxcXCJtYXRjaC5sYWJlbCB8IHVpYlR5cGVhaGVhZEhpZ2hsaWdodDpxdWVyeVxcXCJcXG5cIiArXG4gICAgXCIgICBuZy1hdHRyLXRpdGxlPVxcXCJ7e21hdGNoLmxhYmVsfX1cXFwiPjwvYT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidWliL3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInVpYi90ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLXBvcHVwLmh0bWxcIixcbiAgICBcIjx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctc2hvdz1cXFwiaXNPcGVuKCkgJiYgIW1vdmVJblByb2dyZXNzXFxcIiBuZy1zdHlsZT1cXFwie3RvcDogcG9zaXRpb24oKS50b3ArJ3B4JywgbGVmdDogcG9zaXRpb24oKS5sZWZ0KydweCd9XFxcIiByb2xlPVxcXCJsaXN0Ym94XFxcIiBhcmlhLWhpZGRlbj1cXFwie3shaXNPcGVuKCl9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxsaSBuZy1yZXBlYXQ9XFxcIm1hdGNoIGluIG1hdGNoZXMgdHJhY2sgYnkgJGluZGV4XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXNBY3RpdmUoJGluZGV4KSB9XFxcIiBuZy1tb3VzZWVudGVyPVxcXCJzZWxlY3RBY3RpdmUoJGluZGV4KVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdE1hdGNoKCRpbmRleCwgJGV2ZW50KVxcXCIgcm9sZT1cXFwib3B0aW9uXFxcIiBpZD1cXFwie3s6Om1hdGNoLmlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiB1aWItdHlwZWFoZWFkLW1hdGNoIGluZGV4PVxcXCIkaW5kZXhcXFwiIG1hdGNoPVxcXCJtYXRjaFxcXCIgcXVlcnk9XFxcInF1ZXJ5XFxcIiB0ZW1wbGF0ZS11cmw9XFxcInRlbXBsYXRlVXJsXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuY2Fyb3VzZWwnKS5ydW4oZnVuY3Rpb24oKSB7IWFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlICYmICFhbmd1bGFyLiQkdWliQ2Fyb3VzZWxDc3MgJiYgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCdoZWFkJykucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPi5uZy1hbmltYXRlLml0ZW06bm90KC5sZWZ0KTpub3QoLnJpZ2h0KXstd2Via2l0LXRyYW5zaXRpb246MHMgZWFzZS1pbi1vdXQgbGVmdDt0cmFuc2l0aW9uOjBzIGVhc2UtaW4tb3V0IGxlZnR9PC9zdHlsZT4nKTsgYW5ndWxhci4kJHVpYkNhcm91c2VsQ3NzID0gdHJ1ZTsgfSk7XG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwaWNrZXInKS5ydW4oZnVuY3Rpb24oKSB7IWFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlICYmICFhbmd1bGFyLiQkdWliRGF0ZXBpY2tlckNzcyAmJiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoJ2hlYWQnKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+LnVpYi1kYXRlcGlja2VyIC51aWItdGl0bGV7d2lkdGg6MTAwJTt9LnVpYi1kYXkgYnV0dG9uLC51aWItbW9udGggYnV0dG9uLC51aWIteWVhciBidXR0b257bWluLXdpZHRoOjEwMCU7fS51aWItbGVmdCwudWliLXJpZ2h0e3dpZHRoOjEwMCV9PC9zdHlsZT4nKTsgYW5ndWxhci4kJHVpYkRhdGVwaWNrZXJDc3MgPSB0cnVlOyB9KTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucG9zaXRpb24nKS5ydW4oZnVuY3Rpb24oKSB7IWFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlICYmICFhbmd1bGFyLiQkdWliUG9zaXRpb25Dc3MgJiYgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCdoZWFkJykucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPi51aWItcG9zaXRpb24tbWVhc3VyZXtkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7dmlzaWJpbGl0eTpoaWRkZW4gIWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSAhaW1wb3J0YW50O3RvcDotOTk5OXB4ICFpbXBvcnRhbnQ7bGVmdDotOTk5OXB4ICFpbXBvcnRhbnQ7fS51aWItcG9zaXRpb24tc2Nyb2xsYmFyLW1lYXN1cmV7cG9zaXRpb246YWJzb2x1dGUgIWltcG9ydGFudDt0b3A6LTk5OTlweCAhaW1wb3J0YW50O3dpZHRoOjUwcHggIWltcG9ydGFudDtoZWlnaHQ6NTBweCAhaW1wb3J0YW50O292ZXJmbG93OnNjcm9sbCAhaW1wb3J0YW50O30udWliLXBvc2l0aW9uLWJvZHktc2Nyb2xsYmFyLW1lYXN1cmV7b3ZlcmZsb3c6c2Nyb2xsICFpbXBvcnRhbnQ7fTwvc3R5bGU+Jyk7IGFuZ3VsYXIuJCR1aWJQb3NpdGlvbkNzcyA9IHRydWU7IH0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kYXRlcGlja2VyUG9wdXAnKS5ydW4oZnVuY3Rpb24oKSB7IWFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlICYmICFhbmd1bGFyLiQkdWliRGF0ZXBpY2tlcnBvcHVwQ3NzICYmIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgnaGVhZCcpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4udWliLWRhdGVwaWNrZXItcG9wdXAuZHJvcGRvd24tbWVudXtkaXNwbGF5OmJsb2NrO2Zsb2F0Om5vbmU7bWFyZ2luOjA7fS51aWItYnV0dG9uLWJhcntwYWRkaW5nOjEwcHggOXB4IDJweDt9PC9zdHlsZT4nKTsgYW5ndWxhci4kJHVpYkRhdGVwaWNrZXJwb3B1cENzcyA9IHRydWU7IH0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50b29sdGlwJykucnVuKGZ1bmN0aW9uKCkgeyFhbmd1bGFyLiQkY3NwKCkubm9JbmxpbmVTdHlsZSAmJiAhYW5ndWxhci4kJHVpYlRvb2x0aXBDc3MgJiYgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCdoZWFkJykucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPlt1aWItdG9vbHRpcC1wb3B1cF0udG9vbHRpcC50b3AtbGVmdCA+IC50b29sdGlwLWFycm93LFt1aWItdG9vbHRpcC1wb3B1cF0udG9vbHRpcC50b3AtcmlnaHQgPiAudG9vbHRpcC1hcnJvdyxbdWliLXRvb2x0aXAtcG9wdXBdLnRvb2x0aXAuYm90dG9tLWxlZnQgPiAudG9vbHRpcC1hcnJvdyxbdWliLXRvb2x0aXAtcG9wdXBdLnRvb2x0aXAuYm90dG9tLXJpZ2h0ID4gLnRvb2x0aXAtYXJyb3csW3VpYi10b29sdGlwLXBvcHVwXS50b29sdGlwLmxlZnQtdG9wID4gLnRvb2x0aXAtYXJyb3csW3VpYi10b29sdGlwLXBvcHVwXS50b29sdGlwLmxlZnQtYm90dG9tID4gLnRvb2x0aXAtYXJyb3csW3VpYi10b29sdGlwLXBvcHVwXS50b29sdGlwLnJpZ2h0LXRvcCA+IC50b29sdGlwLWFycm93LFt1aWItdG9vbHRpcC1wb3B1cF0udG9vbHRpcC5yaWdodC1ib3R0b20gPiAudG9vbHRpcC1hcnJvdyxbdWliLXRvb2x0aXAtaHRtbC1wb3B1cF0udG9vbHRpcC50b3AtbGVmdCA+IC50b29sdGlwLWFycm93LFt1aWItdG9vbHRpcC1odG1sLXBvcHVwXS50b29sdGlwLnRvcC1yaWdodCA+IC50b29sdGlwLWFycm93LFt1aWItdG9vbHRpcC1odG1sLXBvcHVwXS50b29sdGlwLmJvdHRvbS1sZWZ0ID4gLnRvb2x0aXAtYXJyb3csW3VpYi10b29sdGlwLWh0bWwtcG9wdXBdLnRvb2x0aXAuYm90dG9tLXJpZ2h0ID4gLnRvb2x0aXAtYXJyb3csW3VpYi10b29sdGlwLWh0bWwtcG9wdXBdLnRvb2x0aXAubGVmdC10b3AgPiAudG9vbHRpcC1hcnJvdyxbdWliLXRvb2x0aXAtaHRtbC1wb3B1cF0udG9vbHRpcC5sZWZ0LWJvdHRvbSA+IC50b29sdGlwLWFycm93LFt1aWItdG9vbHRpcC1odG1sLXBvcHVwXS50b29sdGlwLnJpZ2h0LXRvcCA+IC50b29sdGlwLWFycm93LFt1aWItdG9vbHRpcC1odG1sLXBvcHVwXS50b29sdGlwLnJpZ2h0LWJvdHRvbSA+IC50b29sdGlwLWFycm93LFt1aWItdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cF0udG9vbHRpcC50b3AtbGVmdCA+IC50b29sdGlwLWFycm93LFt1aWItdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cF0udG9vbHRpcC50b3AtcmlnaHQgPiAudG9vbHRpcC1hcnJvdyxbdWliLXRvb2x0aXAtdGVtcGxhdGUtcG9wdXBdLnRvb2x0aXAuYm90dG9tLWxlZnQgPiAudG9vbHRpcC1hcnJvdyxbdWliLXRvb2x0aXAtdGVtcGxhdGUtcG9wdXBdLnRvb2x0aXAuYm90dG9tLXJpZ2h0ID4gLnRvb2x0aXAtYXJyb3csW3VpYi10b29sdGlwLXRlbXBsYXRlLXBvcHVwXS50b29sdGlwLmxlZnQtdG9wID4gLnRvb2x0aXAtYXJyb3csW3VpYi10b29sdGlwLXRlbXBsYXRlLXBvcHVwXS50b29sdGlwLmxlZnQtYm90dG9tID4gLnRvb2x0aXAtYXJyb3csW3VpYi10b29sdGlwLXRlbXBsYXRlLXBvcHVwXS50b29sdGlwLnJpZ2h0LXRvcCA+IC50b29sdGlwLWFycm93LFt1aWItdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cF0udG9vbHRpcC5yaWdodC1ib3R0b20gPiAudG9vbHRpcC1hcnJvdyxbdWliLXBvcG92ZXItcG9wdXBdLnBvcG92ZXIudG9wLWxlZnQgPiAuYXJyb3csW3VpYi1wb3BvdmVyLXBvcHVwXS5wb3BvdmVyLnRvcC1yaWdodCA+IC5hcnJvdyxbdWliLXBvcG92ZXItcG9wdXBdLnBvcG92ZXIuYm90dG9tLWxlZnQgPiAuYXJyb3csW3VpYi1wb3BvdmVyLXBvcHVwXS5wb3BvdmVyLmJvdHRvbS1yaWdodCA+IC5hcnJvdyxbdWliLXBvcG92ZXItcG9wdXBdLnBvcG92ZXIubGVmdC10b3AgPiAuYXJyb3csW3VpYi1wb3BvdmVyLXBvcHVwXS5wb3BvdmVyLmxlZnQtYm90dG9tID4gLmFycm93LFt1aWItcG9wb3Zlci1wb3B1cF0ucG9wb3Zlci5yaWdodC10b3AgPiAuYXJyb3csW3VpYi1wb3BvdmVyLXBvcHVwXS5wb3BvdmVyLnJpZ2h0LWJvdHRvbSA+IC5hcnJvdyxbdWliLXBvcG92ZXItaHRtbC1wb3B1cF0ucG9wb3Zlci50b3AtbGVmdCA+IC5hcnJvdyxbdWliLXBvcG92ZXItaHRtbC1wb3B1cF0ucG9wb3Zlci50b3AtcmlnaHQgPiAuYXJyb3csW3VpYi1wb3BvdmVyLWh0bWwtcG9wdXBdLnBvcG92ZXIuYm90dG9tLWxlZnQgPiAuYXJyb3csW3VpYi1wb3BvdmVyLWh0bWwtcG9wdXBdLnBvcG92ZXIuYm90dG9tLXJpZ2h0ID4gLmFycm93LFt1aWItcG9wb3Zlci1odG1sLXBvcHVwXS5wb3BvdmVyLmxlZnQtdG9wID4gLmFycm93LFt1aWItcG9wb3Zlci1odG1sLXBvcHVwXS5wb3BvdmVyLmxlZnQtYm90dG9tID4gLmFycm93LFt1aWItcG9wb3Zlci1odG1sLXBvcHVwXS5wb3BvdmVyLnJpZ2h0LXRvcCA+IC5hcnJvdyxbdWliLXBvcG92ZXItaHRtbC1wb3B1cF0ucG9wb3Zlci5yaWdodC1ib3R0b20gPiAuYXJyb3csW3VpYi1wb3BvdmVyLXRlbXBsYXRlLXBvcHVwXS5wb3BvdmVyLnRvcC1sZWZ0ID4gLmFycm93LFt1aWItcG9wb3Zlci10ZW1wbGF0ZS1wb3B1cF0ucG9wb3Zlci50b3AtcmlnaHQgPiAuYXJyb3csW3VpYi1wb3BvdmVyLXRlbXBsYXRlLXBvcHVwXS5wb3BvdmVyLmJvdHRvbS1sZWZ0ID4gLmFycm93LFt1aWItcG9wb3Zlci10ZW1wbGF0ZS1wb3B1cF0ucG9wb3Zlci5ib3R0b20tcmlnaHQgPiAuYXJyb3csW3VpYi1wb3BvdmVyLXRlbXBsYXRlLXBvcHVwXS5wb3BvdmVyLmxlZnQtdG9wID4gLmFycm93LFt1aWItcG9wb3Zlci10ZW1wbGF0ZS1wb3B1cF0ucG9wb3Zlci5sZWZ0LWJvdHRvbSA+IC5hcnJvdyxbdWliLXBvcG92ZXItdGVtcGxhdGUtcG9wdXBdLnBvcG92ZXIucmlnaHQtdG9wID4gLmFycm93LFt1aWItcG9wb3Zlci10ZW1wbGF0ZS1wb3B1cF0ucG9wb3Zlci5yaWdodC1ib3R0b20gPiAuYXJyb3d7dG9wOmF1dG87Ym90dG9tOmF1dG87bGVmdDphdXRvO3JpZ2h0OmF1dG87bWFyZ2luOjA7fVt1aWItcG9wb3Zlci1wb3B1cF0ucG9wb3ZlcixbdWliLXBvcG92ZXItaHRtbC1wb3B1cF0ucG9wb3ZlcixbdWliLXBvcG92ZXItdGVtcGxhdGUtcG9wdXBdLnBvcG92ZXJ7ZGlzcGxheTpibG9jayAhaW1wb3J0YW50O308L3N0eWxlPicpOyBhbmd1bGFyLiQkdWliVG9vbHRpcENzcyA9IHRydWU7IH0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50aW1lcGlja2VyJykucnVuKGZ1bmN0aW9uKCkgeyFhbmd1bGFyLiQkY3NwKCkubm9JbmxpbmVTdHlsZSAmJiAhYW5ndWxhci4kJHVpYlRpbWVwaWNrZXJDc3MgJiYgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCdoZWFkJykucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPi51aWItdGltZSBpbnB1dHt3aWR0aDo1MHB4O308L3N0eWxlPicpOyBhbmd1bGFyLiQkdWliVGltZXBpY2tlckNzcyA9IHRydWU7IH0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50eXBlYWhlYWQnKS5ydW4oZnVuY3Rpb24oKSB7IWFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlICYmICFhbmd1bGFyLiQkdWliVHlwZWFoZWFkQ3NzICYmIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgnaGVhZCcpLnByZXBlbmQoJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5bdWliLXR5cGVhaGVhZC1wb3B1cF0uZHJvcGRvd24tbWVudXtkaXNwbGF5OmJsb2NrO308L3N0eWxlPicpOyBhbmd1bGFyLiQkdWliVHlwZWFoZWFkQ3NzID0gdHJ1ZTsgfSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3B1YmxpYy9qcy9saWJzL3VpLWJvb3RzdHJhcC10cGxzLTEuMy4xLmpzXG4gKiogbW9kdWxlIGlkID0gNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIGxvZGFzaCA0LjEwLjAgKEN1c3RvbSBCdWlsZCkgbG9kYXNoLmNvbS9saWNlbnNlIHwgVW5kZXJzY29yZS5qcyAxLjguMyB1bmRlcnNjb3JlanMub3JnL0xJQ0VOU0VcclxuICogQnVpbGQ6IGBsb2Rhc2ggLW8gLi9kaXN0L2xvZGFzaC5qc2BcclxuICovXHJcbjsoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIHQuc2V0KG5bMF0sblsxXSksdH1mdW5jdGlvbiBuKHQsbil7cmV0dXJuIHQuYWRkKG4pLHR9ZnVuY3Rpb24gcih0LG4scil7c3dpdGNoKHIubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIHQuY2FsbChuKTtjYXNlIDE6cmV0dXJuIHQuY2FsbChuLHJbMF0pO2Nhc2UgMjpyZXR1cm4gdC5jYWxsKG4sclswXSxyWzFdKTtjYXNlIDM6cmV0dXJuIHQuY2FsbChuLHJbMF0sclsxXSxyWzJdKX1yZXR1cm4gdC5hcHBseShuLHIpfWZ1bmN0aW9uIGUodCxuLHIsZSl7Zm9yKHZhciB1PS0xLG89dC5sZW5ndGg7Kyt1PG87KXt2YXIgaT10W3VdO24oZSxpLHIoaSksdCl9cmV0dXJuIGV9ZnVuY3Rpb24gdSh0LG4pe2Zvcih2YXIgcj0tMSxlPXQubGVuZ3RoOysrcjxlJiZmYWxzZSE9PW4odFtyXSxyLHQpOyk7cmV0dXJuIHR9ZnVuY3Rpb24gbyh0LG4pe2Zvcih2YXIgcj0tMSxlPXQubGVuZ3RoOysrcjxlOylpZighbih0W3JdLHIsdCkpcmV0dXJuIGZhbHNlO1xyXG5yZXR1cm4gdHJ1ZX1mdW5jdGlvbiBpKHQsbil7Zm9yKHZhciByPS0xLGU9dC5sZW5ndGgsdT0wLG89W107KytyPGU7KXt2YXIgaT10W3JdO24oaSxyLHQpJiYob1t1KytdPWkpfXJldHVybiBvfWZ1bmN0aW9uIGYodCxuKXtyZXR1cm4hIXQubGVuZ3RoJiYtMTxkKHQsbiwwKX1mdW5jdGlvbiBjKHQsbixyKXtmb3IodmFyIGU9LTEsdT10Lmxlbmd0aDsrK2U8dTspaWYocihuLHRbZV0pKXJldHVybiB0cnVlO3JldHVybiBmYWxzZX1mdW5jdGlvbiBhKHQsbil7Zm9yKHZhciByPS0xLGU9dC5sZW5ndGgsdT1BcnJheShlKTsrK3I8ZTspdVtyXT1uKHRbcl0scix0KTtyZXR1cm4gdX1mdW5jdGlvbiBsKHQsbil7Zm9yKHZhciByPS0xLGU9bi5sZW5ndGgsdT10Lmxlbmd0aDsrK3I8ZTspdFt1K3JdPW5bcl07cmV0dXJuIHR9ZnVuY3Rpb24gcyh0LG4scixlKXt2YXIgdT0tMSxvPXQubGVuZ3RoO2ZvcihlJiZvJiYocj10WysrdV0pOysrdTxvOylyPW4ocix0W3VdLHUsdCk7cmV0dXJuIHJ9ZnVuY3Rpb24gaCh0LG4scixlKXtcclxudmFyIHU9dC5sZW5ndGg7Zm9yKGUmJnUmJihyPXRbLS11XSk7dS0tOylyPW4ocix0W3VdLHUsdCk7cmV0dXJuIHJ9ZnVuY3Rpb24gcCh0LG4pe2Zvcih2YXIgcj0tMSxlPXQubGVuZ3RoOysrcjxlOylpZihuKHRbcl0scix0KSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gXyh0LG4scil7Zm9yKHZhciBlPS0xLHU9dC5sZW5ndGg7KytlPHU7KXt2YXIgbz10W2VdLGk9bihvKTtpZihudWxsIT1pJiYoZj09PVQ/aT09PWk6cihpLGYpKSl2YXIgZj1pLGM9b31yZXR1cm4gY31mdW5jdGlvbiB2KHQsbixyLGUpe3ZhciB1O3JldHVybiByKHQsZnVuY3Rpb24odCxyLG8pe3JldHVybiBuKHQscixvKT8odT1lP3I6dCxmYWxzZSk6dm9pZCAwfSksdX1mdW5jdGlvbiBnKHQsbixyKXtmb3IodmFyIGU9dC5sZW5ndGgsdT1yP2U6LTE7cj91LS06Kyt1PGU7KWlmKG4odFt1XSx1LHQpKXJldHVybiB1O3JldHVybi0xfWZ1bmN0aW9uIGQodCxuLHIpe2lmKG4hPT1uKXJldHVybiBVKHQscik7LS1yO2Zvcih2YXIgZT10Lmxlbmd0aDsrK3I8ZTspaWYodFtyXT09PW4pcmV0dXJuIHI7XHJcbnJldHVybi0xfWZ1bmN0aW9uIHkodCxuLHIsZSl7LS1yO2Zvcih2YXIgdT10Lmxlbmd0aDsrK3I8dTspaWYoZSh0W3JdLG4pKXJldHVybiByO3JldHVybi0xfWZ1bmN0aW9uIGIodCxuKXt2YXIgcj10P3QubGVuZ3RoOjA7cmV0dXJuIHI/bSh0LG4pL3I6S31mdW5jdGlvbiB4KHQsbixyLGUsdSl7cmV0dXJuIHUodCxmdW5jdGlvbih0LHUsbyl7cj1lPyhlPWZhbHNlLHQpOm4ocix0LHUsbyl9KSxyfWZ1bmN0aW9uIGoodCxuKXt2YXIgcj10Lmxlbmd0aDtmb3IodC5zb3J0KG4pO3ItLTspdFtyXT10W3JdLmM7cmV0dXJuIHR9ZnVuY3Rpb24gbSh0LG4pe2Zvcih2YXIgcixlPS0xLHU9dC5sZW5ndGg7KytlPHU7KXt2YXIgbz1uKHRbZV0pO28hPT1UJiYocj1yPT09VD9vOnIrbyl9cmV0dXJuIHJ9ZnVuY3Rpb24gdyh0LG4pe2Zvcih2YXIgcj0tMSxlPUFycmF5KHQpOysrcjx0OyllW3JdPW4ocik7cmV0dXJuIGV9ZnVuY3Rpb24gQSh0LG4pe3JldHVybiBhKG4sZnVuY3Rpb24obil7cmV0dXJuW24sdFtuXV07XHJcbn0pfWZ1bmN0aW9uIE8odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0KG4pfX1mdW5jdGlvbiBrKHQsbil7cmV0dXJuIGEobixmdW5jdGlvbihuKXtyZXR1cm4gdFtuXX0pfWZ1bmN0aW9uIEUodCxuKXtmb3IodmFyIHI9LTEsZT10Lmxlbmd0aDsrK3I8ZSYmLTE8ZChuLHRbcl0sMCk7KTtyZXR1cm4gcn1mdW5jdGlvbiBJKHQsbil7Zm9yKHZhciByPXQubGVuZ3RoO3ItLSYmLTE8ZChuLHRbcl0sMCk7KTtyZXR1cm4gcn1mdW5jdGlvbiBTKHQpe3JldHVybiB0JiZ0Lk9iamVjdD09PU9iamVjdD90Om51bGx9ZnVuY3Rpb24gUih0LG4pe2lmKHQhPT1uKXt2YXIgcj1udWxsPT09dCxlPXQ9PT1ULHU9dD09PXQsbz1udWxsPT09bixpPW49PT1ULGY9bj09PW47aWYodD5uJiYhb3x8IXV8fHImJiFpJiZmfHxlJiZmKXJldHVybiAxO2lmKG4+dCYmIXJ8fCFmfHxvJiYhZSYmdXx8aSYmdSlyZXR1cm4tMX1yZXR1cm4gMH1mdW5jdGlvbiBXKHQpe3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciBlO1xyXG5yZXR1cm4gbj09PVQmJnI9PT1UPzA6KG4hPT1UJiYoZT1uKSxyIT09VCYmKGU9ZT09PVQ/cjp0KGUscikpLGUpfX1mdW5jdGlvbiBCKHQpe3JldHVybiBNdFt0XX1mdW5jdGlvbiBDKHQpe3JldHVybiBMdFt0XX1mdW5jdGlvbiB6KHQpe3JldHVyblwiXFxcXFwiK0Z0W3RdfWZ1bmN0aW9uIFUodCxuLHIpe3ZhciBlPXQubGVuZ3RoO2ZvcihuKz1yPzA6LTE7cj9uLS06KytuPGU7KXt2YXIgdT10W25dO2lmKHUhPT11KXJldHVybiBufXJldHVybi0xfWZ1bmN0aW9uIE0odCl7dmFyIG49ZmFsc2U7aWYobnVsbCE9dCYmdHlwZW9mIHQudG9TdHJpbmchPVwiZnVuY3Rpb25cIil0cnl7bj0hISh0K1wiXCIpfWNhdGNoKHIpe31yZXR1cm4gbn1mdW5jdGlvbiBMKHQsbil7cmV0dXJuIHQ9dHlwZW9mIHQ9PVwibnVtYmVyXCJ8fGp0LnRlc3QodCk/K3Q6LTEsdD4tMSYmMD09dCUxJiYobnVsbD09bj85MDA3MTk5MjU0NzQwOTkxOm4pPnR9ZnVuY3Rpb24gJCh0KXtmb3IodmFyIG4scj1bXTshKG49dC5uZXh0KCkpLmRvbmU7KXIucHVzaChuLnZhbHVlKTtcclxucmV0dXJuIHJ9ZnVuY3Rpb24gRCh0KXt2YXIgbj0tMSxyPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LGUpe3JbKytuXT1bZSx0XX0pLHJ9ZnVuY3Rpb24gRih0LG4pe2Zvcih2YXIgcj0tMSxlPXQubGVuZ3RoLHU9MCxvPVtdOysrcjxlOyl7dmFyIGk9dFtyXTtpIT09biYmXCJfX2xvZGFzaF9wbGFjZWhvbGRlcl9fXCIhPT1pfHwodFtyXT1cIl9fbG9kYXNoX3BsYWNlaG9sZGVyX19cIixvW3UrK109cil9cmV0dXJuIG99ZnVuY3Rpb24gTih0KXt2YXIgbj0tMSxyPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtyWysrbl09dH0pLHJ9ZnVuY3Rpb24gUCh0KXtpZighdHx8IVd0LnRlc3QodCkpcmV0dXJuIHQubGVuZ3RoO2Zvcih2YXIgbj1TdC5sYXN0SW5kZXg9MDtTdC50ZXN0KHQpOyluKys7cmV0dXJuIG59ZnVuY3Rpb24gWih0KXtyZXR1cm4gJHRbdF19ZnVuY3Rpb24gcShTKXtmdW5jdGlvbiBqdCh0KXtpZihCZSh0KSYmIW5pKHQpJiYhKHQgaW5zdGFuY2VvZiBFdCkpe1xyXG5pZih0IGluc3RhbmNlb2Yga3QpcmV0dXJuIHQ7aWYoeXUuY2FsbCh0LFwiX193cmFwcGVkX19cIikpcmV0dXJuIFFyKHQpfXJldHVybiBuZXcga3QodCl9ZnVuY3Rpb24gT3QoKXt9ZnVuY3Rpb24ga3QodCxuKXt0aGlzLl9fd3JhcHBlZF9fPXQsdGhpcy5fX2FjdGlvbnNfXz1bXSx0aGlzLl9fY2hhaW5fXz0hIW4sdGhpcy5fX2luZGV4X189MCx0aGlzLl9fdmFsdWVzX189VH1mdW5jdGlvbiBFdCh0KXt0aGlzLl9fd3JhcHBlZF9fPXQsdGhpcy5fX2FjdGlvbnNfXz1bXSx0aGlzLl9fZGlyX189MSx0aGlzLl9fZmlsdGVyZWRfXz1mYWxzZSx0aGlzLl9faXRlcmF0ZWVzX189W10sdGhpcy5fX3Rha2VDb3VudF9fPTQyOTQ5NjcyOTUsdGhpcy5fX3ZpZXdzX189W119ZnVuY3Rpb24gTXQoKXt9ZnVuY3Rpb24gTHQodCl7dmFyIG49LTEscj10P3QubGVuZ3RoOjA7Zm9yKHRoaXMuY2xlYXIoKTsrK248cjspe3ZhciBlPXRbbl07dGhpcy5zZXQoZVswXSxlWzFdKX19ZnVuY3Rpb24gJHQodCl7dmFyIG49LTEscj10P3QubGVuZ3RoOjA7XHJcbmZvcih0aGlzLl9fZGF0YV9fPW5ldyBMdDsrK248cjspdGhpcy5wdXNoKHRbbl0pfWZ1bmN0aW9uIER0KHQsbil7dmFyIHI9dC5fX2RhdGFfXztyZXR1cm4gcXIobik/KHI9ci5fX2RhdGFfXyxcIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIj09PSh0eXBlb2Ygbj09XCJzdHJpbmdcIj9yLnN0cmluZzpyLmhhc2gpW25dKTpyLmhhcyhuKX1mdW5jdGlvbiBGdCh0KXt2YXIgbj0tMSxyPXQ/dC5sZW5ndGg6MDtmb3IodGhpcy5jbGVhcigpOysrbjxyOyl7dmFyIGU9dFtuXTt0aGlzLnNldChlWzBdLGVbMV0pfX1mdW5jdGlvbiBadCh0LG4pe3ZhciByPVZ0KHQsbik7cmV0dXJuIDA+cj9mYWxzZToocj09dC5sZW5ndGgtMT90LnBvcCgpOlV1LmNhbGwodCxyLDEpLHRydWUpfWZ1bmN0aW9uIHF0KHQsbil7dmFyIHI9VnQodCxuKTtyZXR1cm4gMD5yP1Q6dFtyXVsxXX1mdW5jdGlvbiBWdCh0LG4pe2Zvcih2YXIgcj10Lmxlbmd0aDtyLS07KWlmKG1lKHRbcl1bMF0sbikpcmV0dXJuIHI7cmV0dXJuLTF9ZnVuY3Rpb24gS3QodCxuLHIpe1xyXG52YXIgZT1WdCh0LG4pOzA+ZT90LnB1c2goW24scl0pOnRbZV1bMV09cn1mdW5jdGlvbiBHdCh0LG4scixlKXtyZXR1cm4gdD09PVR8fG1lKHQsZ3Vbcl0pJiYheXUuY2FsbChlLHIpP246dH1mdW5jdGlvbiBIdCh0LG4scil7KHI9PT1UfHxtZSh0W25dLHIpKSYmKHR5cGVvZiBuIT1cIm51bWJlclwifHxyIT09VHx8biBpbiB0KXx8KHRbbl09cil9ZnVuY3Rpb24gUXQodCxuLHIpe3ZhciBlPXRbbl07eXUuY2FsbCh0LG4pJiZtZShlLHIpJiYociE9PVR8fG4gaW4gdCl8fCh0W25dPXIpfWZ1bmN0aW9uIFh0KHQsbixyLGUpe3JldHVybiBsbyh0LGZ1bmN0aW9uKHQsdSxvKXtuKGUsdCxyKHQpLG8pfSksZX1mdW5jdGlvbiB0bih0LG4pe3JldHVybiB0JiZ1cihuLFllKG4pLHQpfWZ1bmN0aW9uIG5uKHQsbil7Zm9yKHZhciByPS0xLGU9bnVsbD09dCx1PW4ubGVuZ3RoLG89QXJyYXkodSk7KytyPHU7KW9bcl09ZT9UOktlKHQsbltyXSk7cmV0dXJuIG99ZnVuY3Rpb24gcm4odCxuLHIpe3JldHVybiB0PT09dCYmKHIhPT1UJiYodD10PnI/cjp0KSxcclxubiE9PVQmJih0PW4+dD9uOnQpKSx0fWZ1bmN0aW9uIGVuKHQsbixyLGUsbyxpLGYpe3ZhciBjO2lmKGUmJihjPWk/ZSh0LG8saSxmKTplKHQpKSxjIT09VClyZXR1cm4gYztpZighV2UodCkpcmV0dXJuIHQ7aWYobz1uaSh0KSl7aWYoYz1Ncih0KSwhbilyZXR1cm4gZXIodCxjKX1lbHNle3ZhciBhPXpyKHQpLGw9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT1hfHxcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCI9PWE7aWYocmkodCkpcmV0dXJuIFhuKHQsbik7aWYoXCJbb2JqZWN0IE9iamVjdF1cIj09YXx8XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09YXx8bCYmIWkpe2lmKE0odCkpcmV0dXJuIGk/dDp7fTtpZihjPUxyKGw/e306dCksIW4pcmV0dXJuIGlyKHQsdG4oYyx0KSl9ZWxzZXtpZighVXRbYV0pcmV0dXJuIGk/dDp7fTtjPSRyKHQsYSxlbixuKX19aWYoZnx8KGY9bmV3IEZ0KSxpPWYuZ2V0KHQpKXJldHVybiBpO2lmKGYuc2V0KHQsYyksIW8pdmFyIHM9cj9nbih0LFllLENyKTpZZSh0KTtyZXR1cm4gdShzfHx0LGZ1bmN0aW9uKHUsbyl7XHJcbnMmJihvPXUsdT10W29dKSxRdChjLG8sZW4odSxuLHIsZSxvLHQsZikpfSksY31mdW5jdGlvbiB1bih0KXt2YXIgbj1ZZSh0KSxyPW4ubGVuZ3RoO3JldHVybiBmdW5jdGlvbihlKXtpZihudWxsPT1lKXJldHVybiFyO2Zvcih2YXIgdT1yO3UtLTspe3ZhciBvPW5bdV0saT10W29dLGY9ZVtvXTtpZihmPT09VCYmIShvIGluIE9iamVjdChlKSl8fCFpKGYpKXJldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX19ZnVuY3Rpb24gb24odCl7cmV0dXJuIFdlKHQpP0J1KHQpOnt9fWZ1bmN0aW9uIGZuKHQsbixyKXtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBfdShcIkV4cGVjdGVkIGEgZnVuY3Rpb25cIik7cmV0dXJuIHp1KGZ1bmN0aW9uKCl7dC5hcHBseShULHIpfSxuKX1mdW5jdGlvbiBjbih0LG4scixlKXt2YXIgdT0tMSxvPWYsaT10cnVlLGw9dC5sZW5ndGgscz1bXSxoPW4ubGVuZ3RoO2lmKCFsKXJldHVybiBzO3ImJihuPWEobixPKHIpKSksZT8obz1jLGk9ZmFsc2UpOm4ubGVuZ3RoPj0yMDAmJihvPUR0LFxyXG5pPWZhbHNlLG49bmV3ICR0KG4pKTt0OmZvcig7Kyt1PGw7KXt2YXIgcD10W3VdLF89cj9yKHApOnA7aWYoaSYmXz09PV8pe2Zvcih2YXIgdj1oO3YtLTspaWYoblt2XT09PV8pY29udGludWUgdDtzLnB1c2gocCl9ZWxzZSBvKG4sXyxlKXx8cy5wdXNoKHApfXJldHVybiBzfWZ1bmN0aW9uIGFuKHQsbil7dmFyIHI9dHJ1ZTtyZXR1cm4gbG8odCxmdW5jdGlvbih0LGUsdSl7cmV0dXJuIHI9ISFuKHQsZSx1KX0pLHJ9ZnVuY3Rpb24gbG4odCxuKXt2YXIgcj1bXTtyZXR1cm4gbG8odCxmdW5jdGlvbih0LGUsdSl7bih0LGUsdSkmJnIucHVzaCh0KX0pLHJ9ZnVuY3Rpb24gc24odCxuLHIsZSx1KXt2YXIgbz0tMSxpPXQubGVuZ3RoO2ZvcihyfHwocj1GciksdXx8KHU9W10pOysrbzxpOyl7dmFyIGY9dFtvXTtuPjAmJnIoZik/bj4xP3NuKGYsbi0xLHIsZSx1KTpsKHUsZik6ZXx8KHVbdS5sZW5ndGhdPWYpfXJldHVybiB1fWZ1bmN0aW9uIGhuKHQsbil7cmV0dXJuIHQmJmhvKHQsbixZZSl9ZnVuY3Rpb24gcG4odCxuKXtcclxucmV0dXJuIHQmJnBvKHQsbixZZSl9ZnVuY3Rpb24gX24odCxuKXtyZXR1cm4gaShuLGZ1bmN0aW9uKG4pe3JldHVybiBJZSh0W25dKX0pfWZ1bmN0aW9uIHZuKHQsbil7bj1acihuLHQpP1tuXTpIbihuKTtmb3IodmFyIHI9MCxlPW4ubGVuZ3RoO251bGwhPXQmJmU+cjspdD10W25bcisrXV07cmV0dXJuIHImJnI9PWU/dDpUfWZ1bmN0aW9uIGduKHQsbixyKXtyZXR1cm4gbj1uKHQpLG5pKHQpP246bChuLHIodCkpfWZ1bmN0aW9uIGRuKHQsbil7cmV0dXJuIHl1LmNhbGwodCxuKXx8dHlwZW9mIHQ9PVwib2JqZWN0XCImJm4gaW4gdCYmbnVsbD09PSR1KE9iamVjdCh0KSl9ZnVuY3Rpb24geW4odCxuKXtyZXR1cm4gbiBpbiBPYmplY3QodCl9ZnVuY3Rpb24gYm4odCxuLHIpe2Zvcih2YXIgZT1yP2M6Zix1PXRbMF0ubGVuZ3RoLG89dC5sZW5ndGgsaT1vLGw9QXJyYXkobykscz0xLzAsaD1bXTtpLS07KXt2YXIgcD10W2ldO2kmJm4mJihwPWEocCxPKG4pKSkscz1adShwLmxlbmd0aCxzKSxcclxubFtpXT1yfHwhbiYmKDEyMD51fHwxMjA+cC5sZW5ndGgpP1Q6bmV3ICR0KGkmJnApfXZhciBwPXRbMF0sXz0tMSx2PWxbMF07dDpmb3IoOysrXzx1JiZzPmgubGVuZ3RoOyl7dmFyIGc9cFtfXSxkPW4/bihnKTpnO2lmKHY/IUR0KHYsZCk6IWUoaCxkLHIpKXtmb3IoaT1vOy0taTspe3ZhciB5PWxbaV07aWYoeT8hRHQoeSxkKTohZSh0W2ldLGQscikpY29udGludWUgdH12JiZ2LnB1c2goZCksaC5wdXNoKGcpfX1yZXR1cm4gaH1mdW5jdGlvbiB4bih0LG4scil7dmFyIGU9e307cmV0dXJuIGhuKHQsZnVuY3Rpb24odCx1LG8pe24oZSxyKHQpLHUsbyl9KSxlfWZ1bmN0aW9uIGpuKHQsbixlKXtyZXR1cm4gWnIobix0KXx8KG49SG4obiksdD1Kcih0LG4pLG49cmUobikpLG49bnVsbD09dD90OnRbbl0sbnVsbD09bj9UOnIobix0LGUpfWZ1bmN0aW9uIG1uKHQsbixyLGUsdSl7aWYodD09PW4pbj10cnVlO2Vsc2UgaWYobnVsbD09dHx8bnVsbD09bnx8IVdlKHQpJiYhQmUobikpbj10IT09dCYmbiE9PW47ZWxzZSB0OntcclxudmFyIG89bmkodCksaT1uaShuKSxmPVwiW29iamVjdCBBcnJheV1cIixjPVwiW29iamVjdCBBcnJheV1cIjtvfHwoZj16cih0KSxmPVwiW29iamVjdCBBcmd1bWVudHNdXCI9PWY/XCJbb2JqZWN0IE9iamVjdF1cIjpmKSxpfHwoYz16cihuKSxjPVwiW29iamVjdCBBcmd1bWVudHNdXCI9PWM/XCJbb2JqZWN0IE9iamVjdF1cIjpjKTt2YXIgYT1cIltvYmplY3QgT2JqZWN0XVwiPT1mJiYhTSh0KSxpPVwiW29iamVjdCBPYmplY3RdXCI9PWMmJiFNKG4pO2lmKChjPWY9PWMpJiYhYSl1fHwodT1uZXcgRnQpLG49b3x8RGUodCk/a3IodCxuLG1uLHIsZSx1KTpFcih0LG4sZixtbixyLGUsdSk7ZWxzZXtpZighKDImZSkmJihvPWEmJnl1LmNhbGwodCxcIl9fd3JhcHBlZF9fXCIpLGY9aSYmeXUuY2FsbChuLFwiX193cmFwcGVkX19cIiksb3x8Zikpe3Q9bz90LnZhbHVlKCk6dCxuPWY/bi52YWx1ZSgpOm4sdXx8KHU9bmV3IEZ0KSxuPW1uKHQsbixyLGUsdSk7YnJlYWsgdH1pZihjKW46aWYodXx8KHU9bmV3IEZ0KSxvPTImZSxcclxuZj1ZZSh0KSxpPWYubGVuZ3RoLGM9WWUobikubGVuZ3RoLGk9PWN8fG8pe2ZvcihhPWk7YS0tOyl7dmFyIGw9ZlthXTtpZighKG8/bCBpbiBuOmRuKG4sbCkpKXtuPWZhbHNlO2JyZWFrIG59fWlmKGM9dS5nZXQodCkpbj1jPT1uO2Vsc2V7Yz10cnVlLHUuc2V0KHQsbik7Zm9yKHZhciBzPW87KythPGk7KXt2YXIgbD1mW2FdLGg9dFtsXSxwPW5bbF07aWYocil2YXIgXz1vP3IocCxoLGwsbix0LHUpOnIoaCxwLGwsdCxuLHUpO2lmKF89PT1UP2ghPT1wJiYhbW4oaCxwLHIsZSx1KTohXyl7Yz1mYWxzZTticmVha31zfHwocz1cImNvbnN0cnVjdG9yXCI9PWwpfWMmJiFzJiYocj10LmNvbnN0cnVjdG9yLGU9bi5jb25zdHJ1Y3RvcixyIT1lJiZcImNvbnN0cnVjdG9yXCJpbiB0JiZcImNvbnN0cnVjdG9yXCJpbiBuJiYhKHR5cGVvZiByPT1cImZ1bmN0aW9uXCImJnIgaW5zdGFuY2VvZiByJiZ0eXBlb2YgZT09XCJmdW5jdGlvblwiJiZlIGluc3RhbmNlb2YgZSkmJihjPWZhbHNlKSksdVtcImRlbGV0ZVwiXSh0KSxuPWN9fWVsc2Ugbj1mYWxzZTtlbHNlIG49ZmFsc2U7XHJcbn19cmV0dXJuIG59ZnVuY3Rpb24gd24odCxuLHIsZSl7dmFyIHU9ci5sZW5ndGgsbz11LGk9IWU7aWYobnVsbD09dClyZXR1cm4hbztmb3IodD1PYmplY3QodCk7dS0tOyl7dmFyIGY9clt1XTtpZihpJiZmWzJdP2ZbMV0hPT10W2ZbMF1dOiEoZlswXWluIHQpKXJldHVybiBmYWxzZX1mb3IoOysrdTxvOyl7dmFyIGY9clt1XSxjPWZbMF0sYT10W2NdLGw9ZlsxXTtpZihpJiZmWzJdKXtpZihhPT09VCYmIShjIGluIHQpKXJldHVybiBmYWxzZX1lbHNle2lmKGY9bmV3IEZ0LGUpdmFyIHM9ZShhLGwsYyx0LG4sZik7aWYocz09PVQ/IW1uKGwsYSxlLDMsZik6IXMpcmV0dXJuIGZhbHNlfX1yZXR1cm4gdHJ1ZX1mdW5jdGlvbiBBbih0KXtyZXR1cm4gdHlwZW9mIHQ9PVwiZnVuY3Rpb25cIj90Om51bGw9PXQ/b3U6dHlwZW9mIHQ9PVwib2JqZWN0XCI/bmkodCk/SW4odFswXSx0WzFdKTpFbih0KTphdSh0KX1mdW5jdGlvbiBPbih0KXt0PW51bGw9PXQ/dDpPYmplY3QodCk7dmFyIG4scj1bXTtmb3IobiBpbiB0KXIucHVzaChuKTtcclxucmV0dXJuIHJ9ZnVuY3Rpb24ga24odCxuKXt2YXIgcj0tMSxlPU9lKHQpP0FycmF5KHQubGVuZ3RoKTpbXTtyZXR1cm4gbG8odCxmdW5jdGlvbih0LHUsbyl7ZVsrK3JdPW4odCx1LG8pfSksZX1mdW5jdGlvbiBFbih0KXt2YXIgbj1Scih0KTtyZXR1cm4gMT09bi5sZW5ndGgmJm5bMF1bMl0/S3IoblswXVswXSxuWzBdWzFdKTpmdW5jdGlvbihyKXtyZXR1cm4gcj09PXR8fHduKHIsdCxuKX19ZnVuY3Rpb24gSW4odCxuKXtyZXR1cm4gWnIodCkmJm49PT1uJiYhV2Uobik/S3IodCxuKTpmdW5jdGlvbihyKXt2YXIgZT1LZShyLHQpO3JldHVybiBlPT09VCYmZT09PW4/SmUocix0KTptbihuLGUsVCwzKX19ZnVuY3Rpb24gU24odCxuLHIsZSxvKXtpZih0IT09bil7aWYoIW5pKG4pJiYhRGUobikpdmFyIGk9SGUobik7dShpfHxuLGZ1bmN0aW9uKHUsZil7aWYoaSYmKGY9dSx1PW5bZl0pLFdlKHUpKXtvfHwobz1uZXcgRnQpO3ZhciBjPWYsYT1vLGw9dFtjXSxzPW5bY10saD1hLmdldChzKTtcclxuaWYoaClIdCh0LGMsaCk7ZWxzZXt2YXIgaD1lP2UobCxzLGMrXCJcIix0LG4sYSk6VCxwPWg9PT1UO3AmJihoPXMsbmkocyl8fERlKHMpP25pKGwpP2g9bDprZShsKT9oPWVyKGwpOihwPWZhbHNlLGg9ZW4ocyx0cnVlKSk6VWUocyl8fEFlKHMpP0FlKGwpP2g9VGUobCk6IVdlKGwpfHxyJiZJZShsKT8ocD1mYWxzZSxoPWVuKHMsdHJ1ZSkpOmg9bDpwPWZhbHNlKSxhLnNldChzLGgpLHAmJlNuKGgscyxyLGUsYSksYVtcImRlbGV0ZVwiXShzKSxIdCh0LGMsaCl9fWVsc2UgYz1lP2UodFtmXSx1LGYrXCJcIix0LG4sbyk6VCxjPT09VCYmKGM9dSksSHQodCxmLGMpfSl9fWZ1bmN0aW9uIFJuKHQsbixyKXt2YXIgZT0tMTtyZXR1cm4gbj1hKG4ubGVuZ3RoP246W291XSxTcigpKSx0PWtuKHQsZnVuY3Rpb24odCl7cmV0dXJue2E6YShuLGZ1bmN0aW9uKG4pe3JldHVybiBuKHQpfSksYjorK2UsYzp0fX0pLGoodCxmdW5jdGlvbih0LG4pe3ZhciBlO3Q6e2U9LTE7Zm9yKHZhciB1PXQuYSxvPW4uYSxpPXUubGVuZ3RoLGY9ci5sZW5ndGg7KytlPGk7KXtcclxudmFyIGM9Uih1W2VdLG9bZV0pO2lmKGMpe2U9Zj5lP2MqKFwiZGVzY1wiPT1yW2VdPy0xOjEpOmM7YnJlYWsgdH19ZT10LmItbi5ifXJldHVybiBlfSl9ZnVuY3Rpb24gV24odCxuKXtyZXR1cm4gdD1PYmplY3QodCkscyhuLGZ1bmN0aW9uKG4scil7cmV0dXJuIHIgaW4gdCYmKG5bcl09dFtyXSksbn0se30pfWZ1bmN0aW9uIEJuKHQsbil7Zm9yKHZhciByPS0xLGU9Z24odCxIZSxibyksdT1lLmxlbmd0aCxvPXt9Oysrcjx1Oyl7dmFyIGk9ZVtyXSxmPXRbaV07bihmLGkpJiYob1tpXT1mKX1yZXR1cm4gb31mdW5jdGlvbiBDbih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/VDpuW3RdfX1mdW5jdGlvbiB6bih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHZuKG4sdCl9fWZ1bmN0aW9uIFVuKHQsbixyLGUpe3ZhciB1PWU/eTpkLG89LTEsaT1uLmxlbmd0aCxmPXQ7Zm9yKHImJihmPWEodCxPKHIpKSk7KytvPGk7KWZvcih2YXIgYz0wLGw9bltvXSxsPXI/cihsKTpsOy0xPChjPXUoZixsLGMsZSkpOylmIT09dCYmVXUuY2FsbChmLGMsMSksXHJcblV1LmNhbGwodCxjLDEpO3JldHVybiB0fWZ1bmN0aW9uIE1uKHQsbil7Zm9yKHZhciByPXQ/bi5sZW5ndGg6MCxlPXItMTtyLS07KXt2YXIgdT1uW3JdO2lmKGU9PXJ8fHUhPW8pe3ZhciBvPXU7aWYoTCh1KSlVdS5jYWxsKHQsdSwxKTtlbHNlIGlmKFpyKHUsdCkpZGVsZXRlIHRbdV07ZWxzZXt2YXIgdT1Ibih1KSxpPUpyKHQsdSk7bnVsbCE9aSYmZGVsZXRlIGlbcmUodSldfX19fWZ1bmN0aW9uIExuKHQsbil7cmV0dXJuIHQrTHUoVHUoKSoobi10KzEpKX1mdW5jdGlvbiAkbih0LG4pe3ZhciByPVwiXCI7aWYoIXR8fDE+bnx8bj45MDA3MTk5MjU0NzQwOTkxKXJldHVybiByO2RvIG4lMiYmKHIrPXQpLChuPUx1KG4vMikpJiYodCs9dCk7d2hpbGUobik7cmV0dXJuIHJ9ZnVuY3Rpb24gRG4odCxuLHIsZSl7bj1acihuLHQpP1tuXTpIbihuKTtmb3IodmFyIHU9LTEsbz1uLmxlbmd0aCxpPW8tMSxmPXQ7bnVsbCE9ZiYmKyt1PG87KXt2YXIgYz1uW3VdO2lmKFdlKGYpKXt2YXIgYT1yO2lmKHUhPWkpe1xyXG52YXIgbD1mW2NdLGE9ZT9lKGwsYyxmKTpUO2E9PT1UJiYoYT1udWxsPT1sP0woblt1KzFdKT9bXTp7fTpsKX1RdChmLGMsYSl9Zj1mW2NdfXJldHVybiB0fWZ1bmN0aW9uIEZuKHQsbixyKXt2YXIgZT0tMSx1PXQubGVuZ3RoO2ZvcigwPm4mJihuPS1uPnU/MDp1K24pLHI9cj51P3U6ciwwPnImJihyKz11KSx1PW4+cj8wOnItbj4+PjAsbj4+Pj0wLHI9QXJyYXkodSk7KytlPHU7KXJbZV09dFtlK25dO3JldHVybiByfWZ1bmN0aW9uIE5uKHQsbil7dmFyIHI7cmV0dXJuIGxvKHQsZnVuY3Rpb24odCxlLHUpe3JldHVybiByPW4odCxlLHUpLCFyfSksISFyfWZ1bmN0aW9uIFBuKHQsbixyKXt2YXIgZT0wLHU9dD90Lmxlbmd0aDplO2lmKHR5cGVvZiBuPT1cIm51bWJlclwiJiZuPT09biYmMjE0NzQ4MzY0Nz49dSl7Zm9yKDt1PmU7KXt2YXIgbz1lK3U+Pj4xLGk9dFtvXTsocj9uPj1pOm4+aSkmJm51bGwhPT1pP2U9bysxOnU9b31yZXR1cm4gdX1yZXR1cm4gWm4odCxuLG91LHIpfWZ1bmN0aW9uIFpuKHQsbixyLGUpe1xyXG5uPXIobik7Zm9yKHZhciB1PTAsbz10P3QubGVuZ3RoOjAsaT1uIT09bixmPW51bGw9PT1uLGM9bj09PVQ7bz51Oyl7dmFyIGE9THUoKHUrbykvMiksbD1yKHRbYV0pLHM9bCE9PVQsaD1sPT09bDsoaT9ofHxlOmY/aCYmcyYmKGV8fG51bGwhPWwpOmM/aCYmKGV8fHMpOm51bGw9PWw/MDplP24+PWw6bj5sKT91PWErMTpvPWF9cmV0dXJuIFp1KG8sNDI5NDk2NzI5NCl9ZnVuY3Rpb24gcW4odCxuKXtmb3IodmFyIHI9MCxlPXQubGVuZ3RoLHU9dFswXSxvPW4/bih1KTp1LGk9byxmPTEsYz1bdV07KytyPGU7KXU9dFtyXSxvPW4/bih1KTp1LG1lKG8saSl8fChpPW8sY1tmKytdPXUpO3JldHVybiBjfWZ1bmN0aW9uIFRuKHQsbixyKXt2YXIgZT0tMSx1PWYsbz10Lmxlbmd0aCxpPXRydWUsYT1bXSxsPWE7aWYocilpPWZhbHNlLHU9YztlbHNlIGlmKG88MjAwKWw9bj9bXTphO2Vsc2V7aWYodT1uP251bGw6dm8odCkpcmV0dXJuIE4odSk7aT1mYWxzZSx1PUR0LGw9bmV3ICR0fXQ6Zm9yKDsrK2U8bzspe1xyXG52YXIgcz10W2VdLGg9bj9uKHMpOnM7aWYoaSYmaD09PWgpe2Zvcih2YXIgcD1sLmxlbmd0aDtwLS07KWlmKGxbcF09PT1oKWNvbnRpbnVlIHQ7biYmbC5wdXNoKGgpLGEucHVzaChzKX1lbHNlIHUobCxoLHIpfHwobCE9PWEmJmwucHVzaChoKSxhLnB1c2gocykpfXJldHVybiBhfWZ1bmN0aW9uIFZuKHQsbixyLGUpe2Zvcih2YXIgdT10Lmxlbmd0aCxvPWU/dTotMTsoZT9vLS06KytvPHUpJiZuKHRbb10sbyx0KTspO3JldHVybiByP0ZuKHQsZT8wOm8sZT9vKzE6dSk6Rm4odCxlP28rMTowLGU/dTpvKX1mdW5jdGlvbiBLbih0LG4pe3ZhciByPXQ7cmV0dXJuIHIgaW5zdGFuY2VvZiBFdCYmKHI9ci52YWx1ZSgpKSxzKG4sZnVuY3Rpb24odCxuKXtyZXR1cm4gbi5mdW5jLmFwcGx5KG4udGhpc0FyZyxsKFt0XSxuLmFyZ3MpKX0scil9ZnVuY3Rpb24gR24odCxuLHIpe2Zvcih2YXIgZT0tMSx1PXQubGVuZ3RoOysrZTx1Oyl2YXIgbz1vP2woY24obyx0W2VdLG4sciksY24odFtlXSxvLG4scikpOnRbZV07XHJcbnJldHVybiBvJiZvLmxlbmd0aD9UbihvLG4scik6W119ZnVuY3Rpb24gSm4odCxuLHIpe2Zvcih2YXIgZT0tMSx1PXQubGVuZ3RoLG89bi5sZW5ndGgsaT17fTsrK2U8dTspcihpLHRbZV0sbz5lP25bZV06VCk7cmV0dXJuIGl9ZnVuY3Rpb24gWW4odCl7cmV0dXJuIGtlKHQpP3Q6W119ZnVuY3Rpb24gSG4odCl7cmV0dXJuIG5pKHQpP3Q6am8odCl9ZnVuY3Rpb24gUW4odCxuLHIpe3ZhciBlPXQubGVuZ3RoO3JldHVybiByPXI9PT1UP2U6cixufHxlPnI/Rm4odCxuLHIpOnR9ZnVuY3Rpb24gWG4odCxuKXtpZihuKXJldHVybiB0LnNsaWNlKCk7dmFyIHI9bmV3IHQuY29uc3RydWN0b3IodC5sZW5ndGgpO3JldHVybiB0LmNvcHkocikscn1mdW5jdGlvbiB0cih0KXt2YXIgbj1uZXcgdC5jb25zdHJ1Y3Rvcih0LmJ5dGVMZW5ndGgpO3JldHVybiBuZXcgRXUobikuc2V0KG5ldyBFdSh0KSksbn1mdW5jdGlvbiBucih0LG4scixlKXt2YXIgdT0tMSxvPXQubGVuZ3RoLGk9ci5sZW5ndGgsZj0tMSxjPW4ubGVuZ3RoLGE9UHUoby1pLDApLGw9QXJyYXkoYythKTtcclxuZm9yKGU9IWU7KytmPGM7KWxbZl09bltmXTtmb3IoOysrdTxpOykoZXx8bz51KSYmKGxbclt1XV09dFt1XSk7Zm9yKDthLS07KWxbZisrXT10W3UrK107cmV0dXJuIGx9ZnVuY3Rpb24gcnIodCxuLHIsZSl7dmFyIHU9LTEsbz10Lmxlbmd0aCxpPS0xLGY9ci5sZW5ndGgsYz0tMSxhPW4ubGVuZ3RoLGw9UHUoby1mLDApLHM9QXJyYXkobCthKTtmb3IoZT0hZTsrK3U8bDspc1t1XT10W3VdO2ZvcihsPXU7KytjPGE7KXNbbCtjXT1uW2NdO2Zvcig7KytpPGY7KShlfHxvPnUpJiYoc1tsK3JbaV1dPXRbdSsrXSk7cmV0dXJuIHN9ZnVuY3Rpb24gZXIodCxuKXt2YXIgcj0tMSxlPXQubGVuZ3RoO2ZvcihufHwobj1BcnJheShlKSk7KytyPGU7KW5bcl09dFtyXTtyZXR1cm4gbn1mdW5jdGlvbiB1cih0LG4scil7cmV0dXJuIG9yKHQsbixyKX1mdW5jdGlvbiBvcih0LG4scixlKXtyfHwocj17fSk7Zm9yKHZhciB1PS0xLG89bi5sZW5ndGg7Kyt1PG87KXt2YXIgaT1uW3VdLGY9ZT9lKHJbaV0sdFtpXSxpLHIsdCk6dFtpXTtcclxuUXQocixpLGYpfXJldHVybiByfWZ1bmN0aW9uIGlyKHQsbil7cmV0dXJuIHVyKHQsQ3IodCksbil9ZnVuY3Rpb24gZnIodCxuKXtyZXR1cm4gZnVuY3Rpb24ocix1KXt2YXIgbz1uaShyKT9lOlh0LGk9bj9uKCk6e307cmV0dXJuIG8ocix0LFNyKHUpLGkpfX1mdW5jdGlvbiBjcih0KXtyZXR1cm4geGUoZnVuY3Rpb24obixyKXt2YXIgZT0tMSx1PXIubGVuZ3RoLG89dT4xP3JbdS0xXTpULGk9dT4yP3JbMl06VCxvPXR5cGVvZiBvPT1cImZ1bmN0aW9uXCI/KHUtLSxvKTpUO2ZvcihpJiZQcihyWzBdLHJbMV0saSkmJihvPTM+dT9UOm8sdT0xKSxuPU9iamVjdChuKTsrK2U8dTspKGk9cltlXSkmJnQobixpLGUsbyk7cmV0dXJuIG59KX1mdW5jdGlvbiBhcih0LG4pe3JldHVybiBmdW5jdGlvbihyLGUpe2lmKG51bGw9PXIpcmV0dXJuIHI7aWYoIU9lKHIpKXJldHVybiB0KHIsZSk7Zm9yKHZhciB1PXIubGVuZ3RoLG89bj91Oi0xLGk9T2JqZWN0KHIpOyhuP28tLTorK288dSkmJmZhbHNlIT09ZShpW29dLG8saSk7KTtcclxucmV0dXJuIHJ9fWZ1bmN0aW9uIGxyKHQpe3JldHVybiBmdW5jdGlvbihuLHIsZSl7dmFyIHU9LTEsbz1PYmplY3Qobik7ZT1lKG4pO2Zvcih2YXIgaT1lLmxlbmd0aDtpLS07KXt2YXIgZj1lW3Q/aTorK3VdO2lmKGZhbHNlPT09cihvW2ZdLGYsbykpYnJlYWt9cmV0dXJuIG59fWZ1bmN0aW9uIHNyKHQsbixyKXtmdW5jdGlvbiBlKCl7cmV0dXJuKHRoaXMmJnRoaXMhPT1KdCYmdGhpcyBpbnN0YW5jZW9mIGU/bzp0KS5hcHBseSh1P3I6dGhpcyxhcmd1bWVudHMpfXZhciB1PTEmbixvPV9yKHQpO3JldHVybiBlfWZ1bmN0aW9uIGhyKHQpe3JldHVybiBmdW5jdGlvbihuKXtuPVZlKG4pO3ZhciByPVd0LnRlc3Qobik/bi5tYXRjaChTdCk6VCxlPXI/clswXTpuLmNoYXJBdCgwKTtyZXR1cm4gbj1yP1FuKHIsMSkuam9pbihcIlwiKTpuLnNsaWNlKDEpLGVbdF0oKStufX1mdW5jdGlvbiBwcih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHMoZXUocnUobikpLHQsXCJcIil9fWZ1bmN0aW9uIF9yKHQpe1xyXG5yZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1hcmd1bWVudHM7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoblswXSk7Y2FzZSAyOnJldHVybiBuZXcgdChuWzBdLG5bMV0pO2Nhc2UgMzpyZXR1cm4gbmV3IHQoblswXSxuWzFdLG5bMl0pO2Nhc2UgNDpyZXR1cm4gbmV3IHQoblswXSxuWzFdLG5bMl0sblszXSk7Y2FzZSA1OnJldHVybiBuZXcgdChuWzBdLG5bMV0sblsyXSxuWzNdLG5bNF0pO2Nhc2UgNjpyZXR1cm4gbmV3IHQoblswXSxuWzFdLG5bMl0sblszXSxuWzRdLG5bNV0pO2Nhc2UgNzpyZXR1cm4gbmV3IHQoblswXSxuWzFdLG5bMl0sblszXSxuWzRdLG5bNV0sbls2XSl9dmFyIHI9b24odC5wcm90b3R5cGUpLG49dC5hcHBseShyLG4pO3JldHVybiBXZShuKT9uOnJ9fWZ1bmN0aW9uIHZyKHQsbixlKXtmdW5jdGlvbiB1KCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsZj1BcnJheShpKSxjPWksYT1Ccih1KTtjLS07KWZbY109YXJndW1lbnRzW2NdO1xyXG5yZXR1cm4gYz0zPmkmJmZbMF0hPT1hJiZmW2ktMV0hPT1hP1tdOkYoZixhKSxpLT1jLmxlbmd0aCxlPmk/d3IodCxuLGRyLHUucGxhY2Vob2xkZXIsVCxmLGMsVCxULGUtaSk6cih0aGlzJiZ0aGlzIT09SnQmJnRoaXMgaW5zdGFuY2VvZiB1P286dCx0aGlzLGYpfXZhciBvPV9yKHQpO3JldHVybiB1fWZ1bmN0aW9uIGdyKHQpe3JldHVybiB4ZShmdW5jdGlvbihuKXtuPXNuKG4sMSk7dmFyIHI9bi5sZW5ndGgsZT1yLHU9a3QucHJvdG90eXBlLnRocnU7Zm9yKHQmJm4ucmV2ZXJzZSgpO2UtLTspe3ZhciBvPW5bZV07aWYodHlwZW9mIG8hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgX3UoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO2lmKHUmJiFpJiZcIndyYXBwZXJcIj09SXIobykpdmFyIGk9bmV3IGt0KFtdLHRydWUpfWZvcihlPWk/ZTpyOysrZTxyOyl2YXIgbz1uW2VdLHU9SXIobyksZj1cIndyYXBwZXJcIj09dT9nbyhvKTpULGk9ZiYmVHIoZlswXSkmJjQyND09ZlsxXSYmIWZbNF0ubGVuZ3RoJiYxPT1mWzldP2lbSXIoZlswXSldLmFwcGx5KGksZlszXSk6MT09by5sZW5ndGgmJlRyKG8pP2lbdV0oKTppLnRocnUobyk7XHJcbnJldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cyxlPXRbMF07aWYoaSYmMT09dC5sZW5ndGgmJm5pKGUpJiZlLmxlbmd0aD49MjAwKXJldHVybiBpLnBsYW50KGUpLnZhbHVlKCk7Zm9yKHZhciB1PTAsdD1yP25bdV0uYXBwbHkodGhpcyx0KTplOysrdTxyOyl0PW5bdV0uY2FsbCh0aGlzLHQpO3JldHVybiB0fX0pfWZ1bmN0aW9uIGRyKHQsbixyLGUsdSxvLGksZixjLGEpe2Z1bmN0aW9uIGwoKXtmb3IodmFyIGQ9YXJndW1lbnRzLmxlbmd0aCx5PWQsYj1BcnJheShkKTt5LS07KWJbeV09YXJndW1lbnRzW3ldO2lmKF8pe3ZhciB4LGo9QnIobCkseT1iLmxlbmd0aDtmb3IoeD0wO3ktLTspYlt5XT09PWomJngrK31pZihlJiYoYj1ucihiLGUsdSxfKSksbyYmKGI9cnIoYixvLGksXykpLGQtPXgsXyYmYT5kKXJldHVybiBqPUYoYixqKSx3cih0LG4sZHIsbC5wbGFjZWhvbGRlcixyLGIsaixmLGMsYS1kKTtpZihqPWg/cjp0aGlzLHk9cD9qW3RdOnQsZD1iLmxlbmd0aCxmKXt4PWIubGVuZ3RoO1xyXG5mb3IodmFyIG09WnUoZi5sZW5ndGgseCksdz1lcihiKTttLS07KXt2YXIgQT1mW21dO2JbbV09TChBLHgpP3dbQV06VH19ZWxzZSB2JiZkPjEmJmIucmV2ZXJzZSgpO3JldHVybiBzJiZkPmMmJihiLmxlbmd0aD1jKSx0aGlzJiZ0aGlzIT09SnQmJnRoaXMgaW5zdGFuY2VvZiBsJiYoeT1nfHxfcih5KSkseS5hcHBseShqLGIpfXZhciBzPTEyOCZuLGg9MSZuLHA9MiZuLF89MjQmbix2PTUxMiZuLGc9cD9UOl9yKHQpO3JldHVybiBsfWZ1bmN0aW9uIHlyKHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIsZSl7cmV0dXJuIHhuKHIsdCxuKGUpKX19ZnVuY3Rpb24gYnIodCl7cmV0dXJuIHhlKGZ1bmN0aW9uKG4pe3JldHVybiBuPWEoc24obiwxLE5yKSxTcigpKSx4ZShmdW5jdGlvbihlKXt2YXIgdT10aGlzO3JldHVybiB0KG4sZnVuY3Rpb24odCl7cmV0dXJuIHIodCx1LGUpfSl9KX0pfWZ1bmN0aW9uIHhyKHQsbil7bj1uPT09VD9cIiBcIjpuK1wiXCI7dmFyIHI9bi5sZW5ndGg7cmV0dXJuIDI+cj9yPyRuKG4sdCk6bjoocj0kbihuLE11KHQvUChuKSkpLFxyXG5XdC50ZXN0KG4pP1FuKHIubWF0Y2goU3QpLDAsdCkuam9pbihcIlwiKTpyLnNsaWNlKDAsdCkpfWZ1bmN0aW9uIGpyKHQsbixlLHUpe2Z1bmN0aW9uIG8oKXtmb3IodmFyIG49LTEsYz1hcmd1bWVudHMubGVuZ3RoLGE9LTEsbD11Lmxlbmd0aCxzPUFycmF5KGwrYyksaD10aGlzJiZ0aGlzIT09SnQmJnRoaXMgaW5zdGFuY2VvZiBvP2Y6dDsrK2E8bDspc1thXT11W2FdO2Zvcig7Yy0tOylzW2ErK109YXJndW1lbnRzWysrbl07cmV0dXJuIHIoaCxpP2U6dGhpcyxzKX12YXIgaT0xJm4sZj1fcih0KTtyZXR1cm4gb31mdW5jdGlvbiBtcih0KXtyZXR1cm4gZnVuY3Rpb24obixyLGUpe2UmJnR5cGVvZiBlIT1cIm51bWJlclwiJiZQcihuLHIsZSkmJihyPWU9VCksbj1xZShuKSxuPW49PT1uP246MCxyPT09VD8ocj1uLG49MCk6cj1xZShyKXx8MCxlPWU9PT1UP3I+bj8xOi0xOnFlKGUpfHwwO3ZhciB1PS0xO3I9UHUoTXUoKHItbikvKGV8fDEpKSwwKTtmb3IodmFyIG89QXJyYXkocik7ci0tOylvW3Q/cjorK3VdPW4sXHJcbm4rPWU7cmV0dXJuIG99fWZ1bmN0aW9uIHdyKHQsbixyLGUsdSxvLGksZixjLGEpe3ZhciBsPTgmbjtmPWY/ZXIoZik6VDt2YXIgcz1sP2k6VDtpPWw/VDppO3ZhciBoPWw/bzpUO3JldHVybiBvPWw/VDpvLG49KG58KGw/MzI6NjQpKSZ+KGw/NjQ6MzIpLDQmbnx8KG4mPS00KSxuPVt0LG4sdSxoLHMsbyxpLGYsYyxhXSxyPXIuYXBwbHkoVCxuKSxUcih0KSYmeG8ocixuKSxyLnBsYWNlaG9sZGVyPWUscn1mdW5jdGlvbiBBcih0KXt2YXIgbj1odVt0XTtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZih0PXFlKHQpLHI9UGUocikpe3ZhciBlPShWZSh0KStcImVcIikuc3BsaXQoXCJlXCIpLGU9bihlWzBdK1wiZVwiKygrZVsxXStyKSksZT0oVmUoZSkrXCJlXCIpLnNwbGl0KFwiZVwiKTtyZXR1cm4rKGVbMF0rXCJlXCIrKCtlWzFdLXIpKX1yZXR1cm4gbih0KX19ZnVuY3Rpb24gT3IodCxuLHIsZSx1LG8saSxmKXt2YXIgYz0yJm47aWYoIWMmJnR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IF91KFwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiKTtcclxudmFyIGE9ZT9lLmxlbmd0aDowO2lmKGF8fChuJj0tOTcsZT11PVQpLGk9aT09PVQ/aTpQdShQZShpKSwwKSxmPWY9PT1UP2Y6UGUoZiksYS09dT91Lmxlbmd0aDowLDY0Jm4pe3ZhciBsPWUscz11O2U9dT1UfXZhciBoPWM/VDpnbyh0KTtyZXR1cm4gbz1bdCxuLHIsZSx1LGwscyxvLGksZl0saCYmKHI9b1sxXSx0PWhbMV0sbj1yfHQsZT0xMjg9PXQmJjg9PXJ8fDEyOD09dCYmMjU2PT1yJiZoWzhdPj1vWzddLmxlbmd0aHx8Mzg0PT10JiZoWzhdPj1oWzddLmxlbmd0aCYmOD09ciwxMzE+bnx8ZSkmJigxJnQmJihvWzJdPWhbMl0sbnw9MSZyPzA6NCksKHI9aFszXSkmJihlPW9bM10sb1szXT1lP25yKGUscixoWzRdKTplcihyKSxvWzRdPWU/RihvWzNdLFwiX19sb2Rhc2hfcGxhY2Vob2xkZXJfX1wiKTplcihoWzRdKSksKHI9aFs1XSkmJihlPW9bNV0sb1s1XT1lP3JyKGUscixoWzZdKTplcihyKSxvWzZdPWU/RihvWzVdLFwiX19sb2Rhc2hfcGxhY2Vob2xkZXJfX1wiKTplcihoWzZdKSksKHI9aFs3XSkmJihvWzddPWVyKHIpKSxcclxuMTI4JnQmJihvWzhdPW51bGw9PW9bOF0/aFs4XTpadShvWzhdLGhbOF0pKSxudWxsPT1vWzldJiYob1s5XT1oWzldKSxvWzBdPWhbMF0sb1sxXT1uKSx0PW9bMF0sbj1vWzFdLHI9b1syXSxlPW9bM10sdT1vWzRdLGY9b1s5XT1udWxsPT1vWzldP2M/MDp0Lmxlbmd0aDpQdShvWzldLWEsMCksIWYmJjI0Jm4mJihuJj0tMjUpLChoP19vOnhvKShuJiYxIT1uPzg9PW58fDE2PT1uP3ZyKHQsbixmKTozMiE9biYmMzMhPW58fHUubGVuZ3RoP2RyLmFwcGx5KFQsbyk6anIodCxuLHIsZSk6c3IodCxuLHIpLG8pfWZ1bmN0aW9uIGtyKHQsbixyLGUsdSxvKXt2YXIgaT0tMSxmPTImdSxjPTEmdSxhPXQubGVuZ3RoLGw9bi5sZW5ndGg7aWYoIShhPT1sfHxmJiZsPmEpKXJldHVybiBmYWxzZTtpZihsPW8uZ2V0KHQpKXJldHVybiBsPT1uO2ZvcihsPXRydWUsby5zZXQodCxuKTsrK2k8YTspe3ZhciBzPXRbaV0saD1uW2ldO2lmKGUpdmFyIF89Zj9lKGgscyxpLG4sdCxvKTplKHMsaCxpLHQsbixvKTtpZihfIT09VCl7XHJcbmlmKF8pY29udGludWU7bD1mYWxzZTticmVha31pZihjKXtpZighcChuLGZ1bmN0aW9uKHQpe3JldHVybiBzPT09dHx8cihzLHQsZSx1LG8pfSkpe2w9ZmFsc2U7YnJlYWt9fWVsc2UgaWYocyE9PWgmJiFyKHMsaCxlLHUsbykpe2w9ZmFsc2U7YnJlYWt9fXJldHVybiBvW1wiZGVsZXRlXCJdKHQpLGx9ZnVuY3Rpb24gRXIodCxuLHIsZSx1LG8saSl7c3dpdGNoKHIpe2Nhc2VcIltvYmplY3QgRGF0YVZpZXddXCI6aWYodC5ieXRlTGVuZ3RoIT1uLmJ5dGVMZW5ndGh8fHQuYnl0ZU9mZnNldCE9bi5ieXRlT2Zmc2V0KWJyZWFrO3Q9dC5idWZmZXIsbj1uLmJ1ZmZlcjtjYXNlXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiOmlmKHQuYnl0ZUxlbmd0aCE9bi5ieXRlTGVuZ3RofHwhZShuZXcgRXUodCksbmV3IEV1KG4pKSlicmVhaztyZXR1cm4gdHJ1ZTtjYXNlXCJbb2JqZWN0IEJvb2xlYW5dXCI6Y2FzZVwiW29iamVjdCBEYXRlXVwiOnJldHVybit0PT0rbjtjYXNlXCJbb2JqZWN0IEVycm9yXVwiOnJldHVybiB0Lm5hbWU9PW4ubmFtZSYmdC5tZXNzYWdlPT1uLm1lc3NhZ2U7XHJcbmNhc2VcIltvYmplY3QgTnVtYmVyXVwiOnJldHVybiB0IT0rdD9uIT0rbjp0PT0rbjtjYXNlXCJbb2JqZWN0IFJlZ0V4cF1cIjpjYXNlXCJbb2JqZWN0IFN0cmluZ11cIjpyZXR1cm4gdD09bitcIlwiO2Nhc2VcIltvYmplY3QgTWFwXVwiOnZhciBmPUQ7Y2FzZVwiW29iamVjdCBTZXRdXCI6aWYoZnx8KGY9TiksdC5zaXplIT1uLnNpemUmJiEoMiZvKSlicmVhaztyZXR1cm4ocj1pLmdldCh0KSk/cj09bjoob3w9MSxpLnNldCh0LG4pLGtyKGYodCksZihuKSxlLHUsbyxpKSk7Y2FzZVwiW29iamVjdCBTeW1ib2xdXCI6aWYoY28pcmV0dXJuIGNvLmNhbGwodCk9PWNvLmNhbGwobil9cmV0dXJuIGZhbHNlfWZ1bmN0aW9uIElyKHQpe2Zvcih2YXIgbj10Lm5hbWUrXCJcIixyPW5vW25dLGU9eXUuY2FsbChubyxuKT9yLmxlbmd0aDowO2UtLTspe3ZhciB1PXJbZV0sbz11LmZ1bmM7aWYobnVsbD09b3x8bz09dClyZXR1cm4gdS5uYW1lfXJldHVybiBufWZ1bmN0aW9uIFNyKCl7dmFyIHQ9anQuaXRlcmF0ZWV8fGl1LHQ9dD09PWl1P0FuOnQ7XHJcbnJldHVybiBhcmd1bWVudHMubGVuZ3RoP3QoYXJndW1lbnRzWzBdLGFyZ3VtZW50c1sxXSk6dH1mdW5jdGlvbiBScih0KXt0PVFlKHQpO2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KXt2YXIgcj10W25dWzFdO3Rbbl1bMl09cj09PXImJiFXZShyKX1yZXR1cm4gdH1mdW5jdGlvbiBXcih0LG4pe3ZhciByPXRbbl07cmV0dXJuIENlKHIpP3I6VH1mdW5jdGlvbiBCcih0KXtyZXR1cm4oeXUuY2FsbChqdCxcInBsYWNlaG9sZGVyXCIpP2p0OnQpLnBsYWNlaG9sZGVyfWZ1bmN0aW9uIENyKHQpe3JldHVybiBSdShPYmplY3QodCkpfWZ1bmN0aW9uIHpyKHQpe3JldHVybiBqdS5jYWxsKHQpfWZ1bmN0aW9uIFVyKHQsbixyKXtuPVpyKG4sdCk/W25dOkhuKG4pO2Zvcih2YXIgZSx1PS0xLG89bi5sZW5ndGg7Kyt1PG87KXt2YXIgaT1uW3VdO2lmKCEoZT1udWxsIT10JiZyKHQsaSkpKWJyZWFrO3Q9dFtpXX1yZXR1cm4gZT9lOihvPXQ/dC5sZW5ndGg6MCwhIW8mJlJlKG8pJiZMKGksbykmJihuaSh0KXx8TGUodCl8fEFlKHQpKSk7XHJcbn1mdW5jdGlvbiBNcih0KXt2YXIgbj10Lmxlbmd0aCxyPXQuY29uc3RydWN0b3Iobik7cmV0dXJuIG4mJlwic3RyaW5nXCI9PXR5cGVvZiB0WzBdJiZ5dS5jYWxsKHQsXCJpbmRleFwiKSYmKHIuaW5kZXg9dC5pbmRleCxyLmlucHV0PXQuaW5wdXQpLHJ9ZnVuY3Rpb24gTHIodCl7cmV0dXJuIHR5cGVvZiB0LmNvbnN0cnVjdG9yIT1cImZ1bmN0aW9uXCJ8fFZyKHQpP3t9Om9uKCR1KE9iamVjdCh0KSkpfWZ1bmN0aW9uICRyKHIsZSx1LG8pe3ZhciBpPXIuY29uc3RydWN0b3I7c3dpdGNoKGUpe2Nhc2VcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI6cmV0dXJuIHRyKHIpO2Nhc2VcIltvYmplY3QgQm9vbGVhbl1cIjpjYXNlXCJbb2JqZWN0IERhdGVdXCI6cmV0dXJuIG5ldyBpKCtyKTtjYXNlXCJbb2JqZWN0IERhdGFWaWV3XVwiOnJldHVybiBlPW8/dHIoci5idWZmZXIpOnIuYnVmZmVyLG5ldyByLmNvbnN0cnVjdG9yKGUsci5ieXRlT2Zmc2V0LHIuYnl0ZUxlbmd0aCk7Y2FzZVwiW29iamVjdCBGbG9hdDMyQXJyYXldXCI6XHJcbmNhc2VcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiOmNhc2VcIltvYmplY3QgSW50OEFycmF5XVwiOmNhc2VcIltvYmplY3QgSW50MTZBcnJheV1cIjpjYXNlXCJbb2JqZWN0IEludDMyQXJyYXldXCI6Y2FzZVwiW29iamVjdCBVaW50OEFycmF5XVwiOmNhc2VcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCI6Y2FzZVwiW29iamVjdCBVaW50MTZBcnJheV1cIjpjYXNlXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiOnJldHVybiBlPW8/dHIoci5idWZmZXIpOnIuYnVmZmVyLG5ldyByLmNvbnN0cnVjdG9yKGUsci5ieXRlT2Zmc2V0LHIubGVuZ3RoKTtjYXNlXCJbb2JqZWN0IE1hcF1cIjpyZXR1cm4gZT1vP3UoRChyKSx0cnVlKTpEKHIpLHMoZSx0LG5ldyByLmNvbnN0cnVjdG9yKTtjYXNlXCJbb2JqZWN0IE51bWJlcl1cIjpjYXNlXCJbb2JqZWN0IFN0cmluZ11cIjpyZXR1cm4gbmV3IGkocik7Y2FzZVwiW29iamVjdCBSZWdFeHBdXCI6cmV0dXJuIGU9bmV3IHIuY29uc3RydWN0b3Ioci5zb3VyY2UsdnQuZXhlYyhyKSksZS5sYXN0SW5kZXg9ci5sYXN0SW5kZXgsXHJcbmU7Y2FzZVwiW29iamVjdCBTZXRdXCI6cmV0dXJuIGU9bz91KE4ociksdHJ1ZSk6TihyKSxzKGUsbixuZXcgci5jb25zdHJ1Y3Rvcik7Y2FzZVwiW29iamVjdCBTeW1ib2xdXCI6cmV0dXJuIGNvP09iamVjdChjby5jYWxsKHIpKTp7fX19ZnVuY3Rpb24gRHIodCl7dmFyIG49dD90Lmxlbmd0aDpUO3JldHVybiBSZShuKSYmKG5pKHQpfHxMZSh0KXx8QWUodCkpP3cobixTdHJpbmcpOm51bGx9ZnVuY3Rpb24gRnIodCl7cmV0dXJuIGtlKHQpJiYobmkodCl8fEFlKHQpKX1mdW5jdGlvbiBOcih0KXtyZXR1cm4gbmkodCkmJiEoMj09dC5sZW5ndGgmJiFJZSh0WzBdKSl9ZnVuY3Rpb24gUHIodCxuLHIpe2lmKCFXZShyKSlyZXR1cm4gZmFsc2U7dmFyIGU9dHlwZW9mIG47cmV0dXJuKFwibnVtYmVyXCI9PWU/T2UocikmJkwobixyLmxlbmd0aCk6XCJzdHJpbmdcIj09ZSYmbiBpbiByKT9tZShyW25dLHQpOmZhbHNlfWZ1bmN0aW9uIFpyKHQsbil7dmFyIHI9dHlwZW9mIHQ7cmV0dXJuXCJudW1iZXJcIj09cnx8XCJzeW1ib2xcIj09cj90cnVlOiFuaSh0KSYmKCRlKHQpfHxvdC50ZXN0KHQpfHwhdXQudGVzdCh0KXx8bnVsbCE9biYmdCBpbiBPYmplY3QobikpO1xyXG59ZnVuY3Rpb24gcXIodCl7dmFyIG49dHlwZW9mIHQ7cmV0dXJuXCJudW1iZXJcIj09bnx8XCJib29sZWFuXCI9PW58fFwic3RyaW5nXCI9PW4mJlwiX19wcm90b19fXCIhPXR8fG51bGw9PXR9ZnVuY3Rpb24gVHIodCl7dmFyIG49SXIodCkscj1qdFtuXTtyZXR1cm4gdHlwZW9mIHI9PVwiZnVuY3Rpb25cIiYmbiBpbiBFdC5wcm90b3R5cGU/dD09PXI/dHJ1ZToobj1nbyhyKSwhIW4mJnQ9PT1uWzBdKTpmYWxzZX1mdW5jdGlvbiBWcih0KXt2YXIgbj10JiZ0LmNvbnN0cnVjdG9yO3JldHVybiB0PT09KHR5cGVvZiBuPT1cImZ1bmN0aW9uXCImJm4ucHJvdG90eXBlfHxndSl9ZnVuY3Rpb24gS3IodCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIG51bGw9PXI/ZmFsc2U6clt0XT09PW4mJihuIT09VHx8dCBpbiBPYmplY3QocikpfX1mdW5jdGlvbiBHcih0LG4scixlLHUsbyl7cmV0dXJuIFdlKHQpJiZXZShuKSYmU24odCxuLFQsR3Isby5zZXQobix0KSksdH1mdW5jdGlvbiBKcih0LG4pe3JldHVybiAxPT1uLmxlbmd0aD90OnZuKHQsRm4obiwwLC0xKSk7XHJcbn1mdW5jdGlvbiBZcih0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCJ8fCRlKHQpP3Q6dCtcIlwifWZ1bmN0aW9uIEhyKHQpe2lmKG51bGwhPXQpe3RyeXtyZXR1cm4gZHUuY2FsbCh0KX1jYXRjaChuKXt9cmV0dXJuIHQrXCJcIn1yZXR1cm5cIlwifWZ1bmN0aW9uIFFyKHQpe2lmKHQgaW5zdGFuY2VvZiBFdClyZXR1cm4gdC5jbG9uZSgpO3ZhciBuPW5ldyBrdCh0Ll9fd3JhcHBlZF9fLHQuX19jaGFpbl9fKTtyZXR1cm4gbi5fX2FjdGlvbnNfXz1lcih0Ll9fYWN0aW9uc19fKSxuLl9faW5kZXhfXz10Ll9faW5kZXhfXyxuLl9fdmFsdWVzX189dC5fX3ZhbHVlc19fLG59ZnVuY3Rpb24gWHIodCxuLHIpe3ZhciBlPXQ/dC5sZW5ndGg6MDtyZXR1cm4gZT8obj1yfHxuPT09VD8xOlBlKG4pLEZuKHQsMD5uPzA6bixlKSk6W119ZnVuY3Rpb24gdGUodCxuLHIpe3ZhciBlPXQ/dC5sZW5ndGg6MDtyZXR1cm4gZT8obj1yfHxuPT09VD8xOlBlKG4pLG49ZS1uLEZuKHQsMCwwPm4/MDpuKSk6W119ZnVuY3Rpb24gbmUodCl7XHJcbnJldHVybiB0P3RbMF06VH1mdW5jdGlvbiByZSh0KXt2YXIgbj10P3QubGVuZ3RoOjA7cmV0dXJuIG4/dFtuLTFdOlR9ZnVuY3Rpb24gZWUodCxuKXtyZXR1cm4gdCYmdC5sZW5ndGgmJm4mJm4ubGVuZ3RoP1VuKHQsbik6dH1mdW5jdGlvbiB1ZSh0KXtyZXR1cm4gdD9WdS5jYWxsKHQpOnR9ZnVuY3Rpb24gb2UodCl7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm5bXTt2YXIgbj0wO3JldHVybiB0PWkodCxmdW5jdGlvbih0KXtyZXR1cm4ga2UodCk/KG49UHUodC5sZW5ndGgsbiksdHJ1ZSk6dm9pZCAwfSksdyhuLGZ1bmN0aW9uKG4pe3JldHVybiBhKHQsQ24obikpfSl9ZnVuY3Rpb24gaWUodCxuKXtpZighdHx8IXQubGVuZ3RoKXJldHVybltdO3ZhciBlPW9lKHQpO3JldHVybiBudWxsPT1uP2U6YShlLGZ1bmN0aW9uKHQpe3JldHVybiByKG4sVCx0KX0pfWZ1bmN0aW9uIGZlKHQpe3JldHVybiB0PWp0KHQpLHQuX19jaGFpbl9fPXRydWUsdH1mdW5jdGlvbiBjZSh0LG4pe3JldHVybiBuKHQpfWZ1bmN0aW9uIGFlKCl7XHJcbnJldHVybiB0aGlzfWZ1bmN0aW9uIGxlKHQsbil7cmV0dXJuIHR5cGVvZiBuPT1cImZ1bmN0aW9uXCImJm5pKHQpP3UodCxuKTpsbyh0LFNyKG4pKX1mdW5jdGlvbiBzZSh0LG4pe3ZhciByO2lmKHR5cGVvZiBuPT1cImZ1bmN0aW9uXCImJm5pKHQpKXtmb3Iocj10Lmxlbmd0aDtyLS0mJmZhbHNlIT09bih0W3JdLHIsdCk7KTtyPXR9ZWxzZSByPXNvKHQsU3IobikpO3JldHVybiByfWZ1bmN0aW9uIGhlKHQsbil7cmV0dXJuKG5pKHQpP2E6a24pKHQsU3IobiwzKSl9ZnVuY3Rpb24gcGUodCxuLHIpe3ZhciBlPS0xLHU9TmUodCksbz11Lmxlbmd0aCxpPW8tMTtmb3Iobj0ocj9Qcih0LG4scik6bj09PVQpPzE6cm4oUGUobiksMCxvKTsrK2U8bjspdD1MbihlLGkpLHI9dVt0XSx1W3RdPXVbZV0sdVtlXT1yO3JldHVybiB1Lmxlbmd0aD1uLHV9ZnVuY3Rpb24gX2UodCxuLHIpe3JldHVybiBuPXI/VDpuLG49dCYmbnVsbD09bj90Lmxlbmd0aDpuLE9yKHQsMTI4LFQsVCxULFQsbil9ZnVuY3Rpb24gdmUodCxuKXtcclxudmFyIHI7aWYodHlwZW9mIG4hPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgX3UoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO3JldHVybiB0PVBlKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIDA8LS10JiYocj1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSksMT49dCYmKG49VCkscn19ZnVuY3Rpb24gZ2UodCxuLHIpe3JldHVybiBuPXI/VDpuLHQ9T3IodCw4LFQsVCxULFQsVCxuKSx0LnBsYWNlaG9sZGVyPWdlLnBsYWNlaG9sZGVyLHR9ZnVuY3Rpb24gZGUodCxuLHIpe3JldHVybiBuPXI/VDpuLHQ9T3IodCwxNixULFQsVCxULFQsbiksdC5wbGFjZWhvbGRlcj1kZS5wbGFjZWhvbGRlcix0fWZ1bmN0aW9uIHllKHQsbixyKXtmdW5jdGlvbiBlKG4pe3ZhciByPWMsZT1hO3JldHVybiBjPWE9VCxwPW4sbD10LmFwcGx5KGUscil9ZnVuY3Rpb24gdSh0KXt2YXIgcj10LWg7cmV0dXJuIHQtPXAsIWh8fHI+PW58fDA+cnx8ZmFsc2UhPT12JiZ0Pj12fWZ1bmN0aW9uIG8oKXt2YXIgdD1WbygpO2lmKHUodCkpcmV0dXJuIGkodCk7XHJcbnZhciByO3I9dC1wLHQ9bi0odC1oKSxyPWZhbHNlPT09dj90Olp1KHQsdi1yKSxzPXp1KG8scil9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gSXUocykscz1ULGcmJmM/ZSh0KTooYz1hPVQsbCl9ZnVuY3Rpb24gZigpe3ZhciB0PVZvKCkscj11KHQpO3JldHVybiBjPWFyZ3VtZW50cyxhPXRoaXMsaD10LHI/cz09PVQ/KHA9dD1oLHM9enUobyxuKSxfP2UodCk6bCk6KEl1KHMpLHM9enUobyxuKSxlKGgpKToocz09PVQmJihzPXp1KG8sbikpLGwpfXZhciBjLGEsbCxzLGg9MCxwPTAsXz1mYWxzZSx2PWZhbHNlLGc9dHJ1ZTtpZih0eXBlb2YgdCE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBfdShcIkV4cGVjdGVkIGEgZnVuY3Rpb25cIik7cmV0dXJuIG49cWUobil8fDAsV2UocikmJihfPSEhci5sZWFkaW5nLHY9XCJtYXhXYWl0XCJpbiByJiZQdShxZShyLm1heFdhaXQpfHwwLG4pLGc9XCJ0cmFpbGluZ1wiaW4gcj8hIXIudHJhaWxpbmc6ZyksZi5jYW5jZWw9ZnVuY3Rpb24oKXtzIT09VCYmSXUocyksaD1wPTAsYz1hPXM9VH0sXHJcbmYuZmx1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gcz09PVQ/bDppKFZvKCkpfSxmfWZ1bmN0aW9uIGJlKHQsbil7ZnVuY3Rpb24gcigpe3ZhciBlPWFyZ3VtZW50cyx1PW4/bi5hcHBseSh0aGlzLGUpOmVbMF0sbz1yLmNhY2hlO3JldHVybiBvLmhhcyh1KT9vLmdldCh1KTooZT10LmFwcGx5KHRoaXMsZSksci5jYWNoZT1vLnNldCh1LGUpLGUpfWlmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCJ8fG4mJnR5cGVvZiBuIT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IF91KFwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiKTtyZXR1cm4gci5jYWNoZT1uZXcoYmUuQ2FjaGV8fEx0KSxyfWZ1bmN0aW9uIHhlKHQsbil7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgX3UoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO3JldHVybiBuPVB1KG49PT1UP3QubGVuZ3RoLTE6UGUobiksMCksZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLHU9LTEsbz1QdShlLmxlbmd0aC1uLDApLGk9QXJyYXkobyk7Kyt1PG87KWlbdV09ZVtuK3VdO1xyXG5zd2l0Y2gobil7Y2FzZSAwOnJldHVybiB0LmNhbGwodGhpcyxpKTtjYXNlIDE6cmV0dXJuIHQuY2FsbCh0aGlzLGVbMF0saSk7Y2FzZSAyOnJldHVybiB0LmNhbGwodGhpcyxlWzBdLGVbMV0saSl9Zm9yKG89QXJyYXkobisxKSx1PS0xOysrdTxuOylvW3VdPWVbdV07cmV0dXJuIG9bbl09aSxyKHQsdGhpcyxvKX19ZnVuY3Rpb24gamUoKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm5bXTt2YXIgdD1hcmd1bWVudHNbMF07cmV0dXJuIG5pKHQpP3Q6W3RdfWZ1bmN0aW9uIG1lKHQsbil7cmV0dXJuIHQ9PT1ufHx0IT09dCYmbiE9PW59ZnVuY3Rpb24gd2UodCxuKXtyZXR1cm4gdD5ufWZ1bmN0aW9uIEFlKHQpe3JldHVybiBrZSh0KSYmeXUuY2FsbCh0LFwiY2FsbGVlXCIpJiYoIUN1LmNhbGwodCxcImNhbGxlZVwiKXx8XCJbb2JqZWN0IEFyZ3VtZW50c11cIj09anUuY2FsbCh0KSl9ZnVuY3Rpb24gT2UodCl7cmV0dXJuIG51bGwhPXQmJlJlKHlvKHQpKSYmIUllKHQpfWZ1bmN0aW9uIGtlKHQpe1xyXG5yZXR1cm4gQmUodCkmJk9lKHQpfWZ1bmN0aW9uIEVlKHQpe3JldHVybiBCZSh0KT9cIltvYmplY3QgRXJyb3JdXCI9PWp1LmNhbGwodCl8fHR5cGVvZiB0Lm1lc3NhZ2U9PVwic3RyaW5nXCImJnR5cGVvZiB0Lm5hbWU9PVwic3RyaW5nXCI6ZmFsc2V9ZnVuY3Rpb24gSWUodCl7cmV0dXJuIHQ9V2UodCk/anUuY2FsbCh0KTpcIlwiLFwiW29iamVjdCBGdW5jdGlvbl1cIj09dHx8XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiPT10fWZ1bmN0aW9uIFNlKHQpe3JldHVybiB0eXBlb2YgdD09XCJudW1iZXJcIiYmdD09UGUodCl9ZnVuY3Rpb24gUmUodCl7cmV0dXJuIHR5cGVvZiB0PT1cIm51bWJlclwiJiZ0Pi0xJiYwPT10JTEmJjkwMDcxOTkyNTQ3NDA5OTE+PXR9ZnVuY3Rpb24gV2UodCl7dmFyIG49dHlwZW9mIHQ7cmV0dXJuISF0JiYoXCJvYmplY3RcIj09bnx8XCJmdW5jdGlvblwiPT1uKX1mdW5jdGlvbiBCZSh0KXtyZXR1cm4hIXQmJnR5cGVvZiB0PT1cIm9iamVjdFwifWZ1bmN0aW9uIENlKHQpe3JldHVybiBXZSh0KT8oSWUodCl8fE0odCk/d3U6YnQpLnRlc3QoSHIodCkpOmZhbHNlO1xyXG59ZnVuY3Rpb24gemUodCl7cmV0dXJuIHR5cGVvZiB0PT1cIm51bWJlclwifHxCZSh0KSYmXCJbb2JqZWN0IE51bWJlcl1cIj09anUuY2FsbCh0KX1mdW5jdGlvbiBVZSh0KXtyZXR1cm4hQmUodCl8fFwiW29iamVjdCBPYmplY3RdXCIhPWp1LmNhbGwodCl8fE0odCk/ZmFsc2U6KHQ9JHUoT2JqZWN0KHQpKSxudWxsPT09dD90cnVlOih0PXl1LmNhbGwodCxcImNvbnN0cnVjdG9yXCIpJiZ0LmNvbnN0cnVjdG9yLHR5cGVvZiB0PT1cImZ1bmN0aW9uXCImJnQgaW5zdGFuY2VvZiB0JiZkdS5jYWxsKHQpPT14dSkpfWZ1bmN0aW9uIE1lKHQpe3JldHVybiBXZSh0KSYmXCJbb2JqZWN0IFJlZ0V4cF1cIj09anUuY2FsbCh0KX1mdW5jdGlvbiBMZSh0KXtyZXR1cm4gdHlwZW9mIHQ9PVwic3RyaW5nXCJ8fCFuaSh0KSYmQmUodCkmJlwiW29iamVjdCBTdHJpbmddXCI9PWp1LmNhbGwodCl9ZnVuY3Rpb24gJGUodCl7cmV0dXJuIHR5cGVvZiB0PT1cInN5bWJvbFwifHxCZSh0KSYmXCJbb2JqZWN0IFN5bWJvbF1cIj09anUuY2FsbCh0KX1mdW5jdGlvbiBEZSh0KXtcclxucmV0dXJuIEJlKHQpJiZSZSh0Lmxlbmd0aCkmJiEhenRbanUuY2FsbCh0KV19ZnVuY3Rpb24gRmUodCxuKXtyZXR1cm4gbj50fWZ1bmN0aW9uIE5lKHQpe2lmKCF0KXJldHVybltdO2lmKE9lKHQpKXJldHVybiBMZSh0KT90Lm1hdGNoKFN0KTplcih0KTtpZihXdSYmdFtXdV0pcmV0dXJuICQodFtXdV0oKSk7dmFyIG49enIodCk7cmV0dXJuKFwiW29iamVjdCBNYXBdXCI9PW4/RDpcIltvYmplY3QgU2V0XVwiPT1uP046dHUpKHQpfWZ1bmN0aW9uIFBlKHQpe2lmKCF0KXJldHVybiAwPT09dD90OjA7aWYodD1xZSh0KSx0PT09Vnx8dD09PS1WKXJldHVybiAxLjc5NzY5MzEzNDg2MjMxNTdlMzA4KigwPnQ/LTE6MSk7dmFyIG49dCUxO3JldHVybiB0PT09dD9uP3Qtbjp0OjB9ZnVuY3Rpb24gWmUodCl7cmV0dXJuIHQ/cm4oUGUodCksMCw0Mjk0OTY3Mjk1KTowfWZ1bmN0aW9uIHFlKHQpe2lmKHR5cGVvZiB0PT1cIm51bWJlclwiKXJldHVybiB0O2lmKCRlKHQpKXJldHVybiBLO2lmKFdlKHQpJiYodD1JZSh0LnZhbHVlT2YpP3QudmFsdWVPZigpOnQsXHJcbnQ9V2UodCk/dCtcIlwiOnQpLHR5cGVvZiB0IT1cInN0cmluZ1wiKXJldHVybiAwPT09dD90Oit0O3Q9dC5yZXBsYWNlKGF0LFwiXCIpO3ZhciBuPXl0LnRlc3QodCk7cmV0dXJuIG58fHh0LnRlc3QodCk/UHQodC5zbGljZSgyKSxuPzI6OCk6ZHQudGVzdCh0KT9LOit0fWZ1bmN0aW9uIFRlKHQpe3JldHVybiB1cih0LEhlKHQpKX1mdW5jdGlvbiBWZSh0KXtpZih0eXBlb2YgdD09XCJzdHJpbmdcIilyZXR1cm4gdDtpZihudWxsPT10KXJldHVyblwiXCI7aWYoJGUodCkpcmV0dXJuIGFvP2FvLmNhbGwodCk6XCJcIjt2YXIgbj10K1wiXCI7cmV0dXJuXCIwXCI9PW4mJjEvdD09LVY/XCItMFwiOm59ZnVuY3Rpb24gS2UodCxuLHIpe3JldHVybiB0PW51bGw9PXQ/VDp2bih0LG4pLHQ9PT1UP3I6dH1mdW5jdGlvbiBHZSh0LG4pe3JldHVybiBudWxsIT10JiZVcih0LG4sZG4pfWZ1bmN0aW9uIEplKHQsbil7cmV0dXJuIG51bGwhPXQmJlVyKHQsbix5bil9ZnVuY3Rpb24gWWUodCl7dmFyIG49VnIodCk7aWYoIW4mJiFPZSh0KSlyZXR1cm4gTnUoT2JqZWN0KHQpKTtcclxudmFyIHIsZT1Ecih0KSx1PSEhZSxlPWV8fFtdLG89ZS5sZW5ndGg7Zm9yKHIgaW4gdCkhZG4odCxyKXx8dSYmKFwibGVuZ3RoXCI9PXJ8fEwocixvKSl8fG4mJlwiY29uc3RydWN0b3JcIj09cnx8ZS5wdXNoKHIpO3JldHVybiBlfWZ1bmN0aW9uIEhlKHQpe2Zvcih2YXIgbj0tMSxyPVZyKHQpLGU9T24odCksdT1lLmxlbmd0aCxvPURyKHQpLGk9ISFvLG89b3x8W10sZj1vLmxlbmd0aDsrK248dTspe3ZhciBjPWVbbl07aSYmKFwibGVuZ3RoXCI9PWN8fEwoYyxmKSl8fFwiY29uc3RydWN0b3JcIj09YyYmKHJ8fCF5dS5jYWxsKHQsYykpfHxvLnB1c2goYyl9cmV0dXJuIG99ZnVuY3Rpb24gUWUodCl7cmV0dXJuIEEodCxZZSh0KSl9ZnVuY3Rpb24gWGUodCl7cmV0dXJuIEEodCxIZSh0KSl9ZnVuY3Rpb24gdHUodCl7cmV0dXJuIHQ/ayh0LFllKHQpKTpbXX1mdW5jdGlvbiBudSh0KXtyZXR1cm4gQWkoVmUodCkudG9Mb3dlckNhc2UoKSl9ZnVuY3Rpb24gcnUodCl7cmV0dXJuKHQ9VmUodCkpJiZ0LnJlcGxhY2UobXQsQikucmVwbGFjZShJdCxcIlwiKTtcclxufWZ1bmN0aW9uIGV1KHQsbixyKXtyZXR1cm4gdD1WZSh0KSxuPXI/VDpuLG49PT1UJiYobj1CdC50ZXN0KHQpP1J0Omh0KSx0Lm1hdGNoKG4pfHxbXX1mdW5jdGlvbiB1dSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdH19ZnVuY3Rpb24gb3UodCl7cmV0dXJuIHR9ZnVuY3Rpb24gaXUodCl7cmV0dXJuIEFuKHR5cGVvZiB0PT1cImZ1bmN0aW9uXCI/dDplbih0LHRydWUpKX1mdW5jdGlvbiBmdSh0LG4scil7dmFyIGU9WWUobiksbz1fbihuLGUpO251bGwhPXJ8fFdlKG4pJiYoby5sZW5ndGh8fCFlLmxlbmd0aCl8fChyPW4sbj10LHQ9dGhpcyxvPV9uKG4sWWUobikpKTt2YXIgaT1XZShyKSYmXCJjaGFpblwiaW4gcj9yLmNoYWluOnRydWUsZj1JZSh0KTtyZXR1cm4gdShvLGZ1bmN0aW9uKHIpe3ZhciBlPW5bcl07dFtyXT1lLGYmJih0LnByb3RvdHlwZVtyXT1mdW5jdGlvbigpe3ZhciBuPXRoaXMuX19jaGFpbl9fO2lmKGl8fG4pe3ZhciByPXQodGhpcy5fX3dyYXBwZWRfXyk7cmV0dXJuKHIuX19hY3Rpb25zX189ZXIodGhpcy5fX2FjdGlvbnNfXykpLnB1c2goe1xyXG5mdW5jOmUsYXJnczphcmd1bWVudHMsdGhpc0FyZzp0fSksci5fX2NoYWluX189bixyfXJldHVybiBlLmFwcGx5KHQsbChbdGhpcy52YWx1ZSgpXSxhcmd1bWVudHMpKX0pfSksdH1mdW5jdGlvbiBjdSgpe31mdW5jdGlvbiBhdSh0KXtyZXR1cm4gWnIodCk/Q24odCk6em4odCl9Uz1TP1l0LmRlZmF1bHRzKHt9LFMsWXQucGljayhKdCxDdCkpOkp0O3ZhciBsdT1TLkRhdGUsc3U9Uy5FcnJvcixodT1TLk1hdGgscHU9Uy5SZWdFeHAsX3U9Uy5UeXBlRXJyb3IsdnU9Uy5BcnJheS5wcm90b3R5cGUsZ3U9Uy5PYmplY3QucHJvdG90eXBlLGR1PVMuRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLHl1PWd1Lmhhc093blByb3BlcnR5LGJ1PTAseHU9ZHUuY2FsbChPYmplY3QpLGp1PWd1LnRvU3RyaW5nLG11PUp0Ll8sd3U9cHUoXCJeXCIrZHUuY2FsbCh5dSkucmVwbGFjZShmdCxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpLEF1PVR0P1MuQnVmZmVyOlQsT3U9Uy5SZWZsZWN0LGt1PVMuU3ltYm9sLEV1PVMuVWludDhBcnJheSxJdT1TLmNsZWFyVGltZW91dCxTdT1PdT9PdS5mOlQsUnU9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxXdT10eXBlb2YoV3U9a3UmJmt1Lml0ZXJhdG9yKT09XCJzeW1ib2xcIj9XdTpULEJ1PU9iamVjdC5jcmVhdGUsQ3U9Z3UucHJvcGVydHlJc0VudW1lcmFibGUsenU9Uy5zZXRUaW1lb3V0LFV1PXZ1LnNwbGljZSxNdT1odS5jZWlsLEx1PWh1LmZsb29yLCR1PU9iamVjdC5nZXRQcm90b3R5cGVPZixEdT1TLmlzRmluaXRlLEZ1PXZ1LmpvaW4sTnU9T2JqZWN0LmtleXMsUHU9aHUubWF4LFp1PWh1Lm1pbixxdT1TLnBhcnNlSW50LFR1PWh1LnJhbmRvbSxWdT12dS5yZXZlcnNlLEt1PVdyKFMsXCJEYXRhVmlld1wiKSxHdT1XcihTLFwiTWFwXCIpLEp1PVdyKFMsXCJQcm9taXNlXCIpLFl1PVdyKFMsXCJTZXRcIiksSHU9V3IoUyxcIldlYWtNYXBcIiksUXU9V3IoT2JqZWN0LFwiY3JlYXRlXCIpLFh1PUh1JiZuZXcgSHUsdG89IUN1LmNhbGwoe1xyXG52YWx1ZU9mOjF9LFwidmFsdWVPZlwiKSxubz17fSxybz1IcihLdSksZW89SHIoR3UpLHVvPUhyKEp1KSxvbz1IcihZdSksaW89SHIoSHUpLGZvPWt1P2t1LnByb3RvdHlwZTpULGNvPWZvP2ZvLnZhbHVlT2Y6VCxhbz1mbz9mby50b1N0cmluZzpUO2p0LnRlbXBsYXRlU2V0dGluZ3M9e2VzY2FwZTpudCxldmFsdWF0ZTpydCxpbnRlcnBvbGF0ZTpldCx2YXJpYWJsZTpcIlwiLGltcG9ydHM6e186anR9fSxqdC5wcm90b3R5cGU9T3QucHJvdG90eXBlLGp0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1qdCxrdC5wcm90b3R5cGU9b24oT3QucHJvdG90eXBlKSxrdC5wcm90b3R5cGUuY29uc3RydWN0b3I9a3QsRXQucHJvdG90eXBlPW9uKE90LnByb3RvdHlwZSksRXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPUV0LE10LnByb3RvdHlwZT1RdT9RdShudWxsKTpndSxMdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBNdCxtYXA6R3U/bmV3IEd1OltdLHN0cmluZzpuZXcgTXRcclxufX0sTHQucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX19kYXRhX187cmV0dXJuIHFyKHQpPyhuPXR5cGVvZiB0PT1cInN0cmluZ1wiP24uc3RyaW5nOm4uaGFzaCx0PShRdT9uW3RdIT09VDp5dS5jYWxsKG4sdCkpJiZkZWxldGUgblt0XSk6dD1HdT9uLm1hcFtcImRlbGV0ZVwiXSh0KTpadChuLm1hcCx0KSx0fSxMdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX19kYXRhX187cmV0dXJuIHFyKHQpPyhuPXR5cGVvZiB0PT1cInN0cmluZ1wiP24uc3RyaW5nOm4uaGFzaCxRdT8odD1uW3RdLHQ9XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI9PT10P1Q6dCk6dD15dS5jYWxsKG4sdCk/blt0XTpUKTp0PUd1P24ubWFwLmdldCh0KTpxdChuLm1hcCx0KSx0fSxMdC5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX19kYXRhX187cmV0dXJuIHFyKHQpPyhuPXR5cGVvZiB0PT1cInN0cmluZ1wiP24uc3RyaW5nOm4uaGFzaCx0PVF1P25bdF0hPT1UOnl1LmNhbGwobix0KSk6dD1HdT9uLm1hcC5oYXModCk6LTE8VnQobi5tYXAsdCksXHJcbnR9LEx0LnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLl9fZGF0YV9fO3JldHVybiBxcih0KT8odHlwZW9mIHQ9PVwic3RyaW5nXCI/ci5zdHJpbmc6ci5oYXNoKVt0XT1RdSYmbj09PVQ/XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI6bjpHdT9yLm1hcC5zZXQodCxuKTpLdChyLm1hcCx0LG4pLHRoaXN9LCR0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX19kYXRhX187cXIodCk/KG49bi5fX2RhdGFfXywodHlwZW9mIHQ9PVwic3RyaW5nXCI/bi5zdHJpbmc6bi5oYXNoKVt0XT1cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIik6bi5zZXQodCxcIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIil9LEZ0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189e2FycmF5OltdLG1hcDpudWxsfX0sRnQucHJvdG90eXBlW1wiZGVsZXRlXCJdPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX19kYXRhX18scj1uLmFycmF5O3JldHVybiByP1p0KHIsdCk6bi5tYXBbXCJkZWxldGVcIl0odCk7XHJcbn0sRnQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLl9fZGF0YV9fLHI9bi5hcnJheTtyZXR1cm4gcj9xdChyLHQpOm4ubWFwLmdldCh0KX0sRnQucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXt2YXIgbj10aGlzLl9fZGF0YV9fLHI9bi5hcnJheTtyZXR1cm4gcj8tMTxWdChyLHQpOm4ubWFwLmhhcyh0KX0sRnQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXMuX19kYXRhX18sZT1yLmFycmF5O3JldHVybiBlJiYoMTk5PmUubGVuZ3RoP0t0KGUsdCxuKTooci5hcnJheT1udWxsLHIubWFwPW5ldyBMdChlKSkpLChyPXIubWFwKSYmci5zZXQodCxuKSx0aGlzfTt2YXIgbG89YXIoaG4pLHNvPWFyKHBuLHRydWUpLGhvPWxyKCkscG89bHIodHJ1ZSk7U3UmJiFDdS5jYWxsKHt2YWx1ZU9mOjF9LFwidmFsdWVPZlwiKSYmKE9uPWZ1bmN0aW9uKHQpe3JldHVybiAkKFN1KHQpKX0pO3ZhciBfbz1YdT9mdW5jdGlvbih0LG4pe3JldHVybiBYdS5zZXQodCxuKSx0fTpvdSx2bz1ZdSYmMj09PW5ldyBZdShbMSwyXSkuc2l6ZT9mdW5jdGlvbih0KXtcclxucmV0dXJuIG5ldyBZdSh0KX06Y3UsZ289WHU/ZnVuY3Rpb24odCl7cmV0dXJuIFh1LmdldCh0KX06Y3UseW89Q24oXCJsZW5ndGhcIik7UnV8fChDcj1mdW5jdGlvbigpe3JldHVybltdfSk7dmFyIGJvPVJ1P2Z1bmN0aW9uKHQpe2Zvcih2YXIgbj1bXTt0OylsKG4sQ3IodCkpLHQ9JHUoT2JqZWN0KHQpKTtyZXR1cm4gbn06Q3I7KEt1JiZcIltvYmplY3QgRGF0YVZpZXddXCIhPXpyKG5ldyBLdShuZXcgQXJyYXlCdWZmZXIoMSkpKXx8R3UmJlwiW29iamVjdCBNYXBdXCIhPXpyKG5ldyBHdSl8fEp1JiZcIltvYmplY3QgUHJvbWlzZV1cIiE9enIoSnUucmVzb2x2ZSgpKXx8WXUmJlwiW29iamVjdCBTZXRdXCIhPXpyKG5ldyBZdSl8fEh1JiZcIltvYmplY3QgV2Vha01hcF1cIiE9enIobmV3IEh1KSkmJih6cj1mdW5jdGlvbih0KXt2YXIgbj1qdS5jYWxsKHQpO2lmKHQ9KHQ9XCJbb2JqZWN0IE9iamVjdF1cIj09bj90LmNvbnN0cnVjdG9yOlQpP0hyKHQpOlQpc3dpdGNoKHQpe2Nhc2Ugcm86cmV0dXJuXCJbb2JqZWN0IERhdGFWaWV3XVwiO1xyXG5jYXNlIGVvOnJldHVyblwiW29iamVjdCBNYXBdXCI7Y2FzZSB1bzpyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIjtjYXNlIG9vOnJldHVyblwiW29iamVjdCBTZXRdXCI7Y2FzZSBpbzpyZXR1cm5cIltvYmplY3QgV2Vha01hcF1cIn1yZXR1cm4gbn0pO3ZhciB4bz1mdW5jdGlvbigpe3ZhciB0PTAsbj0wO3JldHVybiBmdW5jdGlvbihyLGUpe3ZhciB1PVZvKCksbz0xNi0odS1uKTtpZihuPXUsbz4wKXtpZigxNTA8PSsrdClyZXR1cm4gcn1lbHNlIHQ9MDtyZXR1cm4gX28ocixlKX19KCksam89YmUoZnVuY3Rpb24odCl7dmFyIG49W107cmV0dXJuIFZlKHQpLnJlcGxhY2UoaXQsZnVuY3Rpb24odCxyLGUsdSl7bi5wdXNoKGU/dS5yZXBsYWNlKHB0LFwiJDFcIik6cnx8dCl9KSxufSksbW89eGUoZnVuY3Rpb24odCxuKXtyZXR1cm4ga2UodCk/Y24odCxzbihuLDEsa2UsdHJ1ZSkpOltdfSksd289eGUoZnVuY3Rpb24odCxuKXt2YXIgcj1yZShuKTtyZXR1cm4ga2UocikmJihyPVQpLGtlKHQpP2NuKHQsc24obiwxLGtlLHRydWUpLFNyKHIpKTpbXTtcclxufSksQW89eGUoZnVuY3Rpb24odCxuKXt2YXIgcj1yZShuKTtyZXR1cm4ga2UocikmJihyPVQpLGtlKHQpP2NuKHQsc24obiwxLGtlLHRydWUpLFQscik6W119KSxPbz14ZShmdW5jdGlvbih0KXt2YXIgbj1hKHQsWW4pO3JldHVybiBuLmxlbmd0aCYmblswXT09PXRbMF0/Ym4obik6W119KSxrbz14ZShmdW5jdGlvbih0KXt2YXIgbj1yZSh0KSxyPWEodCxZbik7cmV0dXJuIG49PT1yZShyKT9uPVQ6ci5wb3AoKSxyLmxlbmd0aCYmclswXT09PXRbMF0/Ym4ocixTcihuKSk6W119KSxFbz14ZShmdW5jdGlvbih0KXt2YXIgbj1yZSh0KSxyPWEodCxZbik7cmV0dXJuIG49PT1yZShyKT9uPVQ6ci5wb3AoKSxyLmxlbmd0aCYmclswXT09PXRbMF0/Ym4ocixULG4pOltdfSksSW89eGUoZWUpLFNvPXhlKGZ1bmN0aW9uKHQsbil7bj1hKHNuKG4sMSksU3RyaW5nKTt2YXIgcj1ubih0LG4pO3JldHVybiBNbih0LG4uc29ydChSKSkscn0pLFJvPXhlKGZ1bmN0aW9uKHQpe3JldHVybiBUbihzbih0LDEsa2UsdHJ1ZSkpO1xyXG59KSxXbz14ZShmdW5jdGlvbih0KXt2YXIgbj1yZSh0KTtyZXR1cm4ga2UobikmJihuPVQpLFRuKHNuKHQsMSxrZSx0cnVlKSxTcihuKSl9KSxCbz14ZShmdW5jdGlvbih0KXt2YXIgbj1yZSh0KTtyZXR1cm4ga2UobikmJihuPVQpLFRuKHNuKHQsMSxrZSx0cnVlKSxULG4pfSksQ289eGUoZnVuY3Rpb24odCxuKXtyZXR1cm4ga2UodCk/Y24odCxuKTpbXX0pLHpvPXhlKGZ1bmN0aW9uKHQpe3JldHVybiBHbihpKHQsa2UpKX0pLFVvPXhlKGZ1bmN0aW9uKHQpe3ZhciBuPXJlKHQpO3JldHVybiBrZShuKSYmKG49VCksR24oaSh0LGtlKSxTcihuKSl9KSxNbz14ZShmdW5jdGlvbih0KXt2YXIgbj1yZSh0KTtyZXR1cm4ga2UobikmJihuPVQpLEduKGkodCxrZSksVCxuKX0pLExvPXhlKG9lKSwkbz14ZShmdW5jdGlvbih0KXt2YXIgbj10Lmxlbmd0aCxuPW4+MT90W24tMV06VCxuPXR5cGVvZiBuPT1cImZ1bmN0aW9uXCI/KHQucG9wKCksbik6VDtyZXR1cm4gaWUodCxuKX0pLERvPXhlKGZ1bmN0aW9uKHQpe1xyXG5mdW5jdGlvbiBuKG4pe3JldHVybiBubihuLHQpfXQ9c24odCwxKTt2YXIgcj10Lmxlbmd0aCxlPXI/dFswXTowLHU9dGhpcy5fX3dyYXBwZWRfXztyZXR1cm4gMT49ciYmIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoJiZ1IGluc3RhbmNlb2YgRXQmJkwoZSk/KHU9dS5zbGljZShlLCtlKyhyPzE6MCkpLHUuX19hY3Rpb25zX18ucHVzaCh7ZnVuYzpjZSxhcmdzOltuXSx0aGlzQXJnOlR9KSxuZXcga3QodSx0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbih0KXtyZXR1cm4gciYmIXQubGVuZ3RoJiZ0LnB1c2goVCksdH0pKTp0aGlzLnRocnUobil9KSxGbz1mcihmdW5jdGlvbih0LG4scil7eXUuY2FsbCh0LHIpPysrdFtyXTp0W3JdPTF9KSxObz1mcihmdW5jdGlvbih0LG4scil7eXUuY2FsbCh0LHIpP3Rbcl0ucHVzaChuKTp0W3JdPVtuXX0pLFBvPXhlKGZ1bmN0aW9uKHQsbixlKXt2YXIgdT0tMSxvPXR5cGVvZiBuPT1cImZ1bmN0aW9uXCIsaT1acihuKSxmPU9lKHQpP0FycmF5KHQubGVuZ3RoKTpbXTtcclxucmV0dXJuIGxvKHQsZnVuY3Rpb24odCl7dmFyIGM9bz9uOmkmJm51bGwhPXQ/dFtuXTpUO2ZbKyt1XT1jP3IoYyx0LGUpOmpuKHQsbixlKX0pLGZ9KSxabz1mcihmdW5jdGlvbih0LG4scil7dFtyXT1ufSkscW89ZnIoZnVuY3Rpb24odCxuLHIpe3Rbcj8wOjFdLnB1c2gobil9LGZ1bmN0aW9uKCl7cmV0dXJuW1tdLFtdXX0pLFRvPXhlKGZ1bmN0aW9uKHQsbil7aWYobnVsbD09dClyZXR1cm5bXTt2YXIgcj1uLmxlbmd0aDtyZXR1cm4gcj4xJiZQcih0LG5bMF0sblsxXSk/bj1bXTpyPjImJlByKG5bMF0sblsxXSxuWzJdKSYmKG49W25bMF1dKSxSbih0LHNuKG4sMSksW10pfSksVm89bHUubm93LEtvPXhlKGZ1bmN0aW9uKHQsbixyKXt2YXIgZT0xO2lmKHIubGVuZ3RoKXZhciB1PUYocixCcihLbykpLGU9MzJ8ZTtyZXR1cm4gT3IodCxlLG4scix1KX0pLEdvPXhlKGZ1bmN0aW9uKHQsbixyKXt2YXIgZT0zO2lmKHIubGVuZ3RoKXZhciB1PUYocixCcihHbykpLGU9MzJ8ZTtyZXR1cm4gT3IobixlLHQscix1KTtcclxufSksSm89eGUoZnVuY3Rpb24odCxuKXtyZXR1cm4gZm4odCwxLG4pfSksWW89eGUoZnVuY3Rpb24odCxuLHIpe3JldHVybiBmbih0LHFlKG4pfHwwLHIpfSk7YmUuQ2FjaGU9THQ7dmFyIEhvPXhlKGZ1bmN0aW9uKHQsbil7bj1hKHNuKG4sMSxOciksU3IoKSk7dmFyIGU9bi5sZW5ndGg7cmV0dXJuIHhlKGZ1bmN0aW9uKHUpe2Zvcih2YXIgbz0tMSxpPVp1KHUubGVuZ3RoLGUpOysrbzxpOyl1W29dPW5bb10uY2FsbCh0aGlzLHVbb10pO3JldHVybiByKHQsdGhpcyx1KX0pfSksUW89eGUoZnVuY3Rpb24odCxuKXt2YXIgcj1GKG4sQnIoUW8pKTtyZXR1cm4gT3IodCwzMixULG4scil9KSxYbz14ZShmdW5jdGlvbih0LG4pe3ZhciByPUYobixCcihYbykpO3JldHVybiBPcih0LDY0LFQsbixyKX0pLHRpPXhlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIE9yKHQsMjU2LFQsVCxULHNuKG4sMSkpfSksbmk9QXJyYXkuaXNBcnJheSxyaT1BdT9mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEF1O1xyXG59OnV1KGZhbHNlKSxlaT1jcihmdW5jdGlvbih0LG4pe2lmKHRvfHxWcihuKXx8T2UobikpdXIobixZZShuKSx0KTtlbHNlIGZvcih2YXIgciBpbiBuKXl1LmNhbGwobixyKSYmUXQodCxyLG5bcl0pfSksdWk9Y3IoZnVuY3Rpb24odCxuKXtpZih0b3x8VnIobil8fE9lKG4pKXVyKG4sSGUobiksdCk7ZWxzZSBmb3IodmFyIHIgaW4gbilRdCh0LHIsbltyXSl9KSxvaT1jcihmdW5jdGlvbih0LG4scixlKXtvcihuLEhlKG4pLHQsZSl9KSxpaT1jcihmdW5jdGlvbih0LG4scixlKXtvcihuLFllKG4pLHQsZSl9KSxmaT14ZShmdW5jdGlvbih0LG4pe3JldHVybiBubih0LHNuKG4sMSkpfSksY2k9eGUoZnVuY3Rpb24odCl7cmV0dXJuIHQucHVzaChULEd0KSxyKG9pLFQsdCl9KSxhaT14ZShmdW5jdGlvbih0KXtyZXR1cm4gdC5wdXNoKFQsR3IpLHIoX2ksVCx0KX0pLGxpPXlyKGZ1bmN0aW9uKHQsbixyKXt0W25dPXJ9LHV1KG91KSksc2k9eXIoZnVuY3Rpb24odCxuLHIpe3l1LmNhbGwodCxuKT90W25dLnB1c2gocik6dFtuXT1bcl07XHJcbn0sU3IpLGhpPXhlKGpuKSxwaT1jcihmdW5jdGlvbih0LG4scil7U24odCxuLHIpfSksX2k9Y3IoZnVuY3Rpb24odCxuLHIsZSl7U24odCxuLHIsZSl9KSx2aT14ZShmdW5jdGlvbih0LG4pe3JldHVybiBudWxsPT10P3t9OihuPWEoc24obiwxKSxZciksV24odCxjbihnbih0LEhlLGJvKSxuKSkpfSksZ2k9eGUoZnVuY3Rpb24odCxuKXtyZXR1cm4gbnVsbD09dD97fTpXbih0LHNuKG4sMSkpfSksZGk9cHIoZnVuY3Rpb24odCxuLHIpe3JldHVybiBuPW4udG9Mb3dlckNhc2UoKSx0KyhyP251KG4pOm4pfSkseWk9cHIoZnVuY3Rpb24odCxuLHIpe3JldHVybiB0KyhyP1wiLVwiOlwiXCIpK24udG9Mb3dlckNhc2UoKX0pLGJpPXByKGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdCsocj9cIiBcIjpcIlwiKStuLnRvTG93ZXJDYXNlKCl9KSx4aT1ocihcInRvTG93ZXJDYXNlXCIpLGppPXByKGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdCsocj9cIl9cIjpcIlwiKStuLnRvTG93ZXJDYXNlKCl9KSxtaT1wcihmdW5jdGlvbih0LG4scil7XHJcbnJldHVybiB0KyhyP1wiIFwiOlwiXCIpK0FpKG4pfSksd2k9cHIoZnVuY3Rpb24odCxuLHIpe3JldHVybiB0KyhyP1wiIFwiOlwiXCIpK24udG9VcHBlckNhc2UoKX0pLEFpPWhyKFwidG9VcHBlckNhc2VcIiksT2k9eGUoZnVuY3Rpb24odCxuKXt0cnl7cmV0dXJuIHIodCxULG4pfWNhdGNoKGUpe3JldHVybiBFZShlKT9lOm5ldyBzdShlKX19KSxraT14ZShmdW5jdGlvbih0LG4pe3JldHVybiB1KHNuKG4sMSksZnVuY3Rpb24obil7dFtuXT1Lbyh0W25dLHQpfSksdH0pLEVpPWdyKCksSWk9Z3IodHJ1ZSksU2k9eGUoZnVuY3Rpb24odCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGpuKHIsdCxuKX19KSxSaT14ZShmdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gam4odCxyLG4pfX0pLFdpPWJyKGEpLEJpPWJyKG8pLENpPWJyKHApLHppPW1yKCksVWk9bXIodHJ1ZSksTWk9VyhmdW5jdGlvbih0LG4pe3JldHVybiB0K259KSxMaT1BcihcImNlaWxcIiksJGk9VyhmdW5jdGlvbih0LG4pe1xyXG5yZXR1cm4gdC9ufSksRGk9QXIoXCJmbG9vclwiKSxGaT1XKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQqbn0pLE5pPUFyKFwicm91bmRcIiksUGk9VyhmdW5jdGlvbih0LG4pe3JldHVybiB0LW59KTtyZXR1cm4ganQuYWZ0ZXI9ZnVuY3Rpb24odCxuKXtpZih0eXBlb2YgbiE9XCJmdW5jdGlvblwiKXRocm93IG5ldyBfdShcIkV4cGVjdGVkIGEgZnVuY3Rpb25cIik7cmV0dXJuIHQ9UGUodCksZnVuY3Rpb24oKXtyZXR1cm4gMT4tLXQ/bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfX0sanQuYXJ5PV9lLGp0LmFzc2lnbj1laSxqdC5hc3NpZ25Jbj11aSxqdC5hc3NpZ25JbldpdGg9b2ksanQuYXNzaWduV2l0aD1paSxqdC5hdD1maSxqdC5iZWZvcmU9dmUsanQuYmluZD1LbyxqdC5iaW5kQWxsPWtpLGp0LmJpbmRLZXk9R28sanQuY2FzdEFycmF5PWplLGp0LmNoYWluPWZlLGp0LmNodW5rPWZ1bmN0aW9uKHQsbixyKXtpZihuPShyP1ByKHQsbixyKTpuPT09VCk/MTpQdShQZShuKSwwKSxyPXQ/dC5sZW5ndGg6MCxcclxuIXJ8fDE+bilyZXR1cm5bXTtmb3IodmFyIGU9MCx1PTAsbz1BcnJheShNdShyL24pKTtyPmU7KW9bdSsrXT1Gbih0LGUsZSs9bik7cmV0dXJuIG99LGp0LmNvbXBhY3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBuPS0xLHI9dD90Lmxlbmd0aDowLGU9MCx1PVtdOysrbjxyOyl7dmFyIG89dFtuXTtvJiYodVtlKytdPW8pfXJldHVybiB1fSxqdC5jb25jYXQ9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49amUoYXJndW1lbnRzWzBdKTtpZigyPnQpcmV0dXJuIHQ/ZXIobik6W107Zm9yKHZhciByPUFycmF5KHQtMSk7dC0tOylyW3QtMV09YXJndW1lbnRzW3RdO2Zvcih2YXIgdD1zbihyLDEpLHI9LTEsZT1uLmxlbmd0aCx1PS0xLG89dC5sZW5ndGgsaT1BcnJheShlK28pOysrcjxlOylpW3JdPW5bcl07Zm9yKDsrK3U8bzspaVtyKytdPXRbdV07cmV0dXJuIGl9LGp0LmNvbmQ9ZnVuY3Rpb24odCl7dmFyIG49dD90Lmxlbmd0aDowLGU9U3IoKTtyZXR1cm4gdD1uP2EodCxmdW5jdGlvbih0KXtcclxuaWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdFsxXSl0aHJvdyBuZXcgX3UoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO3JldHVybltlKHRbMF0pLHRbMV1dfSk6W10seGUoZnVuY3Rpb24oZSl7Zm9yKHZhciB1PS0xOysrdTxuOyl7dmFyIG89dFt1XTtpZihyKG9bMF0sdGhpcyxlKSlyZXR1cm4gcihvWzFdLHRoaXMsZSl9fSl9LGp0LmNvbmZvcm1zPWZ1bmN0aW9uKHQpe3JldHVybiB1bihlbih0LHRydWUpKX0sanQuY29uc3RhbnQ9dXUsanQuY291bnRCeT1GbyxqdC5jcmVhdGU9ZnVuY3Rpb24odCxuKXt2YXIgcj1vbih0KTtyZXR1cm4gbj90bihyLG4pOnJ9LGp0LmN1cnJ5PWdlLGp0LmN1cnJ5UmlnaHQ9ZGUsanQuZGVib3VuY2U9eWUsanQuZGVmYXVsdHM9Y2ksanQuZGVmYXVsdHNEZWVwPWFpLGp0LmRlZmVyPUpvLGp0LmRlbGF5PVlvLGp0LmRpZmZlcmVuY2U9bW8sanQuZGlmZmVyZW5jZUJ5PXdvLGp0LmRpZmZlcmVuY2VXaXRoPUFvLGp0LmRyb3A9WHIsanQuZHJvcFJpZ2h0PXRlLGp0LmRyb3BSaWdodFdoaWxlPWZ1bmN0aW9uKHQsbil7XHJcbnJldHVybiB0JiZ0Lmxlbmd0aD9Wbih0LFNyKG4sMyksdHJ1ZSx0cnVlKTpbXX0sanQuZHJvcFdoaWxlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJnQubGVuZ3RoP1ZuKHQsU3IobiwzKSx0cnVlKTpbXX0sanQuZmlsbD1mdW5jdGlvbih0LG4scixlKXt2YXIgdT10P3QubGVuZ3RoOjA7aWYoIXUpcmV0dXJuW107Zm9yKHImJnR5cGVvZiByIT1cIm51bWJlclwiJiZQcih0LG4scikmJihyPTAsZT11KSx1PXQubGVuZ3RoLHI9UGUociksMD5yJiYocj0tcj51PzA6dStyKSxlPWU9PT1UfHxlPnU/dTpQZShlKSwwPmUmJihlKz11KSxlPXI+ZT8wOlplKGUpO2U+cjspdFtyKytdPW47cmV0dXJuIHR9LGp0LmZpbHRlcj1mdW5jdGlvbih0LG4pe3JldHVybihuaSh0KT9pOmxuKSh0LFNyKG4sMykpfSxqdC5mbGF0TWFwPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHNuKGhlKHQsbiksMSl9LGp0LmZsYXRNYXBEZWVwPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHNuKGhlKHQsbiksVil9LGp0LmZsYXRNYXBEZXB0aD1mdW5jdGlvbih0LG4scil7XHJcbnJldHVybiByPXI9PT1UPzE6UGUociksc24oaGUodCxuKSxyKX0sanQuZmxhdHRlbj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGg/c24odCwxKTpbXX0sanQuZmxhdHRlbkRlZXA9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoP3NuKHQsVik6W119LGp0LmZsYXR0ZW5EZXB0aD1mdW5jdGlvbih0LG4pe3JldHVybiB0JiZ0Lmxlbmd0aD8obj1uPT09VD8xOlBlKG4pLHNuKHQsbikpOltdfSxqdC5mbGlwPWZ1bmN0aW9uKHQpe3JldHVybiBPcih0LDUxMil9LGp0LmZsb3c9RWksanQuZmxvd1JpZ2h0PUlpLGp0LmZyb21QYWlycz1mdW5jdGlvbih0KXtmb3IodmFyIG49LTEscj10P3QubGVuZ3RoOjAsZT17fTsrK248cjspe3ZhciB1PXRbbl07ZVt1WzBdXT11WzFdfXJldHVybiBlfSxqdC5mdW5jdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/W106X24odCxZZSh0KSl9LGp0LmZ1bmN0aW9uc0luPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1tdOl9uKHQsSGUodCkpO1xyXG59LGp0Lmdyb3VwQnk9Tm8sanQuaW5pdGlhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGUodCwxKX0sanQuaW50ZXJzZWN0aW9uPU9vLGp0LmludGVyc2VjdGlvbkJ5PWtvLGp0LmludGVyc2VjdGlvbldpdGg9RW8sanQuaW52ZXJ0PWxpLGp0LmludmVydEJ5PXNpLGp0Lmludm9rZU1hcD1QbyxqdC5pdGVyYXRlZT1pdSxqdC5rZXlCeT1abyxqdC5rZXlzPVllLGp0LmtleXNJbj1IZSxqdC5tYXA9aGUsanQubWFwS2V5cz1mdW5jdGlvbih0LG4pe3ZhciByPXt9O3JldHVybiBuPVNyKG4sMyksaG4odCxmdW5jdGlvbih0LGUsdSl7cltuKHQsZSx1KV09dH0pLHJ9LGp0Lm1hcFZhbHVlcz1mdW5jdGlvbih0LG4pe3ZhciByPXt9O3JldHVybiBuPVNyKG4sMyksaG4odCxmdW5jdGlvbih0LGUsdSl7cltlXT1uKHQsZSx1KX0pLHJ9LGp0Lm1hdGNoZXM9ZnVuY3Rpb24odCl7cmV0dXJuIEVuKGVuKHQsdHJ1ZSkpfSxqdC5tYXRjaGVzUHJvcGVydHk9ZnVuY3Rpb24odCxuKXtyZXR1cm4gSW4odCxlbihuLHRydWUpKTtcclxufSxqdC5tZW1vaXplPWJlLGp0Lm1lcmdlPXBpLGp0Lm1lcmdlV2l0aD1faSxqdC5tZXRob2Q9U2ksanQubWV0aG9kT2Y9UmksanQubWl4aW49ZnUsanQubmVnYXRlPWZ1bmN0aW9uKHQpe2lmKHR5cGVvZiB0IT1cImZ1bmN0aW9uXCIpdGhyb3cgbmV3IF91KFwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxqdC5udGhBcmc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9UGUodCksZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzW3RdfX0sanQub21pdD12aSxqdC5vbWl0Qnk9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj1TcihuKSxCbih0LGZ1bmN0aW9uKHQscil7cmV0dXJuIW4odCxyKX0pfSxqdC5vbmNlPWZ1bmN0aW9uKHQpe3JldHVybiB2ZSgyLHQpfSxqdC5vcmRlckJ5PWZ1bmN0aW9uKHQsbixyLGUpe3JldHVybiBudWxsPT10P1tdOihuaShuKXx8KG49bnVsbD09bj9bXTpbbl0pLHI9ZT9UOnIsbmkocil8fChyPW51bGw9PXI/W106W3JdKSxcclxuUm4odCxuLHIpKX0sanQub3Zlcj1XaSxqdC5vdmVyQXJncz1IbyxqdC5vdmVyRXZlcnk9QmksanQub3ZlclNvbWU9Q2ksanQucGFydGlhbD1RbyxqdC5wYXJ0aWFsUmlnaHQ9WG8sanQucGFydGl0aW9uPXFvLGp0LnBpY2s9Z2ksanQucGlja0J5PWZ1bmN0aW9uKHQsbil7cmV0dXJuIG51bGw9PXQ/e306Qm4odCxTcihuKSl9LGp0LnByb3BlcnR5PWF1LGp0LnByb3BlcnR5T2Y9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT10P1Q6dm4odCxuKX19LGp0LnB1bGw9SW8sanQucHVsbEFsbD1lZSxqdC5wdWxsQWxsQnk9ZnVuY3Rpb24odCxuLHIpe3JldHVybiB0JiZ0Lmxlbmd0aCYmbiYmbi5sZW5ndGg/VW4odCxuLFNyKHIpKTp0fSxqdC5wdWxsQWxsV2l0aD1mdW5jdGlvbih0LG4scil7cmV0dXJuIHQmJnQubGVuZ3RoJiZuJiZuLmxlbmd0aD9Vbih0LG4sVCxyKTp0fSxqdC5wdWxsQXQ9U28sanQucmFuZ2U9emksanQucmFuZ2VSaWdodD1VaSxqdC5yZWFyZz10aSxcclxuanQucmVqZWN0PWZ1bmN0aW9uKHQsbil7dmFyIHI9bmkodCk/aTpsbjtyZXR1cm4gbj1TcihuLDMpLHIodCxmdW5jdGlvbih0LHIsZSl7cmV0dXJuIW4odCxyLGUpfSl9LGp0LnJlbW92ZT1mdW5jdGlvbih0LG4pe3ZhciByPVtdO2lmKCF0fHwhdC5sZW5ndGgpcmV0dXJuIHI7dmFyIGU9LTEsdT1bXSxvPXQubGVuZ3RoO2ZvcihuPVNyKG4sMyk7KytlPG87KXt2YXIgaT10W2VdO24oaSxlLHQpJiYoci5wdXNoKGkpLHUucHVzaChlKSl9cmV0dXJuIE1uKHQsdSkscn0sanQucmVzdD14ZSxqdC5yZXZlcnNlPXVlLGp0LnNhbXBsZVNpemU9cGUsanQuc2V0PWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbnVsbD09dD90OkRuKHQsbixyKX0sanQuc2V0V2l0aD1mdW5jdGlvbih0LG4scixlKXtyZXR1cm4gZT10eXBlb2YgZT09XCJmdW5jdGlvblwiP2U6VCxudWxsPT10P3Q6RG4odCxuLHIsZSl9LGp0LnNodWZmbGU9ZnVuY3Rpb24odCl7cmV0dXJuIHBlKHQsNDI5NDk2NzI5NSl9LGp0LnNsaWNlPWZ1bmN0aW9uKHQsbixyKXtcclxudmFyIGU9dD90Lmxlbmd0aDowO3JldHVybiBlPyhyJiZ0eXBlb2YgciE9XCJudW1iZXJcIiYmUHIodCxuLHIpPyhuPTAscj1lKToobj1udWxsPT1uPzA6UGUobikscj1yPT09VD9lOlBlKHIpKSxGbih0LG4scikpOltdfSxqdC5zb3J0Qnk9VG8sanQuc29ydGVkVW5pcT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGg/cW4odCk6W119LGp0LnNvcnRlZFVuaXFCeT1mdW5jdGlvbih0LG4pe3JldHVybiB0JiZ0Lmxlbmd0aD9xbih0LFNyKG4pKTpbXX0sanQuc3BsaXQ9ZnVuY3Rpb24odCxuLHIpe3JldHVybiByJiZ0eXBlb2YgciE9XCJudW1iZXJcIiYmUHIodCxuLHIpJiYobj1yPVQpLHI9cj09PVQ/NDI5NDk2NzI5NTpyPj4+MCxyPyh0PVZlKHQpKSYmKHR5cGVvZiBuPT1cInN0cmluZ1wifHxudWxsIT1uJiYhTWUobikpJiYobis9XCJcIixcIlwiPT1uJiZXdC50ZXN0KHQpKT9Rbih0Lm1hdGNoKFN0KSwwLHIpOnQuc3BsaXQobixyKTpbXX0sanQuc3ByZWFkPWZ1bmN0aW9uKHQsbil7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgX3UoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO1xyXG5yZXR1cm4gbj1uPT09VD8wOlB1KFBlKG4pLDApLHhlKGZ1bmN0aW9uKGUpe3ZhciB1PWVbbl07cmV0dXJuIGU9UW4oZSwwLG4pLHUmJmwoZSx1KSxyKHQsdGhpcyxlKX0pfSxqdC50YWlsPWZ1bmN0aW9uKHQpe3JldHVybiBYcih0LDEpfSxqdC50YWtlPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdCYmdC5sZW5ndGg/KG49cnx8bj09PVQ/MTpQZShuKSxGbih0LDAsMD5uPzA6bikpOltdfSxqdC50YWtlUmlnaHQ9ZnVuY3Rpb24odCxuLHIpe3ZhciBlPXQ/dC5sZW5ndGg6MDtyZXR1cm4gZT8obj1yfHxuPT09VD8xOlBlKG4pLG49ZS1uLEZuKHQsMD5uPzA6bixlKSk6W119LGp0LnRha2VSaWdodFdoaWxlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJnQubGVuZ3RoP1ZuKHQsU3IobiwzKSxmYWxzZSx0cnVlKTpbXX0sanQudGFrZVdoaWxlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJnQubGVuZ3RoP1ZuKHQsU3IobiwzKSk6W119LGp0LnRhcD1mdW5jdGlvbih0LG4pe3JldHVybiBuKHQpLHR9LGp0LnRocm90dGxlPWZ1bmN0aW9uKHQsbixyKXtcclxudmFyIGU9dHJ1ZSx1PXRydWU7aWYodHlwZW9mIHQhPVwiZnVuY3Rpb25cIil0aHJvdyBuZXcgX3UoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO3JldHVybiBXZShyKSYmKGU9XCJsZWFkaW5nXCJpbiByPyEhci5sZWFkaW5nOmUsdT1cInRyYWlsaW5nXCJpbiByPyEhci50cmFpbGluZzp1KSx5ZSh0LG4se2xlYWRpbmc6ZSxtYXhXYWl0Om4sdHJhaWxpbmc6dX0pfSxqdC50aHJ1PWNlLGp0LnRvQXJyYXk9TmUsanQudG9QYWlycz1RZSxqdC50b1BhaXJzSW49WGUsanQudG9QYXRoPWZ1bmN0aW9uKHQpe3JldHVybiBuaSh0KT9hKHQsWXIpOiRlKHQpP1t0XTplcihqbyh0KSl9LGp0LnRvUGxhaW5PYmplY3Q9VGUsanQudHJhbnNmb3JtPWZ1bmN0aW9uKHQsbixyKXt2YXIgZT1uaSh0KXx8RGUodCk7aWYobj1TcihuLDQpLG51bGw9PXIpaWYoZXx8V2UodCkpe3ZhciBvPXQuY29uc3RydWN0b3I7cj1lP25pKHQpP25ldyBvOltdOkllKG8pP29uKCR1KE9iamVjdCh0KSkpOnt9fWVsc2Ugcj17fTtyZXR1cm4oZT91OmhuKSh0LGZ1bmN0aW9uKHQsZSx1KXtcclxucmV0dXJuIG4ocix0LGUsdSl9KSxyfSxqdC51bmFyeT1mdW5jdGlvbih0KXtyZXR1cm4gX2UodCwxKX0sanQudW5pb249Um8sanQudW5pb25CeT1XbyxqdC51bmlvbldpdGg9Qm8sanQudW5pcT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5sZW5ndGg/VG4odCk6W119LGp0LnVuaXFCeT1mdW5jdGlvbih0LG4pe3JldHVybiB0JiZ0Lmxlbmd0aD9Ubih0LFNyKG4pKTpbXX0sanQudW5pcVdpdGg9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdCYmdC5sZW5ndGg/VG4odCxULG4pOltdfSxqdC51bnNldD1mdW5jdGlvbih0LG4pe3ZhciByO2lmKG51bGw9PXQpcj10cnVlO2Vsc2V7cj10O3ZhciBlPW4sZT1acihlLHIpP1tlXTpIbihlKTtyPUpyKHIsZSksZT1yZShlKSxyPW51bGwhPXImJkdlKHIsZSk/ZGVsZXRlIHJbZV06dHJ1ZX1yZXR1cm4gcn0sanQudW56aXA9b2UsanQudW56aXBXaXRoPWllLGp0LnVwZGF0ZT1mdW5jdGlvbih0LG4scil7cmV0dXJuIG51bGw9PXQ/dDpEbih0LG4sKHR5cGVvZiByPT1cImZ1bmN0aW9uXCI/cjpvdSkodm4odCxuKSksdm9pZCAwKTtcclxufSxqdC51cGRhdGVXaXRoPWZ1bmN0aW9uKHQsbixyLGUpe3JldHVybiBlPXR5cGVvZiBlPT1cImZ1bmN0aW9uXCI/ZTpULG51bGwhPXQmJih0PURuKHQsbiwodHlwZW9mIHI9PVwiZnVuY3Rpb25cIj9yOm91KSh2bih0LG4pKSxlKSksdH0sanQudmFsdWVzPXR1LGp0LnZhbHVlc0luPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10P1tdOmsodCxIZSh0KSl9LGp0LndpdGhvdXQ9Q28sanQud29yZHM9ZXUsanQud3JhcD1mdW5jdGlvbih0LG4pe3JldHVybiBuPW51bGw9PW4/b3U6bixRbyhuLHQpfSxqdC54b3I9em8sanQueG9yQnk9VW8sanQueG9yV2l0aD1NbyxqdC56aXA9TG8sanQuemlwT2JqZWN0PWZ1bmN0aW9uKHQsbil7cmV0dXJuIEpuKHR8fFtdLG58fFtdLFF0KX0sanQuemlwT2JqZWN0RGVlcD1mdW5jdGlvbih0LG4pe3JldHVybiBKbih0fHxbXSxufHxbXSxEbil9LGp0LnppcFdpdGg9JG8sanQuZW50cmllcz1RZSxqdC5lbnRyaWVzSW49WGUsanQuZXh0ZW5kPXVpLGp0LmV4dGVuZFdpdGg9b2ksXHJcbmZ1KGp0LGp0KSxqdC5hZGQ9TWksanQuYXR0ZW1wdD1PaSxqdC5jYW1lbENhc2U9ZGksanQuY2FwaXRhbGl6ZT1udSxqdC5jZWlsPUxpLGp0LmNsYW1wPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gcj09PVQmJihyPW4sbj1UKSxyIT09VCYmKHI9cWUocikscj1yPT09cj9yOjApLG4hPT1UJiYobj1xZShuKSxuPW49PT1uP246MCkscm4ocWUodCksbixyKX0sanQuY2xvbmU9ZnVuY3Rpb24odCl7cmV0dXJuIGVuKHQsZmFsc2UsdHJ1ZSl9LGp0LmNsb25lRGVlcD1mdW5jdGlvbih0KXtyZXR1cm4gZW4odCx0cnVlLHRydWUpfSxqdC5jbG9uZURlZXBXaXRoPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGVuKHQsdHJ1ZSx0cnVlLG4pfSxqdC5jbG9uZVdpdGg9ZnVuY3Rpb24odCxuKXtyZXR1cm4gZW4odCxmYWxzZSx0cnVlLG4pfSxqdC5kZWJ1cnI9cnUsanQuZGl2aWRlPSRpLGp0LmVuZHNXaXRoPWZ1bmN0aW9uKHQsbixyKXt0PVZlKHQpLG49dHlwZW9mIG49PVwic3RyaW5nXCI/bjpuK1wiXCI7dmFyIGU9dC5sZW5ndGg7cmV0dXJuIHI9cj09PVQ/ZTpybihQZShyKSwwLGUpLFxyXG5yLT1uLmxlbmd0aCxyPj0wJiZ0LmluZGV4T2YobixyKT09cn0sanQuZXE9bWUsanQuZXNjYXBlPWZ1bmN0aW9uKHQpe3JldHVybih0PVZlKHQpKSYmdHQudGVzdCh0KT90LnJlcGxhY2UoUSxDKTp0fSxqdC5lc2NhcGVSZWdFeHA9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9VmUodCkpJiZjdC50ZXN0KHQpP3QucmVwbGFjZShmdCxcIlxcXFwkJlwiKTp0fSxqdC5ldmVyeT1mdW5jdGlvbih0LG4scil7dmFyIGU9bmkodCk/bzphbjtyZXR1cm4gciYmUHIodCxuLHIpJiYobj1UKSxlKHQsU3IobiwzKSl9LGp0LmZpbmQ9ZnVuY3Rpb24odCxuKXtpZihuPVNyKG4sMyksbmkodCkpe3ZhciByPWcodCxuKTtyZXR1cm4gcj4tMT90W3JdOlR9cmV0dXJuIHYodCxuLGxvKX0sanQuZmluZEluZGV4PWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJnQubGVuZ3RoP2codCxTcihuLDMpKTotMX0sanQuZmluZEtleT1mdW5jdGlvbih0LG4pe3JldHVybiB2KHQsU3IobiwzKSxobix0cnVlKX0sanQuZmluZExhc3Q9ZnVuY3Rpb24odCxuKXtcclxuaWYobj1TcihuLDMpLG5pKHQpKXt2YXIgcj1nKHQsbix0cnVlKTtyZXR1cm4gcj4tMT90W3JdOlR9cmV0dXJuIHYodCxuLHNvKX0sanQuZmluZExhc3RJbmRleD1mdW5jdGlvbih0LG4pe3JldHVybiB0JiZ0Lmxlbmd0aD9nKHQsU3IobiwzKSx0cnVlKTotMX0sanQuZmluZExhc3RLZXk9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdih0LFNyKG4sMykscG4sdHJ1ZSl9LGp0LmZsb29yPURpLGp0LmZvckVhY2g9bGUsanQuZm9yRWFjaFJpZ2h0PXNlLGp0LmZvckluPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG51bGw9PXQ/dDpobyh0LFNyKG4pLEhlKX0sanQuZm9ySW5SaWdodD1mdW5jdGlvbih0LG4pe3JldHVybiBudWxsPT10P3Q6cG8odCxTcihuKSxIZSl9LGp0LmZvck93bj1mdW5jdGlvbih0LG4pe3JldHVybiB0JiZobih0LFNyKG4pKX0sanQuZm9yT3duUmlnaHQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdCYmcG4odCxTcihuKSl9LGp0LmdldD1LZSxqdC5ndD13ZSxqdC5ndGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdD49bjtcclxufSxqdC5oYXM9R2UsanQuaGFzSW49SmUsanQuaGVhZD1uZSxqdC5pZGVudGl0eT1vdSxqdC5pbmNsdWRlcz1mdW5jdGlvbih0LG4scixlKXtyZXR1cm4gdD1PZSh0KT90OnR1KHQpLHI9ciYmIWU/UGUocik6MCxlPXQubGVuZ3RoLDA+ciYmKHI9UHUoZStyLDApKSxMZSh0KT9lPj1yJiYtMTx0LmluZGV4T2YobixyKTohIWUmJi0xPGQodCxuLHIpfSxqdC5pbmRleE9mPWZ1bmN0aW9uKHQsbixyKXt2YXIgZT10P3QubGVuZ3RoOjA7cmV0dXJuIGU/KHI9UGUociksMD5yJiYocj1QdShlK3IsMCkpLGQodCxuLHIpKTotMX0sanQuaW5SYW5nZT1mdW5jdGlvbih0LG4scil7cmV0dXJuIG49cWUobil8fDAscj09PVQ/KHI9bixuPTApOnI9cWUocil8fDAsdD1xZSh0KSx0Pj1adShuLHIpJiZ0PFB1KG4scil9LGp0Lmludm9rZT1oaSxqdC5pc0FyZ3VtZW50cz1BZSxqdC5pc0FycmF5PW5pLGp0LmlzQXJyYXlCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIEJlKHQpJiZcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PWp1LmNhbGwodCk7XHJcbn0sanQuaXNBcnJheUxpa2U9T2UsanQuaXNBcnJheUxpa2VPYmplY3Q9a2UsanQuaXNCb29sZWFuPWZ1bmN0aW9uKHQpe3JldHVybiB0cnVlPT09dHx8ZmFsc2U9PT10fHxCZSh0KSYmXCJbb2JqZWN0IEJvb2xlYW5dXCI9PWp1LmNhbGwodCl9LGp0LmlzQnVmZmVyPXJpLGp0LmlzRGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gQmUodCkmJlwiW29iamVjdCBEYXRlXVwiPT1qdS5jYWxsKHQpfSxqdC5pc0VsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuISF0JiYxPT09dC5ub2RlVHlwZSYmQmUodCkmJiFVZSh0KX0sanQuaXNFbXB0eT1mdW5jdGlvbih0KXtpZihPZSh0KSYmKG5pKHQpfHxMZSh0KXx8SWUodC5zcGxpY2UpfHxBZSh0KXx8cmkodCkpKXJldHVybiF0Lmxlbmd0aDtpZihCZSh0KSl7dmFyIG49enIodCk7aWYoXCJbb2JqZWN0IE1hcF1cIj09bnx8XCJbb2JqZWN0IFNldF1cIj09bilyZXR1cm4hdC5zaXplfWZvcih2YXIgciBpbiB0KWlmKHl1LmNhbGwodCxyKSlyZXR1cm4gZmFsc2U7cmV0dXJuISh0byYmWWUodCkubGVuZ3RoKTtcclxufSxqdC5pc0VxdWFsPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG1uKHQsbil9LGp0LmlzRXF1YWxXaXRoPWZ1bmN0aW9uKHQsbixyKXt2YXIgZT0ocj10eXBlb2Ygcj09XCJmdW5jdGlvblwiP3I6VCk/cih0LG4pOlQ7cmV0dXJuIGU9PT1UP21uKHQsbixyKTohIWV9LGp0LmlzRXJyb3I9RWUsanQuaXNGaW5pdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT1cIm51bWJlclwiJiZEdSh0KX0sanQuaXNGdW5jdGlvbj1JZSxqdC5pc0ludGVnZXI9U2UsanQuaXNMZW5ndGg9UmUsanQuaXNNYXA9ZnVuY3Rpb24odCl7cmV0dXJuIEJlKHQpJiZcIltvYmplY3QgTWFwXVwiPT16cih0KX0sanQuaXNNYXRjaD1mdW5jdGlvbih0LG4pe3JldHVybiB0PT09bnx8d24odCxuLFJyKG4pKX0sanQuaXNNYXRjaFdpdGg9ZnVuY3Rpb24odCxuLHIpe3JldHVybiByPXR5cGVvZiByPT1cImZ1bmN0aW9uXCI/cjpULHduKHQsbixScihuKSxyKX0sanQuaXNOYU49ZnVuY3Rpb24odCl7cmV0dXJuIHplKHQpJiZ0IT0rdH0sXHJcbmp0LmlzTmF0aXZlPUNlLGp0LmlzTmlsPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT10fSxqdC5pc051bGw9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PT10fSxqdC5pc051bWJlcj16ZSxqdC5pc09iamVjdD1XZSxqdC5pc09iamVjdExpa2U9QmUsanQuaXNQbGFpbk9iamVjdD1VZSxqdC5pc1JlZ0V4cD1NZSxqdC5pc1NhZmVJbnRlZ2VyPWZ1bmN0aW9uKHQpe3JldHVybiBTZSh0KSYmdD49LTkwMDcxOTkyNTQ3NDA5OTEmJjkwMDcxOTkyNTQ3NDA5OTE+PXR9LGp0LmlzU2V0PWZ1bmN0aW9uKHQpe3JldHVybiBCZSh0KSYmXCJbb2JqZWN0IFNldF1cIj09enIodCl9LGp0LmlzU3RyaW5nPUxlLGp0LmlzU3ltYm9sPSRlLGp0LmlzVHlwZWRBcnJheT1EZSxqdC5pc1VuZGVmaW5lZD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PVR9LGp0LmlzV2Vha01hcD1mdW5jdGlvbih0KXtyZXR1cm4gQmUodCkmJlwiW29iamVjdCBXZWFrTWFwXVwiPT16cih0KX0sanQuaXNXZWFrU2V0PWZ1bmN0aW9uKHQpe3JldHVybiBCZSh0KSYmXCJbb2JqZWN0IFdlYWtTZXRdXCI9PWp1LmNhbGwodCk7XHJcbn0sanQuam9pbj1mdW5jdGlvbih0LG4pe3JldHVybiB0P0Z1LmNhbGwodCxuKTpcIlwifSxqdC5rZWJhYkNhc2U9eWksanQubGFzdD1yZSxqdC5sYXN0SW5kZXhPZj1mdW5jdGlvbih0LG4scil7dmFyIGU9dD90Lmxlbmd0aDowO2lmKCFlKXJldHVybi0xO3ZhciB1PWU7aWYociE9PVQmJih1PVBlKHIpLHU9KDA+dT9QdShlK3UsMCk6WnUodSxlLTEpKSsxKSxuIT09bilyZXR1cm4gVSh0LHUsdHJ1ZSk7Zm9yKDt1LS07KWlmKHRbdV09PT1uKXJldHVybiB1O3JldHVybi0xfSxqdC5sb3dlckNhc2U9YmksanQubG93ZXJGaXJzdD14aSxqdC5sdD1GZSxqdC5sdGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbj49dH0sanQubWF4PWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD9fKHQsb3Usd2UpOlR9LGp0Lm1heEJ5PWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJnQubGVuZ3RoP18odCxTcihuKSx3ZSk6VH0sanQubWVhbj1mdW5jdGlvbih0KXtyZXR1cm4gYih0LG91KX0sanQubWVhbkJ5PWZ1bmN0aW9uKHQsbil7XHJcbnJldHVybiBiKHQsU3IobikpfSxqdC5taW49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQubGVuZ3RoP18odCxvdSxGZSk6VH0sanQubWluQnk9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdCYmdC5sZW5ndGg/Xyh0LFNyKG4pLEZlKTpUfSxqdC5tdWx0aXBseT1GaSxqdC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIEp0Ll89PT10aGlzJiYoSnQuXz1tdSksdGhpc30sanQubm9vcD1jdSxqdC5ub3c9Vm8sanQucGFkPWZ1bmN0aW9uKHQsbixyKXt0PVZlKHQpO3ZhciBlPShuPVBlKG4pKT9QKHQpOjA7cmV0dXJuIG4mJm4+ZT8obj0obi1lKS8yLHhyKEx1KG4pLHIpK3QreHIoTXUobikscikpOnR9LGp0LnBhZEVuZD1mdW5jdGlvbih0LG4scil7dD1WZSh0KTt2YXIgZT0obj1QZShuKSk/UCh0KTowO3JldHVybiBuJiZuPmU/dCt4cihuLWUscik6dH0sanQucGFkU3RhcnQ9ZnVuY3Rpb24odCxuLHIpe3Q9VmUodCk7dmFyIGU9KG49UGUobikpP1AodCk6MDtyZXR1cm4gbiYmbj5lP3hyKG4tZSxyKSt0OnQ7XHJcbn0sanQucGFyc2VJbnQ9ZnVuY3Rpb24odCxuLHIpe3JldHVybiByfHxudWxsPT1uP249MDpuJiYobj0rbiksdD1WZSh0KS5yZXBsYWNlKGF0LFwiXCIpLHF1KHQsbnx8KGd0LnRlc3QodCk/MTY6MTApKX0sanQucmFuZG9tPWZ1bmN0aW9uKHQsbixyKXtpZihyJiZ0eXBlb2YgciE9XCJib29sZWFuXCImJlByKHQsbixyKSYmKG49cj1UKSxyPT09VCYmKHR5cGVvZiBuPT1cImJvb2xlYW5cIj8ocj1uLG49VCk6dHlwZW9mIHQ9PVwiYm9vbGVhblwiJiYocj10LHQ9VCkpLHQ9PT1UJiZuPT09VD8odD0wLG49MSk6KHQ9cWUodCl8fDAsbj09PVQ/KG49dCx0PTApOm49cWUobil8fDApLHQ+bil7dmFyIGU9dDt0PW4sbj1lfXJldHVybiByfHx0JTF8fG4lMT8ocj1UdSgpLFp1KHQrcioobi10K050KFwiMWUtXCIrKChyK1wiXCIpLmxlbmd0aC0xKSkpLG4pKTpMbih0LG4pfSxqdC5yZWR1Y2U9ZnVuY3Rpb24odCxuLHIpe3ZhciBlPW5pKHQpP3M6eCx1PTM+YXJndW1lbnRzLmxlbmd0aDtyZXR1cm4gZSh0LFNyKG4sNCkscix1LGxvKTtcclxufSxqdC5yZWR1Y2VSaWdodD1mdW5jdGlvbih0LG4scil7dmFyIGU9bmkodCk/aDp4LHU9Mz5hcmd1bWVudHMubGVuZ3RoO3JldHVybiBlKHQsU3Iobiw0KSxyLHUsc28pfSxqdC5yZXBlYXQ9ZnVuY3Rpb24odCxuLHIpe3JldHVybiBuPShyP1ByKHQsbixyKTpuPT09VCk/MTpQZShuKSwkbihWZSh0KSxuKX0sanQucmVwbGFjZT1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cyxuPVZlKHRbMF0pO3JldHVybiAzPnQubGVuZ3RoP246bi5yZXBsYWNlKHRbMV0sdFsyXSl9LGp0LnJlc3VsdD1mdW5jdGlvbih0LG4scil7bj1acihuLHQpP1tuXTpIbihuKTt2YXIgZT0tMSx1PW4ubGVuZ3RoO2Zvcih1fHwodD1ULHU9MSk7KytlPHU7KXt2YXIgbz1udWxsPT10P1Q6dFtuW2VdXTtvPT09VCYmKGU9dSxvPXIpLHQ9SWUobyk/by5jYWxsKHQpOm99cmV0dXJuIHR9LGp0LnJvdW5kPU5pLGp0LnJ1bkluQ29udGV4dD1xLGp0LnNhbXBsZT1mdW5jdGlvbih0KXt0PU9lKHQpP3Q6dHUodCk7dmFyIG49dC5sZW5ndGg7XHJcbnJldHVybiBuPjA/dFtMbigwLG4tMSldOlR9LGp0LnNpemU9ZnVuY3Rpb24odCl7aWYobnVsbD09dClyZXR1cm4gMDtpZihPZSh0KSl7dmFyIG49dC5sZW5ndGg7cmV0dXJuIG4mJkxlKHQpP1AodCk6bn1yZXR1cm4gQmUodCkmJihuPXpyKHQpLFwiW29iamVjdCBNYXBdXCI9PW58fFwiW29iamVjdCBTZXRdXCI9PW4pP3Quc2l6ZTpZZSh0KS5sZW5ndGh9LGp0LnNuYWtlQ2FzZT1qaSxqdC5zb21lPWZ1bmN0aW9uKHQsbixyKXt2YXIgZT1uaSh0KT9wOk5uO3JldHVybiByJiZQcih0LG4scikmJihuPVQpLGUodCxTcihuLDMpKX0sanQuc29ydGVkSW5kZXg9ZnVuY3Rpb24odCxuKXtyZXR1cm4gUG4odCxuKX0sanQuc29ydGVkSW5kZXhCeT1mdW5jdGlvbih0LG4scil7cmV0dXJuIFpuKHQsbixTcihyKSl9LGp0LnNvcnRlZEluZGV4T2Y9ZnVuY3Rpb24odCxuKXt2YXIgcj10P3QubGVuZ3RoOjA7aWYocil7dmFyIGU9UG4odCxuKTtpZihyPmUmJm1lKHRbZV0sbikpcmV0dXJuIGV9cmV0dXJuLTE7XHJcbn0sanQuc29ydGVkTGFzdEluZGV4PWZ1bmN0aW9uKHQsbil7cmV0dXJuIFBuKHQsbix0cnVlKX0sanQuc29ydGVkTGFzdEluZGV4Qnk9ZnVuY3Rpb24odCxuLHIpe3JldHVybiBabih0LG4sU3IociksdHJ1ZSl9LGp0LnNvcnRlZExhc3RJbmRleE9mPWZ1bmN0aW9uKHQsbil7aWYodCYmdC5sZW5ndGgpe3ZhciByPVBuKHQsbix0cnVlKS0xO2lmKG1lKHRbcl0sbikpcmV0dXJuIHJ9cmV0dXJuLTF9LGp0LnN0YXJ0Q2FzZT1taSxqdC5zdGFydHNXaXRoPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gdD1WZSh0KSxyPXJuKFBlKHIpLDAsdC5sZW5ndGgpLHQubGFzdEluZGV4T2YobixyKT09cn0sanQuc3VidHJhY3Q9UGksanQuc3VtPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lmxlbmd0aD9tKHQsb3UpOjB9LGp0LnN1bUJ5PWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQmJnQubGVuZ3RoP20odCxTcihuKSk6MH0sanQudGVtcGxhdGU9ZnVuY3Rpb24odCxuLHIpe3ZhciBlPWp0LnRlbXBsYXRlU2V0dGluZ3M7ciYmUHIodCxuLHIpJiYobj1UKSxcclxudD1WZSh0KSxuPW9pKHt9LG4sZSxHdCkscj1vaSh7fSxuLmltcG9ydHMsZS5pbXBvcnRzLEd0KTt2YXIgdSxvLGk9WWUociksZj1rKHIsaSksYz0wO3I9bi5pbnRlcnBvbGF0ZXx8d3Q7dmFyIGE9XCJfX3ArPSdcIjtyPXB1KChuLmVzY2FwZXx8d3QpLnNvdXJjZStcInxcIityLnNvdXJjZStcInxcIisocj09PWV0P190Ond0KS5zb3VyY2UrXCJ8XCIrKG4uZXZhbHVhdGV8fHd0KS5zb3VyY2UrXCJ8JFwiLFwiZ1wiKTt2YXIgbD1cInNvdXJjZVVSTFwiaW4gbj9cIi8vIyBzb3VyY2VVUkw9XCIrbi5zb3VyY2VVUkwrXCJcXG5cIjpcIlwiO2lmKHQucmVwbGFjZShyLGZ1bmN0aW9uKG4scixlLGksZixsKXtyZXR1cm4gZXx8KGU9aSksYSs9dC5zbGljZShjLGwpLnJlcGxhY2UoQXQseiksciYmKHU9dHJ1ZSxhKz1cIicrX19lKFwiK3IrXCIpKydcIiksZiYmKG89dHJ1ZSxhKz1cIic7XCIrZitcIjtcXG5fX3ArPSdcIiksZSYmKGErPVwiJysoKF9fdD0oXCIrZStcIikpPT1udWxsPycnOl9fdCkrJ1wiKSxjPWwrbi5sZW5ndGgsbn0pLGErPVwiJztcIiwobj1uLnZhcmlhYmxlKXx8KGE9XCJ3aXRoKG9iail7XCIrYStcIn1cIiksXHJcbmE9KG8/YS5yZXBsYWNlKEcsXCJcIik6YSkucmVwbGFjZShKLFwiJDFcIikucmVwbGFjZShZLFwiJDE7XCIpLGE9XCJmdW5jdGlvbihcIisobnx8XCJvYmpcIikrXCIpe1wiKyhuP1wiXCI6XCJvYmp8fChvYmo9e30pO1wiKStcInZhciBfX3QsX19wPScnXCIrKHU/XCIsX19lPV8uZXNjYXBlXCI6XCJcIikrKG8/XCIsX19qPUFycmF5LnByb3RvdHlwZS5qb2luO2Z1bmN0aW9uIHByaW50KCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpfVwiOlwiO1wiKSthK1wicmV0dXJuIF9fcH1cIixuPU9pKGZ1bmN0aW9uKCl7cmV0dXJuIEZ1bmN0aW9uKGksbCtcInJldHVybiBcIithKS5hcHBseShULGYpfSksbi5zb3VyY2U9YSxFZShuKSl0aHJvdyBuO3JldHVybiBufSxqdC50aW1lcz1mdW5jdGlvbih0LG4pe2lmKHQ9UGUodCksMT50fHx0PjkwMDcxOTkyNTQ3NDA5OTEpcmV0dXJuW107dmFyIHI9NDI5NDk2NzI5NSxlPVp1KHQsNDI5NDk2NzI5NSk7Zm9yKG49U3IobiksdC09NDI5NDk2NzI5NSxlPXcoZSxuKTsrK3I8dDspbihyKTtyZXR1cm4gZTtcclxufSxqdC50b0ludGVnZXI9UGUsanQudG9MZW5ndGg9WmUsanQudG9Mb3dlcj1mdW5jdGlvbih0KXtyZXR1cm4gVmUodCkudG9Mb3dlckNhc2UoKX0sanQudG9OdW1iZXI9cWUsanQudG9TYWZlSW50ZWdlcj1mdW5jdGlvbih0KXtyZXR1cm4gcm4oUGUodCksLTkwMDcxOTkyNTQ3NDA5OTEsOTAwNzE5OTI1NDc0MDk5MSl9LGp0LnRvU3RyaW5nPVZlLGp0LnRvVXBwZXI9ZnVuY3Rpb24odCl7cmV0dXJuIFZlKHQpLnRvVXBwZXJDYXNlKCl9LGp0LnRyaW09ZnVuY3Rpb24odCxuLHIpe3JldHVybih0PVZlKHQpKT9yfHxuPT09VD90LnJlcGxhY2UoYXQsXCJcIik6KG4rPVwiXCIpPyh0PXQubWF0Y2goU3QpLG49bi5tYXRjaChTdCksUW4odCxFKHQsbiksSSh0LG4pKzEpLmpvaW4oXCJcIikpOnQ6dH0sanQudHJpbUVuZD1mdW5jdGlvbih0LG4scil7cmV0dXJuKHQ9VmUodCkpP3J8fG49PT1UP3QucmVwbGFjZShzdCxcIlwiKToobis9XCJcIik/KHQ9dC5tYXRjaChTdCksbj1JKHQsbi5tYXRjaChTdCkpKzEsUW4odCwwLG4pLmpvaW4oXCJcIikpOnQ6dDtcclxufSxqdC50cmltU3RhcnQ9ZnVuY3Rpb24odCxuLHIpe3JldHVybih0PVZlKHQpKT9yfHxuPT09VD90LnJlcGxhY2UobHQsXCJcIik6KG4rPVwiXCIpPyh0PXQubWF0Y2goU3QpLG49RSh0LG4ubWF0Y2goU3QpKSxRbih0LG4pLmpvaW4oXCJcIikpOnQ6dH0sanQudHJ1bmNhdGU9ZnVuY3Rpb24odCxuKXt2YXIgcj0zMCxlPVwiLi4uXCI7aWYoV2UobikpdmFyIHU9XCJzZXBhcmF0b3JcImluIG4/bi5zZXBhcmF0b3I6dSxyPVwibGVuZ3RoXCJpbiBuP1BlKG4ubGVuZ3RoKTpyLGU9XCJvbWlzc2lvblwiaW4gbj9WZShuLm9taXNzaW9uKTplO3Q9VmUodCk7dmFyIG89dC5sZW5ndGg7aWYoV3QudGVzdCh0KSl2YXIgaT10Lm1hdGNoKFN0KSxvPWkubGVuZ3RoO2lmKHI+PW8pcmV0dXJuIHQ7aWYobz1yLVAoZSksMT5vKXJldHVybiBlO2lmKHI9aT9RbihpLDAsbykuam9pbihcIlwiKTp0LnNsaWNlKDAsbyksdT09PVQpcmV0dXJuIHIrZTtpZihpJiYobys9ci5sZW5ndGgtbyksTWUodSkpe2lmKHQuc2xpY2Uobykuc2VhcmNoKHUpKXtcclxudmFyIGY9cjtmb3IodS5nbG9iYWx8fCh1PXB1KHUuc291cmNlLFZlKHZ0LmV4ZWModSkpK1wiZ1wiKSksdS5sYXN0SW5kZXg9MDtpPXUuZXhlYyhmKTspdmFyIGM9aS5pbmRleDtyPXIuc2xpY2UoMCxjPT09VD9vOmMpfX1lbHNlIHQuaW5kZXhPZih1LG8pIT1vJiYodT1yLmxhc3RJbmRleE9mKHUpLHU+LTEmJihyPXIuc2xpY2UoMCx1KSkpO3JldHVybiByK2V9LGp0LnVuZXNjYXBlPWZ1bmN0aW9uKHQpe3JldHVybih0PVZlKHQpKSYmWC50ZXN0KHQpP3QucmVwbGFjZShILFopOnR9LGp0LnVuaXF1ZUlkPWZ1bmN0aW9uKHQpe3ZhciBuPSsrYnU7cmV0dXJuIFZlKHQpK259LGp0LnVwcGVyQ2FzZT13aSxqdC51cHBlckZpcnN0PUFpLGp0LmVhY2g9bGUsanQuZWFjaFJpZ2h0PXNlLGp0LmZpcnN0PW5lLGZ1KGp0LGZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIGhuKGp0LGZ1bmN0aW9uKG4scil7eXUuY2FsbChqdC5wcm90b3R5cGUscil8fCh0W3JdPW4pfSksdH0oKSx7Y2hhaW46ZmFsc2V9KSxcclxuanQuVkVSU0lPTj1cIjQuMTAuMFwiLHUoXCJiaW5kIGJpbmRLZXkgY3VycnkgY3VycnlSaWdodCBwYXJ0aWFsIHBhcnRpYWxSaWdodFwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbih0KXtqdFt0XS5wbGFjZWhvbGRlcj1qdH0pLHUoW1wiZHJvcFwiLFwidGFrZVwiXSxmdW5jdGlvbih0LG4pe0V0LnByb3RvdHlwZVt0XT1mdW5jdGlvbihyKXt2YXIgZT10aGlzLl9fZmlsdGVyZWRfXztpZihlJiYhbilyZXR1cm4gbmV3IEV0KHRoaXMpO3I9cj09PVQ/MTpQdShQZShyKSwwKTt2YXIgdT10aGlzLmNsb25lKCk7cmV0dXJuIGU/dS5fX3Rha2VDb3VudF9fPVp1KHIsdS5fX3Rha2VDb3VudF9fKTp1Ll9fdmlld3NfXy5wdXNoKHtzaXplOlp1KHIsNDI5NDk2NzI5NSksdHlwZTp0KygwPnUuX19kaXJfXz9cIlJpZ2h0XCI6XCJcIil9KSx1fSxFdC5wcm90b3R5cGVbdCtcIlJpZ2h0XCJdPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnJldmVyc2UoKVt0XShuKS5yZXZlcnNlKCl9fSksdShbXCJmaWx0ZXJcIixcIm1hcFwiLFwidGFrZVdoaWxlXCJdLGZ1bmN0aW9uKHQsbil7XHJcbnZhciByPW4rMSxlPTE9PXJ8fDM9PXI7RXQucHJvdG90eXBlW3RdPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuY2xvbmUoKTtyZXR1cm4gbi5fX2l0ZXJhdGVlc19fLnB1c2goe2l0ZXJhdGVlOlNyKHQsMyksdHlwZTpyfSksbi5fX2ZpbHRlcmVkX189bi5fX2ZpbHRlcmVkX198fGUsbn19KSx1KFtcImhlYWRcIixcImxhc3RcIl0sZnVuY3Rpb24odCxuKXt2YXIgcj1cInRha2VcIisobj9cIlJpZ2h0XCI6XCJcIik7RXQucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbcl0oMSkudmFsdWUoKVswXX19KSx1KFtcImluaXRpYWxcIixcInRhaWxcIl0sZnVuY3Rpb24odCxuKXt2YXIgcj1cImRyb3BcIisobj9cIlwiOlwiUmlnaHRcIik7RXQucHJvdG90eXBlW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fP25ldyBFdCh0aGlzKTp0aGlzW3JdKDEpfX0pLEV0LnByb3RvdHlwZS5jb21wYWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyKG91KX0sRXQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCl7XHJcbnJldHVybiB0aGlzLmZpbHRlcih0KS5oZWFkKCl9LEV0LnByb3RvdHlwZS5maW5kTGFzdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmluZCh0KX0sRXQucHJvdG90eXBlLmludm9rZU1hcD14ZShmdW5jdGlvbih0LG4pe3JldHVybiB0eXBlb2YgdD09XCJmdW5jdGlvblwiP25ldyBFdCh0aGlzKTp0aGlzLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gam4ocix0LG4pfSl9KSxFdC5wcm90b3R5cGUucmVqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiB0PVNyKHQsMyksdGhpcy5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIXQobil9KX0sRXQucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHQsbil7dD1QZSh0KTt2YXIgcj10aGlzO3JldHVybiByLl9fZmlsdGVyZWRfXyYmKHQ+MHx8MD5uKT9uZXcgRXQocik6KDA+dD9yPXIudGFrZVJpZ2h0KC10KTp0JiYocj1yLmRyb3AodCkpLG4hPT1UJiYobj1QZShuKSxyPTA+bj9yLmRyb3BSaWdodCgtbik6ci50YWtlKG4tdCkpLHIpfSxFdC5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGU9ZnVuY3Rpb24odCl7XHJcbnJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUodCkucmV2ZXJzZSgpfSxFdC5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRha2UoNDI5NDk2NzI5NSl9LGhuKEV0LnByb3RvdHlwZSxmdW5jdGlvbih0LG4pe3ZhciByPS9eKD86ZmlsdGVyfGZpbmR8bWFwfHJlamVjdCl8V2hpbGUkLy50ZXN0KG4pLGU9L14oPzpoZWFkfGxhc3QpJC8udGVzdChuKSx1PWp0W2U/XCJ0YWtlXCIrKFwibGFzdFwiPT1uP1wiUmlnaHRcIjpcIlwiKTpuXSxvPWV8fC9eZmluZC8udGVzdChuKTt1JiYoanQucHJvdG90eXBlW25dPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdD11LmFwcGx5KGp0LGwoW3RdLGYpKSxlJiZoP3RbMF06dH12YXIgaT10aGlzLl9fd3JhcHBlZF9fLGY9ZT9bMV06YXJndW1lbnRzLGM9aSBpbnN0YW5jZW9mIEV0LGE9ZlswXSxzPWN8fG5pKGkpO3MmJnImJnR5cGVvZiBhPT1cImZ1bmN0aW9uXCImJjEhPWEubGVuZ3RoJiYoYz1zPWZhbHNlKTt2YXIgaD10aGlzLl9fY2hhaW5fXyxwPSEhdGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgsYT1vJiYhaCxjPWMmJiFwO1xyXG5yZXR1cm4hbyYmcz8oaT1jP2k6bmV3IEV0KHRoaXMpLGk9dC5hcHBseShpLGYpLGkuX19hY3Rpb25zX18ucHVzaCh7ZnVuYzpjZSxhcmdzOltuXSx0aGlzQXJnOlR9KSxuZXcga3QoaSxoKSk6YSYmYz90LmFwcGx5KHRoaXMsZik6KGk9dGhpcy50aHJ1KG4pLGE/ZT9pLnZhbHVlKClbMF06aS52YWx1ZSgpOmkpfSl9KSx1KFwicG9wIHB1c2ggc2hpZnQgc29ydCBzcGxpY2UgdW5zaGlmdFwiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbih0KXt2YXIgbj12dVt0XSxyPS9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdCh0KT9cInRhcFwiOlwidGhydVwiLGU9L14oPzpwb3B8c2hpZnQpJC8udGVzdCh0KTtqdC5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7aWYoZSYmIXRoaXMuX19jaGFpbl9fKXt2YXIgdT10aGlzLnZhbHVlKCk7cmV0dXJuIG4uYXBwbHkobmkodSk/dTpbXSx0KX1yZXR1cm4gdGhpc1tyXShmdW5jdGlvbihyKXtyZXR1cm4gbi5hcHBseShuaShyKT9yOltdLHQpfSk7XHJcbn19KSxobihFdC5wcm90b3R5cGUsZnVuY3Rpb24odCxuKXt2YXIgcj1qdFtuXTtpZihyKXt2YXIgZT1yLm5hbWUrXCJcIjsobm9bZV18fChub1tlXT1bXSkpLnB1c2goe25hbWU6bixmdW5jOnJ9KX19KSxub1tkcihULDIpLm5hbWVdPVt7bmFtZTpcIndyYXBwZXJcIixmdW5jOlR9XSxFdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgRXQodGhpcy5fX3dyYXBwZWRfXyk7cmV0dXJuIHQuX19hY3Rpb25zX189ZXIodGhpcy5fX2FjdGlvbnNfXyksdC5fX2Rpcl9fPXRoaXMuX19kaXJfXyx0Ll9fZmlsdGVyZWRfXz10aGlzLl9fZmlsdGVyZWRfXyx0Ll9faXRlcmF0ZWVzX189ZXIodGhpcy5fX2l0ZXJhdGVlc19fKSx0Ll9fdGFrZUNvdW50X189dGhpcy5fX3Rha2VDb3VudF9fLHQuX192aWV3c19fPWVyKHRoaXMuX192aWV3c19fKSx0fSxFdC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe2lmKHRoaXMuX19maWx0ZXJlZF9fKXt2YXIgdD1uZXcgRXQodGhpcyk7dC5fX2Rpcl9fPS0xLFxyXG50Ll9fZmlsdGVyZWRfXz10cnVlfWVsc2UgdD10aGlzLmNsb25lKCksdC5fX2Rpcl9fKj0tMTtyZXR1cm4gdH0sRXQucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCkscj10aGlzLl9fZGlyX18sZT1uaShuKSx1PTA+cixvPWU/bi5sZW5ndGg6MDt0PW87Zm9yKHZhciBpPXRoaXMuX192aWV3c19fLGY9MCxjPS0xLGE9aS5sZW5ndGg7KytjPGE7KXt2YXIgbD1pW2NdLHM9bC5zaXplO3N3aXRjaChsLnR5cGUpe2Nhc2VcImRyb3BcIjpmKz1zO2JyZWFrO2Nhc2VcImRyb3BSaWdodFwiOnQtPXM7YnJlYWs7Y2FzZVwidGFrZVwiOnQ9WnUodCxmK3MpO2JyZWFrO2Nhc2VcInRha2VSaWdodFwiOmY9UHUoZix0LXMpfX1pZih0PXtzdGFydDpmLGVuZDp0fSxpPXQuc3RhcnQsZj10LmVuZCx0PWYtaSx1PXU/ZjppLTEsaT10aGlzLl9faXRlcmF0ZWVzX18sZj1pLmxlbmd0aCxjPTAsYT1adSh0LHRoaXMuX190YWtlQ291bnRfXyksIWV8fDIwMD5vfHxvPT10JiZhPT10KXJldHVybiBLbihuLHRoaXMuX19hY3Rpb25zX18pO1xyXG5lPVtdO3Q6Zm9yKDt0LS0mJmE+Yzspe2Zvcih1Kz1yLG89LTEsbD1uW3VdOysrbzxmOyl7dmFyIGg9aVtvXSxzPWgudHlwZSxoPSgwLGguaXRlcmF0ZWUpKGwpO2lmKDI9PXMpbD1oO2Vsc2UgaWYoIWgpe2lmKDE9PXMpY29udGludWUgdDticmVhayB0fX1lW2MrK109bH1yZXR1cm4gZX0sanQucHJvdG90eXBlLmF0PURvLGp0LnByb3RvdHlwZS5jaGFpbj1mdW5jdGlvbigpe3JldHVybiBmZSh0aGlzKX0sanQucHJvdG90eXBlLmNvbW1pdD1mdW5jdGlvbigpe3JldHVybiBuZXcga3QodGhpcy52YWx1ZSgpLHRoaXMuX19jaGFpbl9fKX0sanQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt0aGlzLl9fdmFsdWVzX189PT1UJiYodGhpcy5fX3ZhbHVlc19fPU5lKHRoaXMudmFsdWUoKSkpO3ZhciB0PXRoaXMuX19pbmRleF9fPj10aGlzLl9fdmFsdWVzX18ubGVuZ3RoLG49dD9UOnRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtyZXR1cm57ZG9uZTp0LHZhbHVlOm59fSxqdC5wcm90b3R5cGUucGxhbnQ9ZnVuY3Rpb24odCl7XHJcbmZvcih2YXIgbixyPXRoaXM7ciBpbnN0YW5jZW9mIE90Oyl7dmFyIGU9UXIocik7ZS5fX2luZGV4X189MCxlLl9fdmFsdWVzX189VCxuP3UuX193cmFwcGVkX189ZTpuPWU7dmFyIHU9ZSxyPXIuX193cmFwcGVkX199cmV0dXJuIHUuX193cmFwcGVkX189dCxufSxqdC5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX193cmFwcGVkX187cmV0dXJuIHQgaW5zdGFuY2VvZiBFdD8odGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgmJih0PW5ldyBFdCh0aGlzKSksdD10LnJldmVyc2UoKSx0Ll9fYWN0aW9uc19fLnB1c2goe2Z1bmM6Y2UsYXJnczpbdWVdLHRoaXNBcmc6VH0pLG5ldyBrdCh0LHRoaXMuX19jaGFpbl9fKSk6dGhpcy50aHJ1KHVlKX0sanQucHJvdG90eXBlLnRvSlNPTj1qdC5wcm90b3R5cGUudmFsdWVPZj1qdC5wcm90b3R5cGUudmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gS24odGhpcy5fX3dyYXBwZWRfXyx0aGlzLl9fYWN0aW9uc19fKX0sV3UmJihqdC5wcm90b3R5cGVbV3VdPWFlKSxcclxuanR9dmFyIFQsVj0xLzAsSz1OYU4sRz0vXFxiX19wXFwrPScnOy9nLEo9L1xcYihfX3BcXCs9KScnXFwrL2csWT0vKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpXFwrJyc7L2csSD0vJig/OmFtcHxsdHxndHxxdW90fCMzOXwjOTYpOy9nLFE9L1smPD5cIidgXS9nLFg9UmVnRXhwKEguc291cmNlKSx0dD1SZWdFeHAoUS5zb3VyY2UpLG50PS88JS0oW1xcc1xcU10rPyklPi9nLHJ0PS88JShbXFxzXFxTXSs/KSU+L2csZXQ9LzwlPShbXFxzXFxTXSs/KSU+L2csdXQ9L1xcLnxcXFsoPzpbXltcXF1dKnwoW1wiJ10pKD86KD8hXFwxKVteXFxcXF18XFxcXC4pKj9cXDEpXFxdLyxvdD0vXlxcdyokLyxpdD0vW14uW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXS9nLGZ0PS9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxjdD1SZWdFeHAoZnQuc291cmNlKSxhdD0vXlxccyt8XFxzKyQvZyxsdD0vXlxccysvLHN0PS9cXHMrJC8saHQ9L1thLXpBLVowLTldKy9nLHB0PS9cXFxcKFxcXFwpPy9nLF90PS9cXCRcXHsoW15cXFxcfV0qKD86XFxcXC5bXlxcXFx9XSopKilcXH0vZyx2dD0vXFx3KiQvLGd0PS9eMHgvaSxkdD0vXlstK10weFswLTlhLWZdKyQvaSx5dD0vXjBiWzAxXSskL2ksYnQ9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyx4dD0vXjBvWzAtN10rJC9pLGp0PS9eKD86MHxbMS05XVxcZCopJC8sbXQ9L1tcXHhjMC1cXHhkNlxceGQ4LVxceGRlXFx4ZGYtXFx4ZjZcXHhmOC1cXHhmZl0vZyx3dD0vKCReKS8sQXQ9L1snXFxuXFxyXFx1MjAyOFxcdTIwMjlcXFxcXS9nLE90PVwiW1xcXFx1ZmUwZVxcXFx1ZmUwZl0/KD86W1xcXFx1MDMwMC1cXFxcdTAzNmZcXFxcdWZlMjAtXFxcXHVmZTIzXFxcXHUyMGQwLVxcXFx1MjBmMF18XFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdKT8oPzpcXFxcdTIwMGQoPzpbXlxcXFx1ZDgwMC1cXFxcdWRmZmZdfCg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn18W1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdKVtcXFxcdWZlMGVcXFxcdWZlMGZdPyg/OltcXFxcdTAzMDAtXFxcXHUwMzZmXFxcXHVmZTIwLVxcXFx1ZmUyM1xcXFx1MjBkMC1cXFxcdTIwZjBdfFxcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXSk/KSpcIixrdD1cIig/OltcXFxcdTI3MDAtXFxcXHUyN2JmXXwoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9fFtcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXSlcIitPdCxFdD1cIig/OlteXFxcXHVkODAwLVxcXFx1ZGZmZl1bXFxcXHUwMzAwLVxcXFx1MDM2ZlxcXFx1ZmUyMC1cXFxcdWZlMjNcXFxcdTIwZDAtXFxcXHUyMGYwXT98W1xcXFx1MDMwMC1cXFxcdTAzNmZcXFxcdWZlMjAtXFxcXHVmZTIzXFxcXHUyMGQwLVxcXFx1MjBmMF18KD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfXxbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl18W1xcXFx1ZDgwMC1cXFxcdWRmZmZdKVwiLEl0PVJlZ0V4cChcIltcXFxcdTAzMDAtXFxcXHUwMzZmXFxcXHVmZTIwLVxcXFx1ZmUyM1xcXFx1MjBkMC1cXFxcdTIwZjBdXCIsXCJnXCIpLFN0PVJlZ0V4cChcIlxcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXSg/PVxcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXSl8XCIrRXQrT3QsXCJnXCIpLFJ0PVJlZ0V4cChbXCJbQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlXT9bYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmXSsoPz1bXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmN1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZlxcXFx1MjAxOFxcXFx1MjAxOVxcXFx1MjAxY1xcXFx1MjAxZCBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwXXxbQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlXXwkKXwoPzpbQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlXXxbXlxcXFx1ZDgwMC1cXFxcdWRmZmZcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3XFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmXFxcXHUyMDE4XFxcXHUyMDE5XFxcXHUyMDFjXFxcXHUyMDFkIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDBcXFxcZCtcXFxcdTI3MDAtXFxcXHUyN2JmYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlXSkrKD89W1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmZcXFxcdTIwMThcXFxcdTIwMTlcXFxcdTIwMWNcXFxcdTIwMWQgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMF18W0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZV0oPzpbYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmXXxbXlxcXFx1ZDgwMC1cXFxcdWRmZmZcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3XFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmXFxcXHUyMDE4XFxcXHUyMDE5XFxcXHUyMDFjXFxcXHUyMDFkIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDBcXFxcZCtcXFxcdTI3MDAtXFxcXHUyN2JmYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlXSl8JCl8W0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZV0/KD86W2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZl18W15cXFxcdWQ4MDAtXFxcXHVkZmZmXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmN1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZlxcXFx1MjAxOFxcXFx1MjAxOVxcXFx1MjAxY1xcXFx1MjAxZCBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwXFxcXGQrXFxcXHUyNzAwLVxcXFx1MjdiZmEtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZkEtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZV0pK3xbQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlXSt8XFxcXGQrXCIsa3RdLmpvaW4oXCJ8XCIpLFwiZ1wiKSxXdD1SZWdFeHAoXCJbXFxcXHUyMDBkXFxcXHVkODAwLVxcXFx1ZGZmZlxcXFx1MDMwMC1cXFxcdTAzNmZcXFxcdWZlMjAtXFxcXHVmZTIzXFxcXHUyMGQwLVxcXFx1MjBmMFxcXFx1ZmUwZVxcXFx1ZmUwZl1cIiksQnQ9L1thLXpdW0EtWl18W0EtWl17Mix9W2Etel18WzAtOV1bYS16QS1aXXxbYS16QS1aXVswLTldfFteYS16QS1aMC05IF0vLEN0PVwiQXJyYXkgQnVmZmVyIERhdGFWaWV3IERhdGUgRXJyb3IgRmxvYXQzMkFycmF5IEZsb2F0NjRBcnJheSBGdW5jdGlvbiBJbnQ4QXJyYXkgSW50MTZBcnJheSBJbnQzMkFycmF5IE1hcCBNYXRoIE9iamVjdCBQcm9taXNlIFJlZmxlY3QgUmVnRXhwIFNldCBTdHJpbmcgU3ltYm9sIFR5cGVFcnJvciBVaW50OEFycmF5IFVpbnQ4Q2xhbXBlZEFycmF5IFVpbnQxNkFycmF5IFVpbnQzMkFycmF5IFdlYWtNYXAgXyBjbGVhclRpbWVvdXQgaXNGaW5pdGUgcGFyc2VJbnQgc2V0VGltZW91dFwiLnNwbGl0KFwiIFwiKSx6dD17fTtcclxuenRbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl09enRbXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIl09enRbXCJbb2JqZWN0IEludDhBcnJheV1cIl09enRbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdPXp0W1wiW29iamVjdCBJbnQzMkFycmF5XVwiXT16dFtcIltvYmplY3QgVWludDhBcnJheV1cIl09enRbXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiXT16dFtcIltvYmplY3QgVWludDE2QXJyYXldXCJdPXp0W1wiW29iamVjdCBVaW50MzJBcnJheV1cIl09dHJ1ZSx6dFtcIltvYmplY3QgQXJndW1lbnRzXVwiXT16dFtcIltvYmplY3QgQXJyYXldXCJdPXp0W1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09enRbXCJbb2JqZWN0IEJvb2xlYW5dXCJdPXp0W1wiW29iamVjdCBEYXRhVmlld11cIl09enRbXCJbb2JqZWN0IERhdGVdXCJdPXp0W1wiW29iamVjdCBFcnJvcl1cIl09enRbXCJbb2JqZWN0IEZ1bmN0aW9uXVwiXT16dFtcIltvYmplY3QgTWFwXVwiXT16dFtcIltvYmplY3QgTnVtYmVyXVwiXT16dFtcIltvYmplY3QgT2JqZWN0XVwiXT16dFtcIltvYmplY3QgUmVnRXhwXVwiXT16dFtcIltvYmplY3QgU2V0XVwiXT16dFtcIltvYmplY3QgU3RyaW5nXVwiXT16dFtcIltvYmplY3QgV2Vha01hcF1cIl09ZmFsc2U7XHJcbnZhciBVdD17fTtVdFtcIltvYmplY3QgQXJndW1lbnRzXVwiXT1VdFtcIltvYmplY3QgQXJyYXldXCJdPVV0W1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09VXRbXCJbb2JqZWN0IERhdGFWaWV3XVwiXT1VdFtcIltvYmplY3QgQm9vbGVhbl1cIl09VXRbXCJbb2JqZWN0IERhdGVdXCJdPVV0W1wiW29iamVjdCBGbG9hdDMyQXJyYXldXCJdPVV0W1wiW29iamVjdCBGbG9hdDY0QXJyYXldXCJdPVV0W1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPVV0W1wiW29iamVjdCBJbnQxNkFycmF5XVwiXT1VdFtcIltvYmplY3QgSW50MzJBcnJheV1cIl09VXRbXCJbb2JqZWN0IE1hcF1cIl09VXRbXCJbb2JqZWN0IE51bWJlcl1cIl09VXRbXCJbb2JqZWN0IE9iamVjdF1cIl09VXRbXCJbb2JqZWN0IFJlZ0V4cF1cIl09VXRbXCJbb2JqZWN0IFNldF1cIl09VXRbXCJbb2JqZWN0IFN0cmluZ11cIl09VXRbXCJbb2JqZWN0IFN5bWJvbF1cIl09VXRbXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCJdPVV0W1wiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIl09VXRbXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiXT1VdFtcIltvYmplY3QgVWludDMyQXJyYXldXCJdPXRydWUsXHJcblV0W1wiW29iamVjdCBFcnJvcl1cIl09VXRbXCJbb2JqZWN0IEZ1bmN0aW9uXVwiXT1VdFtcIltvYmplY3QgV2Vha01hcF1cIl09ZmFsc2U7dmFyIE10PXtcIlxceGMwXCI6XCJBXCIsXCJcXHhjMVwiOlwiQVwiLFwiXFx4YzJcIjpcIkFcIixcIlxceGMzXCI6XCJBXCIsXCJcXHhjNFwiOlwiQVwiLFwiXFx4YzVcIjpcIkFcIixcIlxceGUwXCI6XCJhXCIsXCJcXHhlMVwiOlwiYVwiLFwiXFx4ZTJcIjpcImFcIixcIlxceGUzXCI6XCJhXCIsXCJcXHhlNFwiOlwiYVwiLFwiXFx4ZTVcIjpcImFcIixcIlxceGM3XCI6XCJDXCIsXCJcXHhlN1wiOlwiY1wiLFwiXFx4ZDBcIjpcIkRcIixcIlxceGYwXCI6XCJkXCIsXCJcXHhjOFwiOlwiRVwiLFwiXFx4YzlcIjpcIkVcIixcIlxceGNhXCI6XCJFXCIsXCJcXHhjYlwiOlwiRVwiLFwiXFx4ZThcIjpcImVcIixcIlxceGU5XCI6XCJlXCIsXCJcXHhlYVwiOlwiZVwiLFwiXFx4ZWJcIjpcImVcIixcIlxceGNjXCI6XCJJXCIsXCJcXHhjZFwiOlwiSVwiLFwiXFx4Y2VcIjpcIklcIixcIlxceGNmXCI6XCJJXCIsXCJcXHhlY1wiOlwiaVwiLFwiXFx4ZWRcIjpcImlcIixcIlxceGVlXCI6XCJpXCIsXCJcXHhlZlwiOlwiaVwiLFwiXFx4ZDFcIjpcIk5cIixcIlxceGYxXCI6XCJuXCIsXCJcXHhkMlwiOlwiT1wiLFwiXFx4ZDNcIjpcIk9cIixcIlxceGQ0XCI6XCJPXCIsXCJcXHhkNVwiOlwiT1wiLFwiXFx4ZDZcIjpcIk9cIixcclxuXCJcXHhkOFwiOlwiT1wiLFwiXFx4ZjJcIjpcIm9cIixcIlxceGYzXCI6XCJvXCIsXCJcXHhmNFwiOlwib1wiLFwiXFx4ZjVcIjpcIm9cIixcIlxceGY2XCI6XCJvXCIsXCJcXHhmOFwiOlwib1wiLFwiXFx4ZDlcIjpcIlVcIixcIlxceGRhXCI6XCJVXCIsXCJcXHhkYlwiOlwiVVwiLFwiXFx4ZGNcIjpcIlVcIixcIlxceGY5XCI6XCJ1XCIsXCJcXHhmYVwiOlwidVwiLFwiXFx4ZmJcIjpcInVcIixcIlxceGZjXCI6XCJ1XCIsXCJcXHhkZFwiOlwiWVwiLFwiXFx4ZmRcIjpcInlcIixcIlxceGZmXCI6XCJ5XCIsXCJcXHhjNlwiOlwiQWVcIixcIlxceGU2XCI6XCJhZVwiLFwiXFx4ZGVcIjpcIlRoXCIsXCJcXHhmZVwiOlwidGhcIixcIlxceGRmXCI6XCJzc1wifSxMdD17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjMzk7XCIsXCJgXCI6XCImIzk2O1wifSwkdD17XCImYW1wO1wiOlwiJlwiLFwiJmx0O1wiOlwiPFwiLFwiJmd0O1wiOlwiPlwiLFwiJnF1b3Q7XCI6J1wiJyxcIiYjMzk7XCI6XCInXCIsXCImIzk2O1wiOlwiYFwifSxEdD17XCJmdW5jdGlvblwiOnRydWUsb2JqZWN0OnRydWV9LEZ0PXtcIlxcXFxcIjpcIlxcXFxcIixcIidcIjpcIidcIixcIlxcblwiOlwiblwiLFwiXFxyXCI6XCJyXCIsXCJcXHUyMDI4XCI6XCJ1MjAyOFwiLFwiXFx1MjAyOVwiOlwidTIwMjlcIlxyXG59LE50PXBhcnNlRmxvYXQsUHQ9cGFyc2VJbnQsWnQ9RHRbdHlwZW9mIGV4cG9ydHNdJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZT9leHBvcnRzOlQscXQ9RHRbdHlwZW9mIG1vZHVsZV0mJm1vZHVsZSYmIW1vZHVsZS5ub2RlVHlwZT9tb2R1bGU6VCxUdD1xdCYmcXQuZXhwb3J0cz09PVp0P1p0OlQsVnQ9UyhEdFt0eXBlb2Ygc2VsZl0mJnNlbGYpLEt0PVMoRHRbdHlwZW9mIHdpbmRvd10mJndpbmRvdyksR3Q9UyhEdFt0eXBlb2YgdGhpc10mJnRoaXMpLEp0PVMoWnQmJnF0JiZ0eXBlb2YgZ2xvYmFsPT1cIm9iamVjdFwiJiZnbG9iYWwpfHxLdCE9PShHdCYmR3Qud2luZG93KSYmS3R8fFZ0fHxHdHx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLFl0PXEoKTsoS3R8fFZ0fHx7fSkuXz1ZdCx0eXBlb2YgZGVmaW5lPT1cImZ1bmN0aW9uXCImJnR5cGVvZiBkZWZpbmUuYW1kPT1cIm9iamVjdFwiJiZkZWZpbmUuYW1kPyBkZWZpbmUoZnVuY3Rpb24oKXtyZXR1cm4gWXR9KTpadCYmcXQ/KFR0JiYoKHF0LmV4cG9ydHM9WXQpLl89WXQpLFxyXG5adC5fPVl0KTpKdC5fPVl0fSkuY2FsbCh0aGlzKTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3B1YmxpYy9qcy9saWJzL2xvZGFzaC5taW4uanNcbiAqKiBtb2R1bGUgaWQgPSA3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==